/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./core/app4webpack.js":
/*!*****************************!*\
  !*** ./core/app4webpack.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _plugin_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./plugin.js */ \"./core/plugin.js\");\n/* harmony import */ var _famibee_skynovel_app__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @famibee/skynovel/app */ \"./node_modules/@famibee/skynovel/dist/app.js\");\n\nObject.defineProperty(__webpack_exports__, \"__esModule\", ({ value: true }));\n// 変更後は「npm run webpack:dev」\n\nconst hPlg = {};\n\nfor (const nm in _plugin_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]) hPlg[nm] = __webpack_require__(\"./core/plugin sync recursive ^\\\\.\\\\/.*$\")(`./${nm}`);\n\n\nnew _famibee_skynovel_app__WEBPACK_IMPORTED_MODULE_1__.SysApp(hPlg);\n\n\n//# sourceURL=webpack://uc/./core/app4webpack.js?");

/***/ }),

/***/ "./core/plugin.js":
/*!************************!*\
  !*** ./core/plugin.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\"humane\":0});\n\n//# sourceURL=webpack://uc/./core/plugin.js?");

/***/ }),

/***/ "./core/plugin/humane/index.js":
/*!*************************************!*\
  !*** ./core/plugin/humane/index.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\nconst Humane = __webpack_require__(/*! humane-js */ \"./node_modules/humane-js/humane.js\");\n__webpack_require__(/*! !style-loader!css-loader!humane-js/themes/bigbox.css */ \"./node_modules/style-loader/dist/cjs.js!./node_modules/css-loader/dist/cjs.js!./node_modules/humane-js/themes/bigbox.css\");\n\nexports.init = pia=> {\n\tHumane.baseCls = 'humane-bigbox';\n\tpia.addTag('notice', hArg=> {\n\t\tHumane.log(hArg.text);\n\t\treturn false;\n\t});\n};\n\n\n//# sourceURL=webpack://uc/./core/plugin/humane/index.js?");

/***/ }),

/***/ "./core/plugin sync recursive ^\\.\\/.*$":
/*!************************************!*\
  !*** ./core/plugin/ sync ^\.\/.*$ ***!
  \************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var map = {\n\t\"./humane\": \"./core/plugin/humane/index.js\",\n\t\"./humane/\": \"./core/plugin/humane/index.js\",\n\t\"./humane/index\": \"./core/plugin/humane/index.js\",\n\t\"./humane/index.js\": \"./core/plugin/humane/index.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./core/plugin sync recursive ^\\\\.\\\\/.*$\";\n\n//# sourceURL=webpack://uc/./core/plugin/_sync_^\\.\\/.*$?");

/***/ }),

/***/ "./node_modules/@famibee/skynovel/dist/app.js":
/*!****************************************************!*\
  !*** ./node_modules/@famibee/skynovel/dist/app.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CmnLib\": () => (/* binding */ A),\n/* harmony export */   \"Layer\": () => (/* binding */ ui),\n/* harmony export */   \"SysApp\": () => (/* binding */ tk),\n/* harmony export */   \"argChk_Boolean\": () => (/* binding */ K),\n/* harmony export */   \"argChk_Num\": () => (/* binding */ j)\n/* harmony export */ });\n/* harmony import */ var url__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! url */ \"./node_modules/url/url.js\");\n/* harmony import */ var buffer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! buffer */ \"./node_modules/buffer/index.js\");\nvar nE = Object.defineProperty;\nvar sE = (r, t, e) => t in r ? nE(r, t, { enumerable: !0, configurable: !0, writable: !0, value: e }) : r[t] = e;\nvar B = (r, t, e) => (sE(r, typeof t != \"symbol\" ? t + \"\" : t, e), e), Tv = (r, t, e) => {\n  if (!t.has(r))\n    throw TypeError(\"Cannot \" + e);\n};\nvar h = (r, t, e) => (Tv(r, t, \"read from private field\"), e ? e.call(r) : t.get(r)), _ = (r, t, e) => {\n  if (t.has(r))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  t instanceof WeakSet ? t.add(r) : t.set(r, e);\n}, b = (r, t, e, i) => (Tv(r, t, \"write to private field\"), i ? i.call(r, e) : t.set(r, e), e), Te = (r, t, e, i) => ({\n  set _(n) {\n    b(r, t, n, e);\n  },\n  get _() {\n    return h(r, t, i);\n  }\n}), x = (r, t, e) => (Tv(r, t, \"access private method\"), e);\n\n\nvar Kc = typeof globalThis < \"u\" ? globalThis : typeof window < \"u\" ? window : typeof __webpack_require__.g < \"u\" ? __webpack_require__.g : typeof self < \"u\" ? self : {};\nfunction fv(r) {\n  return r && r.__esModule && Object.prototype.hasOwnProperty.call(r, \"default\") ? r.default : r;\n}\nvar Of = { exports: {} };\n/*!\n * Platform.js v1.3.6\n * Copyright 2014-2020 Benjamin Tan\n * Copyright 2011-2013 John-David Dalton\n * Available under MIT license\n */\nOf.exports;\n(function(r, t) {\n  (function() {\n    var e = {\n      function: !0,\n      object: !0\n    }, i = e[typeof window] && window || this, n = t, s = r && !r.nodeType && r, o = n && s && typeof Kc == \"object\" && Kc;\n    o && (o.global === o || o.window === o || o.self === o) && (i = o);\n    var a = Math.pow(2, 53) - 1, l = /\\bOpera/, u = Object.prototype, c = u.hasOwnProperty, f = u.toString;\n    function d(S) {\n      return S = String(S), S.charAt(0).toUpperCase() + S.slice(1);\n    }\n    function p(S, M, N) {\n      var D = {\n        \"10.0\": \"10\",\n        \"6.4\": \"10 Technical Preview\",\n        \"6.3\": \"8.1\",\n        \"6.2\": \"8\",\n        \"6.1\": \"Server 2008 R2 / 7\",\n        \"6.0\": \"Server 2008 / Vista\",\n        \"5.2\": \"Server 2003 / XP 64-bit\",\n        \"5.1\": \"XP\",\n        \"5.01\": \"2000 SP1\",\n        \"5.0\": \"2000\",\n        \"4.0\": \"NT\",\n        \"4.90\": \"ME\"\n      };\n      return M && N && /^Win/i.test(S) && !/^Windows Phone /i.test(S) && (D = D[/[\\d.]+$/.exec(S)]) && (S = \"Windows \" + D), S = String(S), M && N && (S = S.replace(RegExp(M, \"i\"), N)), S = v(\n        S.replace(/ ce$/i, \" CE\").replace(/\\bhpw/i, \"web\").replace(/\\bMacintosh\\b/, \"Mac OS\").replace(/_PowerPC\\b/i, \" OS\").replace(/\\b(OS X) [^ \\d]+/i, \"$1\").replace(/\\bMac (OS X)\\b/, \"$1\").replace(/\\/(\\d)/, \" $1\").replace(/_/g, \".\").replace(/(?: BePC|[ .]*fc[ \\d.]+)$/i, \"\").replace(/\\bx86\\.64\\b/gi, \"x86_64\").replace(/\\b(Windows Phone) OS\\b/, \"$1\").replace(/\\b(Chrome OS \\w+) [\\d.]+\\b/, \"$1\").split(\" on \")[0]\n      ), S;\n    }\n    function m(S, M) {\n      var N = -1, D = S ? S.length : 0;\n      if (typeof D == \"number\" && D > -1 && D <= a)\n        for (; ++N < D; )\n          M(S[N], N, S);\n      else\n        y(S, M);\n    }\n    function v(S) {\n      return S = O(S), /^(?:webOS|i(?:OS|P))/.test(S) ? S : d(S);\n    }\n    function y(S, M) {\n      for (var N in S)\n        c.call(S, N) && M(S[N], N, S);\n    }\n    function g(S) {\n      return S == null ? d(S) : f.call(S).slice(8, -1);\n    }\n    function w(S, M) {\n      var N = S != null ? typeof S[M] : \"number\";\n      return !/^(?:boolean|number|string|undefined)$/.test(N) && (N == \"object\" ? !!S[M] : !0);\n    }\n    function T(S) {\n      return String(S).replace(/([ -])(?!$)/g, \"$1?\");\n    }\n    function P(S, M) {\n      var N = null;\n      return m(S, function(D, z) {\n        N = M(N, D, z, S);\n      }), N;\n    }\n    function O(S) {\n      return String(S).replace(/^ +| +$/g, \"\");\n    }\n    function C(S) {\n      var M = i, N = S && typeof S == \"object\" && g(S) != \"String\";\n      N && (M = S, S = null);\n      var D = M.navigator || {}, z = D.userAgent || \"\";\n      S || (S = z);\n      var q = N ? !!D.likeChrome : /\\bChrome\\b/.test(S) && !/internal|\\n/i.test(f.toString()), it = \"Object\", V = N ? it : \"ScriptBridgingProxyObject\", H = N ? it : \"Environment\", J = N && M.java ? \"JavaPackage\" : g(M.java), vt = N ? it : \"RuntimeObject\", tt = /\\bJava/.test(J) && M.java, wt = tt && g(M.environment) == H, rt = tt ? \"a\" : \"α\", be = tt ? \"b\" : \"β\", Wt = M.document || {}, Et = M.operamini || M.opera, Qt = l.test(Qt = N && Et ? Et[\"[[Class]]\"] : g(Et)) ? Qt : Et = null, k, Yt = S, at = [], me = null, Ft = S == z, Z = Ft && Et && typeof Et.version == \"function\" && Et.version(), xe, ct = ke([\n        { label: \"EdgeHTML\", pattern: \"Edge\" },\n        \"Trident\",\n        { label: \"WebKit\", pattern: \"AppleWebKit\" },\n        \"iCab\",\n        \"Presto\",\n        \"NetFront\",\n        \"Tasman\",\n        \"KHTML\",\n        \"Gecko\"\n      ]), F = Ne([\n        \"Adobe AIR\",\n        \"Arora\",\n        \"Avant Browser\",\n        \"Breach\",\n        \"Camino\",\n        \"Electron\",\n        \"Epiphany\",\n        \"Fennec\",\n        \"Flock\",\n        \"Galeon\",\n        \"GreenBrowser\",\n        \"iCab\",\n        \"Iceweasel\",\n        \"K-Meleon\",\n        \"Konqueror\",\n        \"Lunascape\",\n        \"Maxthon\",\n        { label: \"Microsoft Edge\", pattern: \"(?:Edge|Edg|EdgA|EdgiOS)\" },\n        \"Midori\",\n        \"Nook Browser\",\n        \"PaleMoon\",\n        \"PhantomJS\",\n        \"Raven\",\n        \"Rekonq\",\n        \"RockMelt\",\n        { label: \"Samsung Internet\", pattern: \"SamsungBrowser\" },\n        \"SeaMonkey\",\n        { label: \"Silk\", pattern: \"(?:Cloud9|Silk-Accelerated)\" },\n        \"Sleipnir\",\n        \"SlimBrowser\",\n        { label: \"SRWare Iron\", pattern: \"Iron\" },\n        \"Sunrise\",\n        \"Swiftfox\",\n        \"Vivaldi\",\n        \"Waterfox\",\n        \"WebPositive\",\n        { label: \"Yandex Browser\", pattern: \"YaBrowser\" },\n        { label: \"UC Browser\", pattern: \"UCBrowser\" },\n        \"Opera Mini\",\n        { label: \"Opera Mini\", pattern: \"OPiOS\" },\n        \"Opera\",\n        { label: \"Opera\", pattern: \"OPR\" },\n        \"Chromium\",\n        \"Chrome\",\n        { label: \"Chrome\", pattern: \"(?:HeadlessChrome)\" },\n        { label: \"Chrome Mobile\", pattern: \"(?:CriOS|CrMo)\" },\n        { label: \"Firefox\", pattern: \"(?:Firefox|Minefield)\" },\n        { label: \"Firefox for iOS\", pattern: \"FxiOS\" },\n        { label: \"IE\", pattern: \"IEMobile\" },\n        { label: \"IE\", pattern: \"MSIE\" },\n        \"Safari\"\n      ]), ht = Ai([\n        { label: \"BlackBerry\", pattern: \"BB10\" },\n        \"BlackBerry\",\n        { label: \"Galaxy S\", pattern: \"GT-I9000\" },\n        { label: \"Galaxy S2\", pattern: \"GT-I9100\" },\n        { label: \"Galaxy S3\", pattern: \"GT-I9300\" },\n        { label: \"Galaxy S4\", pattern: \"GT-I9500\" },\n        { label: \"Galaxy S5\", pattern: \"SM-G900\" },\n        { label: \"Galaxy S6\", pattern: \"SM-G920\" },\n        { label: \"Galaxy S6 Edge\", pattern: \"SM-G925\" },\n        { label: \"Galaxy S7\", pattern: \"SM-G930\" },\n        { label: \"Galaxy S7 Edge\", pattern: \"SM-G935\" },\n        \"Google TV\",\n        \"Lumia\",\n        \"iPad\",\n        \"iPod\",\n        \"iPhone\",\n        \"Kindle\",\n        { label: \"Kindle Fire\", pattern: \"(?:Cloud9|Silk-Accelerated)\" },\n        \"Nexus\",\n        \"Nook\",\n        \"PlayBook\",\n        \"PlayStation Vita\",\n        \"PlayStation\",\n        \"TouchPad\",\n        \"Transformer\",\n        { label: \"Wii U\", pattern: \"WiiU\" },\n        \"Wii\",\n        \"Xbox One\",\n        { label: \"Xbox 360\", pattern: \"Xbox\" },\n        \"Xoom\"\n      ]), xt = vi({\n        Apple: { iPad: 1, iPhone: 1, iPod: 1 },\n        Alcatel: {},\n        Archos: {},\n        Amazon: { Kindle: 1, \"Kindle Fire\": 1 },\n        Asus: { Transformer: 1 },\n        \"Barnes & Noble\": { Nook: 1 },\n        BlackBerry: { PlayBook: 1 },\n        Google: { \"Google TV\": 1, Nexus: 1 },\n        HP: { TouchPad: 1 },\n        HTC: {},\n        Huawei: {},\n        Lenovo: {},\n        LG: {},\n        Microsoft: { Xbox: 1, \"Xbox One\": 1 },\n        Motorola: { Xoom: 1 },\n        Nintendo: { \"Wii U\": 1, Wii: 1 },\n        Nokia: { Lumia: 1 },\n        Oppo: {},\n        Samsung: { \"Galaxy S\": 1, \"Galaxy S2\": 1, \"Galaxy S3\": 1, \"Galaxy S4\": 1 },\n        Sony: { PlayStation: 1, \"PlayStation Vita\": 1 },\n        Xiaomi: { Mi: 1, Redmi: 1 }\n      }), U = Li([\n        \"Windows Phone\",\n        \"KaiOS\",\n        \"Android\",\n        \"CentOS\",\n        { label: \"Chrome OS\", pattern: \"CrOS\" },\n        \"Debian\",\n        { label: \"DragonFly BSD\", pattern: \"DragonFly\" },\n        \"Fedora\",\n        \"FreeBSD\",\n        \"Gentoo\",\n        \"Haiku\",\n        \"Kubuntu\",\n        \"Linux Mint\",\n        \"OpenBSD\",\n        \"Red Hat\",\n        \"SuSE\",\n        \"Ubuntu\",\n        \"Xubuntu\",\n        \"Cygwin\",\n        \"Symbian OS\",\n        \"hpwOS\",\n        \"webOS \",\n        \"webOS\",\n        \"Tablet OS\",\n        \"Tizen\",\n        \"Linux\",\n        \"Mac OS X\",\n        \"Macintosh\",\n        \"Mac\",\n        \"Windows 98;\",\n        \"Windows \"\n      ]);\n      function ke(ue) {\n        return P(ue, function(Ht, Ct) {\n          return Ht || RegExp(\"\\\\b\" + (Ct.pattern || T(Ct)) + \"\\\\b\", \"i\").exec(S) && (Ct.label || Ct);\n        });\n      }\n      function vi(ue) {\n        return P(ue, function(Ht, Ct, mi) {\n          return Ht || (Ct[ht] || Ct[/^[a-z]+(?: +[a-z]+\\b)*/i.exec(ht)] || RegExp(\"\\\\b\" + T(mi) + \"(?:\\\\b|\\\\w*\\\\d)\", \"i\").exec(S)) && mi;\n        });\n      }\n      function Ne(ue) {\n        return P(ue, function(Ht, Ct) {\n          return Ht || RegExp(\"\\\\b\" + (Ct.pattern || T(Ct)) + \"\\\\b\", \"i\").exec(S) && (Ct.label || Ct);\n        });\n      }\n      function Li(ue) {\n        return P(ue, function(Ht, Ct) {\n          var mi = Ct.pattern || T(Ct);\n          return !Ht && (Ht = RegExp(\"\\\\b\" + mi + \"(?:/[\\\\d.]+|[ \\\\w.]*)\", \"i\").exec(S)) && (Ht = p(Ht, mi, Ct.label || Ct)), Ht;\n        });\n      }\n      function Ai(ue) {\n        return P(ue, function(Ht, Ct) {\n          var mi = Ct.pattern || T(Ct);\n          return !Ht && (Ht = RegExp(\"\\\\b\" + mi + \" *\\\\d+[.\\\\w_]*\", \"i\").exec(S) || RegExp(\"\\\\b\" + mi + \" *\\\\w+-[\\\\w]*\", \"i\").exec(S) || RegExp(\"\\\\b\" + mi + \"(?:; *(?:[a-z]+[_-])?[a-z]+\\\\d+|[^ ();-]*)\", \"i\").exec(S)) && ((Ht = String(Ct.label && !RegExp(mi, \"i\").test(Ct.label) ? Ct.label : Ht).split(\"/\"))[1] && !/[\\d.]+/.test(Ht[0]) && (Ht[0] += \" \" + Ht[1]), Ct = Ct.label || Ct, Ht = v(Ht[0].replace(RegExp(mi, \"i\"), Ct).replace(RegExp(\"; *(?:\" + Ct + \"[_-])?\", \"i\"), \" \").replace(RegExp(\"(\" + Ct + \")[-_.]?(\\\\w)\", \"i\"), \"$1 $2\"))), Ht;\n        });\n      }\n      function ri(ue) {\n        return P(ue, function(Ht, Ct) {\n          return Ht || (RegExp(Ct + \"(?:-[\\\\d.]+/|(?: for [\\\\w-]+)?[ /-])([\\\\d.]+[^ ();/_-]*)\", \"i\").exec(S) || 0)[1] || null;\n        });\n      }\n      function Ir() {\n        return this.description || \"\";\n      }\n      if (ct && (ct = [ct]), /\\bAndroid\\b/.test(U) && !ht && (k = /\\bAndroid[^;]*;(.*?)(?:Build|\\) AppleWebKit)\\b/i.exec(S)) && (ht = O(k[1]).replace(/^[a-z]{2}-[a-z]{2};\\s*/i, \"\") || null), xt && !ht ? ht = Ai([xt]) : xt && ht && (ht = ht.replace(RegExp(\"^(\" + T(xt) + \")[-_.\\\\s]\", \"i\"), xt + \" \").replace(RegExp(\"^(\" + T(xt) + \")[-_.]?(\\\\w)\", \"i\"), xt + \" $2\")), (k = /\\bGoogle TV\\b/.exec(ht)) && (ht = k[0]), /\\bSimulator\\b/i.test(S) && (ht = (ht ? ht + \" \" : \"\") + \"Simulator\"), F == \"Opera Mini\" && /\\bOPiOS\\b/.test(S) && at.push(\"running in Turbo/Uncompressed mode\"), F == \"IE\" && /\\blike iPhone OS\\b/.test(S) ? (k = C(S.replace(/like iPhone OS/, \"\")), xt = k.manufacturer, ht = k.product) : /^iP/.test(ht) ? (F || (F = \"Safari\"), U = \"iOS\" + ((k = / OS ([\\d_]+)/i.exec(S)) ? \" \" + k[1].replace(/_/g, \".\") : \"\")) : F == \"Konqueror\" && /^Linux\\b/i.test(U) ? U = \"Kubuntu\" : xt && xt != \"Google\" && (/Chrome/.test(F) && !/\\bMobile Safari\\b/i.test(S) || /\\bVita\\b/.test(ht)) || /\\bAndroid\\b/.test(U) && /^Chrome/.test(F) && /\\bVersion\\//i.test(S) ? (F = \"Android Browser\", U = /\\bAndroid\\b/.test(U) ? U : \"Android\") : F == \"Silk\" ? (/\\bMobi/i.test(S) || (U = \"Android\", at.unshift(\"desktop mode\")), /Accelerated *= *true/i.test(S) && at.unshift(\"accelerated\")) : F == \"UC Browser\" && /\\bUCWEB\\b/.test(S) ? at.push(\"speed mode\") : F == \"PaleMoon\" && (k = /\\bFirefox\\/([\\d.]+)\\b/.exec(S)) ? at.push(\"identifying as Firefox \" + k[1]) : F == \"Firefox\" && (k = /\\b(Mobile|Tablet|TV)\\b/i.exec(S)) ? (U || (U = \"Firefox OS\"), ht || (ht = k[1])) : !F || (k = !/\\bMinefield\\b/i.test(S) && /\\b(?:Firefox|Safari)\\b/.exec(F)) ? (F && !ht && /[\\/,]|^[^(]+?\\)/.test(S.slice(S.indexOf(k + \"/\") + 8)) && (F = null), (k = ht || xt || U) && (ht || xt || /\\b(?:Android|Symbian OS|Tablet OS|webOS)\\b/.test(U)) && (F = /[a-z]+(?: Hat)?/i.exec(/\\bAndroid\\b/.test(U) ? U : k) + \" Browser\")) : F == \"Electron\" && (k = (/\\bChrome\\/([\\d.]+)\\b/.exec(S) || 0)[1]) && at.push(\"Chromium \" + k), Z || (Z = ri([\n        \"(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\\\d.]+$)|UCBrowser|YaBrowser)\",\n        \"Version\",\n        T(F),\n        \"(?:Firefox|Minefield|NetFront)\"\n      ])), (k = ct == \"iCab\" && parseFloat(Z) > 3 && \"WebKit\" || /\\bOpera\\b/.test(F) && (/\\bOPR\\b/.test(S) ? \"Blink\" : \"Presto\") || /\\b(?:Midori|Nook|Safari)\\b/i.test(S) && !/^(?:Trident|EdgeHTML)$/.test(ct) && \"WebKit\" || !ct && /\\bMSIE\\b/i.test(S) && (U == \"Mac OS\" ? \"Tasman\" : \"Trident\") || ct == \"WebKit\" && /\\bPlayStation\\b(?! Vita\\b)/i.test(F) && \"NetFront\") && (ct = [k]), F == \"IE\" && (k = (/; *(?:XBLWP|ZuneWP)(\\d+)/i.exec(S) || 0)[1]) ? (F += \" Mobile\", U = \"Windows Phone \" + (/\\+$/.test(k) ? k : k + \".x\"), at.unshift(\"desktop mode\")) : /\\bWPDesktop\\b/i.test(S) ? (F = \"IE Mobile\", U = \"Windows Phone 8.x\", at.unshift(\"desktop mode\"), Z || (Z = (/\\brv:([\\d.]+)/.exec(S) || 0)[1])) : F != \"IE\" && ct == \"Trident\" && (k = /\\brv:([\\d.]+)/.exec(S)) && (F && at.push(\"identifying as \" + F + (Z ? \" \" + Z : \"\")), F = \"IE\", Z = k[1]), Ft) {\n        if (w(M, \"global\"))\n          if (tt && (k = tt.lang.System, Yt = k.getProperty(\"os.arch\"), U = U || k.getProperty(\"os.name\") + \" \" + k.getProperty(\"os.version\")), wt) {\n            try {\n              Z = M.require(\"ringo/engine\").version.join(\".\"), F = \"RingoJS\";\n            } catch {\n              (k = M.system) && k.global.system == M.system && (F = \"Narwhal\", U || (U = k[0].os || null));\n            }\n            F || (F = \"Rhino\");\n          } else\n            typeof M.process == \"object\" && !M.process.browser && (k = M.process) && (typeof k.versions == \"object\" && (typeof k.versions.electron == \"string\" ? (at.push(\"Node \" + k.versions.node), F = \"Electron\", Z = k.versions.electron) : typeof k.versions.nw == \"string\" && (at.push(\"Chromium \" + Z, \"Node \" + k.versions.node), F = \"NW.js\", Z = k.versions.nw)), F || (F = \"Node.js\", Yt = k.arch, U = k.platform, Z = /[\\d.]+/.exec(k.version), Z = Z ? Z[0] : null));\n        else\n          g(k = M.runtime) == V ? (F = \"Adobe AIR\", U = k.flash.system.Capabilities.os) : g(k = M.phantom) == vt ? (F = \"PhantomJS\", Z = (k = k.version || null) && k.major + \".\" + k.minor + \".\" + k.patch) : typeof Wt.documentMode == \"number\" && (k = /\\bTrident\\/(\\d+)/i.exec(S)) ? (Z = [Z, Wt.documentMode], (k = +k[1] + 4) != Z[1] && (at.push(\"IE \" + Z[1] + \" mode\"), ct && (ct[1] = \"\"), Z[1] = k), Z = F == \"IE\" ? String(Z[1].toFixed(1)) : Z[0]) : typeof Wt.documentMode == \"number\" && /^(?:Chrome|Firefox)\\b/.test(F) && (at.push(\"masking as \" + F + \" \" + Z), F = \"IE\", Z = \"11.0\", ct = [\"Trident\"], U = \"Windows\");\n        U = U && v(U);\n      }\n      if (Z && (k = /(?:[ab]|dp|pre|[ab]\\d+pre)(?:\\d+\\+?)?$/i.exec(Z) || /(?:alpha|beta)(?: ?\\d)?/i.exec(S + \";\" + (Ft && D.appMinorVersion)) || /\\bMinefield\\b/i.test(S) && \"a\") && (me = /b/i.test(k) ? \"beta\" : \"alpha\", Z = Z.replace(RegExp(k + \"\\\\+?$\"), \"\") + (me == \"beta\" ? be : rt) + (/\\d+\\+?/.exec(k) || \"\")), F == \"Fennec\" || F == \"Firefox\" && /\\b(?:Android|Firefox OS|KaiOS)\\b/.test(U))\n        F = \"Firefox Mobile\";\n      else if (F == \"Maxthon\" && Z)\n        Z = Z.replace(/\\.[\\d.]+/, \".x\");\n      else if (/\\bXbox\\b/i.test(ht))\n        ht == \"Xbox 360\" && (U = null), ht == \"Xbox 360\" && /\\bIEMobile\\b/.test(S) && at.unshift(\"mobile mode\");\n      else if ((/^(?:Chrome|IE|Opera)$/.test(F) || F && !ht && !/Browser|Mobi/.test(F)) && (U == \"Windows CE\" || /Mobi/i.test(S)))\n        F += \" Mobile\";\n      else if (F == \"IE\" && Ft)\n        try {\n          M.external === null && at.unshift(\"platform preview\");\n        } catch {\n          at.unshift(\"embedded\");\n        }\n      else\n        (/\\bBlackBerry\\b/.test(ht) || /\\bBB10\\b/.test(S)) && (k = (RegExp(ht.replace(/ +/g, \" *\") + \"/([.\\\\d]+)\", \"i\").exec(S) || 0)[1] || Z) ? (k = [k, /BB10/.test(S)], U = (k[1] ? (ht = null, xt = \"BlackBerry\") : \"Device Software\") + \" \" + k[0], Z = null) : this != y && ht != \"Wii\" && (Ft && Et || /Opera/.test(F) && /\\b(?:MSIE|Firefox)\\b/i.test(S) || F == \"Firefox\" && /\\bOS X (?:\\d+\\.){2,}/.test(U) || F == \"IE\" && (U && !/^Win/.test(U) && Z > 5.5 || /\\bWindows XP\\b/.test(U) && Z > 8 || Z == 8 && !/\\bTrident\\b/.test(S))) && !l.test(k = C.call(y, S.replace(l, \"\") + \";\")) && k.name && (k = \"ing as \" + k.name + ((k = k.version) ? \" \" + k : \"\"), l.test(F) ? (/\\bIE\\b/.test(k) && U == \"Mac OS\" && (U = null), k = \"identify\" + k) : (k = \"mask\" + k, Qt ? F = v(Qt.replace(/([a-z])([A-Z])/g, \"$1 $2\")) : F = \"Opera\", /\\bIE\\b/.test(k) && (U = null), Ft || (Z = null)), ct = [\"Presto\"], at.push(k));\n      (k = (/\\bAppleWebKit\\/([\\d.]+\\+?)/i.exec(S) || 0)[1]) && (k = [parseFloat(k.replace(/\\.(\\d)$/, \".0$1\")), k], F == \"Safari\" && k[1].slice(-1) == \"+\" ? (F = \"WebKit Nightly\", me = \"alpha\", Z = k[1].slice(0, -1)) : (Z == k[1] || Z == (k[2] = (/\\bSafari\\/([\\d.]+\\+?)/i.exec(S) || 0)[1])) && (Z = null), k[1] = (/\\b(?:Headless)?Chrome\\/([\\d.]+)/i.exec(S) || 0)[1], k[0] == 537.36 && k[2] == 537.36 && parseFloat(k[1]) >= 28 && ct == \"WebKit\" && (ct = [\"Blink\"]), !Ft || !q && !k[1] ? (ct && (ct[1] = \"like Safari\"), k = (k = k[0], k < 400 ? 1 : k < 500 ? 2 : k < 526 ? 3 : k < 533 ? 4 : k < 534 ? \"4+\" : k < 535 ? 5 : k < 537 ? 6 : k < 538 ? 7 : k < 601 ? 8 : k < 602 ? 9 : k < 604 ? 10 : k < 606 ? 11 : k < 608 ? 12 : \"12\")) : (ct && (ct[1] = \"like Chrome\"), k = k[1] || (k = k[0], k < 530 ? 1 : k < 532 ? 2 : k < 532.05 ? 3 : k < 533 ? 4 : k < 534.03 ? 5 : k < 534.07 ? 6 : k < 534.1 ? 7 : k < 534.13 ? 8 : k < 534.16 ? 9 : k < 534.24 ? 10 : k < 534.3 ? 11 : k < 535.01 ? 12 : k < 535.02 ? \"13+\" : k < 535.07 ? 15 : k < 535.11 ? 16 : k < 535.19 ? 17 : k < 536.05 ? 18 : k < 536.1 ? 19 : k < 537.01 ? 20 : k < 537.11 ? \"21+\" : k < 537.13 ? 23 : k < 537.18 ? 24 : k < 537.24 ? 25 : k < 537.36 ? 26 : ct != \"Blink\" ? \"27\" : \"28\")), ct && (ct[1] += \" \" + (k += typeof k == \"number\" ? \".x\" : /[.+]/.test(k) ? \"\" : \"+\")), F == \"Safari\" && (!Z || parseInt(Z) > 45) ? Z = k : F == \"Chrome\" && /\\bHeadlessChrome/i.test(S) && at.unshift(\"headless\")), F == \"Opera\" && (k = /\\bzbov|zvav$/.exec(U)) ? (F += \" \", at.unshift(\"desktop mode\"), k == \"zvav\" ? (F += \"Mini\", Z = null) : F += \"Mobile\", U = U.replace(RegExp(\" *\" + k + \"$\"), \"\")) : F == \"Safari\" && /\\bChrome\\b/.exec(ct && ct[1]) ? (at.unshift(\"desktop mode\"), F = \"Chrome Mobile\", Z = null, /\\bOS X\\b/.test(U) ? (xt = \"Apple\", U = \"iOS 4.3+\") : U = null) : /\\bSRWare Iron\\b/.test(F) && !Z && (Z = ri(\"Chrome\")), Z && Z.indexOf(k = /[\\d.]+$/.exec(U)) == 0 && S.indexOf(\"/\" + k + \"-\") > -1 && (U = O(U.replace(k, \"\"))), U && U.indexOf(F) != -1 && !RegExp(F + \" OS\").test(U) && (U = U.replace(RegExp(\" *\" + T(F) + \" *\"), \"\")), ct && !/\\b(?:Avant|Nook)\\b/.test(F) && (/Browser|Lunascape|Maxthon/.test(F) || F != \"Safari\" && /^iOS/.test(U) && /\\bSafari\\b/.test(ct[1]) || /^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(F) && ct[1]) && (k = ct[ct.length - 1]) && at.push(k), at.length && (at = [\"(\" + at.join(\"; \") + \")\"]), xt && ht && ht.indexOf(xt) < 0 && at.push(\"on \" + xt), ht && at.push((/^on /.test(at[at.length - 1]) ? \"\" : \"on \") + ht), U && (k = / ([\\d.+]+)$/.exec(U), xe = k && U.charAt(U.length - k[0].length - 1) == \"/\", U = {\n        architecture: 32,\n        family: k && !xe ? U.replace(k[0], \"\") : U,\n        version: k ? k[1] : null,\n        toString: function() {\n          var ue = this.version;\n          return this.family + (ue && !xe ? \" \" + ue : \"\") + (this.architecture == 64 ? \" 64-bit\" : \"\");\n        }\n      }), (k = /\\b(?:AMD|IA|Win|WOW|x86_|x)64\\b/i.exec(Yt)) && !/\\bi686\\b/i.test(Yt) ? (U && (U.architecture = 64, U.family = U.family.replace(RegExp(\" *\" + k), \"\")), F && (/\\bWOW64\\b/i.test(S) || Ft && /\\w(?:86|32)$/.test(D.cpuClass || D.platform) && !/\\bWin64; x64\\b/i.test(S)) && at.unshift(\"32-bit\")) : U && /^OS X/.test(U.family) && F == \"Chrome\" && parseFloat(Z) >= 39 && (U.architecture = 64), S || (S = null);\n      var Ee = {};\n      return Ee.description = S, Ee.layout = ct && ct[0], Ee.manufacturer = xt, Ee.name = F, Ee.prerelease = me, Ee.product = ht, Ee.ua = S, Ee.version = F && Z, Ee.os = U || {\n        /**\n         * The CPU architecture the OS is built for.\n         *\n         * @memberOf platform.os\n         * @type number|null\n         */\n        architecture: null,\n        /**\n         * The family of the OS.\n         *\n         * Common values include:\n         * \"Windows\", \"Windows Server 2008 R2 / 7\", \"Windows Server 2008 / Vista\",\n         * \"Windows XP\", \"OS X\", \"Linux\", \"Ubuntu\", \"Debian\", \"Fedora\", \"Red Hat\",\n         * \"SuSE\", \"Android\", \"iOS\" and \"Windows Phone\"\n         *\n         * @memberOf platform.os\n         * @type string|null\n         */\n        family: null,\n        /**\n         * The version of the OS.\n         *\n         * @memberOf platform.os\n         * @type string|null\n         */\n        version: null,\n        /**\n         * Returns the OS string.\n         *\n         * @memberOf platform.os\n         * @returns {string} The OS string.\n         */\n        toString: function() {\n          return \"null\";\n        }\n      }, Ee.parse = C, Ee.toString = Ir, Ee.version && at.unshift(Z), Ee.name && at.unshift(F), U && F && !(U == String(U).split(\" \")[0] && (U == F.split(\" \")[0] || ht)) && at.push(ht ? \"(\" + U + \")\" : \"on \" + U), at.length && (Ee.description = at.join(\" \")), Ee;\n    }\n    var I = C();\n    n && s ? y(I, function(S, M) {\n      n[M] = S;\n    }) : i.platform = I;\n  }).call(Kc);\n})(Of, Of.exports);\nvar Hh = Of.exports;\nconst v0 = /* @__PURE__ */ fv(Hh);\nfunction ci(r) {\n  return parseInt(String(r), 10);\n}\nfunction br(r) {\n  const t = parseInt(String(r), 10);\n  return t < 0 ? -t : t;\n}\n\"toInt\" in String.prototype || (String.prototype.toInt = function() {\n  return ci(this);\n});\n\"toUint\" in String.prototype || (String.prototype.toUint = function() {\n  const r = ci(this);\n  return r < 0 ? -r : r;\n});\nfunction ul(r = \"/\", t = \" \", e = \":\", i = \"\") {\n  const n = /* @__PURE__ */ new Date();\n  return n.getFullYear() + r + String(100 + n.getMonth() + 1).slice(1, 3) + r + String(100 + n.getDate()).slice(1, 3) + t + String(100 + n.getHours()).slice(1, 3) + e + String(100 + n.getMinutes()).slice(1, 3) + (i === \"\" ? \"\" : i + String(n.getMilliseconds()));\n}\nconst m0 = {\n  alpha: 0,\n  height: 0,\n  rotation: 0,\n  scale_x: 0,\n  scale_y: 0,\n  pivot_x: 0,\n  pivot_y: 0,\n  width: 0,\n  x: 0,\n  y: 0\n};\nfunction If(r, t) {\n  const e = {};\n  for (const i of Object.keys(m0)) {\n    if (!(i in r))\n      continue;\n    const n = String(r[i]), s = (n.at(0) === \"=\" ? n.slice(1) : n).split(\",\"), o = e[i] = parseFloat(s[0]);\n    s.length > 1 && (e[i] += Math.round(Math.random() * (parseFloat(s[1]) - o + 1))), n.at(0) === \"=\" && (e[i] += parseFloat(t[i]));\n  }\n  return e;\n}\nconst y0 = \"/* SKYNovel */\";\nfunction lE() {\n  const r = document.getElementsByTagName(\"head\")[0], t = r.children.length;\n  for (let e = t - 1; e >= 0; --e) {\n    const i = r.children[e];\n    i instanceof HTMLStyleElement && i.innerText.slice(0, 14) === y0 && r.removeChild(i);\n  }\n}\nfunction rl(r) {\n  const t = document.createElement(\"style\");\n  t.innerHTML = y0 + r, document.getElementsByTagName(\"head\")[0].appendChild(t);\n}\nfunction j(r, t, e) {\n  const i = r[t];\n  if (!(t in r)) {\n    if (isNaN(e))\n      throw `[${r[\":タグ名\"]}]属性 ${t} は必須です`;\n    return r[t] = e, e;\n  }\n  const n = String(i).slice(0, 2) === \"0x\" ? parseInt(i) : parseFloat(i);\n  if (isNaN(n))\n    throw `[${r[\":タグ名\"]}]属性 ${t} の値【${i}】が数値ではありません`;\n  return r[t] = n;\n}\nfunction K(r, t, e) {\n  if (!(t in r))\n    return r[t] = e;\n  const i = r[t];\n  if (i === null)\n    return !1;\n  const n = String(i);\n  return r[t] = n === \"false\" ? !1 : !!n;\n}\nfunction Dy(r) {\n  if (r.at(0) === \"#\")\n    return parseInt(r.slice(1), 16);\n  const t = Number(r);\n  if (!isNaN(t))\n    return t;\n  if (r === \"black\")\n    return 0;\n  A.cc4ColorName.fillStyle = r;\n  const e = A.cc4ColorName.fillStyle;\n  if (e === \"#000000\")\n    throw `色名前 ${r} が異常です`;\n  return parseInt(e.slice(1), 16);\n}\nfunction _0(r, t, e) {\n  const i = r[t];\n  return i ? r[t] = Dy(String(i)) : r[t] = e;\n}\nconst uE = /JSON at position (\\d+)$/;\nfunction Jc(r, t = \"\", e = \"\") {\n  const i = (e.match(uE) ?? [\"\", \"\"])[1];\n  return `[${r[\":タグ名\"]}] ${t} 属性の解析エラー : ${e}\n${r[t]}${i ? `\n${\"^\".padStart(Number(i))}` : \"\"}`;\n}\nconst cE = /^[^\\/\\.]+$|[^\\/]+(?=\\.)/;\nfunction Qc(r) {\n  return (r.match(cE) ?? [\"\"])[0];\n}\nconst fE = /\\.([^\\.]+)$/;\nfunction nm(r) {\n  return (r.match(fE) ?? [\"\", \"\"])[1];\n}\nvar f0, d0;\nclass A {\n}\nB(A, \"stageW\", 0), B(A, \"stageH\", 0), B(A, \"debugLog\", !1), B(A, \"isSafari\", Hh.name === \"Safari\"), B(A, \"isFirefox\", Hh.name === \"Firefox\"), B(A, \"isMac\", new RegExp(\"OS X\").test(((f0 = Hh.os) == null ? void 0 : f0.family) ?? \"\")), B(A, \"isMobile\", !new RegExp(\"(Windows|OS X)\").test(((d0 = Hh.os) == null ? void 0 : d0.family) ?? \"\")), B(A, \"hDip\", {}), B(A, \"isDbg\", !1), B(A, \"isPackaged\", !1), B(A, \"isDarkMode\", !1), B(A, \"cc4ColorName\");\nfunction dE(r) {\n  var t = this.constructor;\n  return this.then(\n    function(e) {\n      return t.resolve(r()).then(function() {\n        return e;\n      });\n    },\n    function(e) {\n      return t.resolve(r()).then(function() {\n        return t.reject(e);\n      });\n    }\n  );\n}\nfunction pE(r) {\n  var t = this;\n  return new t(function(e, i) {\n    if (!(r && typeof r.length < \"u\"))\n      return i(\n        new TypeError(\n          typeof r + \" \" + r + \" is not iterable(cannot read property Symbol(Symbol.iterator))\"\n        )\n      );\n    var n = Array.prototype.slice.call(r);\n    if (n.length === 0)\n      return e([]);\n    var s = n.length;\n    function o(l, u) {\n      if (u && (typeof u == \"object\" || typeof u == \"function\")) {\n        var c = u.then;\n        if (typeof c == \"function\") {\n          c.call(\n            u,\n            function(f) {\n              o(l, f);\n            },\n            function(f) {\n              n[l] = { status: \"rejected\", reason: f }, --s === 0 && e(n);\n            }\n          );\n          return;\n        }\n      }\n      n[l] = { status: \"fulfilled\", value: u }, --s === 0 && e(n);\n    }\n    for (var a = 0; a < n.length; a++)\n      o(a, n[a]);\n  });\n}\nfunction g0(r, t) {\n  this.name = \"AggregateError\", this.errors = r, this.message = t || \"\";\n}\ng0.prototype = Error.prototype;\nfunction vE(r) {\n  var t = this;\n  return new t(function(e, i) {\n    if (!(r && typeof r.length < \"u\"))\n      return i(new TypeError(\"Promise.any accepts an array\"));\n    var n = Array.prototype.slice.call(r);\n    if (n.length === 0)\n      return i();\n    for (var s = [], o = 0; o < n.length; o++)\n      try {\n        t.resolve(n[o]).then(e).catch(function(a) {\n          s.push(a), s.length === n.length && i(\n            new g0(\n              s,\n              \"All promises were rejected\"\n            )\n          );\n        });\n      } catch (a) {\n        i(a);\n      }\n  });\n}\nvar mE = setTimeout;\nfunction b0(r) {\n  return !!(r && typeof r.length < \"u\");\n}\nfunction yE() {\n}\nfunction _E(r, t) {\n  return function() {\n    r.apply(t, arguments);\n  };\n}\nfunction ve(r) {\n  if (!(this instanceof ve))\n    throw new TypeError(\"Promises must be constructed via new\");\n  if (typeof r != \"function\")\n    throw new TypeError(\"not a function\");\n  this._state = 0, this._handled = !1, this._value = void 0, this._deferreds = [], w0(r, this);\n}\nfunction x0(r, t) {\n  for (; r._state === 3; )\n    r = r._value;\n  if (r._state === 0) {\n    r._deferreds.push(t);\n    return;\n  }\n  r._handled = !0, ve._immediateFn(function() {\n    var e = r._state === 1 ? t.onFulfilled : t.onRejected;\n    if (e === null) {\n      (r._state === 1 ? sm : cl)(t.promise, r._value);\n      return;\n    }\n    var i;\n    try {\n      i = e(r._value);\n    } catch (n) {\n      cl(t.promise, n);\n      return;\n    }\n    sm(t.promise, i);\n  });\n}\nfunction sm(r, t) {\n  try {\n    if (t === r)\n      throw new TypeError(\"A promise cannot be resolved with itself.\");\n    if (t && (typeof t == \"object\" || typeof t == \"function\")) {\n      var e = t.then;\n      if (t instanceof ve) {\n        r._state = 3, r._value = t, om(r);\n        return;\n      } else if (typeof e == \"function\") {\n        w0(_E(e, t), r);\n        return;\n      }\n    }\n    r._state = 1, r._value = t, om(r);\n  } catch (i) {\n    cl(r, i);\n  }\n}\nfunction cl(r, t) {\n  r._state = 2, r._value = t, om(r);\n}\nfunction om(r) {\n  r._state === 2 && r._deferreds.length === 0 && ve._immediateFn(function() {\n    r._handled || ve._unhandledRejectionFn(r._value);\n  });\n  for (var t = 0, e = r._deferreds.length; t < e; t++)\n    x0(r, r._deferreds[t]);\n  r._deferreds = null;\n}\nfunction gE(r, t, e) {\n  this.onFulfilled = typeof r == \"function\" ? r : null, this.onRejected = typeof t == \"function\" ? t : null, this.promise = e;\n}\nfunction w0(r, t) {\n  var e = !1;\n  try {\n    r(\n      function(i) {\n        e || (e = !0, sm(t, i));\n      },\n      function(i) {\n        e || (e = !0, cl(t, i));\n      }\n    );\n  } catch (i) {\n    if (e)\n      return;\n    e = !0, cl(t, i);\n  }\n}\nve.prototype.catch = function(r) {\n  return this.then(null, r);\n};\nve.prototype.then = function(r, t) {\n  var e = new this.constructor(yE);\n  return x0(this, new gE(r, t, e)), e;\n};\nve.prototype.finally = dE;\nve.all = function(r) {\n  return new ve(function(t, e) {\n    if (!b0(r))\n      return e(new TypeError(\"Promise.all accepts an array\"));\n    var i = Array.prototype.slice.call(r);\n    if (i.length === 0)\n      return t([]);\n    var n = i.length;\n    function s(a, l) {\n      try {\n        if (l && (typeof l == \"object\" || typeof l == \"function\")) {\n          var u = l.then;\n          if (typeof u == \"function\") {\n            u.call(\n              l,\n              function(c) {\n                s(a, c);\n              },\n              e\n            );\n            return;\n          }\n        }\n        i[a] = l, --n === 0 && t(i);\n      } catch (c) {\n        e(c);\n      }\n    }\n    for (var o = 0; o < i.length; o++)\n      s(o, i[o]);\n  });\n};\nve.any = vE;\nve.allSettled = pE;\nve.resolve = function(r) {\n  return r && typeof r == \"object\" && r.constructor === ve ? r : new ve(function(t) {\n    t(r);\n  });\n};\nve.reject = function(r) {\n  return new ve(function(t, e) {\n    e(r);\n  });\n};\nve.race = function(r) {\n  return new ve(function(t, e) {\n    if (!b0(r))\n      return e(new TypeError(\"Promise.race accepts an array\"));\n    for (var i = 0, n = r.length; i < n; i++)\n      ve.resolve(r[i]).then(t, e);\n  });\n};\nve._immediateFn = // @ts-ignore\ntypeof setImmediate == \"function\" && function(r) {\n  setImmediate(r);\n} || function(r) {\n  mE(r, 0);\n};\nve._unhandledRejectionFn = function(t) {\n  typeof console < \"u\" && console && console.warn(\"Possible Unhandled Promise Rejection:\", t);\n};\n/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\nvar A_ = Object.getOwnPropertySymbols, bE = Object.prototype.hasOwnProperty, xE = Object.prototype.propertyIsEnumerable;\nfunction wE(r) {\n  if (r == null)\n    throw new TypeError(\"Object.assign cannot be called with null or undefined\");\n  return Object(r);\n}\nfunction EE() {\n  try {\n    if (!Object.assign)\n      return !1;\n    var r = new String(\"abc\");\n    if (r[5] = \"de\", Object.getOwnPropertyNames(r)[0] === \"5\")\n      return !1;\n    for (var t = {}, e = 0; e < 10; e++)\n      t[\"_\" + String.fromCharCode(e)] = e;\n    var i = Object.getOwnPropertyNames(t).map(function(s) {\n      return t[s];\n    });\n    if (i.join(\"\") !== \"0123456789\")\n      return !1;\n    var n = {};\n    return \"abcdefghijklmnopqrst\".split(\"\").forEach(function(s) {\n      n[s] = s;\n    }), Object.keys(Object.assign({}, n)).join(\"\") === \"abcdefghijklmnopqrst\";\n  } catch {\n    return !1;\n  }\n}\nvar TE = EE() ? Object.assign : function(r, t) {\n  for (var e, i = wE(r), n, s = 1; s < arguments.length; s++) {\n    e = Object(arguments[s]);\n    for (var o in e)\n      bE.call(e, o) && (i[o] = e[o]);\n    if (A_) {\n      n = A_(e);\n      for (var a = 0; a < n.length; a++)\n        xE.call(e, n[a]) && (i[n[a]] = e[n[a]]);\n    }\n  }\n  return i;\n};\nconst SE = /* @__PURE__ */ fv(TE);\n/*!\n * @pixi/polyfill - v6.5.9\n * Compiled Wed, 25 Jan 2023 05:01:45 UTC\n *\n * @pixi/polyfill is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */\ntypeof globalThis > \"u\" && (typeof self < \"u\" ? self.globalThis = self : typeof __webpack_require__.g < \"u\" && (__webpack_require__.g.globalThis = __webpack_require__.g));\nglobalThis.Promise || (globalThis.Promise = ve);\nObject.assign || (Object.assign = SE);\nvar PE = 16;\nDate.now && Date.prototype.getTime || (Date.now = function() {\n  return (/* @__PURE__ */ new Date()).getTime();\n});\nif (!(globalThis.performance && globalThis.performance.now)) {\n  var OE = Date.now();\n  globalThis.performance || (globalThis.performance = {}), globalThis.performance.now = function() {\n    return Date.now() - OE;\n  };\n}\nvar Sv = Date.now(), D_ = [\"ms\", \"moz\", \"webkit\", \"o\"];\nfor (var Pv = 0; Pv < D_.length && !globalThis.requestAnimationFrame; ++Pv) {\n  var Ov = D_[Pv];\n  globalThis.requestAnimationFrame = globalThis[Ov + \"RequestAnimationFrame\"], globalThis.cancelAnimationFrame = globalThis[Ov + \"CancelAnimationFrame\"] || globalThis[Ov + \"CancelRequestAnimationFrame\"];\n}\nglobalThis.requestAnimationFrame || (globalThis.requestAnimationFrame = function(r) {\n  if (typeof r != \"function\")\n    throw new TypeError(r + \"is not a function\");\n  var t = Date.now(), e = PE + Sv - t;\n  return e < 0 && (e = 0), Sv = t, globalThis.self.setTimeout(function() {\n    Sv = Date.now(), r(performance.now());\n  }, e);\n});\nglobalThis.cancelAnimationFrame || (globalThis.cancelAnimationFrame = function(r) {\n  return clearTimeout(r);\n});\nMath.sign || (Math.sign = function(t) {\n  return t = Number(t), t === 0 || isNaN(t) ? t : t > 0 ? 1 : -1;\n});\nNumber.isInteger || (Number.isInteger = function(t) {\n  return typeof t == \"number\" && isFinite(t) && Math.floor(t) === t;\n});\nglobalThis.ArrayBuffer || (globalThis.ArrayBuffer = Array);\nglobalThis.Float32Array || (globalThis.Float32Array = Array);\nglobalThis.Uint32Array || (globalThis.Uint32Array = Array);\nglobalThis.Uint16Array || (globalThis.Uint16Array = Array);\nglobalThis.Uint8Array || (globalThis.Uint8Array = Array);\nglobalThis.Int32Array || (globalThis.Int32Array = Array);\n/*!\n * @pixi/constants - v6.5.9\n * Compiled Wed, 25 Jan 2023 05:01:45 UTC\n *\n * @pixi/constants is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */\nvar Fn;\n(function(r) {\n  r[r.WEBGL_LEGACY = 0] = \"WEBGL_LEGACY\", r[r.WEBGL = 1] = \"WEBGL\", r[r.WEBGL2 = 2] = \"WEBGL2\";\n})(Fn || (Fn = {}));\nvar fl;\n(function(r) {\n  r[r.UNKNOWN = 0] = \"UNKNOWN\", r[r.WEBGL = 1] = \"WEBGL\", r[r.CANVAS = 2] = \"CANVAS\";\n})(fl || (fl = {}));\nvar Cf;\n(function(r) {\n  r[r.COLOR = 16384] = \"COLOR\", r[r.DEPTH = 256] = \"DEPTH\", r[r.STENCIL = 1024] = \"STENCIL\";\n})(Cf || (Cf = {}));\nvar ot;\n(function(r) {\n  r[r.NORMAL = 0] = \"NORMAL\", r[r.ADD = 1] = \"ADD\", r[r.MULTIPLY = 2] = \"MULTIPLY\", r[r.SCREEN = 3] = \"SCREEN\", r[r.OVERLAY = 4] = \"OVERLAY\", r[r.DARKEN = 5] = \"DARKEN\", r[r.LIGHTEN = 6] = \"LIGHTEN\", r[r.COLOR_DODGE = 7] = \"COLOR_DODGE\", r[r.COLOR_BURN = 8] = \"COLOR_BURN\", r[r.HARD_LIGHT = 9] = \"HARD_LIGHT\", r[r.SOFT_LIGHT = 10] = \"SOFT_LIGHT\", r[r.DIFFERENCE = 11] = \"DIFFERENCE\", r[r.EXCLUSION = 12] = \"EXCLUSION\", r[r.HUE = 13] = \"HUE\", r[r.SATURATION = 14] = \"SATURATION\", r[r.COLOR = 15] = \"COLOR\", r[r.LUMINOSITY = 16] = \"LUMINOSITY\", r[r.NORMAL_NPM = 17] = \"NORMAL_NPM\", r[r.ADD_NPM = 18] = \"ADD_NPM\", r[r.SCREEN_NPM = 19] = \"SCREEN_NPM\", r[r.NONE = 20] = \"NONE\", r[r.SRC_OVER = 0] = \"SRC_OVER\", r[r.SRC_IN = 21] = \"SRC_IN\", r[r.SRC_OUT = 22] = \"SRC_OUT\", r[r.SRC_ATOP = 23] = \"SRC_ATOP\", r[r.DST_OVER = 24] = \"DST_OVER\", r[r.DST_IN = 25] = \"DST_IN\", r[r.DST_OUT = 26] = \"DST_OUT\", r[r.DST_ATOP = 27] = \"DST_ATOP\", r[r.ERASE = 26] = \"ERASE\", r[r.SUBTRACT = 28] = \"SUBTRACT\", r[r.XOR = 29] = \"XOR\";\n})(ot || (ot = {}));\nvar xr;\n(function(r) {\n  r[r.POINTS = 0] = \"POINTS\", r[r.LINES = 1] = \"LINES\", r[r.LINE_LOOP = 2] = \"LINE_LOOP\", r[r.LINE_STRIP = 3] = \"LINE_STRIP\", r[r.TRIANGLES = 4] = \"TRIANGLES\", r[r.TRIANGLE_STRIP = 5] = \"TRIANGLE_STRIP\", r[r.TRIANGLE_FAN = 6] = \"TRIANGLE_FAN\";\n})(xr || (xr = {}));\nvar W;\n(function(r) {\n  r[r.RGBA = 6408] = \"RGBA\", r[r.RGB = 6407] = \"RGB\", r[r.RG = 33319] = \"RG\", r[r.RED = 6403] = \"RED\", r[r.RGBA_INTEGER = 36249] = \"RGBA_INTEGER\", r[r.RGB_INTEGER = 36248] = \"RGB_INTEGER\", r[r.RG_INTEGER = 33320] = \"RG_INTEGER\", r[r.RED_INTEGER = 36244] = \"RED_INTEGER\", r[r.ALPHA = 6406] = \"ALPHA\", r[r.LUMINANCE = 6409] = \"LUMINANCE\", r[r.LUMINANCE_ALPHA = 6410] = \"LUMINANCE_ALPHA\", r[r.DEPTH_COMPONENT = 6402] = \"DEPTH_COMPONENT\", r[r.DEPTH_STENCIL = 34041] = \"DEPTH_STENCIL\";\n})(W || (W = {}));\nvar Go;\n(function(r) {\n  r[r.TEXTURE_2D = 3553] = \"TEXTURE_2D\", r[r.TEXTURE_CUBE_MAP = 34067] = \"TEXTURE_CUBE_MAP\", r[r.TEXTURE_2D_ARRAY = 35866] = \"TEXTURE_2D_ARRAY\", r[r.TEXTURE_CUBE_MAP_POSITIVE_X = 34069] = \"TEXTURE_CUBE_MAP_POSITIVE_X\", r[r.TEXTURE_CUBE_MAP_NEGATIVE_X = 34070] = \"TEXTURE_CUBE_MAP_NEGATIVE_X\", r[r.TEXTURE_CUBE_MAP_POSITIVE_Y = 34071] = \"TEXTURE_CUBE_MAP_POSITIVE_Y\", r[r.TEXTURE_CUBE_MAP_NEGATIVE_Y = 34072] = \"TEXTURE_CUBE_MAP_NEGATIVE_Y\", r[r.TEXTURE_CUBE_MAP_POSITIVE_Z = 34073] = \"TEXTURE_CUBE_MAP_POSITIVE_Z\", r[r.TEXTURE_CUBE_MAP_NEGATIVE_Z = 34074] = \"TEXTURE_CUBE_MAP_NEGATIVE_Z\";\n})(Go || (Go = {}));\nvar ut;\n(function(r) {\n  r[r.UNSIGNED_BYTE = 5121] = \"UNSIGNED_BYTE\", r[r.UNSIGNED_SHORT = 5123] = \"UNSIGNED_SHORT\", r[r.UNSIGNED_SHORT_5_6_5 = 33635] = \"UNSIGNED_SHORT_5_6_5\", r[r.UNSIGNED_SHORT_4_4_4_4 = 32819] = \"UNSIGNED_SHORT_4_4_4_4\", r[r.UNSIGNED_SHORT_5_5_5_1 = 32820] = \"UNSIGNED_SHORT_5_5_5_1\", r[r.UNSIGNED_INT = 5125] = \"UNSIGNED_INT\", r[r.UNSIGNED_INT_10F_11F_11F_REV = 35899] = \"UNSIGNED_INT_10F_11F_11F_REV\", r[r.UNSIGNED_INT_2_10_10_10_REV = 33640] = \"UNSIGNED_INT_2_10_10_10_REV\", r[r.UNSIGNED_INT_24_8 = 34042] = \"UNSIGNED_INT_24_8\", r[r.UNSIGNED_INT_5_9_9_9_REV = 35902] = \"UNSIGNED_INT_5_9_9_9_REV\", r[r.BYTE = 5120] = \"BYTE\", r[r.SHORT = 5122] = \"SHORT\", r[r.INT = 5124] = \"INT\", r[r.FLOAT = 5126] = \"FLOAT\", r[r.FLOAT_32_UNSIGNED_INT_24_8_REV = 36269] = \"FLOAT_32_UNSIGNED_INT_24_8_REV\", r[r.HALF_FLOAT = 36193] = \"HALF_FLOAT\";\n})(ut || (ut = {}));\nvar Mf;\n(function(r) {\n  r[r.FLOAT = 0] = \"FLOAT\", r[r.INT = 1] = \"INT\", r[r.UINT = 2] = \"UINT\";\n})(Mf || (Mf = {}));\nvar Wr;\n(function(r) {\n  r[r.NEAREST = 0] = \"NEAREST\", r[r.LINEAR = 1] = \"LINEAR\";\n})(Wr || (Wr = {}));\nvar Zr;\n(function(r) {\n  r[r.CLAMP = 33071] = \"CLAMP\", r[r.REPEAT = 10497] = \"REPEAT\", r[r.MIRRORED_REPEAT = 33648] = \"MIRRORED_REPEAT\";\n})(Zr || (Zr = {}));\nvar Er;\n(function(r) {\n  r[r.OFF = 0] = \"OFF\", r[r.POW2 = 1] = \"POW2\", r[r.ON = 2] = \"ON\", r[r.ON_MANUAL = 3] = \"ON_MANUAL\";\n})(Er || (Er = {}));\nvar Tr;\n(function(r) {\n  r[r.NPM = 0] = \"NPM\", r[r.UNPACK = 1] = \"UNPACK\", r[r.PMA = 2] = \"PMA\", r[r.NO_PREMULTIPLIED_ALPHA = 0] = \"NO_PREMULTIPLIED_ALPHA\", r[r.PREMULTIPLY_ON_UPLOAD = 1] = \"PREMULTIPLY_ON_UPLOAD\", r[r.PREMULTIPLY_ALPHA = 2] = \"PREMULTIPLY_ALPHA\", r[r.PREMULTIPLIED_ALPHA = 2] = \"PREMULTIPLIED_ALPHA\";\n})(Tr || (Tr = {}));\nvar _r;\n(function(r) {\n  r[r.NO = 0] = \"NO\", r[r.YES = 1] = \"YES\", r[r.AUTO = 2] = \"AUTO\", r[r.BLEND = 0] = \"BLEND\", r[r.CLEAR = 1] = \"CLEAR\", r[r.BLIT = 2] = \"BLIT\";\n})(_r || (_r = {}));\nvar Rf;\n(function(r) {\n  r[r.AUTO = 0] = \"AUTO\", r[r.MANUAL = 1] = \"MANUAL\";\n})(Rf || (Rf = {}));\nvar Mi;\n(function(r) {\n  r.LOW = \"lowp\", r.MEDIUM = \"mediump\", r.HIGH = \"highp\";\n})(Mi || (Mi = {}));\nvar Ce;\n(function(r) {\n  r[r.NONE = 0] = \"NONE\", r[r.SCISSOR = 1] = \"SCISSOR\", r[r.STENCIL = 2] = \"STENCIL\", r[r.SPRITE = 3] = \"SPRITE\", r[r.COLOR = 4] = \"COLOR\";\n})(Ce || (Ce = {}));\nvar B_;\n(function(r) {\n  r[r.RED = 1] = \"RED\", r[r.GREEN = 2] = \"GREEN\", r[r.BLUE = 4] = \"BLUE\", r[r.ALPHA = 8] = \"ALPHA\";\n})(B_ || (B_ = {}));\nvar le;\n(function(r) {\n  r[r.NONE = 0] = \"NONE\", r[r.LOW = 2] = \"LOW\", r[r.MEDIUM = 4] = \"MEDIUM\", r[r.HIGH = 8] = \"HIGH\";\n})(le || (le = {}));\nvar Kr;\n(function(r) {\n  r[r.ELEMENT_ARRAY_BUFFER = 34963] = \"ELEMENT_ARRAY_BUFFER\", r[r.ARRAY_BUFFER = 34962] = \"ARRAY_BUFFER\", r[r.UNIFORM_BUFFER = 35345] = \"UNIFORM_BUFFER\";\n})(Kr || (Kr = {}));\n/*!\n * @pixi/settings - v6.5.9\n * Compiled Wed, 25 Jan 2023 05:01:45 UTC\n *\n * @pixi/settings is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */\nvar IE = {\n  /**\n   * Creates a canvas element of the given size.\n   * This canvas is created using the browser's native canvas element.\n   * @param width - width of the canvas\n   * @param height - height of the canvas\n   */\n  createCanvas: function(r, t) {\n    var e = document.createElement(\"canvas\");\n    return e.width = r, e.height = t, e;\n  },\n  getWebGLRenderingContext: function() {\n    return WebGLRenderingContext;\n  },\n  getNavigator: function() {\n    return navigator;\n  },\n  getBaseUrl: function() {\n    var r;\n    return (r = document.baseURI) !== null && r !== void 0 ? r : window.location.href;\n  },\n  fetch: function(r, t) {\n    return fetch(r, t);\n  }\n}, Iv = /iPhone/i, F_ = /iPod/i, U_ = /iPad/i, G_ = /\\biOS-universal(?:.+)Mac\\b/i, Cv = /\\bAndroid(?:.+)Mobile\\b/i, j_ = /Android/i, ia = /(?:SD4930UR|\\bSilk(?:.+)Mobile\\b)/i, Ec = /Silk/i, an = /Windows Phone/i, H_ = /\\bWindows(?:.+)ARM\\b/i, $_ = /BlackBerry/i, z_ = /BB10/i, V_ = /Opera Mini/i, X_ = /\\b(CriOS|Chrome)(?:.+)Mobile/i, W_ = /Mobile(?:.+)Firefox\\b/i, Y_ = function(r) {\n  return typeof r < \"u\" && r.platform === \"MacIntel\" && typeof r.maxTouchPoints == \"number\" && r.maxTouchPoints > 1 && typeof MSStream > \"u\";\n};\nfunction CE(r) {\n  return function(t) {\n    return t.test(r);\n  };\n}\nfunction ME(r) {\n  var t = {\n    userAgent: \"\",\n    platform: \"\",\n    maxTouchPoints: 0\n  };\n  !r && typeof navigator < \"u\" ? t = {\n    userAgent: navigator.userAgent,\n    platform: navigator.platform,\n    maxTouchPoints: navigator.maxTouchPoints || 0\n  } : typeof r == \"string\" ? t.userAgent = r : r && r.userAgent && (t = {\n    userAgent: r.userAgent,\n    platform: r.platform,\n    maxTouchPoints: r.maxTouchPoints || 0\n  });\n  var e = t.userAgent, i = e.split(\"[FBAN\");\n  typeof i[1] < \"u\" && (e = i[0]), i = e.split(\"Twitter\"), typeof i[1] < \"u\" && (e = i[0]);\n  var n = CE(e), s = {\n    apple: {\n      phone: n(Iv) && !n(an),\n      ipod: n(F_),\n      tablet: !n(Iv) && (n(U_) || Y_(t)) && !n(an),\n      universal: n(G_),\n      device: (n(Iv) || n(F_) || n(U_) || n(G_) || Y_(t)) && !n(an)\n    },\n    amazon: {\n      phone: n(ia),\n      tablet: !n(ia) && n(Ec),\n      device: n(ia) || n(Ec)\n    },\n    android: {\n      phone: !n(an) && n(ia) || !n(an) && n(Cv),\n      tablet: !n(an) && !n(ia) && !n(Cv) && (n(Ec) || n(j_)),\n      device: !n(an) && (n(ia) || n(Ec) || n(Cv) || n(j_)) || n(/\\bokhttp\\b/i)\n    },\n    windows: {\n      phone: n(an),\n      tablet: n(H_),\n      device: n(an) || n(H_)\n    },\n    other: {\n      blackberry: n($_),\n      blackberry10: n(z_),\n      opera: n(V_),\n      firefox: n(W_),\n      chrome: n(X_),\n      device: n($_) || n(z_) || n(V_) || n(W_) || n(X_)\n    },\n    any: !1,\n    phone: !1,\n    tablet: !1\n  };\n  return s.any = s.apple.device || s.android.device || s.windows.device || s.other.device, s.phone = s.apple.phone || s.android.phone || s.windows.phone, s.tablet = s.apple.tablet || s.android.tablet || s.windows.tablet, s;\n}\nvar Yr = ME(globalThis.navigator);\nfunction RE() {\n  return !Yr.apple.device;\n}\nfunction kE(r) {\n  var t = !0;\n  if (Yr.tablet || Yr.phone) {\n    if (Yr.apple.device) {\n      var e = navigator.userAgent.match(/OS (\\d+)_(\\d+)?/);\n      if (e) {\n        var i = parseInt(e[1], 10);\n        i < 11 && (t = !1);\n      }\n    }\n    if (Yr.android.device) {\n      var e = navigator.userAgent.match(/Android\\s([0-9.]*)/);\n      if (e) {\n        var i = parseInt(e[1], 10);\n        i < 7 && (t = !1);\n      }\n    }\n  }\n  return t ? r : 4;\n}\nvar Q = {\n  /**\n   * This adapter is used to call methods that are platform dependent.\n   * For example `document.createElement` only runs on the web but fails in node environments.\n   * This allows us to support more platforms by abstracting away specific implementations per platform.\n   *\n   * By default the adapter is set to work in the browser. However you can create your own\n   * by implementing the `IAdapter` interface. See `IAdapter` for more information.\n   * @name ADAPTER\n   * @memberof PIXI.settings\n   * @type {PIXI.IAdapter}\n   * @default PIXI.BrowserAdapter\n   */\n  ADAPTER: IE,\n  /**\n   * If set to true WebGL will attempt make textures mimpaped by default.\n   * Mipmapping will only succeed if the base texture uploaded has power of two dimensions.\n   * @static\n   * @name MIPMAP_TEXTURES\n   * @memberof PIXI.settings\n   * @type {PIXI.MIPMAP_MODES}\n   * @default PIXI.MIPMAP_MODES.POW2\n   */\n  MIPMAP_TEXTURES: Er.POW2,\n  /**\n   * Default anisotropic filtering level of textures.\n   * Usually from 0 to 16\n   * @static\n   * @name ANISOTROPIC_LEVEL\n   * @memberof PIXI.settings\n   * @type {number}\n   * @default 0\n   */\n  ANISOTROPIC_LEVEL: 0,\n  /**\n   * Default resolution / device pixel ratio of the renderer.\n   * @static\n   * @name RESOLUTION\n   * @memberof PIXI.settings\n   * @type {number}\n   * @default 1\n   */\n  RESOLUTION: 1,\n  /**\n   * Default filter resolution.\n   * @static\n   * @name FILTER_RESOLUTION\n   * @memberof PIXI.settings\n   * @type {number}\n   * @default 1\n   */\n  FILTER_RESOLUTION: 1,\n  /**\n   * Default filter samples.\n   * @static\n   * @name FILTER_MULTISAMPLE\n   * @memberof PIXI.settings\n   * @type {PIXI.MSAA_QUALITY}\n   * @default PIXI.MSAA_QUALITY.NONE\n   */\n  FILTER_MULTISAMPLE: le.NONE,\n  /**\n   * The maximum textures that this device supports.\n   * @static\n   * @name SPRITE_MAX_TEXTURES\n   * @memberof PIXI.settings\n   * @type {number}\n   * @default 32\n   */\n  SPRITE_MAX_TEXTURES: kE(32),\n  // TODO: maybe change to SPRITE.BATCH_SIZE: 2000\n  // TODO: maybe add PARTICLE.BATCH_SIZE: 15000\n  /**\n   * The default sprite batch size.\n   *\n   * The default aims to balance desktop and mobile devices.\n   * @static\n   * @name SPRITE_BATCH_SIZE\n   * @memberof PIXI.settings\n   * @type {number}\n   * @default 4096\n   */\n  SPRITE_BATCH_SIZE: 4096,\n  /**\n   * The default render options if none are supplied to {@link PIXI.Renderer}\n   * or {@link PIXI.CanvasRenderer}.\n   * @static\n   * @name RENDER_OPTIONS\n   * @memberof PIXI.settings\n   * @type {object}\n   * @property {HTMLCanvasElement} [view=null] -\n   * @property {boolean} [antialias=false] -\n   * @property {boolean} [autoDensity=false] -\n   * @property {boolean} [useContextAlpha=true]  -\n   * @property {number} [backgroundColor=0x000000] -\n   * @property {number} [backgroundAlpha=1] -\n   * @property {boolean} [clearBeforeRender=true] -\n   * @property {boolean} [preserveDrawingBuffer=false] -\n   * @property {number} [width=800] -\n   * @property {number} [height=600] -\n   * @property {boolean} [legacy=false] -\n   */\n  RENDER_OPTIONS: {\n    view: null,\n    antialias: !1,\n    autoDensity: !1,\n    backgroundColor: 0,\n    backgroundAlpha: 1,\n    useContextAlpha: !0,\n    clearBeforeRender: !0,\n    preserveDrawingBuffer: !1,\n    width: 800,\n    height: 600,\n    legacy: !1\n  },\n  /**\n   * Default Garbage Collection mode.\n   * @static\n   * @name GC_MODE\n   * @memberof PIXI.settings\n   * @type {PIXI.GC_MODES}\n   * @default PIXI.GC_MODES.AUTO\n   */\n  GC_MODE: Rf.AUTO,\n  /**\n   * Default Garbage Collection max idle.\n   * @static\n   * @name GC_MAX_IDLE\n   * @memberof PIXI.settings\n   * @type {number}\n   * @default 3600\n   */\n  GC_MAX_IDLE: 60 * 60,\n  /**\n   * Default Garbage Collection maximum check count.\n   * @static\n   * @name GC_MAX_CHECK_COUNT\n   * @memberof PIXI.settings\n   * @type {number}\n   * @default 600\n   */\n  GC_MAX_CHECK_COUNT: 60 * 10,\n  /**\n   * Default wrap modes that are supported by pixi.\n   * @static\n   * @name WRAP_MODE\n   * @memberof PIXI.settings\n   * @type {PIXI.WRAP_MODES}\n   * @default PIXI.WRAP_MODES.CLAMP\n   */\n  WRAP_MODE: Zr.CLAMP,\n  /**\n   * Default scale mode for textures.\n   * @static\n   * @name SCALE_MODE\n   * @memberof PIXI.settings\n   * @type {PIXI.SCALE_MODES}\n   * @default PIXI.SCALE_MODES.LINEAR\n   */\n  SCALE_MODE: Wr.LINEAR,\n  /**\n   * Default specify float precision in vertex shader.\n   * @static\n   * @name PRECISION_VERTEX\n   * @memberof PIXI.settings\n   * @type {PIXI.PRECISION}\n   * @default PIXI.PRECISION.HIGH\n   */\n  PRECISION_VERTEX: Mi.HIGH,\n  /**\n   * Default specify float precision in fragment shader.\n   * iOS is best set at highp due to https://github.com/pixijs/pixi.js/issues/3742\n   * @static\n   * @name PRECISION_FRAGMENT\n   * @memberof PIXI.settings\n   * @type {PIXI.PRECISION}\n   * @default PIXI.PRECISION.MEDIUM\n   */\n  PRECISION_FRAGMENT: Yr.apple.device ? Mi.HIGH : Mi.MEDIUM,\n  /**\n   * Can we upload the same buffer in a single frame?\n   * @static\n   * @name CAN_UPLOAD_SAME_BUFFER\n   * @memberof PIXI.settings\n   * @type {boolean}\n   */\n  CAN_UPLOAD_SAME_BUFFER: RE(),\n  /**\n   * Enables bitmap creation before image load. This feature is experimental.\n   * @static\n   * @name CREATE_IMAGE_BITMAP\n   * @memberof PIXI.settings\n   * @type {boolean}\n   * @default false\n   */\n  CREATE_IMAGE_BITMAP: !1,\n  /**\n   * If true PixiJS will Math.floor() x/y values when rendering, stopping pixel interpolation.\n   * Advantages can include sharper image quality (like text) and faster rendering on canvas.\n   * The main disadvantage is movement of objects may appear less smooth.\n   * @static\n   * @constant\n   * @memberof PIXI.settings\n   * @type {boolean}\n   * @default false\n   */\n  ROUND_PIXELS: !1\n}, E0 = { exports: {} };\n(function(r) {\n  var t = Object.prototype.hasOwnProperty, e = \"~\";\n  function i() {\n  }\n  Object.create && (i.prototype = /* @__PURE__ */ Object.create(null), new i().__proto__ || (e = !1));\n  function n(l, u, c) {\n    this.fn = l, this.context = u, this.once = c || !1;\n  }\n  function s(l, u, c, f, d) {\n    if (typeof c != \"function\")\n      throw new TypeError(\"The listener must be a function\");\n    var p = new n(c, f || l, d), m = e ? e + u : u;\n    return l._events[m] ? l._events[m].fn ? l._events[m] = [l._events[m], p] : l._events[m].push(p) : (l._events[m] = p, l._eventsCount++), l;\n  }\n  function o(l, u) {\n    --l._eventsCount === 0 ? l._events = new i() : delete l._events[u];\n  }\n  function a() {\n    this._events = new i(), this._eventsCount = 0;\n  }\n  a.prototype.eventNames = function() {\n    var u = [], c, f;\n    if (this._eventsCount === 0)\n      return u;\n    for (f in c = this._events)\n      t.call(c, f) && u.push(e ? f.slice(1) : f);\n    return Object.getOwnPropertySymbols ? u.concat(Object.getOwnPropertySymbols(c)) : u;\n  }, a.prototype.listeners = function(u) {\n    var c = e ? e + u : u, f = this._events[c];\n    if (!f)\n      return [];\n    if (f.fn)\n      return [f.fn];\n    for (var d = 0, p = f.length, m = new Array(p); d < p; d++)\n      m[d] = f[d].fn;\n    return m;\n  }, a.prototype.listenerCount = function(u) {\n    var c = e ? e + u : u, f = this._events[c];\n    return f ? f.fn ? 1 : f.length : 0;\n  }, a.prototype.emit = function(u, c, f, d, p, m) {\n    var v = e ? e + u : u;\n    if (!this._events[v])\n      return !1;\n    var y = this._events[v], g = arguments.length, w, T;\n    if (y.fn) {\n      switch (y.once && this.removeListener(u, y.fn, void 0, !0), g) {\n        case 1:\n          return y.fn.call(y.context), !0;\n        case 2:\n          return y.fn.call(y.context, c), !0;\n        case 3:\n          return y.fn.call(y.context, c, f), !0;\n        case 4:\n          return y.fn.call(y.context, c, f, d), !0;\n        case 5:\n          return y.fn.call(y.context, c, f, d, p), !0;\n        case 6:\n          return y.fn.call(y.context, c, f, d, p, m), !0;\n      }\n      for (T = 1, w = new Array(g - 1); T < g; T++)\n        w[T - 1] = arguments[T];\n      y.fn.apply(y.context, w);\n    } else {\n      var P = y.length, O;\n      for (T = 0; T < P; T++)\n        switch (y[T].once && this.removeListener(u, y[T].fn, void 0, !0), g) {\n          case 1:\n            y[T].fn.call(y[T].context);\n            break;\n          case 2:\n            y[T].fn.call(y[T].context, c);\n            break;\n          case 3:\n            y[T].fn.call(y[T].context, c, f);\n            break;\n          case 4:\n            y[T].fn.call(y[T].context, c, f, d);\n            break;\n          default:\n            if (!w)\n              for (O = 1, w = new Array(g - 1); O < g; O++)\n                w[O - 1] = arguments[O];\n            y[T].fn.apply(y[T].context, w);\n        }\n    }\n    return !0;\n  }, a.prototype.on = function(u, c, f) {\n    return s(this, u, c, f, !1);\n  }, a.prototype.once = function(u, c, f) {\n    return s(this, u, c, f, !0);\n  }, a.prototype.removeListener = function(u, c, f, d) {\n    var p = e ? e + u : u;\n    if (!this._events[p])\n      return this;\n    if (!c)\n      return o(this, p), this;\n    var m = this._events[p];\n    if (m.fn)\n      m.fn === c && (!d || m.once) && (!f || m.context === f) && o(this, p);\n    else {\n      for (var v = 0, y = [], g = m.length; v < g; v++)\n        (m[v].fn !== c || d && !m[v].once || f && m[v].context !== f) && y.push(m[v]);\n      y.length ? this._events[p] = y.length === 1 ? y[0] : y : o(this, p);\n    }\n    return this;\n  }, a.prototype.removeAllListeners = function(u) {\n    var c;\n    return u ? (c = e ? e + u : u, this._events[c] && o(this, c)) : (this._events = new i(), this._eventsCount = 0), this;\n  }, a.prototype.off = a.prototype.removeListener, a.prototype.addListener = a.prototype.on, a.prefixed = e, a.EventEmitter = a, r.exports = a;\n})(E0);\nvar NE = E0.exports;\nconst Ji = /* @__PURE__ */ fv(NE);\nvar By = { exports: {} };\nBy.exports = dv;\nBy.exports.default = dv;\nfunction dv(r, t, e) {\n  e = e || 2;\n  var i = t && t.length, n = i ? t[0] * e : r.length, s = T0(r, 0, n, e, !0), o = [];\n  if (!s || s.next === s.prev)\n    return o;\n  var a, l, u, c, f, d, p;\n  if (i && (s = FE(r, t, s, e)), r.length > 80 * e) {\n    a = u = r[0], l = c = r[1];\n    for (var m = e; m < n; m += e)\n      f = r[m], d = r[m + 1], f < a && (a = f), d < l && (l = d), f > u && (u = f), d > c && (c = d);\n    p = Math.max(u - a, c - l), p = p !== 0 ? 32767 / p : 0;\n  }\n  return dl(s, o, e, a, l, p, 0), o;\n}\nfunction T0(r, t, e, i, n) {\n  var s, o;\n  if (n === lm(r, t, e, i) > 0)\n    for (s = t; s < e; s += i)\n      o = q_(s, r[s], r[s + 1], o);\n  else\n    for (s = e - i; s >= t; s -= i)\n      o = q_(s, r[s], r[s + 1], o);\n  return o && pv(o, o.next) && (vl(o), o = o.next), o;\n}\nfunction zo(r, t) {\n  if (!r)\n    return r;\n  t || (t = r);\n  var e = r, i;\n  do\n    if (i = !1, !e.steiner && (pv(e, e.next) || pe(e.prev, e, e.next) === 0)) {\n      if (vl(e), e = t = e.prev, e === e.next)\n        break;\n      i = !0;\n    } else\n      e = e.next;\n  while (i || e !== t);\n  return t;\n}\nfunction dl(r, t, e, i, n, s, o) {\n  if (r) {\n    !o && s && $E(r, i, n, s);\n    for (var a = r, l, u; r.prev !== r.next; ) {\n      if (l = r.prev, u = r.next, s ? AE(r, i, n, s) : LE(r)) {\n        t.push(l.i / e | 0), t.push(r.i / e | 0), t.push(u.i / e | 0), vl(r), r = u.next, a = u.next;\n        continue;\n      }\n      if (r = u, r === a) {\n        o ? o === 1 ? (r = DE(zo(r), t, e), dl(r, t, e, i, n, s, 2)) : o === 2 && BE(r, t, e, i, n, s) : dl(zo(r), t, e, i, n, s, 1);\n        break;\n      }\n    }\n  }\n}\nfunction LE(r) {\n  var t = r.prev, e = r, i = r.next;\n  if (pe(t, e, i) >= 0)\n    return !1;\n  for (var n = t.x, s = e.x, o = i.x, a = t.y, l = e.y, u = i.y, c = n < s ? n < o ? n : o : s < o ? s : o, f = a < l ? a < u ? a : u : l < u ? l : u, d = n > s ? n > o ? n : o : s > o ? s : o, p = a > l ? a > u ? a : u : l > u ? l : u, m = i.next; m !== t; ) {\n    if (m.x >= c && m.x <= d && m.y >= f && m.y <= p && ua(n, a, s, l, o, u, m.x, m.y) && pe(m.prev, m, m.next) >= 0)\n      return !1;\n    m = m.next;\n  }\n  return !0;\n}\nfunction AE(r, t, e, i) {\n  var n = r.prev, s = r, o = r.next;\n  if (pe(n, s, o) >= 0)\n    return !1;\n  for (var a = n.x, l = s.x, u = o.x, c = n.y, f = s.y, d = o.y, p = a < l ? a < u ? a : u : l < u ? l : u, m = c < f ? c < d ? c : d : f < d ? f : d, v = a > l ? a > u ? a : u : l > u ? l : u, y = c > f ? c > d ? c : d : f > d ? f : d, g = am(p, m, t, e, i), w = am(v, y, t, e, i), T = r.prevZ, P = r.nextZ; T && T.z >= g && P && P.z <= w; ) {\n    if (T.x >= p && T.x <= v && T.y >= m && T.y <= y && T !== n && T !== o && ua(a, c, l, f, u, d, T.x, T.y) && pe(T.prev, T, T.next) >= 0 || (T = T.prevZ, P.x >= p && P.x <= v && P.y >= m && P.y <= y && P !== n && P !== o && ua(a, c, l, f, u, d, P.x, P.y) && pe(P.prev, P, P.next) >= 0))\n      return !1;\n    P = P.nextZ;\n  }\n  for (; T && T.z >= g; ) {\n    if (T.x >= p && T.x <= v && T.y >= m && T.y <= y && T !== n && T !== o && ua(a, c, l, f, u, d, T.x, T.y) && pe(T.prev, T, T.next) >= 0)\n      return !1;\n    T = T.prevZ;\n  }\n  for (; P && P.z <= w; ) {\n    if (P.x >= p && P.x <= v && P.y >= m && P.y <= y && P !== n && P !== o && ua(a, c, l, f, u, d, P.x, P.y) && pe(P.prev, P, P.next) >= 0)\n      return !1;\n    P = P.nextZ;\n  }\n  return !0;\n}\nfunction DE(r, t, e) {\n  var i = r;\n  do {\n    var n = i.prev, s = i.next.next;\n    !pv(n, s) && S0(n, i, i.next, s) && pl(n, s) && pl(s, n) && (t.push(n.i / e | 0), t.push(i.i / e | 0), t.push(s.i / e | 0), vl(i), vl(i.next), i = r = s), i = i.next;\n  } while (i !== r);\n  return zo(i);\n}\nfunction BE(r, t, e, i, n, s) {\n  var o = r;\n  do {\n    for (var a = o.next.next; a !== o.prev; ) {\n      if (o.i !== a.i && XE(o, a)) {\n        var l = P0(o, a);\n        o = zo(o, o.next), l = zo(l, l.next), dl(o, t, e, i, n, s, 0), dl(l, t, e, i, n, s, 0);\n        return;\n      }\n      a = a.next;\n    }\n    o = o.next;\n  } while (o !== r);\n}\nfunction FE(r, t, e, i) {\n  var n = [], s, o, a, l, u;\n  for (s = 0, o = t.length; s < o; s++)\n    a = t[s] * i, l = s < o - 1 ? t[s + 1] * i : r.length, u = T0(r, a, l, i, !1), u === u.next && (u.steiner = !0), n.push(VE(u));\n  for (n.sort(UE), s = 0; s < n.length; s++)\n    e = GE(n[s], e);\n  return e;\n}\nfunction UE(r, t) {\n  return r.x - t.x;\n}\nfunction GE(r, t) {\n  var e = jE(r, t);\n  if (!e)\n    return t;\n  var i = P0(e, r);\n  return zo(i, i.next), zo(e, e.next);\n}\nfunction jE(r, t) {\n  var e = t, i = r.x, n = r.y, s = -1 / 0, o;\n  do {\n    if (n <= e.y && n >= e.next.y && e.next.y !== e.y) {\n      var a = e.x + (n - e.y) * (e.next.x - e.x) / (e.next.y - e.y);\n      if (a <= i && a > s && (s = a, o = e.x < e.next.x ? e : e.next, a === i))\n        return o;\n    }\n    e = e.next;\n  } while (e !== t);\n  if (!o)\n    return null;\n  var l = o, u = o.x, c = o.y, f = 1 / 0, d;\n  e = o;\n  do\n    i >= e.x && e.x >= u && i !== e.x && ua(n < c ? i : s, n, u, c, n < c ? s : i, n, e.x, e.y) && (d = Math.abs(n - e.y) / (i - e.x), pl(e, r) && (d < f || d === f && (e.x > o.x || e.x === o.x && HE(o, e))) && (o = e, f = d)), e = e.next;\n  while (e !== l);\n  return o;\n}\nfunction HE(r, t) {\n  return pe(r.prev, r, t.prev) < 0 && pe(t.next, r, r.next) < 0;\n}\nfunction $E(r, t, e, i) {\n  var n = r;\n  do\n    n.z === 0 && (n.z = am(n.x, n.y, t, e, i)), n.prevZ = n.prev, n.nextZ = n.next, n = n.next;\n  while (n !== r);\n  n.prevZ.nextZ = null, n.prevZ = null, zE(n);\n}\nfunction zE(r) {\n  var t, e, i, n, s, o, a, l, u = 1;\n  do {\n    for (e = r, r = null, s = null, o = 0; e; ) {\n      for (o++, i = e, a = 0, t = 0; t < u && (a++, i = i.nextZ, !!i); t++)\n        ;\n      for (l = u; a > 0 || l > 0 && i; )\n        a !== 0 && (l === 0 || !i || e.z <= i.z) ? (n = e, e = e.nextZ, a--) : (n = i, i = i.nextZ, l--), s ? s.nextZ = n : r = n, n.prevZ = s, s = n;\n      e = i;\n    }\n    s.nextZ = null, u *= 2;\n  } while (o > 1);\n  return r;\n}\nfunction am(r, t, e, i, n) {\n  return r = (r - e) * n | 0, t = (t - i) * n | 0, r = (r | r << 8) & 16711935, r = (r | r << 4) & 252645135, r = (r | r << 2) & 858993459, r = (r | r << 1) & 1431655765, t = (t | t << 8) & 16711935, t = (t | t << 4) & 252645135, t = (t | t << 2) & 858993459, t = (t | t << 1) & 1431655765, r | t << 1;\n}\nfunction VE(r) {\n  var t = r, e = r;\n  do\n    (t.x < e.x || t.x === e.x && t.y < e.y) && (e = t), t = t.next;\n  while (t !== r);\n  return e;\n}\nfunction ua(r, t, e, i, n, s, o, a) {\n  return (n - o) * (t - a) >= (r - o) * (s - a) && (r - o) * (i - a) >= (e - o) * (t - a) && (e - o) * (s - a) >= (n - o) * (i - a);\n}\nfunction XE(r, t) {\n  return r.next.i !== t.i && r.prev.i !== t.i && !WE(r, t) && // dones't intersect other edges\n  (pl(r, t) && pl(t, r) && YE(r, t) && // locally visible\n  (pe(r.prev, r, t.prev) || pe(r, t.prev, t)) || // does not create opposite-facing sectors\n  pv(r, t) && pe(r.prev, r, r.next) > 0 && pe(t.prev, t, t.next) > 0);\n}\nfunction pe(r, t, e) {\n  return (t.y - r.y) * (e.x - t.x) - (t.x - r.x) * (e.y - t.y);\n}\nfunction pv(r, t) {\n  return r.x === t.x && r.y === t.y;\n}\nfunction S0(r, t, e, i) {\n  var n = Sc(pe(r, t, e)), s = Sc(pe(r, t, i)), o = Sc(pe(e, i, r)), a = Sc(pe(e, i, t));\n  return !!(n !== s && o !== a || n === 0 && Tc(r, e, t) || s === 0 && Tc(r, i, t) || o === 0 && Tc(e, r, i) || a === 0 && Tc(e, t, i));\n}\nfunction Tc(r, t, e) {\n  return t.x <= Math.max(r.x, e.x) && t.x >= Math.min(r.x, e.x) && t.y <= Math.max(r.y, e.y) && t.y >= Math.min(r.y, e.y);\n}\nfunction Sc(r) {\n  return r > 0 ? 1 : r < 0 ? -1 : 0;\n}\nfunction WE(r, t) {\n  var e = r;\n  do {\n    if (e.i !== r.i && e.next.i !== r.i && e.i !== t.i && e.next.i !== t.i && S0(e, e.next, r, t))\n      return !0;\n    e = e.next;\n  } while (e !== r);\n  return !1;\n}\nfunction pl(r, t) {\n  return pe(r.prev, r, r.next) < 0 ? pe(r, t, r.next) >= 0 && pe(r, r.prev, t) >= 0 : pe(r, t, r.prev) < 0 || pe(r, r.next, t) < 0;\n}\nfunction YE(r, t) {\n  var e = r, i = !1, n = (r.x + t.x) / 2, s = (r.y + t.y) / 2;\n  do\n    e.y > s != e.next.y > s && e.next.y !== e.y && n < (e.next.x - e.x) * (s - e.y) / (e.next.y - e.y) + e.x && (i = !i), e = e.next;\n  while (e !== r);\n  return i;\n}\nfunction P0(r, t) {\n  var e = new hm(r.i, r.x, r.y), i = new hm(t.i, t.x, t.y), n = r.next, s = t.prev;\n  return r.next = t, t.prev = r, e.next = n, n.prev = e, i.next = e, e.prev = i, s.next = i, i.prev = s, i;\n}\nfunction q_(r, t, e, i) {\n  var n = new hm(r, t, e);\n  return i ? (n.next = i.next, n.prev = i, i.next.prev = n, i.next = n) : (n.prev = n, n.next = n), n;\n}\nfunction vl(r) {\n  r.next.prev = r.prev, r.prev.next = r.next, r.prevZ && (r.prevZ.nextZ = r.nextZ), r.nextZ && (r.nextZ.prevZ = r.prevZ);\n}\nfunction hm(r, t, e) {\n  this.i = r, this.x = t, this.y = e, this.prev = null, this.next = null, this.z = 0, this.prevZ = null, this.nextZ = null, this.steiner = !1;\n}\ndv.deviation = function(r, t, e, i) {\n  var n = t && t.length, s = n ? t[0] * e : r.length, o = Math.abs(lm(r, 0, s, e));\n  if (n)\n    for (var a = 0, l = t.length; a < l; a++) {\n      var u = t[a] * e, c = a < l - 1 ? t[a + 1] * e : r.length;\n      o -= Math.abs(lm(r, u, c, e));\n    }\n  var f = 0;\n  for (a = 0; a < i.length; a += 3) {\n    var d = i[a] * e, p = i[a + 1] * e, m = i[a + 2] * e;\n    f += Math.abs(\n      (r[d] - r[m]) * (r[p + 1] - r[d + 1]) - (r[d] - r[p]) * (r[m + 1] - r[d + 1])\n    );\n  }\n  return o === 0 && f === 0 ? 0 : Math.abs((f - o) / o);\n};\nfunction lm(r, t, e, i) {\n  for (var n = 0, s = t, o = e - i; s < e; s += i)\n    n += (r[o] - r[s]) * (r[s + 1] + r[o + 1]), o = s;\n  return n;\n}\ndv.flatten = function(r) {\n  for (var t = r[0][0].length, e = { vertices: [], holes: [], dimensions: t }, i = 0, n = 0; n < r.length; n++) {\n    for (var s = 0; s < r[n].length; s++)\n      for (var o = 0; o < t; o++)\n        e.vertices.push(r[n][s][o]);\n    n > 0 && (i += r[n - 1].length, e.holes.push(i));\n  }\n  return e;\n};\nvar qE = By.exports;\nconst O0 = /* @__PURE__ */ fv(qE);\n/*!\n * @pixi/utils - v6.5.9\n * Compiled Wed, 25 Jan 2023 05:01:45 UTC\n *\n * @pixi/utils is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */\nvar ca = {\n  parse: url__WEBPACK_IMPORTED_MODULE_0__.parse,\n  format: url__WEBPACK_IMPORTED_MODULE_0__.format,\n  resolve: url__WEBPACK_IMPORTED_MODULE_0__.resolve\n};\nQ.RETINA_PREFIX = /@([0-9\\.]+)x/;\nQ.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT = !1;\nvar um = !1, Z_ = \"6.5.9\";\nfunction ZE() {\n  um = !0;\n}\nfunction KE(r) {\n  var t;\n  if (!um) {\n    if (Q.ADAPTER.getNavigator().userAgent.toLowerCase().indexOf(\"chrome\") > -1) {\n      var e = [\n        `\n %c %c %c PixiJS ` + Z_ + \" - ✰ \" + r + ` ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n`,\n        \"background: #ff66a5; padding:5px 0;\",\n        \"background: #ff66a5; padding:5px 0;\",\n        \"color: #ff66a5; background: #030307; padding:5px 0;\",\n        \"background: #ff66a5; padding:5px 0;\",\n        \"background: #ffc3dc; padding:5px 0;\",\n        \"background: #ff66a5; padding:5px 0;\",\n        \"color: #ff2424; background: #fff; padding:5px 0;\",\n        \"color: #ff2424; background: #fff; padding:5px 0;\",\n        \"color: #ff2424; background: #fff; padding:5px 0;\"\n      ];\n      (t = globalThis.console).log.apply(t, e);\n    } else\n      globalThis.console && globalThis.console.log(\"PixiJS \" + Z_ + \" - \" + r + \" - http://www.pixijs.com/\");\n    um = !0;\n  }\n}\nvar Mv;\nfunction JE() {\n  return typeof Mv > \"u\" && (Mv = function() {\n    var t = {\n      stencil: !0,\n      failIfMajorPerformanceCaveat: Q.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT\n    };\n    try {\n      if (!Q.ADAPTER.getWebGLRenderingContext())\n        return !1;\n      var e = Q.ADAPTER.createCanvas(), i = e.getContext(\"webgl\", t) || e.getContext(\"experimental-webgl\", t), n = !!(i && i.getContextAttributes().stencil);\n      if (i) {\n        var s = i.getExtension(\"WEBGL_lose_context\");\n        s && s.loseContext();\n      }\n      return i = null, n;\n    } catch {\n      return !1;\n    }\n  }()), Mv;\n}\nvar QE = \"#f0f8ff\", tT = \"#faebd7\", eT = \"#00ffff\", iT = \"#7fffd4\", rT = \"#f0ffff\", nT = \"#f5f5dc\", sT = \"#ffe4c4\", oT = \"#000000\", aT = \"#ffebcd\", hT = \"#0000ff\", lT = \"#8a2be2\", uT = \"#a52a2a\", cT = \"#deb887\", fT = \"#5f9ea0\", dT = \"#7fff00\", pT = \"#d2691e\", vT = \"#ff7f50\", mT = \"#6495ed\", yT = \"#fff8dc\", _T = \"#dc143c\", gT = \"#00ffff\", bT = \"#00008b\", xT = \"#008b8b\", wT = \"#b8860b\", ET = \"#a9a9a9\", TT = \"#006400\", ST = \"#a9a9a9\", PT = \"#bdb76b\", OT = \"#8b008b\", IT = \"#556b2f\", CT = \"#ff8c00\", MT = \"#9932cc\", RT = \"#8b0000\", kT = \"#e9967a\", NT = \"#8fbc8f\", LT = \"#483d8b\", AT = \"#2f4f4f\", DT = \"#2f4f4f\", BT = \"#00ced1\", FT = \"#9400d3\", UT = \"#ff1493\", GT = \"#00bfff\", jT = \"#696969\", HT = \"#696969\", $T = \"#1e90ff\", zT = \"#b22222\", VT = \"#fffaf0\", XT = \"#228b22\", WT = \"#ff00ff\", YT = \"#dcdcdc\", qT = \"#f8f8ff\", ZT = \"#daa520\", KT = \"#ffd700\", JT = \"#808080\", QT = \"#008000\", t1 = \"#adff2f\", e1 = \"#808080\", i1 = \"#f0fff0\", r1 = \"#ff69b4\", n1 = \"#cd5c5c\", s1 = \"#4b0082\", o1 = \"#fffff0\", a1 = \"#f0e68c\", h1 = \"#fff0f5\", l1 = \"#e6e6fa\", u1 = \"#7cfc00\", c1 = \"#fffacd\", f1 = \"#add8e6\", d1 = \"#f08080\", p1 = \"#e0ffff\", v1 = \"#fafad2\", m1 = \"#d3d3d3\", y1 = \"#90ee90\", _1 = \"#d3d3d3\", g1 = \"#ffb6c1\", b1 = \"#ffa07a\", x1 = \"#20b2aa\", w1 = \"#87cefa\", E1 = \"#778899\", T1 = \"#778899\", S1 = \"#b0c4de\", P1 = \"#ffffe0\", O1 = \"#00ff00\", I1 = \"#32cd32\", C1 = \"#faf0e6\", M1 = \"#ff00ff\", R1 = \"#800000\", k1 = \"#66cdaa\", N1 = \"#0000cd\", L1 = \"#ba55d3\", A1 = \"#9370db\", D1 = \"#3cb371\", B1 = \"#7b68ee\", F1 = \"#00fa9a\", U1 = \"#48d1cc\", G1 = \"#c71585\", j1 = \"#191970\", H1 = \"#f5fffa\", $1 = \"#ffe4e1\", z1 = \"#ffe4b5\", V1 = \"#ffdead\", X1 = \"#000080\", W1 = \"#fdf5e6\", Y1 = \"#808000\", q1 = \"#6b8e23\", Z1 = \"#ffa500\", K1 = \"#ff4500\", J1 = \"#da70d6\", Q1 = \"#eee8aa\", tS = \"#98fb98\", eS = \"#afeeee\", iS = \"#db7093\", rS = \"#ffefd5\", nS = \"#ffdab9\", sS = \"#cd853f\", oS = \"#ffc0cb\", aS = \"#dda0dd\", hS = \"#b0e0e6\", lS = \"#800080\", uS = \"#663399\", cS = \"#ff0000\", fS = \"#bc8f8f\", dS = \"#4169e1\", pS = \"#8b4513\", vS = \"#fa8072\", mS = \"#f4a460\", yS = \"#2e8b57\", _S = \"#fff5ee\", gS = \"#a0522d\", bS = \"#c0c0c0\", xS = \"#87ceeb\", wS = \"#6a5acd\", ES = \"#708090\", TS = \"#708090\", SS = \"#fffafa\", PS = \"#00ff7f\", OS = \"#4682b4\", IS = \"#d2b48c\", CS = \"#008080\", MS = \"#d8bfd8\", RS = \"#ff6347\", kS = \"#40e0d0\", NS = \"#ee82ee\", LS = \"#f5deb3\", AS = \"#ffffff\", DS = \"#f5f5f5\", BS = \"#ffff00\", FS = \"#9acd32\", US = {\n  aliceblue: QE,\n  antiquewhite: tT,\n  aqua: eT,\n  aquamarine: iT,\n  azure: rT,\n  beige: nT,\n  bisque: sT,\n  black: oT,\n  blanchedalmond: aT,\n  blue: hT,\n  blueviolet: lT,\n  brown: uT,\n  burlywood: cT,\n  cadetblue: fT,\n  chartreuse: dT,\n  chocolate: pT,\n  coral: vT,\n  cornflowerblue: mT,\n  cornsilk: yT,\n  crimson: _T,\n  cyan: gT,\n  darkblue: bT,\n  darkcyan: xT,\n  darkgoldenrod: wT,\n  darkgray: ET,\n  darkgreen: TT,\n  darkgrey: ST,\n  darkkhaki: PT,\n  darkmagenta: OT,\n  darkolivegreen: IT,\n  darkorange: CT,\n  darkorchid: MT,\n  darkred: RT,\n  darksalmon: kT,\n  darkseagreen: NT,\n  darkslateblue: LT,\n  darkslategray: AT,\n  darkslategrey: DT,\n  darkturquoise: BT,\n  darkviolet: FT,\n  deeppink: UT,\n  deepskyblue: GT,\n  dimgray: jT,\n  dimgrey: HT,\n  dodgerblue: $T,\n  firebrick: zT,\n  floralwhite: VT,\n  forestgreen: XT,\n  fuchsia: WT,\n  gainsboro: YT,\n  ghostwhite: qT,\n  goldenrod: ZT,\n  gold: KT,\n  gray: JT,\n  green: QT,\n  greenyellow: t1,\n  grey: e1,\n  honeydew: i1,\n  hotpink: r1,\n  indianred: n1,\n  indigo: s1,\n  ivory: o1,\n  khaki: a1,\n  lavenderblush: h1,\n  lavender: l1,\n  lawngreen: u1,\n  lemonchiffon: c1,\n  lightblue: f1,\n  lightcoral: d1,\n  lightcyan: p1,\n  lightgoldenrodyellow: v1,\n  lightgray: m1,\n  lightgreen: y1,\n  lightgrey: _1,\n  lightpink: g1,\n  lightsalmon: b1,\n  lightseagreen: x1,\n  lightskyblue: w1,\n  lightslategray: E1,\n  lightslategrey: T1,\n  lightsteelblue: S1,\n  lightyellow: P1,\n  lime: O1,\n  limegreen: I1,\n  linen: C1,\n  magenta: M1,\n  maroon: R1,\n  mediumaquamarine: k1,\n  mediumblue: N1,\n  mediumorchid: L1,\n  mediumpurple: A1,\n  mediumseagreen: D1,\n  mediumslateblue: B1,\n  mediumspringgreen: F1,\n  mediumturquoise: U1,\n  mediumvioletred: G1,\n  midnightblue: j1,\n  mintcream: H1,\n  mistyrose: $1,\n  moccasin: z1,\n  navajowhite: V1,\n  navy: X1,\n  oldlace: W1,\n  olive: Y1,\n  olivedrab: q1,\n  orange: Z1,\n  orangered: K1,\n  orchid: J1,\n  palegoldenrod: Q1,\n  palegreen: tS,\n  paleturquoise: eS,\n  palevioletred: iS,\n  papayawhip: rS,\n  peachpuff: nS,\n  peru: sS,\n  pink: oS,\n  plum: aS,\n  powderblue: hS,\n  purple: lS,\n  rebeccapurple: uS,\n  red: cS,\n  rosybrown: fS,\n  royalblue: dS,\n  saddlebrown: pS,\n  salmon: vS,\n  sandybrown: mS,\n  seagreen: yS,\n  seashell: _S,\n  sienna: gS,\n  silver: bS,\n  skyblue: xS,\n  slateblue: wS,\n  slategray: ES,\n  slategrey: TS,\n  snow: SS,\n  springgreen: PS,\n  steelblue: OS,\n  tan: IS,\n  teal: CS,\n  thistle: MS,\n  tomato: RS,\n  turquoise: kS,\n  violet: NS,\n  wheat: LS,\n  white: AS,\n  whitesmoke: DS,\n  yellow: BS,\n  yellowgreen: FS\n};\nfunction wh(r, t) {\n  return t === void 0 && (t = []), t[0] = (r >> 16 & 255) / 255, t[1] = (r >> 8 & 255) / 255, t[2] = (r & 255) / 255, t;\n}\nfunction I0(r) {\n  var t = r.toString(16);\n  return t = \"000000\".substring(0, 6 - t.length) + t, \"#\" + t;\n}\nfunction C0(r) {\n  return typeof r == \"string\" && (r = US[r.toLowerCase()] || r, r[0] === \"#\" && (r = r.slice(1))), parseInt(r, 16);\n}\nfunction GS() {\n  for (var r = [], t = [], e = 0; e < 32; e++)\n    r[e] = e, t[e] = e;\n  r[ot.NORMAL_NPM] = ot.NORMAL, r[ot.ADD_NPM] = ot.ADD, r[ot.SCREEN_NPM] = ot.SCREEN, t[ot.NORMAL] = ot.NORMAL_NPM, t[ot.ADD] = ot.ADD_NPM, t[ot.SCREEN] = ot.SCREEN_NPM;\n  var i = [];\n  return i.push(t), i.push(r), i;\n}\nvar M0 = GS();\nfunction R0(r, t) {\n  return M0[t ? 1 : 0][r];\n}\nfunction jS(r, t, e, i) {\n  return e = e || new Float32Array(4), i || i === void 0 ? (e[0] = r[0] * t, e[1] = r[1] * t, e[2] = r[2] * t) : (e[0] = r[0], e[1] = r[1], e[2] = r[2]), e[3] = t, e;\n}\nfunction Fy(r, t) {\n  if (t === 1)\n    return (t * 255 << 24) + r;\n  if (t === 0)\n    return 0;\n  var e = r >> 16 & 255, i = r >> 8 & 255, n = r & 255;\n  return e = e * t + 0.5 | 0, i = i * t + 0.5 | 0, n = n * t + 0.5 | 0, (t * 255 << 24) + (e << 16) + (i << 8) + n;\n}\nfunction k0(r, t, e, i) {\n  return e = e || new Float32Array(4), e[0] = (r >> 16 & 255) / 255, e[1] = (r >> 8 & 255) / 255, e[2] = (r & 255) / 255, (i || i === void 0) && (e[0] *= t, e[1] *= t, e[2] *= t), e[3] = t, e;\n}\nfunction HS(r, t) {\n  t === void 0 && (t = null);\n  var e = r * 6;\n  if (t = t || new Uint16Array(e), t.length !== e)\n    throw new Error(\"Out buffer length is incorrect, got \" + t.length + \" and expected \" + e);\n  for (var i = 0, n = 0; i < e; i += 6, n += 4)\n    t[i + 0] = n + 0, t[i + 1] = n + 1, t[i + 2] = n + 2, t[i + 3] = n + 0, t[i + 4] = n + 2, t[i + 5] = n + 3;\n  return t;\n}\nfunction N0(r) {\n  if (r.BYTES_PER_ELEMENT === 4)\n    return r instanceof Float32Array ? \"Float32Array\" : r instanceof Uint32Array ? \"Uint32Array\" : \"Int32Array\";\n  if (r.BYTES_PER_ELEMENT === 2) {\n    if (r instanceof Uint16Array)\n      return \"Uint16Array\";\n  } else if (r.BYTES_PER_ELEMENT === 1 && r instanceof Uint8Array)\n    return \"Uint8Array\";\n  return null;\n}\nfunction kf(r) {\n  return r += r === 0 ? 1 : 0, --r, r |= r >>> 1, r |= r >>> 2, r |= r >>> 4, r |= r >>> 8, r |= r >>> 16, r + 1;\n}\nfunction K_(r) {\n  return !(r & r - 1) && !!r;\n}\nfunction J_(r) {\n  var t = (r > 65535 ? 1 : 0) << 4;\n  r >>>= t;\n  var e = (r > 255 ? 1 : 0) << 3;\n  return r >>>= e, t |= e, e = (r > 15 ? 1 : 0) << 2, r >>>= e, t |= e, e = (r > 3 ? 1 : 0) << 1, r >>>= e, t |= e, t | r >> 1;\n}\nfunction ya(r, t, e) {\n  var i = r.length, n;\n  if (!(t >= i || e === 0)) {\n    e = t + e > i ? i - t : e;\n    var s = i - e;\n    for (n = t; n < s; ++n)\n      r[n] = r[n + e];\n    r.length = s;\n  }\n}\nfunction fa(r) {\n  return r === 0 ? 0 : r < 0 ? -1 : 1;\n}\nvar $S = 0;\nfunction Vo() {\n  return ++$S;\n}\nvar Q_ = {};\nfunction fi(r, t, e) {\n  if (e === void 0 && (e = 3), !Q_[t]) {\n    var i = new Error().stack;\n    typeof i > \"u\" ? console.warn(\"PixiJS Deprecation Warning: \", t + `\nDeprecated since v` + r) : (i = i.split(`\n`).splice(e).join(`\n`), console.groupCollapsed ? (console.groupCollapsed(\"%cPixiJS Deprecation Warning: %c%s\", \"color:#614108;background:#fffbe6\", \"font-weight:normal;color:#614108;background:#fffbe6\", t + `\nDeprecated since v` + r), console.warn(i), console.groupEnd()) : (console.warn(\"PixiJS Deprecation Warning: \", t + `\nDeprecated since v` + r), console.warn(i))), Q_[t] = !0;\n  }\n}\nvar tg = {}, li = /* @__PURE__ */ Object.create(null), ln = /* @__PURE__ */ Object.create(null);\nfunction L0() {\n  var r;\n  for (r in li)\n    delete li[r];\n  for (r in ln)\n    delete ln[r];\n}\nvar eg = (\n  /** @class */\n  function() {\n    function r(t, e, i) {\n      this.canvas = Q.ADAPTER.createCanvas(), this.context = this.canvas.getContext(\"2d\"), this.resolution = i || Q.RESOLUTION, this.resize(t, e);\n    }\n    return r.prototype.clear = function() {\n      this.context.setTransform(1, 0, 0, 1, 0, 0), this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\n    }, r.prototype.resize = function(t, e) {\n      this.canvas.width = Math.round(t * this.resolution), this.canvas.height = Math.round(e * this.resolution);\n    }, r.prototype.destroy = function() {\n      this.context = null, this.canvas = null;\n    }, Object.defineProperty(r.prototype, \"width\", {\n      /**\n       * The width of the canvas buffer in pixels.\n       * @member {number}\n       */\n      get: function() {\n        return this.canvas.width;\n      },\n      set: function(t) {\n        this.canvas.width = Math.round(t);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"height\", {\n      /**\n       * The height of the canvas buffer in pixels.\n       * @member {number}\n       */\n      get: function() {\n        return this.canvas.height;\n      },\n      set: function(t) {\n        this.canvas.height = Math.round(t);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), r;\n  }()\n);\nfunction zS(r) {\n  var t = r.width, e = r.height, i = r.getContext(\"2d\", {\n    willReadFrequently: !0\n  }), n = i.getImageData(0, 0, t, e), s = n.data, o = s.length, a = {\n    top: null,\n    left: null,\n    right: null,\n    bottom: null\n  }, l = null, u, c, f;\n  for (u = 0; u < o; u += 4)\n    s[u + 3] !== 0 && (c = u / 4 % t, f = ~~(u / 4 / t), a.top === null && (a.top = f), (a.left === null || c < a.left) && (a.left = c), (a.right === null || a.right < c) && (a.right = c + 1), (a.bottom === null || a.bottom < f) && (a.bottom = f));\n  return a.top !== null && (t = a.right - a.left, e = a.bottom - a.top + 1, l = i.getImageData(a.left, a.top, t, e)), {\n    height: e,\n    width: t,\n    data: l\n  };\n}\nvar Pc;\nfunction VS(r, t) {\n  if (t === void 0 && (t = globalThis.location), r.indexOf(\"data:\") === 0)\n    return \"\";\n  t = t || globalThis.location, Pc || (Pc = document.createElement(\"a\")), Pc.href = r;\n  var e = ca.parse(Pc.href), i = !e.port && t.port === \"\" || e.port === t.port;\n  return e.hostname !== t.hostname || !i || e.protocol !== t.protocol ? \"anonymous\" : \"\";\n}\nfunction Nf(r, t) {\n  var e = Q.RETINA_PREFIX.exec(r);\n  return e ? parseFloat(e[1]) : t !== void 0 ? t : 1;\n}\n/*!\n * @pixi/math - v6.5.9\n * Compiled Wed, 25 Jan 2023 05:01:45 UTC\n *\n * @pixi/math is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */\nvar Lf = Math.PI * 2, XS = 180 / Math.PI, WS = Math.PI / 180, Ge;\n(function(r) {\n  r[r.POLY = 0] = \"POLY\", r[r.RECT = 1] = \"RECT\", r[r.CIRC = 2] = \"CIRC\", r[r.ELIP = 3] = \"ELIP\", r[r.RREC = 4] = \"RREC\";\n})(Ge || (Ge = {}));\nvar oe = (\n  /** @class */\n  function() {\n    function r(t, e) {\n      t === void 0 && (t = 0), e === void 0 && (e = 0), this.x = 0, this.y = 0, this.x = t, this.y = e;\n    }\n    return r.prototype.clone = function() {\n      return new r(this.x, this.y);\n    }, r.prototype.copyFrom = function(t) {\n      return this.set(t.x, t.y), this;\n    }, r.prototype.copyTo = function(t) {\n      return t.set(this.x, this.y), t;\n    }, r.prototype.equals = function(t) {\n      return t.x === this.x && t.y === this.y;\n    }, r.prototype.set = function(t, e) {\n      return t === void 0 && (t = 0), e === void 0 && (e = t), this.x = t, this.y = e, this;\n    }, r.prototype.toString = function() {\n      return \"[@pixi/math:Point x=\" + this.x + \" y=\" + this.y + \"]\";\n    }, r;\n  }()\n), Oc = [new oe(), new oe(), new oe(), new oe()], gt = (\n  /** @class */\n  function() {\n    function r(t, e, i, n) {\n      t === void 0 && (t = 0), e === void 0 && (e = 0), i === void 0 && (i = 0), n === void 0 && (n = 0), this.x = Number(t), this.y = Number(e), this.width = Number(i), this.height = Number(n), this.type = Ge.RECT;\n    }\n    return Object.defineProperty(r.prototype, \"left\", {\n      /** Returns the left edge of the rectangle. */\n      get: function() {\n        return this.x;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"right\", {\n      /** Returns the right edge of the rectangle. */\n      get: function() {\n        return this.x + this.width;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"top\", {\n      /** Returns the top edge of the rectangle. */\n      get: function() {\n        return this.y;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"bottom\", {\n      /** Returns the bottom edge of the rectangle. */\n      get: function() {\n        return this.y + this.height;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r, \"EMPTY\", {\n      /** A constant empty rectangle. */\n      get: function() {\n        return new r(0, 0, 0, 0);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), r.prototype.clone = function() {\n      return new r(this.x, this.y, this.width, this.height);\n    }, r.prototype.copyFrom = function(t) {\n      return this.x = t.x, this.y = t.y, this.width = t.width, this.height = t.height, this;\n    }, r.prototype.copyTo = function(t) {\n      return t.x = this.x, t.y = this.y, t.width = this.width, t.height = this.height, t;\n    }, r.prototype.contains = function(t, e) {\n      return this.width <= 0 || this.height <= 0 ? !1 : t >= this.x && t < this.x + this.width && e >= this.y && e < this.y + this.height;\n    }, r.prototype.intersects = function(t, e) {\n      if (!e) {\n        var i = this.x < t.x ? t.x : this.x, n = this.right > t.right ? t.right : this.right;\n        if (n <= i)\n          return !1;\n        var s = this.y < t.y ? t.y : this.y, o = this.bottom > t.bottom ? t.bottom : this.bottom;\n        return o > s;\n      }\n      var a = this.left, l = this.right, u = this.top, c = this.bottom;\n      if (l <= a || c <= u)\n        return !1;\n      var f = Oc[0].set(t.left, t.top), d = Oc[1].set(t.left, t.bottom), p = Oc[2].set(t.right, t.top), m = Oc[3].set(t.right, t.bottom);\n      if (p.x <= f.x || d.y <= f.y)\n        return !1;\n      var v = Math.sign(e.a * e.d - e.b * e.c);\n      if (v === 0 || (e.apply(f, f), e.apply(d, d), e.apply(p, p), e.apply(m, m), Math.max(f.x, d.x, p.x, m.x) <= a || Math.min(f.x, d.x, p.x, m.x) >= l || Math.max(f.y, d.y, p.y, m.y) <= u || Math.min(f.y, d.y, p.y, m.y) >= c))\n        return !1;\n      var y = v * (d.y - f.y), g = v * (f.x - d.x), w = y * a + g * u, T = y * l + g * u, P = y * a + g * c, O = y * l + g * c;\n      if (Math.max(w, T, P, O) <= y * f.x + g * f.y || Math.min(w, T, P, O) >= y * m.x + g * m.y)\n        return !1;\n      var C = v * (f.y - p.y), I = v * (p.x - f.x), S = C * a + I * u, M = C * l + I * u, N = C * a + I * c, D = C * l + I * c;\n      return !(Math.max(S, M, N, D) <= C * f.x + I * f.y || Math.min(S, M, N, D) >= C * m.x + I * m.y);\n    }, r.prototype.pad = function(t, e) {\n      return t === void 0 && (t = 0), e === void 0 && (e = t), this.x -= t, this.y -= e, this.width += t * 2, this.height += e * 2, this;\n    }, r.prototype.fit = function(t) {\n      var e = Math.max(this.x, t.x), i = Math.min(this.x + this.width, t.x + t.width), n = Math.max(this.y, t.y), s = Math.min(this.y + this.height, t.y + t.height);\n      return this.x = e, this.width = Math.max(i - e, 0), this.y = n, this.height = Math.max(s - n, 0), this;\n    }, r.prototype.ceil = function(t, e) {\n      t === void 0 && (t = 1), e === void 0 && (e = 1e-3);\n      var i = Math.ceil((this.x + this.width - e) * t) / t, n = Math.ceil((this.y + this.height - e) * t) / t;\n      return this.x = Math.floor((this.x + e) * t) / t, this.y = Math.floor((this.y + e) * t) / t, this.width = i - this.x, this.height = n - this.y, this;\n    }, r.prototype.enlarge = function(t) {\n      var e = Math.min(this.x, t.x), i = Math.max(this.x + this.width, t.x + t.width), n = Math.min(this.y, t.y), s = Math.max(this.y + this.height, t.y + t.height);\n      return this.x = e, this.width = i - e, this.y = n, this.height = s - n, this;\n    }, r.prototype.toString = function() {\n      return \"[@pixi/math:Rectangle x=\" + this.x + \" y=\" + this.y + \" width=\" + this.width + \" height=\" + this.height + \"]\";\n    }, r;\n  }()\n), YS = (\n  /** @class */\n  function() {\n    function r(t, e, i) {\n      t === void 0 && (t = 0), e === void 0 && (e = 0), i === void 0 && (i = 0), this.x = t, this.y = e, this.radius = i, this.type = Ge.CIRC;\n    }\n    return r.prototype.clone = function() {\n      return new r(this.x, this.y, this.radius);\n    }, r.prototype.contains = function(t, e) {\n      if (this.radius <= 0)\n        return !1;\n      var i = this.radius * this.radius, n = this.x - t, s = this.y - e;\n      return n *= n, s *= s, n + s <= i;\n    }, r.prototype.getBounds = function() {\n      return new gt(this.x - this.radius, this.y - this.radius, this.radius * 2, this.radius * 2);\n    }, r.prototype.toString = function() {\n      return \"[@pixi/math:Circle x=\" + this.x + \" y=\" + this.y + \" radius=\" + this.radius + \"]\";\n    }, r;\n  }()\n), qS = (\n  /** @class */\n  function() {\n    function r(t, e, i, n) {\n      t === void 0 && (t = 0), e === void 0 && (e = 0), i === void 0 && (i = 0), n === void 0 && (n = 0), this.x = t, this.y = e, this.width = i, this.height = n, this.type = Ge.ELIP;\n    }\n    return r.prototype.clone = function() {\n      return new r(this.x, this.y, this.width, this.height);\n    }, r.prototype.contains = function(t, e) {\n      if (this.width <= 0 || this.height <= 0)\n        return !1;\n      var i = (t - this.x) / this.width, n = (e - this.y) / this.height;\n      return i *= i, n *= n, i + n <= 1;\n    }, r.prototype.getBounds = function() {\n      return new gt(this.x - this.width, this.y - this.height, this.width, this.height);\n    }, r.prototype.toString = function() {\n      return \"[@pixi/math:Ellipse x=\" + this.x + \" y=\" + this.y + \" width=\" + this.width + \" height=\" + this.height + \"]\";\n    }, r;\n  }()\n), tf = (\n  /** @class */\n  function() {\n    function r() {\n      for (var t = arguments, e = [], i = 0; i < arguments.length; i++)\n        e[i] = t[i];\n      var n = Array.isArray(e[0]) ? e[0] : e;\n      if (typeof n[0] != \"number\") {\n        for (var s = [], o = 0, a = n.length; o < a; o++)\n          s.push(n[o].x, n[o].y);\n        n = s;\n      }\n      this.points = n, this.type = Ge.POLY, this.closeStroke = !0;\n    }\n    return r.prototype.clone = function() {\n      var t = this.points.slice(), e = new r(t);\n      return e.closeStroke = this.closeStroke, e;\n    }, r.prototype.contains = function(t, e) {\n      for (var i = !1, n = this.points.length / 2, s = 0, o = n - 1; s < n; o = s++) {\n        var a = this.points[s * 2], l = this.points[s * 2 + 1], u = this.points[o * 2], c = this.points[o * 2 + 1], f = l > e != c > e && t < (u - a) * ((e - l) / (c - l)) + a;\n        f && (i = !i);\n      }\n      return i;\n    }, r.prototype.toString = function() {\n      return \"[@pixi/math:Polygon\" + (\"closeStroke=\" + this.closeStroke) + (\"points=\" + this.points.reduce(function(t, e) {\n        return t + \", \" + e;\n      }, \"\") + \"]\");\n    }, r;\n  }()\n), ZS = (\n  /** @class */\n  function() {\n    function r(t, e, i, n, s) {\n      t === void 0 && (t = 0), e === void 0 && (e = 0), i === void 0 && (i = 0), n === void 0 && (n = 0), s === void 0 && (s = 20), this.x = t, this.y = e, this.width = i, this.height = n, this.radius = s, this.type = Ge.RREC;\n    }\n    return r.prototype.clone = function() {\n      return new r(this.x, this.y, this.width, this.height, this.radius);\n    }, r.prototype.contains = function(t, e) {\n      if (this.width <= 0 || this.height <= 0)\n        return !1;\n      if (t >= this.x && t <= this.x + this.width && e >= this.y && e <= this.y + this.height) {\n        var i = Math.max(0, Math.min(this.radius, Math.min(this.width, this.height) / 2));\n        if (e >= this.y + i && e <= this.y + this.height - i || t >= this.x + i && t <= this.x + this.width - i)\n          return !0;\n        var n = t - (this.x + i), s = e - (this.y + i), o = i * i;\n        if (n * n + s * s <= o || (n = t - (this.x + this.width - i), n * n + s * s <= o) || (s = e - (this.y + this.height - i), n * n + s * s <= o) || (n = t - (this.x + i), n * n + s * s <= o))\n          return !0;\n      }\n      return !1;\n    }, r.prototype.toString = function() {\n      return \"[@pixi/math:RoundedRectangle x=\" + this.x + \" y=\" + this.y + (\"width=\" + this.width + \" height=\" + this.height + \" radius=\" + this.radius + \"]\");\n    }, r;\n  }()\n), da = (\n  /** @class */\n  function() {\n    function r(t, e, i, n) {\n      i === void 0 && (i = 0), n === void 0 && (n = 0), this._x = i, this._y = n, this.cb = t, this.scope = e;\n    }\n    return r.prototype.clone = function(t, e) {\n      return t === void 0 && (t = this.cb), e === void 0 && (e = this.scope), new r(t, e, this._x, this._y);\n    }, r.prototype.set = function(t, e) {\n      return t === void 0 && (t = 0), e === void 0 && (e = t), (this._x !== t || this._y !== e) && (this._x = t, this._y = e, this.cb.call(this.scope)), this;\n    }, r.prototype.copyFrom = function(t) {\n      return (this._x !== t.x || this._y !== t.y) && (this._x = t.x, this._y = t.y, this.cb.call(this.scope)), this;\n    }, r.prototype.copyTo = function(t) {\n      return t.set(this._x, this._y), t;\n    }, r.prototype.equals = function(t) {\n      return t.x === this._x && t.y === this._y;\n    }, r.prototype.toString = function() {\n      return \"[@pixi/math:ObservablePoint x=0 y=0 scope=\" + this.scope + \"]\";\n    }, Object.defineProperty(r.prototype, \"x\", {\n      /** Position of the observable point on the x axis. */\n      get: function() {\n        return this._x;\n      },\n      set: function(t) {\n        this._x !== t && (this._x = t, this.cb.call(this.scope));\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"y\", {\n      /** Position of the observable point on the y axis. */\n      get: function() {\n        return this._y;\n      },\n      set: function(t) {\n        this._y !== t && (this._y = t, this.cb.call(this.scope));\n      },\n      enumerable: !1,\n      configurable: !0\n    }), r;\n  }()\n), Be = (\n  /** @class */\n  function() {\n    function r(t, e, i, n, s, o) {\n      t === void 0 && (t = 1), e === void 0 && (e = 0), i === void 0 && (i = 0), n === void 0 && (n = 1), s === void 0 && (s = 0), o === void 0 && (o = 0), this.array = null, this.a = t, this.b = e, this.c = i, this.d = n, this.tx = s, this.ty = o;\n    }\n    return r.prototype.fromArray = function(t) {\n      this.a = t[0], this.b = t[1], this.c = t[3], this.d = t[4], this.tx = t[2], this.ty = t[5];\n    }, r.prototype.set = function(t, e, i, n, s, o) {\n      return this.a = t, this.b = e, this.c = i, this.d = n, this.tx = s, this.ty = o, this;\n    }, r.prototype.toArray = function(t, e) {\n      this.array || (this.array = new Float32Array(9));\n      var i = e || this.array;\n      return t ? (i[0] = this.a, i[1] = this.b, i[2] = 0, i[3] = this.c, i[4] = this.d, i[5] = 0, i[6] = this.tx, i[7] = this.ty, i[8] = 1) : (i[0] = this.a, i[1] = this.c, i[2] = this.tx, i[3] = this.b, i[4] = this.d, i[5] = this.ty, i[6] = 0, i[7] = 0, i[8] = 1), i;\n    }, r.prototype.apply = function(t, e) {\n      e = e || new oe();\n      var i = t.x, n = t.y;\n      return e.x = this.a * i + this.c * n + this.tx, e.y = this.b * i + this.d * n + this.ty, e;\n    }, r.prototype.applyInverse = function(t, e) {\n      e = e || new oe();\n      var i = 1 / (this.a * this.d + this.c * -this.b), n = t.x, s = t.y;\n      return e.x = this.d * i * n + -this.c * i * s + (this.ty * this.c - this.tx * this.d) * i, e.y = this.a * i * s + -this.b * i * n + (-this.ty * this.a + this.tx * this.b) * i, e;\n    }, r.prototype.translate = function(t, e) {\n      return this.tx += t, this.ty += e, this;\n    }, r.prototype.scale = function(t, e) {\n      return this.a *= t, this.d *= e, this.c *= t, this.b *= e, this.tx *= t, this.ty *= e, this;\n    }, r.prototype.rotate = function(t) {\n      var e = Math.cos(t), i = Math.sin(t), n = this.a, s = this.c, o = this.tx;\n      return this.a = n * e - this.b * i, this.b = n * i + this.b * e, this.c = s * e - this.d * i, this.d = s * i + this.d * e, this.tx = o * e - this.ty * i, this.ty = o * i + this.ty * e, this;\n    }, r.prototype.append = function(t) {\n      var e = this.a, i = this.b, n = this.c, s = this.d;\n      return this.a = t.a * e + t.b * n, this.b = t.a * i + t.b * s, this.c = t.c * e + t.d * n, this.d = t.c * i + t.d * s, this.tx = t.tx * e + t.ty * n + this.tx, this.ty = t.tx * i + t.ty * s + this.ty, this;\n    }, r.prototype.setTransform = function(t, e, i, n, s, o, a, l, u) {\n      return this.a = Math.cos(a + u) * s, this.b = Math.sin(a + u) * s, this.c = -Math.sin(a - l) * o, this.d = Math.cos(a - l) * o, this.tx = t - (i * this.a + n * this.c), this.ty = e - (i * this.b + n * this.d), this;\n    }, r.prototype.prepend = function(t) {\n      var e = this.tx;\n      if (t.a !== 1 || t.b !== 0 || t.c !== 0 || t.d !== 1) {\n        var i = this.a, n = this.c;\n        this.a = i * t.a + this.b * t.c, this.b = i * t.b + this.b * t.d, this.c = n * t.a + this.d * t.c, this.d = n * t.b + this.d * t.d;\n      }\n      return this.tx = e * t.a + this.ty * t.c + t.tx, this.ty = e * t.b + this.ty * t.d + t.ty, this;\n    }, r.prototype.decompose = function(t) {\n      var e = this.a, i = this.b, n = this.c, s = this.d, o = t.pivot, a = -Math.atan2(-n, s), l = Math.atan2(i, e), u = Math.abs(a + l);\n      return u < 1e-5 || Math.abs(Lf - u) < 1e-5 ? (t.rotation = l, t.skew.x = t.skew.y = 0) : (t.rotation = 0, t.skew.x = a, t.skew.y = l), t.scale.x = Math.sqrt(e * e + i * i), t.scale.y = Math.sqrt(n * n + s * s), t.position.x = this.tx + (o.x * e + o.y * n), t.position.y = this.ty + (o.x * i + o.y * s), t;\n    }, r.prototype.invert = function() {\n      var t = this.a, e = this.b, i = this.c, n = this.d, s = this.tx, o = t * n - e * i;\n      return this.a = n / o, this.b = -e / o, this.c = -i / o, this.d = t / o, this.tx = (i * this.ty - n * s) / o, this.ty = -(t * this.ty - e * s) / o, this;\n    }, r.prototype.identity = function() {\n      return this.a = 1, this.b = 0, this.c = 0, this.d = 1, this.tx = 0, this.ty = 0, this;\n    }, r.prototype.clone = function() {\n      var t = new r();\n      return t.a = this.a, t.b = this.b, t.c = this.c, t.d = this.d, t.tx = this.tx, t.ty = this.ty, t;\n    }, r.prototype.copyTo = function(t) {\n      return t.a = this.a, t.b = this.b, t.c = this.c, t.d = this.d, t.tx = this.tx, t.ty = this.ty, t;\n    }, r.prototype.copyFrom = function(t) {\n      return this.a = t.a, this.b = t.b, this.c = t.c, this.d = t.d, this.tx = t.tx, this.ty = t.ty, this;\n    }, r.prototype.toString = function() {\n      return \"[@pixi/math:Matrix a=\" + this.a + \" b=\" + this.b + \" c=\" + this.c + \" d=\" + this.d + \" tx=\" + this.tx + \" ty=\" + this.ty + \"]\";\n    }, Object.defineProperty(r, \"IDENTITY\", {\n      /**\n       * A default (identity) matrix\n       * @readonly\n       */\n      get: function() {\n        return new r();\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r, \"TEMP_MATRIX\", {\n      /**\n       * A temp matrix\n       * @readonly\n       */\n      get: function() {\n        return new r();\n      },\n      enumerable: !1,\n      configurable: !0\n    }), r;\n  }()\n), Ss = [1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1, 0, 1], Ps = [0, 1, 1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1], Os = [0, -1, -1, -1, 0, 1, 1, 1, 0, 1, 1, 1, 0, -1, -1, -1], Is = [1, 1, 0, -1, -1, -1, 0, 1, -1, -1, 0, 1, 1, 1, 0, -1], cm = [], A0 = [], Ic = Math.sign;\nfunction KS() {\n  for (var r = 0; r < 16; r++) {\n    var t = [];\n    cm.push(t);\n    for (var e = 0; e < 16; e++)\n      for (var i = Ic(Ss[r] * Ss[e] + Os[r] * Ps[e]), n = Ic(Ps[r] * Ss[e] + Is[r] * Ps[e]), s = Ic(Ss[r] * Os[e] + Os[r] * Is[e]), o = Ic(Ps[r] * Os[e] + Is[r] * Is[e]), a = 0; a < 16; a++)\n        if (Ss[a] === i && Ps[a] === n && Os[a] === s && Is[a] === o) {\n          t.push(a);\n          break;\n        }\n  }\n  for (var r = 0; r < 16; r++) {\n    var l = new Be();\n    l.set(Ss[r], Ps[r], Os[r], Is[r], 0, 0), A0.push(l);\n  }\n}\nKS();\nvar de = {\n  /**\n   * | Rotation | Direction |\n   * |----------|-----------|\n   * | 0°       | East      |\n   * @memberof PIXI.groupD8\n   * @constant {PIXI.GD8Symmetry}\n   */\n  E: 0,\n  /**\n   * | Rotation | Direction |\n   * |----------|-----------|\n   * | 45°↻     | Southeast |\n   * @memberof PIXI.groupD8\n   * @constant {PIXI.GD8Symmetry}\n   */\n  SE: 1,\n  /**\n   * | Rotation | Direction |\n   * |----------|-----------|\n   * | 90°↻     | South     |\n   * @memberof PIXI.groupD8\n   * @constant {PIXI.GD8Symmetry}\n   */\n  S: 2,\n  /**\n   * | Rotation | Direction |\n   * |----------|-----------|\n   * | 135°↻    | Southwest |\n   * @memberof PIXI.groupD8\n   * @constant {PIXI.GD8Symmetry}\n   */\n  SW: 3,\n  /**\n   * | Rotation | Direction |\n   * |----------|-----------|\n   * | 180°     | West      |\n   * @memberof PIXI.groupD8\n   * @constant {PIXI.GD8Symmetry}\n   */\n  W: 4,\n  /**\n   * | Rotation    | Direction    |\n   * |-------------|--------------|\n   * | -135°/225°↻ | Northwest    |\n   * @memberof PIXI.groupD8\n   * @constant {PIXI.GD8Symmetry}\n   */\n  NW: 5,\n  /**\n   * | Rotation    | Direction    |\n   * |-------------|--------------|\n   * | -90°/270°↻  | North        |\n   * @memberof PIXI.groupD8\n   * @constant {PIXI.GD8Symmetry}\n   */\n  N: 6,\n  /**\n   * | Rotation    | Direction    |\n   * |-------------|--------------|\n   * | -45°/315°↻  | Northeast    |\n   * @memberof PIXI.groupD8\n   * @constant {PIXI.GD8Symmetry}\n   */\n  NE: 7,\n  /**\n   * Reflection about Y-axis.\n   * @memberof PIXI.groupD8\n   * @constant {PIXI.GD8Symmetry}\n   */\n  MIRROR_VERTICAL: 8,\n  /**\n   * Reflection about the main diagonal.\n   * @memberof PIXI.groupD8\n   * @constant {PIXI.GD8Symmetry}\n   */\n  MAIN_DIAGONAL: 10,\n  /**\n   * Reflection about X-axis.\n   * @memberof PIXI.groupD8\n   * @constant {PIXI.GD8Symmetry}\n   */\n  MIRROR_HORIZONTAL: 12,\n  /**\n   * Reflection about reverse diagonal.\n   * @memberof PIXI.groupD8\n   * @constant {PIXI.GD8Symmetry}\n   */\n  REVERSE_DIAGONAL: 14,\n  /**\n   * @memberof PIXI.groupD8\n   * @param {PIXI.GD8Symmetry} ind - sprite rotation angle.\n   * @returns {PIXI.GD8Symmetry} The X-component of the U-axis\n   *    after rotating the axes.\n   */\n  uX: function(r) {\n    return Ss[r];\n  },\n  /**\n   * @memberof PIXI.groupD8\n   * @param {PIXI.GD8Symmetry} ind - sprite rotation angle.\n   * @returns {PIXI.GD8Symmetry} The Y-component of the U-axis\n   *    after rotating the axes.\n   */\n  uY: function(r) {\n    return Ps[r];\n  },\n  /**\n   * @memberof PIXI.groupD8\n   * @param {PIXI.GD8Symmetry} ind - sprite rotation angle.\n   * @returns {PIXI.GD8Symmetry} The X-component of the V-axis\n   *    after rotating the axes.\n   */\n  vX: function(r) {\n    return Os[r];\n  },\n  /**\n   * @memberof PIXI.groupD8\n   * @param {PIXI.GD8Symmetry} ind - sprite rotation angle.\n   * @returns {PIXI.GD8Symmetry} The Y-component of the V-axis\n   *    after rotating the axes.\n   */\n  vY: function(r) {\n    return Is[r];\n  },\n  /**\n   * @memberof PIXI.groupD8\n   * @param {PIXI.GD8Symmetry} rotation - symmetry whose opposite\n   *   is needed. Only rotations have opposite symmetries while\n   *   reflections don't.\n   * @returns {PIXI.GD8Symmetry} The opposite symmetry of `rotation`\n   */\n  inv: function(r) {\n    return r & 8 ? r & 15 : -r & 7;\n  },\n  /**\n   * Composes the two D8 operations.\n   *\n   * Taking `^` as reflection:\n   *\n   * |       | E=0 | S=2 | W=4 | N=6 | E^=8 | S^=10 | W^=12 | N^=14 |\n   * |-------|-----|-----|-----|-----|------|-------|-------|-------|\n   * | E=0   | E   | S   | W   | N   | E^   | S^    | W^    | N^    |\n   * | S=2   | S   | W   | N   | E   | S^   | W^    | N^    | E^    |\n   * | W=4   | W   | N   | E   | S   | W^   | N^    | E^    | S^    |\n   * | N=6   | N   | E   | S   | W   | N^   | E^    | S^    | W^    |\n   * | E^=8  | E^  | N^  | W^  | S^  | E    | N     | W     | S     |\n   * | S^=10 | S^  | E^  | N^  | W^  | S    | E     | N     | W     |\n   * | W^=12 | W^  | S^  | E^  | N^  | W    | S     | E     | N     |\n   * | N^=14 | N^  | W^  | S^  | E^  | N    | W     | S     | E     |\n   *\n   * [This is a Cayley table]{@link https://en.wikipedia.org/wiki/Cayley_table}\n   * @memberof PIXI.groupD8\n   * @param {PIXI.GD8Symmetry} rotationSecond - Second operation, which\n   *   is the row in the above cayley table.\n   * @param {PIXI.GD8Symmetry} rotationFirst - First operation, which\n   *   is the column in the above cayley table.\n   * @returns {PIXI.GD8Symmetry} Composed operation\n   */\n  add: function(r, t) {\n    return cm[r][t];\n  },\n  /**\n   * Reverse of `add`.\n   * @memberof PIXI.groupD8\n   * @param {PIXI.GD8Symmetry} rotationSecond - Second operation\n   * @param {PIXI.GD8Symmetry} rotationFirst - First operation\n   * @returns {PIXI.GD8Symmetry} Result\n   */\n  sub: function(r, t) {\n    return cm[r][de.inv(t)];\n  },\n  /**\n   * Adds 180 degrees to rotation, which is a commutative\n   * operation.\n   * @memberof PIXI.groupD8\n   * @param {number} rotation - The number to rotate.\n   * @returns {number} Rotated number\n   */\n  rotate180: function(r) {\n    return r ^ 4;\n  },\n  /**\n   * Checks if the rotation angle is vertical, i.e. south\n   * or north. It doesn't work for reflections.\n   * @memberof PIXI.groupD8\n   * @param {PIXI.GD8Symmetry} rotation - The number to check.\n   * @returns {boolean} Whether or not the direction is vertical\n   */\n  isVertical: function(r) {\n    return (r & 3) === 2;\n  },\n  /**\n   * Approximates the vector `V(dx,dy)` into one of the\n   * eight directions provided by `groupD8`.\n   * @memberof PIXI.groupD8\n   * @param {number} dx - X-component of the vector\n   * @param {number} dy - Y-component of the vector\n   * @returns {PIXI.GD8Symmetry} Approximation of the vector into\n   *  one of the eight symmetries.\n   */\n  byDirection: function(r, t) {\n    return Math.abs(r) * 2 <= Math.abs(t) ? t >= 0 ? de.S : de.N : Math.abs(t) * 2 <= Math.abs(r) ? r > 0 ? de.E : de.W : t > 0 ? r > 0 ? de.SE : de.SW : r > 0 ? de.NE : de.NW;\n  },\n  /**\n   * Helps sprite to compensate texture packer rotation.\n   * @memberof PIXI.groupD8\n   * @param {PIXI.Matrix} matrix - sprite world matrix\n   * @param {PIXI.GD8Symmetry} rotation - The rotation factor to use.\n   * @param {number} tx - sprite anchoring\n   * @param {number} ty - sprite anchoring\n   */\n  matrixAppendRotationInv: function(r, t, e, i) {\n    e === void 0 && (e = 0), i === void 0 && (i = 0);\n    var n = A0[de.inv(t)];\n    n.tx = e, n.ty = i, r.append(n);\n  }\n}, D0 = (\n  /** @class */\n  function() {\n    function r() {\n      this.worldTransform = new Be(), this.localTransform = new Be(), this.position = new da(this.onChange, this, 0, 0), this.scale = new da(this.onChange, this, 1, 1), this.pivot = new da(this.onChange, this, 0, 0), this.skew = new da(this.updateSkew, this, 0, 0), this._rotation = 0, this._cx = 1, this._sx = 0, this._cy = 0, this._sy = 1, this._localID = 0, this._currentLocalID = 0, this._worldID = 0, this._parentID = 0;\n    }\n    return r.prototype.onChange = function() {\n      this._localID++;\n    }, r.prototype.updateSkew = function() {\n      this._cx = Math.cos(this._rotation + this.skew.y), this._sx = Math.sin(this._rotation + this.skew.y), this._cy = -Math.sin(this._rotation - this.skew.x), this._sy = Math.cos(this._rotation - this.skew.x), this._localID++;\n    }, r.prototype.toString = function() {\n      return \"[@pixi/math:Transform \" + (\"position=(\" + this.position.x + \", \" + this.position.y + \") \") + (\"rotation=\" + this.rotation + \" \") + (\"scale=(\" + this.scale.x + \", \" + this.scale.y + \") \") + (\"skew=(\" + this.skew.x + \", \" + this.skew.y + \") \") + \"]\";\n    }, r.prototype.updateLocalTransform = function() {\n      var t = this.localTransform;\n      this._localID !== this._currentLocalID && (t.a = this._cx * this.scale.x, t.b = this._sx * this.scale.x, t.c = this._cy * this.scale.y, t.d = this._sy * this.scale.y, t.tx = this.position.x - (this.pivot.x * t.a + this.pivot.y * t.c), t.ty = this.position.y - (this.pivot.x * t.b + this.pivot.y * t.d), this._currentLocalID = this._localID, this._parentID = -1);\n    }, r.prototype.updateTransform = function(t) {\n      var e = this.localTransform;\n      if (this._localID !== this._currentLocalID && (e.a = this._cx * this.scale.x, e.b = this._sx * this.scale.x, e.c = this._cy * this.scale.y, e.d = this._sy * this.scale.y, e.tx = this.position.x - (this.pivot.x * e.a + this.pivot.y * e.c), e.ty = this.position.y - (this.pivot.x * e.b + this.pivot.y * e.d), this._currentLocalID = this._localID, this._parentID = -1), this._parentID !== t._worldID) {\n        var i = t.worldTransform, n = this.worldTransform;\n        n.a = e.a * i.a + e.b * i.c, n.b = e.a * i.b + e.b * i.d, n.c = e.c * i.a + e.d * i.c, n.d = e.c * i.b + e.d * i.d, n.tx = e.tx * i.a + e.ty * i.c + i.tx, n.ty = e.tx * i.b + e.ty * i.d + i.ty, this._parentID = t._worldID, this._worldID++;\n      }\n    }, r.prototype.setFromMatrix = function(t) {\n      t.decompose(this), this._localID++;\n    }, Object.defineProperty(r.prototype, \"rotation\", {\n      /** The rotation of the object in radians. */\n      get: function() {\n        return this._rotation;\n      },\n      set: function(t) {\n        this._rotation !== t && (this._rotation = t, this.updateSkew());\n      },\n      enumerable: !1,\n      configurable: !0\n    }), r.IDENTITY = new r(), r;\n  }()\n);\n/*!\n * @pixi/display - v6.5.9\n * Compiled Wed, 25 Jan 2023 05:01:45 UTC\n *\n * @pixi/display is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */\nQ.SORTABLE_CHILDREN = !1;\nvar Af = (\n  /** @class */\n  function() {\n    function r() {\n      this.minX = 1 / 0, this.minY = 1 / 0, this.maxX = -1 / 0, this.maxY = -1 / 0, this.rect = null, this.updateID = -1;\n    }\n    return r.prototype.isEmpty = function() {\n      return this.minX > this.maxX || this.minY > this.maxY;\n    }, r.prototype.clear = function() {\n      this.minX = 1 / 0, this.minY = 1 / 0, this.maxX = -1 / 0, this.maxY = -1 / 0;\n    }, r.prototype.getRectangle = function(t) {\n      return this.minX > this.maxX || this.minY > this.maxY ? gt.EMPTY : (t = t || new gt(0, 0, 1, 1), t.x = this.minX, t.y = this.minY, t.width = this.maxX - this.minX, t.height = this.maxY - this.minY, t);\n    }, r.prototype.addPoint = function(t) {\n      this.minX = Math.min(this.minX, t.x), this.maxX = Math.max(this.maxX, t.x), this.minY = Math.min(this.minY, t.y), this.maxY = Math.max(this.maxY, t.y);\n    }, r.prototype.addPointMatrix = function(t, e) {\n      var i = t.a, n = t.b, s = t.c, o = t.d, a = t.tx, l = t.ty, u = i * e.x + s * e.y + a, c = n * e.x + o * e.y + l;\n      this.minX = Math.min(this.minX, u), this.maxX = Math.max(this.maxX, u), this.minY = Math.min(this.minY, c), this.maxY = Math.max(this.maxY, c);\n    }, r.prototype.addQuad = function(t) {\n      var e = this.minX, i = this.minY, n = this.maxX, s = this.maxY, o = t[0], a = t[1];\n      e = o < e ? o : e, i = a < i ? a : i, n = o > n ? o : n, s = a > s ? a : s, o = t[2], a = t[3], e = o < e ? o : e, i = a < i ? a : i, n = o > n ? o : n, s = a > s ? a : s, o = t[4], a = t[5], e = o < e ? o : e, i = a < i ? a : i, n = o > n ? o : n, s = a > s ? a : s, o = t[6], a = t[7], e = o < e ? o : e, i = a < i ? a : i, n = o > n ? o : n, s = a > s ? a : s, this.minX = e, this.minY = i, this.maxX = n, this.maxY = s;\n    }, r.prototype.addFrame = function(t, e, i, n, s) {\n      this.addFrameMatrix(t.worldTransform, e, i, n, s);\n    }, r.prototype.addFrameMatrix = function(t, e, i, n, s) {\n      var o = t.a, a = t.b, l = t.c, u = t.d, c = t.tx, f = t.ty, d = this.minX, p = this.minY, m = this.maxX, v = this.maxY, y = o * e + l * i + c, g = a * e + u * i + f;\n      d = y < d ? y : d, p = g < p ? g : p, m = y > m ? y : m, v = g > v ? g : v, y = o * n + l * i + c, g = a * n + u * i + f, d = y < d ? y : d, p = g < p ? g : p, m = y > m ? y : m, v = g > v ? g : v, y = o * e + l * s + c, g = a * e + u * s + f, d = y < d ? y : d, p = g < p ? g : p, m = y > m ? y : m, v = g > v ? g : v, y = o * n + l * s + c, g = a * n + u * s + f, d = y < d ? y : d, p = g < p ? g : p, m = y > m ? y : m, v = g > v ? g : v, this.minX = d, this.minY = p, this.maxX = m, this.maxY = v;\n    }, r.prototype.addVertexData = function(t, e, i) {\n      for (var n = this.minX, s = this.minY, o = this.maxX, a = this.maxY, l = e; l < i; l += 2) {\n        var u = t[l], c = t[l + 1];\n        n = u < n ? u : n, s = c < s ? c : s, o = u > o ? u : o, a = c > a ? c : a;\n      }\n      this.minX = n, this.minY = s, this.maxX = o, this.maxY = a;\n    }, r.prototype.addVertices = function(t, e, i, n) {\n      this.addVerticesMatrix(t.worldTransform, e, i, n);\n    }, r.prototype.addVerticesMatrix = function(t, e, i, n, s, o) {\n      s === void 0 && (s = 0), o === void 0 && (o = s);\n      for (var a = t.a, l = t.b, u = t.c, c = t.d, f = t.tx, d = t.ty, p = this.minX, m = this.minY, v = this.maxX, y = this.maxY, g = i; g < n; g += 2) {\n        var w = e[g], T = e[g + 1], P = a * w + u * T + f, O = c * T + l * w + d;\n        p = Math.min(p, P - s), v = Math.max(v, P + s), m = Math.min(m, O - o), y = Math.max(y, O + o);\n      }\n      this.minX = p, this.minY = m, this.maxX = v, this.maxY = y;\n    }, r.prototype.addBounds = function(t) {\n      var e = this.minX, i = this.minY, n = this.maxX, s = this.maxY;\n      this.minX = t.minX < e ? t.minX : e, this.minY = t.minY < i ? t.minY : i, this.maxX = t.maxX > n ? t.maxX : n, this.maxY = t.maxY > s ? t.maxY : s;\n    }, r.prototype.addBoundsMask = function(t, e) {\n      var i = t.minX > e.minX ? t.minX : e.minX, n = t.minY > e.minY ? t.minY : e.minY, s = t.maxX < e.maxX ? t.maxX : e.maxX, o = t.maxY < e.maxY ? t.maxY : e.maxY;\n      if (i <= s && n <= o) {\n        var a = this.minX, l = this.minY, u = this.maxX, c = this.maxY;\n        this.minX = i < a ? i : a, this.minY = n < l ? n : l, this.maxX = s > u ? s : u, this.maxY = o > c ? o : c;\n      }\n    }, r.prototype.addBoundsMatrix = function(t, e) {\n      this.addFrameMatrix(e, t.minX, t.minY, t.maxX, t.maxY);\n    }, r.prototype.addBoundsArea = function(t, e) {\n      var i = t.minX > e.x ? t.minX : e.x, n = t.minY > e.y ? t.minY : e.y, s = t.maxX < e.x + e.width ? t.maxX : e.x + e.width, o = t.maxY < e.y + e.height ? t.maxY : e.y + e.height;\n      if (i <= s && n <= o) {\n        var a = this.minX, l = this.minY, u = this.maxX, c = this.maxY;\n        this.minX = i < a ? i : a, this.minY = n < l ? n : l, this.maxX = s > u ? s : u, this.maxY = o > c ? o : c;\n      }\n    }, r.prototype.pad = function(t, e) {\n      t === void 0 && (t = 0), e === void 0 && (e = t), this.isEmpty() || (this.minX -= t, this.maxX += t, this.minY -= e, this.maxY += e);\n    }, r.prototype.addFramePad = function(t, e, i, n, s, o) {\n      t -= s, e -= o, i += s, n += o, this.minX = this.minX < t ? this.minX : t, this.maxX = this.maxX > i ? this.maxX : i, this.minY = this.minY < e ? this.minY : e, this.maxY = this.maxY > n ? this.maxY : n;\n    }, r;\n  }()\n);\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\nvar fm = function(r, t) {\n  return fm = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(e, i) {\n    e.__proto__ = i;\n  } || function(e, i) {\n    for (var n in i)\n      i.hasOwnProperty(n) && (e[n] = i[n]);\n  }, fm(r, t);\n};\nfunction Uy(r, t) {\n  fm(r, t);\n  function e() {\n    this.constructor = r;\n  }\n  r.prototype = t === null ? Object.create(t) : (e.prototype = t.prototype, new e());\n}\nvar we = (\n  /** @class */\n  function(r) {\n    Uy(t, r);\n    function t() {\n      var e = r.call(this) || this;\n      return e.tempDisplayObjectParent = null, e.transform = new D0(), e.alpha = 1, e.visible = !0, e.renderable = !0, e.cullable = !1, e.cullArea = null, e.parent = null, e.worldAlpha = 1, e._lastSortedIndex = 0, e._zIndex = 0, e.filterArea = null, e.filters = null, e._enabledFilters = null, e._bounds = new Af(), e._localBounds = null, e._boundsID = 0, e._boundsRect = null, e._localBoundsRect = null, e._mask = null, e._maskRefCount = 0, e._destroyed = !1, e.isSprite = !1, e.isMask = !1, e;\n    }\n    return t.mixin = function(e) {\n      for (var i = Object.keys(e), n = 0; n < i.length; ++n) {\n        var s = i[n];\n        Object.defineProperty(t.prototype, s, Object.getOwnPropertyDescriptor(e, s));\n      }\n    }, Object.defineProperty(t.prototype, \"destroyed\", {\n      /**\n       * Fired when this DisplayObject is added to a Container.\n       * @instance\n       * @event added\n       * @param {PIXI.Container} container - The container added to.\n       */\n      /**\n       * Fired when this DisplayObject is removed from a Container.\n       * @instance\n       * @event removed\n       * @param {PIXI.Container} container - The container removed from.\n       */\n      /**\n       * Fired when this DisplayObject is destroyed. This event is emitted once\n       * destroy is finished.\n       * @instance\n       * @event destroyed\n       */\n      /** Readonly flag for destroyed display objects. */\n      get: function() {\n        return this._destroyed;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t.prototype._recursivePostUpdateTransform = function() {\n      this.parent ? (this.parent._recursivePostUpdateTransform(), this.transform.updateTransform(this.parent.transform)) : this.transform.updateTransform(this._tempDisplayObjectParent.transform);\n    }, t.prototype.updateTransform = function() {\n      this._boundsID++, this.transform.updateTransform(this.parent.transform), this.worldAlpha = this.alpha * this.parent.worldAlpha;\n    }, t.prototype.getBounds = function(e, i) {\n      return e || (this.parent ? (this._recursivePostUpdateTransform(), this.updateTransform()) : (this.parent = this._tempDisplayObjectParent, this.updateTransform(), this.parent = null)), this._bounds.updateID !== this._boundsID && (this.calculateBounds(), this._bounds.updateID = this._boundsID), i || (this._boundsRect || (this._boundsRect = new gt()), i = this._boundsRect), this._bounds.getRectangle(i);\n    }, t.prototype.getLocalBounds = function(e) {\n      e || (this._localBoundsRect || (this._localBoundsRect = new gt()), e = this._localBoundsRect), this._localBounds || (this._localBounds = new Af());\n      var i = this.transform, n = this.parent;\n      this.parent = null, this.transform = this._tempDisplayObjectParent.transform;\n      var s = this._bounds, o = this._boundsID;\n      this._bounds = this._localBounds;\n      var a = this.getBounds(!1, e);\n      return this.parent = n, this.transform = i, this._bounds = s, this._bounds.updateID += this._boundsID - o, a;\n    }, t.prototype.toGlobal = function(e, i, n) {\n      return n === void 0 && (n = !1), n || (this._recursivePostUpdateTransform(), this.parent ? this.displayObjectUpdateTransform() : (this.parent = this._tempDisplayObjectParent, this.displayObjectUpdateTransform(), this.parent = null)), this.worldTransform.apply(e, i);\n    }, t.prototype.toLocal = function(e, i, n, s) {\n      return i && (e = i.toGlobal(e, n, s)), s || (this._recursivePostUpdateTransform(), this.parent ? this.displayObjectUpdateTransform() : (this.parent = this._tempDisplayObjectParent, this.displayObjectUpdateTransform(), this.parent = null)), this.worldTransform.applyInverse(e, n);\n    }, t.prototype.setParent = function(e) {\n      if (!e || !e.addChild)\n        throw new Error(\"setParent: Argument must be a Container\");\n      return e.addChild(this), e;\n    }, t.prototype.setTransform = function(e, i, n, s, o, a, l, u, c) {\n      return e === void 0 && (e = 0), i === void 0 && (i = 0), n === void 0 && (n = 1), s === void 0 && (s = 1), o === void 0 && (o = 0), a === void 0 && (a = 0), l === void 0 && (l = 0), u === void 0 && (u = 0), c === void 0 && (c = 0), this.position.x = e, this.position.y = i, this.scale.x = n || 1, this.scale.y = s || 1, this.rotation = o, this.skew.x = a, this.skew.y = l, this.pivot.x = u, this.pivot.y = c, this;\n    }, t.prototype.destroy = function(e) {\n      this.parent && this.parent.removeChild(this), this._destroyed = !0, this.transform = null, this.parent = null, this._bounds = null, this.mask = null, this.cullArea = null, this.filters = null, this.filterArea = null, this.hitArea = null, this.interactive = !1, this.interactiveChildren = !1, this.emit(\"destroyed\"), this.removeAllListeners();\n    }, Object.defineProperty(t.prototype, \"_tempDisplayObjectParent\", {\n      /**\n       * @protected\n       * @member {PIXI.Container}\n       */\n      get: function() {\n        return this.tempDisplayObjectParent === null && (this.tempDisplayObjectParent = new B0()), this.tempDisplayObjectParent;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t.prototype.enableTempParent = function() {\n      var e = this.parent;\n      return this.parent = this._tempDisplayObjectParent, e;\n    }, t.prototype.disableTempParent = function(e) {\n      this.parent = e;\n    }, Object.defineProperty(t.prototype, \"x\", {\n      /**\n       * The position of the displayObject on the x axis relative to the local coordinates of the parent.\n       * An alias to position.x\n       */\n      get: function() {\n        return this.position.x;\n      },\n      set: function(e) {\n        this.transform.position.x = e;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"y\", {\n      /**\n       * The position of the displayObject on the y axis relative to the local coordinates of the parent.\n       * An alias to position.y\n       */\n      get: function() {\n        return this.position.y;\n      },\n      set: function(e) {\n        this.transform.position.y = e;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"worldTransform\", {\n      /**\n       * Current transform of the object based on world (parent) factors.\n       * @readonly\n       */\n      get: function() {\n        return this.transform.worldTransform;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"localTransform\", {\n      /**\n       * Current transform of the object based on local factors: position, scale, other stuff.\n       * @readonly\n       */\n      get: function() {\n        return this.transform.localTransform;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"position\", {\n      /**\n       * The coordinate of the object relative to the local coordinates of the parent.\n       * @since 4.0.0\n       */\n      get: function() {\n        return this.transform.position;\n      },\n      set: function(e) {\n        this.transform.position.copyFrom(e);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"scale\", {\n      /**\n       * The scale factors of this object along the local coordinate axes.\n       *\n       * The default scale is (1, 1).\n       * @since 4.0.0\n       */\n      get: function() {\n        return this.transform.scale;\n      },\n      set: function(e) {\n        this.transform.scale.copyFrom(e);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"pivot\", {\n      /**\n       * The center of rotation, scaling, and skewing for this display object in its local space. The `position`\n       * is the projection of `pivot` in the parent's local space.\n       *\n       * By default, the pivot is the origin (0, 0).\n       * @since 4.0.0\n       */\n      get: function() {\n        return this.transform.pivot;\n      },\n      set: function(e) {\n        this.transform.pivot.copyFrom(e);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"skew\", {\n      /**\n       * The skew factor for the object in radians.\n       * @since 4.0.0\n       */\n      get: function() {\n        return this.transform.skew;\n      },\n      set: function(e) {\n        this.transform.skew.copyFrom(e);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"rotation\", {\n      /**\n       * The rotation of the object in radians.\n       * 'rotation' and 'angle' have the same effect on a display object; rotation is in radians, angle is in degrees.\n       */\n      get: function() {\n        return this.transform.rotation;\n      },\n      set: function(e) {\n        this.transform.rotation = e;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"angle\", {\n      /**\n       * The angle of the object in degrees.\n       * 'rotation' and 'angle' have the same effect on a display object; rotation is in radians, angle is in degrees.\n       */\n      get: function() {\n        return this.transform.rotation * XS;\n      },\n      set: function(e) {\n        this.transform.rotation = e * WS;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"zIndex\", {\n      /**\n       * The zIndex of the displayObject.\n       *\n       * If a container has the sortableChildren property set to true, children will be automatically\n       * sorted by zIndex value; a higher value will mean it will be moved towards the end of the array,\n       * and thus rendered on top of other display objects within the same container.\n       * @see PIXI.Container#sortableChildren\n       */\n      get: function() {\n        return this._zIndex;\n      },\n      set: function(e) {\n        this._zIndex = e, this.parent && (this.parent.sortDirty = !0);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"worldVisible\", {\n      /**\n       * Indicates if the object is globally visible.\n       * @readonly\n       */\n      get: function() {\n        var e = this;\n        do {\n          if (!e.visible)\n            return !1;\n          e = e.parent;\n        } while (e);\n        return !0;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"mask\", {\n      /**\n       * Sets a mask for the displayObject. A mask is an object that limits the visibility of an\n       * object to the shape of the mask applied to it. In PixiJS a regular mask must be a\n       * {@link PIXI.Graphics} or a {@link PIXI.Sprite} object. This allows for much faster masking in canvas as it\n       * utilities shape clipping. Furthermore, a mask of an object must be in the subtree of its parent.\n       * Otherwise, `getLocalBounds` may calculate incorrect bounds, which makes the container's width and height wrong.\n       * To remove a mask, set this property to `null`.\n       *\n       * For sprite mask both alpha and red channel are used. Black mask is the same as transparent mask.\n       * @example\n       * const graphics = new PIXI.Graphics();\n       * graphics.beginFill(0xFF3300);\n       * graphics.drawRect(50, 250, 100, 100);\n       * graphics.endFill();\n       *\n       * const sprite = new PIXI.Sprite(texture);\n       * sprite.mask = graphics;\n       * @todo At the moment, PIXI.CanvasRenderer doesn't support PIXI.Sprite as mask.\n       */\n      get: function() {\n        return this._mask;\n      },\n      set: function(e) {\n        if (this._mask !== e) {\n          if (this._mask) {\n            var i = this._mask.isMaskData ? this._mask.maskObject : this._mask;\n            i && (i._maskRefCount--, i._maskRefCount === 0 && (i.renderable = !0, i.isMask = !1));\n          }\n          if (this._mask = e, this._mask) {\n            var i = this._mask.isMaskData ? this._mask.maskObject : this._mask;\n            i && (i._maskRefCount === 0 && (i.renderable = !1, i.isMask = !0), i._maskRefCount++);\n          }\n        }\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t;\n  }(Ji)\n), B0 = (\n  /** @class */\n  function(r) {\n    Uy(t, r);\n    function t() {\n      var e = r !== null && r.apply(this, arguments) || this;\n      return e.sortDirty = null, e;\n    }\n    return t;\n  }(we)\n);\nwe.prototype.displayObjectUpdateTransform = we.prototype.updateTransform;\nfunction JS(r, t) {\n  return r.zIndex === t.zIndex ? r._lastSortedIndex - t._lastSortedIndex : r.zIndex - t.zIndex;\n}\nvar Jt = (\n  /** @class */\n  function(r) {\n    Uy(t, r);\n    function t() {\n      var e = r.call(this) || this;\n      return e.children = [], e.sortableChildren = Q.SORTABLE_CHILDREN, e.sortDirty = !1, e;\n    }\n    return t.prototype.onChildrenChange = function(e) {\n    }, t.prototype.addChild = function() {\n      for (var e = arguments, i = [], n = 0; n < arguments.length; n++)\n        i[n] = e[n];\n      if (i.length > 1)\n        for (var s = 0; s < i.length; s++)\n          this.addChild(i[s]);\n      else {\n        var o = i[0];\n        o.parent && o.parent.removeChild(o), o.parent = this, this.sortDirty = !0, o.transform._parentID = -1, this.children.push(o), this._boundsID++, this.onChildrenChange(this.children.length - 1), this.emit(\"childAdded\", o, this, this.children.length - 1), o.emit(\"added\", this);\n      }\n      return i[0];\n    }, t.prototype.addChildAt = function(e, i) {\n      if (i < 0 || i > this.children.length)\n        throw new Error(e + \"addChildAt: The index \" + i + \" supplied is out of bounds \" + this.children.length);\n      return e.parent && e.parent.removeChild(e), e.parent = this, this.sortDirty = !0, e.transform._parentID = -1, this.children.splice(i, 0, e), this._boundsID++, this.onChildrenChange(i), e.emit(\"added\", this), this.emit(\"childAdded\", e, this, i), e;\n    }, t.prototype.swapChildren = function(e, i) {\n      if (e !== i) {\n        var n = this.getChildIndex(e), s = this.getChildIndex(i);\n        this.children[n] = i, this.children[s] = e, this.onChildrenChange(n < s ? n : s);\n      }\n    }, t.prototype.getChildIndex = function(e) {\n      var i = this.children.indexOf(e);\n      if (i === -1)\n        throw new Error(\"The supplied DisplayObject must be a child of the caller\");\n      return i;\n    }, t.prototype.setChildIndex = function(e, i) {\n      if (i < 0 || i >= this.children.length)\n        throw new Error(\"The index \" + i + \" supplied is out of bounds \" + this.children.length);\n      var n = this.getChildIndex(e);\n      ya(this.children, n, 1), this.children.splice(i, 0, e), this.onChildrenChange(i);\n    }, t.prototype.getChildAt = function(e) {\n      if (e < 0 || e >= this.children.length)\n        throw new Error(\"getChildAt: Index (\" + e + \") does not exist.\");\n      return this.children[e];\n    }, t.prototype.removeChild = function() {\n      for (var e = arguments, i = [], n = 0; n < arguments.length; n++)\n        i[n] = e[n];\n      if (i.length > 1)\n        for (var s = 0; s < i.length; s++)\n          this.removeChild(i[s]);\n      else {\n        var o = i[0], a = this.children.indexOf(o);\n        if (a === -1)\n          return null;\n        o.parent = null, o.transform._parentID = -1, ya(this.children, a, 1), this._boundsID++, this.onChildrenChange(a), o.emit(\"removed\", this), this.emit(\"childRemoved\", o, this, a);\n      }\n      return i[0];\n    }, t.prototype.removeChildAt = function(e) {\n      var i = this.getChildAt(e);\n      return i.parent = null, i.transform._parentID = -1, ya(this.children, e, 1), this._boundsID++, this.onChildrenChange(e), i.emit(\"removed\", this), this.emit(\"childRemoved\", i, this, e), i;\n    }, t.prototype.removeChildren = function(e, i) {\n      e === void 0 && (e = 0), i === void 0 && (i = this.children.length);\n      var n = e, s = i, o = s - n, a;\n      if (o > 0 && o <= s) {\n        a = this.children.splice(n, o);\n        for (var l = 0; l < a.length; ++l)\n          a[l].parent = null, a[l].transform && (a[l].transform._parentID = -1);\n        this._boundsID++, this.onChildrenChange(e);\n        for (var l = 0; l < a.length; ++l)\n          a[l].emit(\"removed\", this), this.emit(\"childRemoved\", a[l], this, l);\n        return a;\n      } else if (o === 0 && this.children.length === 0)\n        return [];\n      throw new RangeError(\"removeChildren: numeric values are outside the acceptable range.\");\n    }, t.prototype.sortChildren = function() {\n      for (var e = !1, i = 0, n = this.children.length; i < n; ++i) {\n        var s = this.children[i];\n        s._lastSortedIndex = i, !e && s.zIndex !== 0 && (e = !0);\n      }\n      e && this.children.length > 1 && this.children.sort(JS), this.sortDirty = !1;\n    }, t.prototype.updateTransform = function() {\n      this.sortableChildren && this.sortDirty && this.sortChildren(), this._boundsID++, this.transform.updateTransform(this.parent.transform), this.worldAlpha = this.alpha * this.parent.worldAlpha;\n      for (var e = 0, i = this.children.length; e < i; ++e) {\n        var n = this.children[e];\n        n.visible && n.updateTransform();\n      }\n    }, t.prototype.calculateBounds = function() {\n      this._bounds.clear(), this._calculateBounds();\n      for (var e = 0; e < this.children.length; e++) {\n        var i = this.children[e];\n        if (!(!i.visible || !i.renderable))\n          if (i.calculateBounds(), i._mask) {\n            var n = i._mask.isMaskData ? i._mask.maskObject : i._mask;\n            n ? (n.calculateBounds(), this._bounds.addBoundsMask(i._bounds, n._bounds)) : this._bounds.addBounds(i._bounds);\n          } else\n            i.filterArea ? this._bounds.addBoundsArea(i._bounds, i.filterArea) : this._bounds.addBounds(i._bounds);\n      }\n      this._bounds.updateID = this._boundsID;\n    }, t.prototype.getLocalBounds = function(e, i) {\n      i === void 0 && (i = !1);\n      var n = r.prototype.getLocalBounds.call(this, e);\n      if (!i)\n        for (var s = 0, o = this.children.length; s < o; ++s) {\n          var a = this.children[s];\n          a.visible && a.updateTransform();\n        }\n      return n;\n    }, t.prototype._calculateBounds = function() {\n    }, t.prototype._renderWithCulling = function(e) {\n      var i = e.renderTexture.sourceFrame;\n      if (i.width > 0 && i.height > 0) {\n        var n, s;\n        if (this.cullArea ? (n = this.cullArea, s = this.worldTransform) : this._render !== t.prototype._render && (n = this.getBounds(!0)), n && i.intersects(n, s))\n          this._render(e);\n        else if (this.cullArea)\n          return;\n        for (var o = 0, a = this.children.length; o < a; ++o) {\n          var l = this.children[o], u = l.cullable;\n          l.cullable = u || !this.cullArea, l.render(e), l.cullable = u;\n        }\n      }\n    }, t.prototype.render = function(e) {\n      if (!(!this.visible || this.worldAlpha <= 0 || !this.renderable))\n        if (this._mask || this.filters && this.filters.length)\n          this.renderAdvanced(e);\n        else if (this.cullable)\n          this._renderWithCulling(e);\n        else {\n          this._render(e);\n          for (var i = 0, n = this.children.length; i < n; ++i)\n            this.children[i].render(e);\n        }\n    }, t.prototype.renderAdvanced = function(e) {\n      var i = this.filters, n = this._mask;\n      if (i) {\n        this._enabledFilters || (this._enabledFilters = []), this._enabledFilters.length = 0;\n        for (var s = 0; s < i.length; s++)\n          i[s].enabled && this._enabledFilters.push(i[s]);\n      }\n      var o = i && this._enabledFilters && this._enabledFilters.length || n && (!n.isMaskData || n.enabled && (n.autoDetect || n.type !== Ce.NONE));\n      if (o && e.batch.flush(), i && this._enabledFilters && this._enabledFilters.length && e.filter.push(this, this._enabledFilters), n && e.mask.push(this, this._mask), this.cullable)\n        this._renderWithCulling(e);\n      else {\n        this._render(e);\n        for (var s = 0, a = this.children.length; s < a; ++s)\n          this.children[s].render(e);\n      }\n      o && e.batch.flush(), n && e.mask.pop(this), i && this._enabledFilters && this._enabledFilters.length && e.filter.pop();\n    }, t.prototype._render = function(e) {\n    }, t.prototype.destroy = function(e) {\n      r.prototype.destroy.call(this), this.sortDirty = !1;\n      var i = typeof e == \"boolean\" ? e : e && e.children, n = this.removeChildren(0, this.children.length);\n      if (i)\n        for (var s = 0; s < n.length; ++s)\n          n[s].destroy(e);\n    }, Object.defineProperty(t.prototype, \"width\", {\n      /** The width of the Container, setting this will actually modify the scale to achieve the value set. */\n      get: function() {\n        return this.scale.x * this.getLocalBounds().width;\n      },\n      set: function(e) {\n        var i = this.getLocalBounds().width;\n        i !== 0 ? this.scale.x = e / i : this.scale.x = 1, this._width = e;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"height\", {\n      /** The height of the Container, setting this will actually modify the scale to achieve the value set. */\n      get: function() {\n        return this.scale.y * this.getLocalBounds().height;\n      },\n      set: function(e) {\n        var i = this.getLocalBounds().height;\n        i !== 0 ? this.scale.y = e / i : this.scale.y = 1, this._height = e;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t;\n  }(we)\n);\nJt.prototype.containerUpdateTransform = Jt.prototype.updateTransform;\n/*!\n * @pixi/extensions - v6.5.9\n * Compiled Wed, 25 Jan 2023 05:01:45 UTC\n *\n * @pixi/extensions is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\nvar nl = function() {\n  return nl = Object.assign || function(t) {\n    for (var e = arguments, i, n = 1, s = arguments.length; n < s; n++) {\n      i = e[n];\n      for (var o in i)\n        Object.prototype.hasOwnProperty.call(i, o) && (t[o] = i[o]);\n    }\n    return t;\n  }, nl.apply(this, arguments);\n}, Xt;\n(function(r) {\n  r.Application = \"application\", r.RendererPlugin = \"renderer-webgl-plugin\", r.CanvasRendererPlugin = \"renderer-canvas-plugin\", r.Loader = \"loader\", r.LoadParser = \"load-parser\", r.ResolveParser = \"resolve-parser\", r.CacheParser = \"cache-parser\", r.DetectionParser = \"detection-parser\";\n})(Xt || (Xt = {}));\nvar ig = function(r) {\n  if (typeof r == \"function\" || typeof r == \"object\" && r.extension) {\n    if (!r.extension)\n      throw new Error(\"Extension class must have an extension object\");\n    var t = typeof r.extension != \"object\" ? { type: r.extension } : r.extension;\n    r = nl(nl({}, t), { ref: r });\n  }\n  if (typeof r == \"object\")\n    r = nl({}, r);\n  else\n    throw new Error(\"Invalid extension type\");\n  return typeof r.type == \"string\" && (r.type = [r.type]), r;\n}, Or = {\n  /** @ignore */\n  _addHandlers: null,\n  /** @ignore */\n  _removeHandlers: null,\n  /** @ignore */\n  _queue: {},\n  /**\n   * Remove extensions from PixiJS.\n   * @param extensions - Extensions to be removed.\n   * @returns {PIXI.extensions} For chaining.\n   */\n  remove: function() {\n    for (var r = arguments, t = this, e = [], i = 0; i < arguments.length; i++)\n      e[i] = r[i];\n    return e.map(ig).forEach(function(n) {\n      n.type.forEach(function(s) {\n        var o, a;\n        return (a = (o = t._removeHandlers)[s]) === null || a === void 0 ? void 0 : a.call(o, n);\n      });\n    }), this;\n  },\n  /**\n   * Register new extensions with PixiJS.\n   * @param extensions - The spread of extensions to add to PixiJS.\n   * @returns {PIXI.extensions} For chaining.\n   */\n  add: function() {\n    for (var r = arguments, t = this, e = [], i = 0; i < arguments.length; i++)\n      e[i] = r[i];\n    return e.map(ig).forEach(function(n) {\n      n.type.forEach(function(s) {\n        var o = t._addHandlers, a = t._queue;\n        o[s] ? o[s](n) : (a[s] = a[s] || [], a[s].push(n));\n      });\n    }), this;\n  },\n  /**\n   * Internal method to handle extensions by name.\n   * @param type - The extension type.\n   * @param onAdd  - Function for handling when extensions are added/registered passes {@link PIXI.ExtensionFormat}.\n   * @param onRemove  - Function for handling when extensions are removed/unregistered passes {@link PIXI.ExtensionFormat}.\n   * @returns {PIXI.extensions} For chaining.\n   */\n  handle: function(r, t, e) {\n    var i = this._addHandlers = this._addHandlers || {}, n = this._removeHandlers = this._removeHandlers || {};\n    if (i[r] || n[r])\n      throw new Error(\"Extension type \" + r + \" already has a handler\");\n    i[r] = t, n[r] = e;\n    var s = this._queue;\n    return s[r] && (s[r].forEach(function(o) {\n      return t(o);\n    }), delete s[r]), this;\n  },\n  /**\n   * Handle a type, but using a map by `name` property.\n   * @param type - Type of extension to handle.\n   * @param map - The object map of named extensions.\n   * @returns {PIXI.extensions} For chaining.\n   */\n  handleByMap: function(r, t) {\n    return this.handle(r, function(e) {\n      t[e.name] = e.ref;\n    }, function(e) {\n      delete t[e.name];\n    });\n  },\n  /**\n   * Handle a type, but using a list of extensions.\n   * @param type - Type of extension to handle.\n   * @param list - The list of extensions.\n   * @returns {PIXI.extensions} For chaining.\n   */\n  handleByList: function(r, t) {\n    return this.handle(r, function(e) {\n      var i, n;\n      t.includes(e.ref) || (t.push(e.ref), r === Xt.Loader && ((n = (i = e.ref).add) === null || n === void 0 || n.call(i)));\n    }, function(e) {\n      var i = t.indexOf(e.ref);\n      i !== -1 && t.splice(i, 1);\n    });\n  }\n};\n/*!\n * @pixi/runner - v6.5.9\n * Compiled Wed, 25 Jan 2023 05:01:45 UTC\n *\n * @pixi/runner is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */\nvar Xe = (\n  /** @class */\n  function() {\n    function r(t) {\n      this.items = [], this._name = t, this._aliasCount = 0;\n    }\n    return r.prototype.emit = function(t, e, i, n, s, o, a, l) {\n      if (arguments.length > 8)\n        throw new Error(\"max arguments reached\");\n      var u = this, c = u.name, f = u.items;\n      this._aliasCount++;\n      for (var d = 0, p = f.length; d < p; d++)\n        f[d][c](t, e, i, n, s, o, a, l);\n      return f === this.items && this._aliasCount--, this;\n    }, r.prototype.ensureNonAliasedItems = function() {\n      this._aliasCount > 0 && this.items.length > 1 && (this._aliasCount = 0, this.items = this.items.slice(0));\n    }, r.prototype.add = function(t) {\n      return t[this._name] && (this.ensureNonAliasedItems(), this.remove(t), this.items.push(t)), this;\n    }, r.prototype.remove = function(t) {\n      var e = this.items.indexOf(t);\n      return e !== -1 && (this.ensureNonAliasedItems(), this.items.splice(e, 1)), this;\n    }, r.prototype.contains = function(t) {\n      return this.items.indexOf(t) !== -1;\n    }, r.prototype.removeAll = function() {\n      return this.ensureNonAliasedItems(), this.items.length = 0, this;\n    }, r.prototype.destroy = function() {\n      this.removeAll(), this.items = null, this._name = null;\n    }, Object.defineProperty(r.prototype, \"empty\", {\n      /**\n       * `true` if there are no this Runner contains no listeners\n       * @readonly\n       */\n      get: function() {\n        return this.items.length === 0;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"name\", {\n      /**\n       * The name of the runner.\n       * @readonly\n       */\n      get: function() {\n        return this._name;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), r;\n  }()\n);\nObject.defineProperties(Xe.prototype, {\n  /**\n   * Alias for `emit`\n   * @memberof PIXI.Runner#\n   * @method dispatch\n   * @see PIXI.Runner#emit\n   */\n  dispatch: { value: Xe.prototype.emit },\n  /**\n   * Alias for `emit`\n   * @memberof PIXI.Runner#\n   * @method run\n   * @see PIXI.Runner#emit\n   */\n  run: { value: Xe.prototype.emit }\n});\n/*!\n * @pixi/ticker - v6.5.9\n * Compiled Wed, 25 Jan 2023 05:01:45 UTC\n *\n * @pixi/ticker is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */\nQ.TARGET_FPMS = 0.06;\nvar Un;\n(function(r) {\n  r[r.INTERACTION = 50] = \"INTERACTION\", r[r.HIGH = 25] = \"HIGH\", r[r.NORMAL = 0] = \"NORMAL\", r[r.LOW = -25] = \"LOW\", r[r.UTILITY = -50] = \"UTILITY\";\n})(Un || (Un = {}));\nvar Rv = (\n  /** @class */\n  function() {\n    function r(t, e, i, n) {\n      e === void 0 && (e = null), i === void 0 && (i = 0), n === void 0 && (n = !1), this.next = null, this.previous = null, this._destroyed = !1, this.fn = t, this.context = e, this.priority = i, this.once = n;\n    }\n    return r.prototype.match = function(t, e) {\n      return e === void 0 && (e = null), this.fn === t && this.context === e;\n    }, r.prototype.emit = function(t) {\n      this.fn && (this.context ? this.fn.call(this.context, t) : this.fn(t));\n      var e = this.next;\n      return this.once && this.destroy(!0), this._destroyed && (this.next = null), e;\n    }, r.prototype.connect = function(t) {\n      this.previous = t, t.next && (t.next.previous = this), this.next = t.next, t.next = this;\n    }, r.prototype.destroy = function(t) {\n      t === void 0 && (t = !1), this._destroyed = !0, this.fn = null, this.context = null, this.previous && (this.previous.next = this.next), this.next && (this.next.previous = this.previous);\n      var e = this.next;\n      return this.next = t ? null : e, this.previous = null, e;\n    }, r;\n  }()\n), _e = (\n  /** @class */\n  function() {\n    function r() {\n      var t = this;\n      this.autoStart = !1, this.deltaTime = 1, this.lastTime = -1, this.speed = 1, this.started = !1, this._requestId = null, this._maxElapsedMS = 100, this._minElapsedMS = 0, this._protected = !1, this._lastFrame = -1, this._head = new Rv(null, null, 1 / 0), this.deltaMS = 1 / Q.TARGET_FPMS, this.elapsedMS = 1 / Q.TARGET_FPMS, this._tick = function(e) {\n        t._requestId = null, t.started && (t.update(e), t.started && t._requestId === null && t._head.next && (t._requestId = requestAnimationFrame(t._tick)));\n      };\n    }\n    return r.prototype._requestIfNeeded = function() {\n      this._requestId === null && this._head.next && (this.lastTime = performance.now(), this._lastFrame = this.lastTime, this._requestId = requestAnimationFrame(this._tick));\n    }, r.prototype._cancelIfNeeded = function() {\n      this._requestId !== null && (cancelAnimationFrame(this._requestId), this._requestId = null);\n    }, r.prototype._startIfPossible = function() {\n      this.started ? this._requestIfNeeded() : this.autoStart && this.start();\n    }, r.prototype.add = function(t, e, i) {\n      return i === void 0 && (i = Un.NORMAL), this._addListener(new Rv(t, e, i));\n    }, r.prototype.addOnce = function(t, e, i) {\n      return i === void 0 && (i = Un.NORMAL), this._addListener(new Rv(t, e, i, !0));\n    }, r.prototype._addListener = function(t) {\n      var e = this._head.next, i = this._head;\n      if (!e)\n        t.connect(i);\n      else {\n        for (; e; ) {\n          if (t.priority > e.priority) {\n            t.connect(i);\n            break;\n          }\n          i = e, e = e.next;\n        }\n        t.previous || t.connect(i);\n      }\n      return this._startIfPossible(), this;\n    }, r.prototype.remove = function(t, e) {\n      for (var i = this._head.next; i; )\n        i.match(t, e) ? i = i.destroy() : i = i.next;\n      return this._head.next || this._cancelIfNeeded(), this;\n    }, Object.defineProperty(r.prototype, \"count\", {\n      /**\n       * The number of listeners on this ticker, calculated by walking through linked list\n       * @readonly\n       * @member {number}\n       */\n      get: function() {\n        if (!this._head)\n          return 0;\n        for (var t = 0, e = this._head; e = e.next; )\n          t++;\n        return t;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), r.prototype.start = function() {\n      this.started || (this.started = !0, this._requestIfNeeded());\n    }, r.prototype.stop = function() {\n      this.started && (this.started = !1, this._cancelIfNeeded());\n    }, r.prototype.destroy = function() {\n      if (!this._protected) {\n        this.stop();\n        for (var t = this._head.next; t; )\n          t = t.destroy(!0);\n        this._head.destroy(), this._head = null;\n      }\n    }, r.prototype.update = function(t) {\n      t === void 0 && (t = performance.now());\n      var e;\n      if (t > this.lastTime) {\n        if (e = this.elapsedMS = t - this.lastTime, e > this._maxElapsedMS && (e = this._maxElapsedMS), e *= this.speed, this._minElapsedMS) {\n          var i = t - this._lastFrame | 0;\n          if (i < this._minElapsedMS)\n            return;\n          this._lastFrame = t - i % this._minElapsedMS;\n        }\n        this.deltaMS = e, this.deltaTime = this.deltaMS * Q.TARGET_FPMS;\n        for (var n = this._head, s = n.next; s; )\n          s = s.emit(this.deltaTime);\n        n.next || this._cancelIfNeeded();\n      } else\n        this.deltaTime = this.deltaMS = this.elapsedMS = 0;\n      this.lastTime = t;\n    }, Object.defineProperty(r.prototype, \"FPS\", {\n      /**\n       * The frames per second at which this ticker is running.\n       * The default is approximately 60 in most modern browsers.\n       * **Note:** This does not factor in the value of\n       * {@link PIXI.Ticker#speed}, which is specific\n       * to scaling {@link PIXI.Ticker#deltaTime}.\n       * @member {number}\n       * @readonly\n       */\n      get: function() {\n        return 1e3 / this.elapsedMS;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"minFPS\", {\n      /**\n       * Manages the maximum amount of milliseconds allowed to\n       * elapse between invoking {@link PIXI.Ticker#update}.\n       * This value is used to cap {@link PIXI.Ticker#deltaTime},\n       * but does not effect the measured value of {@link PIXI.Ticker#FPS}.\n       * When setting this property it is clamped to a value between\n       * `0` and `PIXI.settings.TARGET_FPMS * 1000`.\n       * @member {number}\n       * @default 10\n       */\n      get: function() {\n        return 1e3 / this._maxElapsedMS;\n      },\n      set: function(t) {\n        var e = Math.min(this.maxFPS, t), i = Math.min(Math.max(0, e) / 1e3, Q.TARGET_FPMS);\n        this._maxElapsedMS = 1 / i;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"maxFPS\", {\n      /**\n       * Manages the minimum amount of milliseconds required to\n       * elapse between invoking {@link PIXI.Ticker#update}.\n       * This will effect the measured value of {@link PIXI.Ticker#FPS}.\n       * If it is set to `0`, then there is no limit; PixiJS will render as many frames as it can.\n       * Otherwise it will be at least `minFPS`\n       * @member {number}\n       * @default 0\n       */\n      get: function() {\n        return this._minElapsedMS ? Math.round(1e3 / this._minElapsedMS) : 0;\n      },\n      set: function(t) {\n        if (t === 0)\n          this._minElapsedMS = 0;\n        else {\n          var e = Math.max(this.minFPS, t);\n          this._minElapsedMS = 1 / (e / 1e3);\n        }\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r, \"shared\", {\n      /**\n       * The shared ticker instance used by {@link PIXI.AnimatedSprite} and by\n       * {@link PIXI.VideoResource} to update animation frames / video textures.\n       *\n       * It may also be used by {@link PIXI.Application} if created with the `sharedTicker` option property set to true.\n       *\n       * The property {@link PIXI.Ticker#autoStart} is set to `true` for this instance.\n       * Please follow the examples for usage, including how to opt-out of auto-starting the shared ticker.\n       * @example\n       * let ticker = PIXI.Ticker.shared;\n       * // Set this to prevent starting this ticker when listeners are added.\n       * // By default this is true only for the PIXI.Ticker.shared instance.\n       * ticker.autoStart = false;\n       * // FYI, call this to ensure the ticker is stopped. It should be stopped\n       * // if you have not attempted to render anything yet.\n       * ticker.stop();\n       * // Call this when you are ready for a running shared ticker.\n       * ticker.start();\n       * @example\n       * // You may use the shared ticker to render...\n       * let renderer = PIXI.autoDetectRenderer();\n       * let stage = new PIXI.Container();\n       * document.body.appendChild(renderer.view);\n       * ticker.add(function (time) {\n       *     renderer.render(stage);\n       * });\n       * @example\n       * // Or you can just update it manually.\n       * ticker.autoStart = false;\n       * ticker.stop();\n       * function animate(time) {\n       *     ticker.update(time);\n       *     renderer.render(stage);\n       *     requestAnimationFrame(animate);\n       * }\n       * animate(performance.now());\n       * @member {PIXI.Ticker}\n       * @static\n       */\n      get: function() {\n        if (!r._shared) {\n          var t = r._shared = new r();\n          t.autoStart = !0, t._protected = !0;\n        }\n        return r._shared;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r, \"system\", {\n      /**\n       * The system ticker instance used by {@link PIXI.InteractionManager} and by\n       * {@link PIXI.BasePrepare} for core timing functionality that shouldn't usually need to be paused,\n       * unlike the `shared` ticker which drives visual animations and rendering which may want to be paused.\n       *\n       * The property {@link PIXI.Ticker#autoStart} is set to `true` for this instance.\n       * @member {PIXI.Ticker}\n       * @static\n       */\n      get: function() {\n        if (!r._system) {\n          var t = r._system = new r();\n          t.autoStart = !0, t._protected = !0;\n        }\n        return r._system;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), r;\n  }()\n), QS = (\n  /** @class */\n  function() {\n    function r() {\n    }\n    return r.init = function(t) {\n      var e = this;\n      t = Object.assign({\n        autoStart: !0,\n        sharedTicker: !1\n      }, t), Object.defineProperty(this, \"ticker\", {\n        set: function(i) {\n          this._ticker && this._ticker.remove(this.render, this), this._ticker = i, i && i.add(this.render, this, Un.LOW);\n        },\n        get: function() {\n          return this._ticker;\n        }\n      }), this.stop = function() {\n        e._ticker.stop();\n      }, this.start = function() {\n        e._ticker.start();\n      }, this._ticker = null, this.ticker = t.sharedTicker ? _e.shared : new _e(), t.autoStart && this.start();\n    }, r.destroy = function() {\n      if (this._ticker) {\n        var t = this._ticker;\n        this.ticker = null, t.destroy();\n      }\n    }, r.extension = Xt.Application, r;\n  }()\n);\n/*!\n * @pixi/core - v6.5.9\n * Compiled Wed, 25 Jan 2023 05:01:45 UTC\n *\n * @pixi/core is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */\nQ.PREFER_ENV = Yr.any ? Fn.WEBGL : Fn.WEBGL2;\nQ.STRICT_TEXTURE_CACHE = !1;\nvar ml = [];\nfunction vv(r, t) {\n  if (!r)\n    return null;\n  var e = \"\";\n  if (typeof r == \"string\") {\n    var i = /\\.(\\w{3,4})(?:$|\\?|#)/i.exec(r);\n    i && (e = i[1].toLowerCase());\n  }\n  for (var n = ml.length - 1; n >= 0; --n) {\n    var s = ml[n];\n    if (s.test && s.test(r, e))\n      return new s(r, t);\n  }\n  throw new Error(\"Unrecognized source type to auto-detect Resource\");\n}\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\nvar dm = function(r, t) {\n  return dm = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(e, i) {\n    e.__proto__ = i;\n  } || function(e, i) {\n    for (var n in i)\n      i.hasOwnProperty(n) && (e[n] = i[n]);\n  }, dm(r, t);\n};\nfunction ne(r, t) {\n  dm(r, t);\n  function e() {\n    this.constructor = r;\n  }\n  r.prototype = t === null ? Object.create(t) : (e.prototype = t.prototype, new e());\n}\nvar pm = function() {\n  return pm = Object.assign || function(t) {\n    for (var e = arguments, i, n = 1, s = arguments.length; n < s; n++) {\n      i = e[n];\n      for (var o in i)\n        Object.prototype.hasOwnProperty.call(i, o) && (t[o] = i[o]);\n    }\n    return t;\n  }, pm.apply(this, arguments);\n};\nfunction tP(r, t) {\n  var e = {};\n  for (var i in r)\n    Object.prototype.hasOwnProperty.call(r, i) && t.indexOf(i) < 0 && (e[i] = r[i]);\n  if (r != null && typeof Object.getOwnPropertySymbols == \"function\")\n    for (var n = 0, i = Object.getOwnPropertySymbols(r); n < i.length; n++)\n      t.indexOf(i[n]) < 0 && Object.prototype.propertyIsEnumerable.call(r, i[n]) && (e[i[n]] = r[i[n]]);\n  return e;\n}\nvar Xo = (\n  /** @class */\n  function() {\n    function r(t, e) {\n      t === void 0 && (t = 0), e === void 0 && (e = 0), this._width = t, this._height = e, this.destroyed = !1, this.internal = !1, this.onResize = new Xe(\"setRealSize\"), this.onUpdate = new Xe(\"update\"), this.onError = new Xe(\"onError\");\n    }\n    return r.prototype.bind = function(t) {\n      this.onResize.add(t), this.onUpdate.add(t), this.onError.add(t), (this._width || this._height) && this.onResize.emit(this._width, this._height);\n    }, r.prototype.unbind = function(t) {\n      this.onResize.remove(t), this.onUpdate.remove(t), this.onError.remove(t);\n    }, r.prototype.resize = function(t, e) {\n      (t !== this._width || e !== this._height) && (this._width = t, this._height = e, this.onResize.emit(t, e));\n    }, Object.defineProperty(r.prototype, \"valid\", {\n      /**\n       * Has been validated\n       * @readonly\n       */\n      get: function() {\n        return !!this._width && !!this._height;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), r.prototype.update = function() {\n      this.destroyed || this.onUpdate.emit();\n    }, r.prototype.load = function() {\n      return Promise.resolve(this);\n    }, Object.defineProperty(r.prototype, \"width\", {\n      /**\n       * The width of the resource.\n       * @readonly\n       */\n      get: function() {\n        return this._width;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"height\", {\n      /**\n       * The height of the resource.\n       * @readonly\n       */\n      get: function() {\n        return this._height;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), r.prototype.style = function(t, e, i) {\n      return !1;\n    }, r.prototype.dispose = function() {\n    }, r.prototype.destroy = function() {\n      this.destroyed || (this.destroyed = !0, this.dispose(), this.onError.removeAll(), this.onError = null, this.onResize.removeAll(), this.onResize = null, this.onUpdate.removeAll(), this.onUpdate = null);\n    }, r.test = function(t, e) {\n      return !1;\n    }, r;\n  }()\n), Zo = (\n  /** @class */\n  function(r) {\n    ne(t, r);\n    function t(e, i) {\n      var n = this, s = i || {}, o = s.width, a = s.height;\n      if (!o || !a)\n        throw new Error(\"BufferResource width or height invalid\");\n      return n = r.call(this, o, a) || this, n.data = e, n;\n    }\n    return t.prototype.upload = function(e, i, n) {\n      var s = e.gl;\n      s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL, i.alphaMode === Tr.UNPACK);\n      var o = i.realWidth, a = i.realHeight;\n      return n.width === o && n.height === a ? s.texSubImage2D(i.target, 0, 0, 0, o, a, i.format, n.type, this.data) : (n.width = o, n.height = a, s.texImage2D(i.target, 0, n.internalFormat, o, a, 0, i.format, n.type, this.data)), !0;\n    }, t.prototype.dispose = function() {\n      this.data = null;\n    }, t.test = function(e) {\n      return e instanceof Float32Array || e instanceof Uint8Array || e instanceof Uint32Array;\n    }, t;\n  }(Xo)\n), eP = {\n  scaleMode: Wr.NEAREST,\n  format: W.RGBA,\n  alphaMode: Tr.NPM\n}, It = (\n  /** @class */\n  function(r) {\n    ne(t, r);\n    function t(e, i) {\n      e === void 0 && (e = null), i === void 0 && (i = null);\n      var n = r.call(this) || this;\n      i = i || {};\n      var s = i.alphaMode, o = i.mipmap, a = i.anisotropicLevel, l = i.scaleMode, u = i.width, c = i.height, f = i.wrapMode, d = i.format, p = i.type, m = i.target, v = i.resolution, y = i.resourceOptions;\n      return e && !(e instanceof Xo) && (e = vv(e, y), e.internal = !0), n.resolution = v || Q.RESOLUTION, n.width = Math.round((u || 0) * n.resolution) / n.resolution, n.height = Math.round((c || 0) * n.resolution) / n.resolution, n._mipmap = o !== void 0 ? o : Q.MIPMAP_TEXTURES, n.anisotropicLevel = a !== void 0 ? a : Q.ANISOTROPIC_LEVEL, n._wrapMode = f || Q.WRAP_MODE, n._scaleMode = l !== void 0 ? l : Q.SCALE_MODE, n.format = d || W.RGBA, n.type = p || ut.UNSIGNED_BYTE, n.target = m || Go.TEXTURE_2D, n.alphaMode = s !== void 0 ? s : Tr.UNPACK, n.uid = Vo(), n.touched = 0, n.isPowerOfTwo = !1, n._refreshPOT(), n._glTextures = {}, n.dirtyId = 0, n.dirtyStyleId = 0, n.cacheId = null, n.valid = u > 0 && c > 0, n.textureCacheIds = [], n.destroyed = !1, n.resource = null, n._batchEnabled = 0, n._batchLocation = 0, n.parentTextureArray = null, n.setResource(e), n;\n    }\n    return Object.defineProperty(t.prototype, \"realWidth\", {\n      /**\n       * Pixel width of the source of this texture\n       * @readonly\n       */\n      get: function() {\n        return Math.round(this.width * this.resolution);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"realHeight\", {\n      /**\n       * Pixel height of the source of this texture\n       * @readonly\n       */\n      get: function() {\n        return Math.round(this.height * this.resolution);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"mipmap\", {\n      /**\n       * Mipmap mode of the texture, affects downscaled images\n       * @default PIXI.settings.MIPMAP_TEXTURES\n       */\n      get: function() {\n        return this._mipmap;\n      },\n      set: function(e) {\n        this._mipmap !== e && (this._mipmap = e, this.dirtyStyleId++);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"scaleMode\", {\n      /**\n       * The scale mode to apply when scaling this texture\n       * @default PIXI.settings.SCALE_MODE\n       */\n      get: function() {\n        return this._scaleMode;\n      },\n      set: function(e) {\n        this._scaleMode !== e && (this._scaleMode = e, this.dirtyStyleId++);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"wrapMode\", {\n      /**\n       * How the texture wraps\n       * @default PIXI.settings.WRAP_MODE\n       */\n      get: function() {\n        return this._wrapMode;\n      },\n      set: function(e) {\n        this._wrapMode !== e && (this._wrapMode = e, this.dirtyStyleId++);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t.prototype.setStyle = function(e, i) {\n      var n;\n      return e !== void 0 && e !== this.scaleMode && (this.scaleMode = e, n = !0), i !== void 0 && i !== this.mipmap && (this.mipmap = i, n = !0), n && this.dirtyStyleId++, this;\n    }, t.prototype.setSize = function(e, i, n) {\n      return n = n || this.resolution, this.setRealSize(e * n, i * n, n);\n    }, t.prototype.setRealSize = function(e, i, n) {\n      return this.resolution = n || this.resolution, this.width = Math.round(e) / this.resolution, this.height = Math.round(i) / this.resolution, this._refreshPOT(), this.update(), this;\n    }, t.prototype._refreshPOT = function() {\n      this.isPowerOfTwo = K_(this.realWidth) && K_(this.realHeight);\n    }, t.prototype.setResolution = function(e) {\n      var i = this.resolution;\n      return i === e ? this : (this.resolution = e, this.valid && (this.width = Math.round(this.width * i) / e, this.height = Math.round(this.height * i) / e, this.emit(\"update\", this)), this._refreshPOT(), this);\n    }, t.prototype.setResource = function(e) {\n      if (this.resource === e)\n        return this;\n      if (this.resource)\n        throw new Error(\"Resource can be set only once\");\n      return e.bind(this), this.resource = e, this;\n    }, t.prototype.update = function() {\n      this.valid ? (this.dirtyId++, this.dirtyStyleId++, this.emit(\"update\", this)) : this.width > 0 && this.height > 0 && (this.valid = !0, this.emit(\"loaded\", this), this.emit(\"update\", this));\n    }, t.prototype.onError = function(e) {\n      this.emit(\"error\", this, e);\n    }, t.prototype.destroy = function() {\n      this.resource && (this.resource.unbind(this), this.resource.internal && this.resource.destroy(), this.resource = null), this.cacheId && (delete ln[this.cacheId], delete li[this.cacheId], this.cacheId = null), this.dispose(), t.removeFromCache(this), this.textureCacheIds = null, this.destroyed = !0;\n    }, t.prototype.dispose = function() {\n      this.emit(\"dispose\", this);\n    }, t.prototype.castToBaseTexture = function() {\n      return this;\n    }, t.from = function(e, i, n) {\n      n === void 0 && (n = Q.STRICT_TEXTURE_CACHE);\n      var s = typeof e == \"string\", o = null;\n      if (s)\n        o = e;\n      else {\n        if (!e._pixiId) {\n          var a = i && i.pixiIdPrefix || \"pixiid\";\n          e._pixiId = a + \"_\" + Vo();\n        }\n        o = e._pixiId;\n      }\n      var l = ln[o];\n      if (s && n && !l)\n        throw new Error('The cacheId \"' + o + '\" does not exist in BaseTextureCache.');\n      return l || (l = new t(e, i), l.cacheId = o, t.addToCache(l, o)), l;\n    }, t.fromBuffer = function(e, i, n, s) {\n      e = e || new Float32Array(i * n * 4);\n      var o = new Zo(e, { width: i, height: n }), a = e instanceof Float32Array ? ut.FLOAT : ut.UNSIGNED_BYTE;\n      return new t(o, Object.assign({}, eP, s || { width: i, height: n, type: a }));\n    }, t.addToCache = function(e, i) {\n      i && (e.textureCacheIds.indexOf(i) === -1 && e.textureCacheIds.push(i), ln[i] && console.warn(\"BaseTexture added to the cache with an id [\" + i + \"] that already had an entry\"), ln[i] = e);\n    }, t.removeFromCache = function(e) {\n      if (typeof e == \"string\") {\n        var i = ln[e];\n        if (i) {\n          var n = i.textureCacheIds.indexOf(e);\n          return n > -1 && i.textureCacheIds.splice(n, 1), delete ln[e], i;\n        }\n      } else if (e && e.textureCacheIds) {\n        for (var s = 0; s < e.textureCacheIds.length; ++s)\n          delete ln[e.textureCacheIds[s]];\n        return e.textureCacheIds.length = 0, e;\n      }\n      return null;\n    }, t._globalBatch = 0, t;\n  }(Ji)\n), mv = (\n  /** @class */\n  function(r) {\n    ne(t, r);\n    function t(e, i) {\n      var n = this, s = i || {}, o = s.width, a = s.height;\n      n = r.call(this, o, a) || this, n.items = [], n.itemDirtyIds = [];\n      for (var l = 0; l < e; l++) {\n        var u = new It();\n        n.items.push(u), n.itemDirtyIds.push(-2);\n      }\n      return n.length = e, n._load = null, n.baseTexture = null, n;\n    }\n    return t.prototype.initFromArray = function(e, i) {\n      for (var n = 0; n < this.length; n++)\n        e[n] && (e[n].castToBaseTexture ? this.addBaseTextureAt(e[n].castToBaseTexture(), n) : e[n] instanceof Xo ? this.addResourceAt(e[n], n) : this.addResourceAt(vv(e[n], i), n));\n    }, t.prototype.dispose = function() {\n      for (var e = 0, i = this.length; e < i; e++)\n        this.items[e].destroy();\n      this.items = null, this.itemDirtyIds = null, this._load = null;\n    }, t.prototype.addResourceAt = function(e, i) {\n      if (!this.items[i])\n        throw new Error(\"Index \" + i + \" is out of bounds\");\n      return e.valid && !this.valid && this.resize(e.width, e.height), this.items[i].setResource(e), this;\n    }, t.prototype.bind = function(e) {\n      if (this.baseTexture !== null)\n        throw new Error(\"Only one base texture per TextureArray is allowed\");\n      r.prototype.bind.call(this, e);\n      for (var i = 0; i < this.length; i++)\n        this.items[i].parentTextureArray = e, this.items[i].on(\"update\", e.update, e);\n    }, t.prototype.unbind = function(e) {\n      r.prototype.unbind.call(this, e);\n      for (var i = 0; i < this.length; i++)\n        this.items[i].parentTextureArray = null, this.items[i].off(\"update\", e.update, e);\n    }, t.prototype.load = function() {\n      var e = this;\n      if (this._load)\n        return this._load;\n      var i = this.items.map(function(s) {\n        return s.resource;\n      }).filter(function(s) {\n        return s;\n      }), n = i.map(function(s) {\n        return s.load();\n      });\n      return this._load = Promise.all(n).then(function() {\n        var s = e.items[0], o = s.realWidth, a = s.realHeight;\n        return e.resize(o, a), Promise.resolve(e);\n      }), this._load;\n    }, t;\n  }(Xo)\n), Gy = (\n  /** @class */\n  function(r) {\n    ne(t, r);\n    function t(e, i) {\n      var n = this, s = i || {}, o = s.width, a = s.height, l, u;\n      return Array.isArray(e) ? (l = e, u = e.length) : u = e, n = r.call(this, u, { width: o, height: a }) || this, l && n.initFromArray(l, i), n;\n    }\n    return t.prototype.addBaseTextureAt = function(e, i) {\n      if (e.resource)\n        this.addResourceAt(e.resource, i);\n      else\n        throw new Error(\"ArrayResource does not support RenderTexture\");\n      return this;\n    }, t.prototype.bind = function(e) {\n      r.prototype.bind.call(this, e), e.target = Go.TEXTURE_2D_ARRAY;\n    }, t.prototype.upload = function(e, i, n) {\n      var s = this, o = s.length, a = s.itemDirtyIds, l = s.items, u = e.gl;\n      n.dirtyId < 0 && u.texImage3D(u.TEXTURE_2D_ARRAY, 0, n.internalFormat, this._width, this._height, o, 0, i.format, n.type, null);\n      for (var c = 0; c < o; c++) {\n        var f = l[c];\n        a[c] < f.dirtyId && (a[c] = f.dirtyId, f.valid && u.texSubImage3D(\n          u.TEXTURE_2D_ARRAY,\n          0,\n          0,\n          // xoffset\n          0,\n          // yoffset\n          c,\n          // zoffset\n          f.resource.width,\n          f.resource.height,\n          1,\n          i.format,\n          n.type,\n          f.resource.source\n        ));\n      }\n      return !0;\n    }, t;\n  }(mv)\n), Qr = (\n  /** @class */\n  function(r) {\n    ne(t, r);\n    function t(e) {\n      var i = this, n = e, s = n.naturalWidth || n.videoWidth || n.width, o = n.naturalHeight || n.videoHeight || n.height;\n      return i = r.call(this, s, o) || this, i.source = e, i.noSubImage = !1, i;\n    }\n    return t.crossOrigin = function(e, i, n) {\n      n === void 0 && i.indexOf(\"data:\") !== 0 ? e.crossOrigin = VS(i) : n !== !1 && (e.crossOrigin = typeof n == \"string\" ? n : \"anonymous\");\n    }, t.prototype.upload = function(e, i, n, s) {\n      var o = e.gl, a = i.realWidth, l = i.realHeight;\n      if (s = s || this.source, s instanceof HTMLImageElement) {\n        if (!s.complete || s.naturalWidth === 0)\n          return !1;\n      } else if (s instanceof HTMLVideoElement && s.readyState <= 1)\n        return !1;\n      return o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL, i.alphaMode === Tr.UNPACK), !this.noSubImage && i.target === o.TEXTURE_2D && n.width === a && n.height === l ? o.texSubImage2D(o.TEXTURE_2D, 0, 0, 0, i.format, n.type, s) : (n.width = a, n.height = l, o.texImage2D(i.target, 0, n.internalFormat, i.format, n.type, s)), !0;\n    }, t.prototype.update = function() {\n      if (!this.destroyed) {\n        var e = this.source, i = e.naturalWidth || e.videoWidth || e.width, n = e.naturalHeight || e.videoHeight || e.height;\n        this.resize(i, n), r.prototype.update.call(this);\n      }\n    }, t.prototype.dispose = function() {\n      this.source = null;\n    }, t;\n  }(Xo)\n), jy = (\n  /** @class */\n  function(r) {\n    ne(t, r);\n    function t(e) {\n      return r.call(this, e) || this;\n    }\n    return t.test = function(e) {\n      var i = globalThis.OffscreenCanvas;\n      return i && e instanceof i ? !0 : globalThis.HTMLCanvasElement && e instanceof HTMLCanvasElement;\n    }, t;\n  }(Qr)\n), Hy = (\n  /** @class */\n  function(r) {\n    ne(t, r);\n    function t(e, i) {\n      var n = this, s = i || {}, o = s.width, a = s.height, l = s.autoLoad, u = s.linkBaseTexture;\n      if (e && e.length !== t.SIDES)\n        throw new Error(\"Invalid length. Got \" + e.length + \", expected 6\");\n      n = r.call(this, 6, { width: o, height: a }) || this;\n      for (var c = 0; c < t.SIDES; c++)\n        n.items[c].target = Go.TEXTURE_CUBE_MAP_POSITIVE_X + c;\n      return n.linkBaseTexture = u !== !1, e && n.initFromArray(e, i), l !== !1 && n.load(), n;\n    }\n    return t.prototype.bind = function(e) {\n      r.prototype.bind.call(this, e), e.target = Go.TEXTURE_CUBE_MAP;\n    }, t.prototype.addBaseTextureAt = function(e, i, n) {\n      if (!this.items[i])\n        throw new Error(\"Index \" + i + \" is out of bounds\");\n      if (!this.linkBaseTexture || e.parentTextureArray || Object.keys(e._glTextures).length > 0)\n        if (e.resource)\n          this.addResourceAt(e.resource, i);\n        else\n          throw new Error(\"CubeResource does not support copying of renderTexture.\");\n      else\n        e.target = Go.TEXTURE_CUBE_MAP_POSITIVE_X + i, e.parentTextureArray = this.baseTexture, this.items[i] = e;\n      return e.valid && !this.valid && this.resize(e.realWidth, e.realHeight), this.items[i] = e, this;\n    }, t.prototype.upload = function(e, i, n) {\n      for (var s = this.itemDirtyIds, o = 0; o < t.SIDES; o++) {\n        var a = this.items[o];\n        (s[o] < a.dirtyId || n.dirtyId < i.dirtyId) && (a.valid && a.resource ? (a.resource.upload(e, a, n), s[o] = a.dirtyId) : s[o] < -1 && (e.gl.texImage2D(a.target, 0, n.internalFormat, i.realWidth, i.realHeight, 0, i.format, n.type, null), s[o] = -1));\n      }\n      return !0;\n    }, t.test = function(e) {\n      return Array.isArray(e) && e.length === t.SIDES;\n    }, t.SIDES = 6, t;\n  }(mv)\n), yv = (\n  /** @class */\n  function(r) {\n    ne(t, r);\n    function t(e, i) {\n      var n = this;\n      if (i = i || {}, !(e instanceof HTMLImageElement)) {\n        var s = new Image();\n        Qr.crossOrigin(s, e, i.crossorigin), s.src = e, e = s;\n      }\n      return n = r.call(this, e) || this, !e.complete && n._width && n._height && (n._width = 0, n._height = 0), n.url = e.src, n._process = null, n.preserveBitmap = !1, n.createBitmap = (i.createBitmap !== void 0 ? i.createBitmap : Q.CREATE_IMAGE_BITMAP) && !!globalThis.createImageBitmap, n.alphaMode = typeof i.alphaMode == \"number\" ? i.alphaMode : null, n.bitmap = null, n._load = null, i.autoLoad !== !1 && n.load(), n;\n    }\n    return t.prototype.load = function(e) {\n      var i = this;\n      return this._load ? this._load : (e !== void 0 && (this.createBitmap = e), this._load = new Promise(function(n, s) {\n        var o = i.source;\n        i.url = o.src;\n        var a = function() {\n          i.destroyed || (o.onload = null, o.onerror = null, i.resize(o.width, o.height), i._load = null, i.createBitmap ? n(i.process()) : n(i));\n        };\n        o.complete && o.src ? a() : (o.onload = a, o.onerror = function(l) {\n          s(l), i.onError.emit(l);\n        });\n      }), this._load);\n    }, t.prototype.process = function() {\n      var e = this, i = this.source;\n      if (this._process !== null)\n        return this._process;\n      if (this.bitmap !== null || !globalThis.createImageBitmap)\n        return Promise.resolve(this);\n      var n = globalThis.createImageBitmap, s = !i.crossOrigin || i.crossOrigin === \"anonymous\";\n      return this._process = fetch(i.src, {\n        mode: s ? \"cors\" : \"no-cors\"\n      }).then(function(o) {\n        return o.blob();\n      }).then(function(o) {\n        return n(o, 0, 0, i.width, i.height, {\n          premultiplyAlpha: e.alphaMode === null || e.alphaMode === Tr.UNPACK ? \"premultiply\" : \"none\"\n        });\n      }).then(function(o) {\n        return e.destroyed ? Promise.reject() : (e.bitmap = o, e.update(), e._process = null, Promise.resolve(e));\n      }), this._process;\n    }, t.prototype.upload = function(e, i, n) {\n      if (typeof this.alphaMode == \"number\" && (i.alphaMode = this.alphaMode), !this.createBitmap)\n        return r.prototype.upload.call(this, e, i, n);\n      if (!this.bitmap && (this.process(), !this.bitmap))\n        return !1;\n      if (r.prototype.upload.call(this, e, i, n, this.bitmap), !this.preserveBitmap) {\n        var s = !0, o = i._glTextures;\n        for (var a in o) {\n          var l = o[a];\n          if (l !== n && l.dirtyId !== i.dirtyId) {\n            s = !1;\n            break;\n          }\n        }\n        s && (this.bitmap.close && this.bitmap.close(), this.bitmap = null);\n      }\n      return !0;\n    }, t.prototype.dispose = function() {\n      this.source.onload = null, this.source.onerror = null, r.prototype.dispose.call(this), this.bitmap && (this.bitmap.close(), this.bitmap = null), this._process = null, this._load = null;\n    }, t.test = function(e) {\n      return typeof e == \"string\" || e instanceof HTMLImageElement;\n    }, t;\n  }(Qr)\n), $y = (\n  /** @class */\n  function(r) {\n    ne(t, r);\n    function t(e, i) {\n      var n = this;\n      return i = i || {}, n = r.call(this, Q.ADAPTER.createCanvas()) || this, n._width = 0, n._height = 0, n.svg = e, n.scale = i.scale || 1, n._overrideWidth = i.width, n._overrideHeight = i.height, n._resolve = null, n._crossorigin = i.crossorigin, n._load = null, i.autoLoad !== !1 && n.load(), n;\n    }\n    return t.prototype.load = function() {\n      var e = this;\n      return this._load ? this._load : (this._load = new Promise(function(i) {\n        if (e._resolve = function() {\n          e.resize(e.source.width, e.source.height), i(e);\n        }, t.SVG_XML.test(e.svg.trim())) {\n          if (!btoa)\n            throw new Error(\"Your browser doesn't support base64 conversions.\");\n          e.svg = \"data:image/svg+xml;base64,\" + btoa(unescape(encodeURIComponent(e.svg)));\n        }\n        e._loadSvg();\n      }), this._load);\n    }, t.prototype._loadSvg = function() {\n      var e = this, i = new Image();\n      Qr.crossOrigin(i, this.svg, this._crossorigin), i.src = this.svg, i.onerror = function(n) {\n        e._resolve && (i.onerror = null, e.onError.emit(n));\n      }, i.onload = function() {\n        if (e._resolve) {\n          var n = i.width, s = i.height;\n          if (!n || !s)\n            throw new Error(\"The SVG image must have width and height defined (in pixels), canvas API needs them.\");\n          var o = n * e.scale, a = s * e.scale;\n          (e._overrideWidth || e._overrideHeight) && (o = e._overrideWidth || e._overrideHeight / s * n, a = e._overrideHeight || e._overrideWidth / n * s), o = Math.round(o), a = Math.round(a);\n          var l = e.source;\n          l.width = o, l.height = a, l._pixiId = \"canvas_\" + Vo(), l.getContext(\"2d\").drawImage(i, 0, 0, n, s, 0, 0, o, a), e._resolve(), e._resolve = null;\n        }\n      };\n    }, t.getSize = function(e) {\n      var i = t.SVG_SIZE.exec(e), n = {};\n      return i && (n[i[1]] = Math.round(parseFloat(i[3])), n[i[5]] = Math.round(parseFloat(i[7]))), n;\n    }, t.prototype.dispose = function() {\n      r.prototype.dispose.call(this), this._resolve = null, this._crossorigin = null;\n    }, t.test = function(e, i) {\n      return i === \"svg\" || typeof e == \"string\" && e.startsWith(\"data:image/svg+xml\") || typeof e == \"string\" && t.SVG_XML.test(e);\n    }, t.SVG_XML = /^(<\\?xml[^?]+\\?>)?\\s*(<!--[^(-->)]*-->)?\\s*\\<svg/m, t.SVG_SIZE = /<svg[^>]*(?:\\s(width|height)=('|\")(\\d*(?:\\.\\d+)?)(?:px)?('|\"))[^>]*(?:\\s(width|height)=('|\")(\\d*(?:\\.\\d+)?)(?:px)?('|\"))[^>]*>/i, t;\n  }(Qr)\n), zy = (\n  /** @class */\n  function(r) {\n    ne(t, r);\n    function t(e, i) {\n      var n = this;\n      if (i = i || {}, !(e instanceof HTMLVideoElement)) {\n        var s = document.createElement(\"video\");\n        s.setAttribute(\"preload\", \"auto\"), s.setAttribute(\"webkit-playsinline\", \"\"), s.setAttribute(\"playsinline\", \"\"), typeof e == \"string\" && (e = [e]);\n        var o = e[0].src || e[0];\n        Qr.crossOrigin(s, o, i.crossorigin);\n        for (var a = 0; a < e.length; ++a) {\n          var l = document.createElement(\"source\"), u = e[a], c = u.src, f = u.mime;\n          c = c || e[a];\n          var d = c.split(\"?\").shift().toLowerCase(), p = d.slice(d.lastIndexOf(\".\") + 1);\n          f = f || t.MIME_TYPES[p] || \"video/\" + p, l.src = c, l.type = f, s.appendChild(l);\n        }\n        e = s;\n      }\n      return n = r.call(this, e) || this, n.noSubImage = !0, n._autoUpdate = !0, n._isConnectedToTicker = !1, n._updateFPS = i.updateFPS || 0, n._msToNextUpdate = 0, n.autoPlay = i.autoPlay !== !1, n._load = null, n._resolve = null, n._onCanPlay = n._onCanPlay.bind(n), n._onError = n._onError.bind(n), i.autoLoad !== !1 && n.load(), n;\n    }\n    return t.prototype.update = function(e) {\n      if (!this.destroyed) {\n        var i = _e.shared.elapsedMS * this.source.playbackRate;\n        this._msToNextUpdate = Math.floor(this._msToNextUpdate - i), (!this._updateFPS || this._msToNextUpdate <= 0) && (r.prototype.update.call(this), this._msToNextUpdate = this._updateFPS ? Math.floor(1e3 / this._updateFPS) : 0);\n      }\n    }, t.prototype.load = function() {\n      var e = this;\n      if (this._load)\n        return this._load;\n      var i = this.source;\n      return (i.readyState === i.HAVE_ENOUGH_DATA || i.readyState === i.HAVE_FUTURE_DATA) && i.width && i.height && (i.complete = !0), i.addEventListener(\"play\", this._onPlayStart.bind(this)), i.addEventListener(\"pause\", this._onPlayStop.bind(this)), this._isSourceReady() ? this._onCanPlay() : (i.addEventListener(\"canplay\", this._onCanPlay), i.addEventListener(\"canplaythrough\", this._onCanPlay), i.addEventListener(\"error\", this._onError, !0)), this._load = new Promise(function(n) {\n        e.valid ? n(e) : (e._resolve = n, i.load());\n      }), this._load;\n    }, t.prototype._onError = function(e) {\n      this.source.removeEventListener(\"error\", this._onError, !0), this.onError.emit(e);\n    }, t.prototype._isSourcePlaying = function() {\n      var e = this.source;\n      return !e.paused && !e.ended && this._isSourceReady();\n    }, t.prototype._isSourceReady = function() {\n      var e = this.source;\n      return e.readyState > 2;\n    }, t.prototype._onPlayStart = function() {\n      this.valid || this._onCanPlay(), this.autoUpdate && !this._isConnectedToTicker && (_e.shared.add(this.update, this), this._isConnectedToTicker = !0);\n    }, t.prototype._onPlayStop = function() {\n      this._isConnectedToTicker && (_e.shared.remove(this.update, this), this._isConnectedToTicker = !1);\n    }, t.prototype._onCanPlay = function() {\n      var e = this.source;\n      e.removeEventListener(\"canplay\", this._onCanPlay), e.removeEventListener(\"canplaythrough\", this._onCanPlay);\n      var i = this.valid;\n      this.resize(e.videoWidth, e.videoHeight), !i && this._resolve && (this._resolve(this), this._resolve = null), this._isSourcePlaying() ? this._onPlayStart() : this.autoPlay && e.play();\n    }, t.prototype.dispose = function() {\n      this._isConnectedToTicker && (_e.shared.remove(this.update, this), this._isConnectedToTicker = !1);\n      var e = this.source;\n      e && (e.removeEventListener(\"error\", this._onError, !0), e.pause(), e.src = \"\", e.load()), r.prototype.dispose.call(this);\n    }, Object.defineProperty(t.prototype, \"autoUpdate\", {\n      /** Should the base texture automatically update itself, set to true by default. */\n      get: function() {\n        return this._autoUpdate;\n      },\n      set: function(e) {\n        e !== this._autoUpdate && (this._autoUpdate = e, !this._autoUpdate && this._isConnectedToTicker ? (_e.shared.remove(this.update, this), this._isConnectedToTicker = !1) : this._autoUpdate && !this._isConnectedToTicker && this._isSourcePlaying() && (_e.shared.add(this.update, this), this._isConnectedToTicker = !0));\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"updateFPS\", {\n      /**\n       * How many times a second to update the texture from the video. Leave at 0 to update at every render.\n       * A lower fps can help performance, as updating the texture at 60fps on a 30ps video may not be efficient.\n       */\n      get: function() {\n        return this._updateFPS;\n      },\n      set: function(e) {\n        e !== this._updateFPS && (this._updateFPS = e);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t.test = function(e, i) {\n      return globalThis.HTMLVideoElement && e instanceof HTMLVideoElement || t.TYPES.indexOf(i) > -1;\n    }, t.TYPES = [\"mp4\", \"m4v\", \"webm\", \"ogg\", \"ogv\", \"h264\", \"avi\", \"mov\"], t.MIME_TYPES = {\n      ogv: \"video/ogg\",\n      mov: \"video/quicktime\",\n      m4v: \"video/mp4\"\n    }, t;\n  }(Qr)\n), Vy = (\n  /** @class */\n  function(r) {\n    ne(t, r);\n    function t(e) {\n      return r.call(this, e) || this;\n    }\n    return t.test = function(e) {\n      return !!globalThis.createImageBitmap && typeof ImageBitmap < \"u\" && e instanceof ImageBitmap;\n    }, t;\n  }(Qr)\n);\nml.push(yv, Vy, jy, zy, $y, Zo, Hy, Gy);\nvar F0 = {\n  __proto__: null,\n  Resource: Xo,\n  BaseImageResource: Qr,\n  INSTALLED: ml,\n  autoDetectResource: vv,\n  AbstractMultiResource: mv,\n  ArrayResource: Gy,\n  BufferResource: Zo,\n  CanvasResource: jy,\n  CubeResource: Hy,\n  ImageResource: yv,\n  SVGResource: $y,\n  VideoResource: zy,\n  ImageBitmapResource: Vy\n}, iP = (\n  /** @class */\n  function(r) {\n    ne(t, r);\n    function t() {\n      return r !== null && r.apply(this, arguments) || this;\n    }\n    return t.prototype.upload = function(e, i, n) {\n      var s = e.gl;\n      s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL, i.alphaMode === Tr.UNPACK);\n      var o = i.realWidth, a = i.realHeight;\n      return n.width === o && n.height === a ? s.texSubImage2D(i.target, 0, 0, 0, o, a, i.format, n.type, this.data) : (n.width = o, n.height = a, s.texImage2D(i.target, 0, n.internalFormat, o, a, 0, i.format, n.type, this.data)), !0;\n    }, t;\n  }(Zo)\n), Df = (\n  /** @class */\n  function() {\n    function r(t, e) {\n      this.width = Math.round(t || 100), this.height = Math.round(e || 100), this.stencil = !1, this.depth = !1, this.dirtyId = 0, this.dirtyFormat = 0, this.dirtySize = 0, this.depthTexture = null, this.colorTextures = [], this.glFramebuffers = {}, this.disposeRunner = new Xe(\"disposeFramebuffer\"), this.multisample = le.NONE;\n    }\n    return Object.defineProperty(r.prototype, \"colorTexture\", {\n      /**\n       * Reference to the colorTexture.\n       * @readonly\n       */\n      get: function() {\n        return this.colorTextures[0];\n      },\n      enumerable: !1,\n      configurable: !0\n    }), r.prototype.addColorTexture = function(t, e) {\n      return t === void 0 && (t = 0), this.colorTextures[t] = e || new It(null, {\n        scaleMode: Wr.NEAREST,\n        resolution: 1,\n        mipmap: Er.OFF,\n        width: this.width,\n        height: this.height\n      }), this.dirtyId++, this.dirtyFormat++, this;\n    }, r.prototype.addDepthTexture = function(t) {\n      return this.depthTexture = t || new It(new iP(null, { width: this.width, height: this.height }), {\n        scaleMode: Wr.NEAREST,\n        resolution: 1,\n        width: this.width,\n        height: this.height,\n        mipmap: Er.OFF,\n        format: W.DEPTH_COMPONENT,\n        type: ut.UNSIGNED_SHORT\n      }), this.dirtyId++, this.dirtyFormat++, this;\n    }, r.prototype.enableDepth = function() {\n      return this.depth = !0, this.dirtyId++, this.dirtyFormat++, this;\n    }, r.prototype.enableStencil = function() {\n      return this.stencil = !0, this.dirtyId++, this.dirtyFormat++, this;\n    }, r.prototype.resize = function(t, e) {\n      if (t = Math.round(t), e = Math.round(e), !(t === this.width && e === this.height)) {\n        this.width = t, this.height = e, this.dirtyId++, this.dirtySize++;\n        for (var i = 0; i < this.colorTextures.length; i++) {\n          var n = this.colorTextures[i], s = n.resolution;\n          n.setSize(t / s, e / s);\n        }\n        if (this.depthTexture) {\n          var s = this.depthTexture.resolution;\n          this.depthTexture.setSize(t / s, e / s);\n        }\n      }\n    }, r.prototype.dispose = function() {\n      this.disposeRunner.emit(this, !1);\n    }, r.prototype.destroyDepthTexture = function() {\n      this.depthTexture && (this.depthTexture.destroy(), this.depthTexture = null, ++this.dirtyId, ++this.dirtyFormat);\n    }, r;\n  }()\n), Xy = (\n  /** @class */\n  function(r) {\n    ne(t, r);\n    function t(e) {\n      e === void 0 && (e = {});\n      var i = this;\n      if (typeof e == \"number\") {\n        var n = arguments[0], s = arguments[1], o = arguments[2], a = arguments[3];\n        e = { width: n, height: s, scaleMode: o, resolution: a };\n      }\n      return e.width = e.width || 100, e.height = e.height || 100, e.multisample = e.multisample !== void 0 ? e.multisample : le.NONE, i = r.call(this, null, e) || this, i.mipmap = Er.OFF, i.valid = !0, i.clearColor = [0, 0, 0, 0], i.framebuffer = new Df(i.realWidth, i.realHeight).addColorTexture(0, i), i.framebuffer.multisample = e.multisample, i.maskStack = [], i.filterStack = [{}], i;\n    }\n    return t.prototype.resize = function(e, i) {\n      this.framebuffer.resize(e * this.resolution, i * this.resolution), this.setRealSize(this.framebuffer.width, this.framebuffer.height);\n    }, t.prototype.dispose = function() {\n      this.framebuffer.dispose(), r.prototype.dispose.call(this);\n    }, t.prototype.destroy = function() {\n      r.prototype.destroy.call(this), this.framebuffer.destroyDepthTexture(), this.framebuffer = null;\n    }, t;\n  }(It)\n), Wy = (\n  /** @class */\n  function() {\n    function r() {\n      this.x0 = 0, this.y0 = 0, this.x1 = 1, this.y1 = 0, this.x2 = 1, this.y2 = 1, this.x3 = 0, this.y3 = 1, this.uvsFloat32 = new Float32Array(8);\n    }\n    return r.prototype.set = function(t, e, i) {\n      var n = e.width, s = e.height;\n      if (i) {\n        var o = t.width / 2 / n, a = t.height / 2 / s, l = t.x / n + o, u = t.y / s + a;\n        i = de.add(i, de.NW), this.x0 = l + o * de.uX(i), this.y0 = u + a * de.uY(i), i = de.add(i, 2), this.x1 = l + o * de.uX(i), this.y1 = u + a * de.uY(i), i = de.add(i, 2), this.x2 = l + o * de.uX(i), this.y2 = u + a * de.uY(i), i = de.add(i, 2), this.x3 = l + o * de.uX(i), this.y3 = u + a * de.uY(i);\n      } else\n        this.x0 = t.x / n, this.y0 = t.y / s, this.x1 = (t.x + t.width) / n, this.y1 = t.y / s, this.x2 = (t.x + t.width) / n, this.y2 = (t.y + t.height) / s, this.x3 = t.x / n, this.y3 = (t.y + t.height) / s;\n      this.uvsFloat32[0] = this.x0, this.uvsFloat32[1] = this.y0, this.uvsFloat32[2] = this.x1, this.uvsFloat32[3] = this.y1, this.uvsFloat32[4] = this.x2, this.uvsFloat32[5] = this.y2, this.uvsFloat32[6] = this.x3, this.uvsFloat32[7] = this.y3;\n    }, r.prototype.toString = function() {\n      return \"[@pixi/core:TextureUvs \" + (\"x0=\" + this.x0 + \" y0=\" + this.y0 + \" \") + (\"x1=\" + this.x1 + \" y1=\" + this.y1 + \" x2=\" + this.x2 + \" \") + (\"y2=\" + this.y2 + \" x3=\" + this.x3 + \" y3=\" + this.y3) + \"]\";\n    }, r;\n  }()\n), rg = new Wy();\nfunction Cc(r) {\n  r.destroy = function() {\n  }, r.on = function() {\n  }, r.once = function() {\n  }, r.emit = function() {\n  };\n}\nvar lt = (\n  /** @class */\n  function(r) {\n    ne(t, r);\n    function t(e, i, n, s, o, a) {\n      var l = r.call(this) || this;\n      if (l.noFrame = !1, i || (l.noFrame = !0, i = new gt(0, 0, 1, 1)), e instanceof t && (e = e.baseTexture), l.baseTexture = e, l._frame = i, l.trim = s, l.valid = !1, l._uvs = rg, l.uvMatrix = null, l.orig = n || i, l._rotate = Number(o || 0), o === !0)\n        l._rotate = 2;\n      else if (l._rotate % 2 !== 0)\n        throw new Error(\"attempt to use diamond-shaped UVs. If you are sure, set rotation manually\");\n      return l.defaultAnchor = a ? new oe(a.x, a.y) : new oe(0, 0), l._updateID = 0, l.textureCacheIds = [], e.valid ? l.noFrame ? e.valid && l.onBaseTextureUpdated(e) : l.frame = i : e.once(\"loaded\", l.onBaseTextureUpdated, l), l.noFrame && e.on(\"update\", l.onBaseTextureUpdated, l), l;\n    }\n    return t.prototype.update = function() {\n      this.baseTexture.resource && this.baseTexture.resource.update();\n    }, t.prototype.onBaseTextureUpdated = function(e) {\n      if (this.noFrame) {\n        if (!this.baseTexture.valid)\n          return;\n        this._frame.width = e.width, this._frame.height = e.height, this.valid = !0, this.updateUvs();\n      } else\n        this.frame = this._frame;\n      this.emit(\"update\", this);\n    }, t.prototype.destroy = function(e) {\n      if (this.baseTexture) {\n        if (e) {\n          var i = this.baseTexture.resource;\n          i && i.url && li[i.url] && t.removeFromCache(i.url), this.baseTexture.destroy();\n        }\n        this.baseTexture.off(\"loaded\", this.onBaseTextureUpdated, this), this.baseTexture.off(\"update\", this.onBaseTextureUpdated, this), this.baseTexture = null;\n      }\n      this._frame = null, this._uvs = null, this.trim = null, this.orig = null, this.valid = !1, t.removeFromCache(this), this.textureCacheIds = null;\n    }, t.prototype.clone = function() {\n      var e = this._frame.clone(), i = this._frame === this.orig ? e : this.orig.clone(), n = new t(this.baseTexture, !this.noFrame && e, i, this.trim && this.trim.clone(), this.rotate, this.defaultAnchor);\n      return this.noFrame && (n._frame = e), n;\n    }, t.prototype.updateUvs = function() {\n      this._uvs === rg && (this._uvs = new Wy()), this._uvs.set(this._frame, this.baseTexture, this.rotate), this._updateID++;\n    }, t.from = function(e, i, n) {\n      i === void 0 && (i = {}), n === void 0 && (n = Q.STRICT_TEXTURE_CACHE);\n      var s = typeof e == \"string\", o = null;\n      if (s)\n        o = e;\n      else if (e instanceof It) {\n        if (!e.cacheId) {\n          var a = i && i.pixiIdPrefix || \"pixiid\";\n          e.cacheId = a + \"-\" + Vo(), It.addToCache(e, e.cacheId);\n        }\n        o = e.cacheId;\n      } else {\n        if (!e._pixiId) {\n          var a = i && i.pixiIdPrefix || \"pixiid\";\n          e._pixiId = a + \"_\" + Vo();\n        }\n        o = e._pixiId;\n      }\n      var l = li[o];\n      if (s && n && !l)\n        throw new Error('The cacheId \"' + o + '\" does not exist in TextureCache.');\n      return !l && !(e instanceof It) ? (i.resolution || (i.resolution = Nf(e)), l = new t(new It(e, i)), l.baseTexture.cacheId = o, It.addToCache(l.baseTexture, o), t.addToCache(l, o)) : !l && e instanceof It && (l = new t(e), t.addToCache(l, o)), l;\n    }, t.fromURL = function(e, i) {\n      var n = Object.assign({ autoLoad: !1 }, i == null ? void 0 : i.resourceOptions), s = t.from(e, Object.assign({ resourceOptions: n }, i), !1), o = s.baseTexture.resource;\n      return s.baseTexture.valid ? Promise.resolve(s) : o.load().then(function() {\n        return Promise.resolve(s);\n      });\n    }, t.fromBuffer = function(e, i, n, s) {\n      return new t(It.fromBuffer(e, i, n, s));\n    }, t.fromLoader = function(e, i, n, s) {\n      var o = new It(e, Object.assign({\n        scaleMode: Q.SCALE_MODE,\n        resolution: Nf(i)\n      }, s)), a = o.resource;\n      a instanceof yv && (a.url = i);\n      var l = new t(o);\n      return n || (n = i), It.addToCache(l.baseTexture, n), t.addToCache(l, n), n !== i && (It.addToCache(l.baseTexture, i), t.addToCache(l, i)), l.baseTexture.valid ? Promise.resolve(l) : new Promise(function(u) {\n        l.baseTexture.once(\"loaded\", function() {\n          return u(l);\n        });\n      });\n    }, t.addToCache = function(e, i) {\n      i && (e.textureCacheIds.indexOf(i) === -1 && e.textureCacheIds.push(i), li[i] && console.warn(\"Texture added to the cache with an id [\" + i + \"] that already had an entry\"), li[i] = e);\n    }, t.removeFromCache = function(e) {\n      if (typeof e == \"string\") {\n        var i = li[e];\n        if (i) {\n          var n = i.textureCacheIds.indexOf(e);\n          return n > -1 && i.textureCacheIds.splice(n, 1), delete li[e], i;\n        }\n      } else if (e && e.textureCacheIds) {\n        for (var s = 0; s < e.textureCacheIds.length; ++s)\n          li[e.textureCacheIds[s]] === e && delete li[e.textureCacheIds[s]];\n        return e.textureCacheIds.length = 0, e;\n      }\n      return null;\n    }, Object.defineProperty(t.prototype, \"resolution\", {\n      /**\n       * Returns resolution of baseTexture\n       * @readonly\n       */\n      get: function() {\n        return this.baseTexture.resolution;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"frame\", {\n      /**\n       * The frame specifies the region of the base texture that this texture uses.\n       * Please call `updateUvs()` after you change coordinates of `frame` manually.\n       */\n      get: function() {\n        return this._frame;\n      },\n      set: function(e) {\n        this._frame = e, this.noFrame = !1;\n        var i = e.x, n = e.y, s = e.width, o = e.height, a = i + s > this.baseTexture.width, l = n + o > this.baseTexture.height;\n        if (a || l) {\n          var u = a && l ? \"and\" : \"or\", c = \"X: \" + i + \" + \" + s + \" = \" + (i + s) + \" > \" + this.baseTexture.width, f = \"Y: \" + n + \" + \" + o + \" = \" + (n + o) + \" > \" + this.baseTexture.height;\n          throw new Error(\"Texture Error: frame does not fit inside the base Texture dimensions: \" + (c + \" \" + u + \" \" + f));\n        }\n        this.valid = s && o && this.baseTexture.valid, !this.trim && !this.rotate && (this.orig = e), this.valid && this.updateUvs();\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"rotate\", {\n      /**\n       * Indicates whether the texture is rotated inside the atlas\n       * set to 2 to compensate for texture packer rotation\n       * set to 6 to compensate for spine packer rotation\n       * can be used to rotate or mirror sprites\n       * See {@link PIXI.groupD8} for explanation\n       */\n      get: function() {\n        return this._rotate;\n      },\n      set: function(e) {\n        this._rotate = e, this.valid && this.updateUvs();\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"width\", {\n      /** The width of the Texture in pixels. */\n      get: function() {\n        return this.orig.width;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"height\", {\n      /** The height of the Texture in pixels. */\n      get: function() {\n        return this.orig.height;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t.prototype.castToBaseTexture = function() {\n      return this.baseTexture;\n    }, Object.defineProperty(t, \"EMPTY\", {\n      /** An empty texture, used often to not have to create multiple empty textures. Can not be destroyed. */\n      get: function() {\n        return t._EMPTY || (t._EMPTY = new t(new It()), Cc(t._EMPTY), Cc(t._EMPTY.baseTexture)), t._EMPTY;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t, \"WHITE\", {\n      /** A white texture of 16x16 size, used for graphics and other things Can not be destroyed. */\n      get: function() {\n        if (!t._WHITE) {\n          var e = Q.ADAPTER.createCanvas(16, 16), i = e.getContext(\"2d\");\n          e.width = 16, e.height = 16, i.fillStyle = \"white\", i.fillRect(0, 0, 16, 16), t._WHITE = new t(It.from(e)), Cc(t._WHITE), Cc(t._WHITE.baseTexture);\n        }\n        return t._WHITE;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t;\n  }(Ji)\n), qi = (\n  /** @class */\n  function(r) {\n    ne(t, r);\n    function t(e, i) {\n      var n = r.call(this, e, i) || this;\n      return n.valid = !0, n.filterFrame = null, n.filterPoolKey = null, n.updateUvs(), n;\n    }\n    return Object.defineProperty(t.prototype, \"framebuffer\", {\n      /**\n       * Shortcut to `this.baseTexture.framebuffer`, saves baseTexture cast.\n       * @readonly\n       */\n      get: function() {\n        return this.baseTexture.framebuffer;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"multisample\", {\n      /**\n       * Shortcut to `this.framebuffer.multisample`.\n       * @default PIXI.MSAA_QUALITY.NONE\n       */\n      get: function() {\n        return this.framebuffer.multisample;\n      },\n      set: function(e) {\n        this.framebuffer.multisample = e;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t.prototype.resize = function(e, i, n) {\n      n === void 0 && (n = !0);\n      var s = this.baseTexture.resolution, o = Math.round(e * s) / s, a = Math.round(i * s) / s;\n      this.valid = o > 0 && a > 0, this._frame.width = this.orig.width = o, this._frame.height = this.orig.height = a, n && this.baseTexture.resize(o, a), this.updateUvs();\n    }, t.prototype.setResolution = function(e) {\n      var i = this.baseTexture;\n      i.resolution !== e && (i.setResolution(e), this.resize(i.width, i.height, !1));\n    }, t.create = function(e) {\n      for (var i = arguments, n = [], s = 1; s < arguments.length; s++)\n        n[s - 1] = i[s];\n      return typeof e == \"number\" && (fi(\"6.0.0\", \"Arguments (width, height, scaleMode, resolution) have been deprecated.\"), e = {\n        width: e,\n        height: n[0],\n        scaleMode: n[1],\n        resolution: n[2]\n      }), new t(new Xy(e));\n    }, t;\n  }(lt)\n), U0 = (\n  /** @class */\n  function() {\n    function r(t) {\n      this.texturePool = {}, this.textureOptions = t || {}, this.enableFullScreen = !1, this._pixelsWidth = 0, this._pixelsHeight = 0;\n    }\n    return r.prototype.createTexture = function(t, e, i) {\n      i === void 0 && (i = le.NONE);\n      var n = new Xy(Object.assign({\n        width: t,\n        height: e,\n        resolution: 1,\n        multisample: i\n      }, this.textureOptions));\n      return new qi(n);\n    }, r.prototype.getOptimalTexture = function(t, e, i, n) {\n      i === void 0 && (i = 1), n === void 0 && (n = le.NONE);\n      var s;\n      t = Math.ceil(t * i - 1e-6), e = Math.ceil(e * i - 1e-6), !this.enableFullScreen || t !== this._pixelsWidth || e !== this._pixelsHeight ? (t = kf(t), e = kf(e), s = ((t & 65535) << 16 | e & 65535) >>> 0, n > 1 && (s += n * 4294967296)) : s = n > 1 ? -n : -1, this.texturePool[s] || (this.texturePool[s] = []);\n      var o = this.texturePool[s].pop();\n      return o || (o = this.createTexture(t, e, n)), o.filterPoolKey = s, o.setResolution(i), o;\n    }, r.prototype.getFilterTexture = function(t, e, i) {\n      var n = this.getOptimalTexture(t.width, t.height, e || t.resolution, i || le.NONE);\n      return n.filterFrame = t.filterFrame, n;\n    }, r.prototype.returnTexture = function(t) {\n      var e = t.filterPoolKey;\n      t.filterFrame = null, this.texturePool[e].push(t);\n    }, r.prototype.returnFilterTexture = function(t) {\n      this.returnTexture(t);\n    }, r.prototype.clear = function(t) {\n      if (t = t !== !1, t)\n        for (var e in this.texturePool) {\n          var i = this.texturePool[e];\n          if (i)\n            for (var n = 0; n < i.length; n++)\n              i[n].destroy(!0);\n        }\n      this.texturePool = {};\n    }, r.prototype.setScreenSize = function(t) {\n      if (!(t.width === this._pixelsWidth && t.height === this._pixelsHeight)) {\n        this.enableFullScreen = t.width > 0 && t.height > 0;\n        for (var e in this.texturePool)\n          if (Number(e) < 0) {\n            var i = this.texturePool[e];\n            if (i)\n              for (var n = 0; n < i.length; n++)\n                i[n].destroy(!0);\n            this.texturePool[e] = [];\n          }\n        this._pixelsWidth = t.width, this._pixelsHeight = t.height;\n      }\n    }, r.SCREEN_KEY = -1, r;\n  }()\n), vm = (\n  /** @class */\n  function() {\n    function r(t, e, i, n, s, o, a) {\n      e === void 0 && (e = 0), i === void 0 && (i = !1), n === void 0 && (n = ut.FLOAT), this.buffer = t, this.size = e, this.normalized = i, this.type = n, this.stride = s, this.start = o, this.instance = a;\n    }\n    return r.prototype.destroy = function() {\n      this.buffer = null;\n    }, r.from = function(t, e, i, n, s) {\n      return new r(t, e, i, n, s);\n    }, r;\n  }()\n), rP = 0, Me = (\n  /** @class */\n  function() {\n    function r(t, e, i) {\n      e === void 0 && (e = !0), i === void 0 && (i = !1), this.data = t || new Float32Array(1), this._glBuffers = {}, this._updateID = 0, this.index = i, this.static = e, this.id = rP++, this.disposeRunner = new Xe(\"disposeBuffer\");\n    }\n    return r.prototype.update = function(t) {\n      t instanceof Array && (t = new Float32Array(t)), this.data = t || this.data, this._updateID++;\n    }, r.prototype.dispose = function() {\n      this.disposeRunner.emit(this, !1);\n    }, r.prototype.destroy = function() {\n      this.dispose(), this.data = null;\n    }, Object.defineProperty(r.prototype, \"index\", {\n      get: function() {\n        return this.type === Kr.ELEMENT_ARRAY_BUFFER;\n      },\n      /**\n       * Flags whether this is an index buffer.\n       *\n       * Index buffers are of type `ELEMENT_ARRAY_BUFFER`. Note that setting this property to false will make\n       * the buffer of type `ARRAY_BUFFER`.\n       *\n       * For backwards compatibility.\n       */\n      set: function(t) {\n        this.type = t ? Kr.ELEMENT_ARRAY_BUFFER : Kr.ARRAY_BUFFER;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), r.from = function(t) {\n      return t instanceof Array && (t = new Float32Array(t)), new r(t);\n    }, r;\n  }()\n), nP = {\n  Float32Array,\n  Uint32Array,\n  Int32Array,\n  Uint8Array\n};\nfunction sP(r, t) {\n  for (var e = 0, i = 0, n = {}, s = 0; s < r.length; s++)\n    i += t[s], e += r[s].length;\n  for (var o = new ArrayBuffer(e * 4), a = null, l = 0, s = 0; s < r.length; s++) {\n    var u = t[s], c = r[s], f = N0(c);\n    n[f] || (n[f] = new nP[f](o)), a = n[f];\n    for (var d = 0; d < c.length; d++) {\n      var p = (d / u | 0) * i + l, m = d % u;\n      a[p + m] = c[d];\n    }\n    l += u;\n  }\n  return new Float32Array(o);\n}\nvar ng = { 5126: 4, 5123: 2, 5121: 1 }, oP = 0, aP = {\n  Float32Array,\n  Uint32Array,\n  Int32Array,\n  Uint8Array,\n  Uint16Array\n}, Ch = (\n  /** @class */\n  function() {\n    function r(t, e) {\n      t === void 0 && (t = []), e === void 0 && (e = {}), this.buffers = t, this.indexBuffer = null, this.attributes = e, this.glVertexArrayObjects = {}, this.id = oP++, this.instanced = !1, this.instanceCount = 1, this.disposeRunner = new Xe(\"disposeGeometry\"), this.refCount = 0;\n    }\n    return r.prototype.addAttribute = function(t, e, i, n, s, o, a, l) {\n      if (i === void 0 && (i = 0), n === void 0 && (n = !1), l === void 0 && (l = !1), !e)\n        throw new Error(\"You must pass a buffer when creating an attribute\");\n      e instanceof Me || (e instanceof Array && (e = new Float32Array(e)), e = new Me(e));\n      var u = t.split(\"|\");\n      if (u.length > 1) {\n        for (var c = 0; c < u.length; c++)\n          this.addAttribute(u[c], e, i, n, s);\n        return this;\n      }\n      var f = this.buffers.indexOf(e);\n      return f === -1 && (this.buffers.push(e), f = this.buffers.length - 1), this.attributes[t] = new vm(f, i, n, s, o, a, l), this.instanced = this.instanced || l, this;\n    }, r.prototype.getAttribute = function(t) {\n      return this.attributes[t];\n    }, r.prototype.getBuffer = function(t) {\n      return this.buffers[this.getAttribute(t).buffer];\n    }, r.prototype.addIndex = function(t) {\n      return t instanceof Me || (t instanceof Array && (t = new Uint16Array(t)), t = new Me(t)), t.type = Kr.ELEMENT_ARRAY_BUFFER, this.indexBuffer = t, this.buffers.indexOf(t) === -1 && this.buffers.push(t), this;\n    }, r.prototype.getIndex = function() {\n      return this.indexBuffer;\n    }, r.prototype.interleave = function() {\n      if (this.buffers.length === 1 || this.buffers.length === 2 && this.indexBuffer)\n        return this;\n      var t = [], e = [], i = new Me(), n;\n      for (n in this.attributes) {\n        var s = this.attributes[n], o = this.buffers[s.buffer];\n        t.push(o.data), e.push(s.size * ng[s.type] / 4), s.buffer = 0;\n      }\n      for (i.data = sP(t, e), n = 0; n < this.buffers.length; n++)\n        this.buffers[n] !== this.indexBuffer && this.buffers[n].destroy();\n      return this.buffers = [i], this.indexBuffer && this.buffers.push(this.indexBuffer), this;\n    }, r.prototype.getSize = function() {\n      for (var t in this.attributes) {\n        var e = this.attributes[t], i = this.buffers[e.buffer];\n        return i.data.length / (e.stride / 4 || e.size);\n      }\n      return 0;\n    }, r.prototype.dispose = function() {\n      this.disposeRunner.emit(this, !1);\n    }, r.prototype.destroy = function() {\n      this.dispose(), this.buffers = null, this.indexBuffer = null, this.attributes = null;\n    }, r.prototype.clone = function() {\n      for (var t = new r(), e = 0; e < this.buffers.length; e++)\n        t.buffers[e] = new Me(this.buffers[e].data.slice(0));\n      for (var e in this.attributes) {\n        var i = this.attributes[e];\n        t.attributes[e] = new vm(i.buffer, i.size, i.normalized, i.type, i.stride, i.start, i.instance);\n      }\n      return this.indexBuffer && (t.indexBuffer = t.buffers[this.buffers.indexOf(this.indexBuffer)], t.indexBuffer.type = Kr.ELEMENT_ARRAY_BUFFER), t;\n    }, r.merge = function(t) {\n      for (var e = new r(), i = [], n = [], s = [], o, a = 0; a < t.length; a++) {\n        o = t[a];\n        for (var l = 0; l < o.buffers.length; l++)\n          n[l] = n[l] || 0, n[l] += o.buffers[l].data.length, s[l] = 0;\n      }\n      for (var a = 0; a < o.buffers.length; a++)\n        i[a] = new aP[N0(o.buffers[a].data)](n[a]), e.buffers[a] = new Me(i[a]);\n      for (var a = 0; a < t.length; a++) {\n        o = t[a];\n        for (var l = 0; l < o.buffers.length; l++)\n          i[l].set(o.buffers[l].data, s[l]), s[l] += o.buffers[l].data.length;\n      }\n      if (e.attributes = o.attributes, o.indexBuffer) {\n        e.indexBuffer = e.buffers[o.buffers.indexOf(o.indexBuffer)], e.indexBuffer.type = Kr.ELEMENT_ARRAY_BUFFER;\n        for (var u = 0, c = 0, f = 0, d = 0, a = 0; a < o.buffers.length; a++)\n          if (o.buffers[a] !== o.indexBuffer) {\n            d = a;\n            break;\n          }\n        for (var a in o.attributes) {\n          var p = o.attributes[a];\n          (p.buffer | 0) === d && (c += p.size * ng[p.type] / 4);\n        }\n        for (var a = 0; a < t.length; a++) {\n          for (var m = t[a].indexBuffer.data, l = 0; l < m.length; l++)\n            e.indexBuffer.data[l + f] += u;\n          u += t[a].buffers[d].data.length / c, f += m.length;\n        }\n      }\n      return e;\n    }, r;\n  }()\n), G0 = (\n  /** @class */\n  function(r) {\n    ne(t, r);\n    function t() {\n      var e = r.call(this) || this;\n      return e.addAttribute(\"aVertexPosition\", new Float32Array([\n        0,\n        0,\n        1,\n        0,\n        1,\n        1,\n        0,\n        1\n      ])).addIndex([0, 1, 3, 2]), e;\n    }\n    return t;\n  }(Ch)\n), Yy = (\n  /** @class */\n  function(r) {\n    ne(t, r);\n    function t() {\n      var e = r.call(this) || this;\n      return e.vertices = new Float32Array([\n        -1,\n        -1,\n        1,\n        -1,\n        1,\n        1,\n        -1,\n        1\n      ]), e.uvs = new Float32Array([\n        0,\n        0,\n        1,\n        0,\n        1,\n        1,\n        0,\n        1\n      ]), e.vertexBuffer = new Me(e.vertices), e.uvBuffer = new Me(e.uvs), e.addAttribute(\"aVertexPosition\", e.vertexBuffer).addAttribute(\"aTextureCoord\", e.uvBuffer).addIndex([0, 1, 2, 0, 2, 3]), e;\n    }\n    return t.prototype.map = function(e, i) {\n      var n = 0, s = 0;\n      return this.uvs[0] = n, this.uvs[1] = s, this.uvs[2] = n + i.width / e.width, this.uvs[3] = s, this.uvs[4] = n + i.width / e.width, this.uvs[5] = s + i.height / e.height, this.uvs[6] = n, this.uvs[7] = s + i.height / e.height, n = i.x, s = i.y, this.vertices[0] = n, this.vertices[1] = s, this.vertices[2] = n + i.width, this.vertices[3] = s, this.vertices[4] = n + i.width, this.vertices[5] = s + i.height, this.vertices[6] = n, this.vertices[7] = s + i.height, this.invalidate(), this;\n    }, t.prototype.invalidate = function() {\n      return this.vertexBuffer._updateID++, this.uvBuffer._updateID++, this;\n    }, t;\n  }(Ch)\n), hP = 0, ms = (\n  /** @class */\n  function() {\n    function r(t, e, i) {\n      this.group = !0, this.syncUniforms = {}, this.dirtyId = 0, this.id = hP++, this.static = !!e, this.ubo = !!i, t instanceof Me ? (this.buffer = t, this.buffer.type = Kr.UNIFORM_BUFFER, this.autoManage = !1, this.ubo = !0) : (this.uniforms = t, this.ubo && (this.buffer = new Me(new Float32Array(1)), this.buffer.type = Kr.UNIFORM_BUFFER, this.autoManage = !0));\n    }\n    return r.prototype.update = function() {\n      this.dirtyId++, !this.autoManage && this.buffer && this.buffer.update();\n    }, r.prototype.add = function(t, e, i) {\n      if (!this.ubo)\n        this.uniforms[t] = new r(e, i);\n      else\n        throw new Error(\"[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them\");\n    }, r.from = function(t, e, i) {\n      return new r(t, e, i);\n    }, r.uboFrom = function(t, e) {\n      return new r(t, e ?? !0, !0);\n    }, r;\n  }()\n), j0 = (\n  /** @class */\n  function() {\n    function r() {\n      this.renderTexture = null, this.target = null, this.legacy = !1, this.resolution = 1, this.multisample = le.NONE, this.sourceFrame = new gt(), this.destinationFrame = new gt(), this.bindingSourceFrame = new gt(), this.bindingDestinationFrame = new gt(), this.filters = [], this.transform = null;\n    }\n    return r.prototype.clear = function() {\n      this.target = null, this.filters = null, this.renderTexture = null;\n    }, r;\n  }()\n), Mc = [new oe(), new oe(), new oe(), new oe()], kv = new Be(), qy = (\n  /** @class */\n  function() {\n    function r(t) {\n      this.renderer = t, this.defaultFilterStack = [{}], this.texturePool = new U0(), this.texturePool.setScreenSize(t.view), this.statePool = [], this.quad = new G0(), this.quadUv = new Yy(), this.tempRect = new gt(), this.activeState = {}, this.globalUniforms = new ms({\n        outputFrame: new gt(),\n        inputSize: new Float32Array(4),\n        inputPixel: new Float32Array(4),\n        inputClamp: new Float32Array(4),\n        resolution: 1,\n        // legacy variables\n        filterArea: new Float32Array(4),\n        filterClamp: new Float32Array(4)\n      }, !0), this.forceClear = !1, this.useMaxPadding = !1;\n    }\n    return r.prototype.push = function(t, e) {\n      for (var i, n, s = this.renderer, o = this.defaultFilterStack, a = this.statePool.pop() || new j0(), l = this.renderer.renderTexture, u = e[0].resolution, c = e[0].multisample, f = e[0].padding, d = e[0].autoFit, p = (i = e[0].legacy) !== null && i !== void 0 ? i : !0, m = 1; m < e.length; m++) {\n        var v = e[m];\n        u = Math.min(u, v.resolution), c = Math.min(c, v.multisample), f = this.useMaxPadding ? Math.max(f, v.padding) : f + v.padding, d = d && v.autoFit, p = p || ((n = v.legacy) !== null && n !== void 0 ? n : !0);\n      }\n      o.length === 1 && (this.defaultFilterStack[0].renderTexture = l.current), o.push(a), a.resolution = u, a.multisample = c, a.legacy = p, a.target = t, a.sourceFrame.copyFrom(t.filterArea || t.getBounds(!0)), a.sourceFrame.pad(f);\n      var y = this.tempRect.copyFrom(l.sourceFrame);\n      s.projection.transform && this.transformAABB(kv.copyFrom(s.projection.transform).invert(), y), d ? (a.sourceFrame.fit(y), (a.sourceFrame.width <= 0 || a.sourceFrame.height <= 0) && (a.sourceFrame.width = 0, a.sourceFrame.height = 0)) : a.sourceFrame.intersects(y) || (a.sourceFrame.width = 0, a.sourceFrame.height = 0), this.roundFrame(a.sourceFrame, l.current ? l.current.resolution : s.resolution, l.sourceFrame, l.destinationFrame, s.projection.transform), a.renderTexture = this.getOptimalFilterTexture(a.sourceFrame.width, a.sourceFrame.height, u, c), a.filters = e, a.destinationFrame.width = a.renderTexture.width, a.destinationFrame.height = a.renderTexture.height;\n      var g = this.tempRect;\n      g.x = 0, g.y = 0, g.width = a.sourceFrame.width, g.height = a.sourceFrame.height, a.renderTexture.filterFrame = a.sourceFrame, a.bindingSourceFrame.copyFrom(l.sourceFrame), a.bindingDestinationFrame.copyFrom(l.destinationFrame), a.transform = s.projection.transform, s.projection.transform = null, l.bind(a.renderTexture, a.sourceFrame, g), s.framebuffer.clear(0, 0, 0, 0);\n    }, r.prototype.pop = function() {\n      var t = this.defaultFilterStack, e = t.pop(), i = e.filters;\n      this.activeState = e;\n      var n = this.globalUniforms.uniforms;\n      n.outputFrame = e.sourceFrame, n.resolution = e.resolution;\n      var s = n.inputSize, o = n.inputPixel, a = n.inputClamp;\n      if (s[0] = e.destinationFrame.width, s[1] = e.destinationFrame.height, s[2] = 1 / s[0], s[3] = 1 / s[1], o[0] = Math.round(s[0] * e.resolution), o[1] = Math.round(s[1] * e.resolution), o[2] = 1 / o[0], o[3] = 1 / o[1], a[0] = 0.5 * o[2], a[1] = 0.5 * o[3], a[2] = e.sourceFrame.width * s[2] - 0.5 * o[2], a[3] = e.sourceFrame.height * s[3] - 0.5 * o[3], e.legacy) {\n        var l = n.filterArea;\n        l[0] = e.destinationFrame.width, l[1] = e.destinationFrame.height, l[2] = e.sourceFrame.x, l[3] = e.sourceFrame.y, n.filterClamp = n.inputClamp;\n      }\n      this.globalUniforms.update();\n      var u = t[t.length - 1];\n      if (this.renderer.framebuffer.blit(), i.length === 1)\n        i[0].apply(this, e.renderTexture, u.renderTexture, _r.BLEND, e), this.returnFilterTexture(e.renderTexture);\n      else {\n        var c = e.renderTexture, f = this.getOptimalFilterTexture(c.width, c.height, e.resolution);\n        f.filterFrame = c.filterFrame;\n        var d = 0;\n        for (d = 0; d < i.length - 1; ++d) {\n          d === 1 && e.multisample > 1 && (f = this.getOptimalFilterTexture(c.width, c.height, e.resolution), f.filterFrame = c.filterFrame), i[d].apply(this, c, f, _r.CLEAR, e);\n          var p = c;\n          c = f, f = p;\n        }\n        i[d].apply(this, c, u.renderTexture, _r.BLEND, e), d > 1 && e.multisample > 1 && this.returnFilterTexture(e.renderTexture), this.returnFilterTexture(c), this.returnFilterTexture(f);\n      }\n      e.clear(), this.statePool.push(e);\n    }, r.prototype.bindAndClear = function(t, e) {\n      e === void 0 && (e = _r.CLEAR);\n      var i = this.renderer, n = i.renderTexture, s = i.state;\n      if (t === this.defaultFilterStack[this.defaultFilterStack.length - 1].renderTexture ? this.renderer.projection.transform = this.activeState.transform : this.renderer.projection.transform = null, t && t.filterFrame) {\n        var o = this.tempRect;\n        o.x = 0, o.y = 0, o.width = t.filterFrame.width, o.height = t.filterFrame.height, n.bind(t, t.filterFrame, o);\n      } else\n        t !== this.defaultFilterStack[this.defaultFilterStack.length - 1].renderTexture ? n.bind(t) : this.renderer.renderTexture.bind(t, this.activeState.bindingSourceFrame, this.activeState.bindingDestinationFrame);\n      var a = s.stateId & 1 || this.forceClear;\n      (e === _r.CLEAR || e === _r.BLIT && a) && this.renderer.framebuffer.clear(0, 0, 0, 0);\n    }, r.prototype.applyFilter = function(t, e, i, n) {\n      var s = this.renderer;\n      s.state.set(t.state), this.bindAndClear(i, n), t.uniforms.uSampler = e, t.uniforms.filterGlobals = this.globalUniforms, s.shader.bind(t), t.legacy = !!t.program.attributeData.aTextureCoord, t.legacy ? (this.quadUv.map(e._frame, e.filterFrame), s.geometry.bind(this.quadUv), s.geometry.draw(xr.TRIANGLES)) : (s.geometry.bind(this.quad), s.geometry.draw(xr.TRIANGLE_STRIP));\n    }, r.prototype.calculateSpriteMatrix = function(t, e) {\n      var i = this.activeState, n = i.sourceFrame, s = i.destinationFrame, o = e._texture.orig, a = t.set(s.width, 0, 0, s.height, n.x, n.y), l = e.worldTransform.copyTo(Be.TEMP_MATRIX);\n      return l.invert(), a.prepend(l), a.scale(1 / o.width, 1 / o.height), a.translate(e.anchor.x, e.anchor.y), a;\n    }, r.prototype.destroy = function() {\n      this.renderer = null, this.texturePool.clear(!1);\n    }, r.prototype.getOptimalFilterTexture = function(t, e, i, n) {\n      return i === void 0 && (i = 1), n === void 0 && (n = le.NONE), this.texturePool.getOptimalTexture(t, e, i, n);\n    }, r.prototype.getFilterTexture = function(t, e, i) {\n      if (typeof t == \"number\") {\n        var n = t;\n        t = e, e = n;\n      }\n      t = t || this.activeState.renderTexture;\n      var s = this.texturePool.getOptimalTexture(t.width, t.height, e || t.resolution, i || le.NONE);\n      return s.filterFrame = t.filterFrame, s;\n    }, r.prototype.returnFilterTexture = function(t) {\n      this.texturePool.returnTexture(t);\n    }, r.prototype.emptyPool = function() {\n      this.texturePool.clear(!0);\n    }, r.prototype.resize = function() {\n      this.texturePool.setScreenSize(this.renderer.view);\n    }, r.prototype.transformAABB = function(t, e) {\n      var i = Mc[0], n = Mc[1], s = Mc[2], o = Mc[3];\n      i.set(e.left, e.top), n.set(e.left, e.bottom), s.set(e.right, e.top), o.set(e.right, e.bottom), t.apply(i, i), t.apply(n, n), t.apply(s, s), t.apply(o, o);\n      var a = Math.min(i.x, n.x, s.x, o.x), l = Math.min(i.y, n.y, s.y, o.y), u = Math.max(i.x, n.x, s.x, o.x), c = Math.max(i.y, n.y, s.y, o.y);\n      e.x = a, e.y = l, e.width = u - a, e.height = c - l;\n    }, r.prototype.roundFrame = function(t, e, i, n, s) {\n      if (!(t.width <= 0 || t.height <= 0 || i.width <= 0 || i.height <= 0)) {\n        if (s) {\n          var o = s.a, a = s.b, l = s.c, u = s.d;\n          if ((Math.abs(a) > 1e-4 || Math.abs(l) > 1e-4) && (Math.abs(o) > 1e-4 || Math.abs(u) > 1e-4))\n            return;\n        }\n        s = s ? kv.copyFrom(s) : kv.identity(), s.translate(-i.x, -i.y).scale(n.width / i.width, n.height / i.height).translate(n.x, n.y), this.transformAABB(s, t), t.ceil(e), this.transformAABB(s.invert(), t);\n      }\n    }, r;\n  }()\n), bc = (\n  /** @class */\n  function() {\n    function r(t) {\n      this.renderer = t;\n    }\n    return r.prototype.flush = function() {\n    }, r.prototype.destroy = function() {\n      this.renderer = null;\n    }, r.prototype.start = function() {\n    }, r.prototype.stop = function() {\n      this.flush();\n    }, r.prototype.render = function(t) {\n    }, r;\n  }()\n), Zy = (\n  /** @class */\n  function() {\n    function r(t) {\n      this.renderer = t, this.emptyRenderer = new bc(t), this.currentRenderer = this.emptyRenderer;\n    }\n    return r.prototype.setObjectRenderer = function(t) {\n      this.currentRenderer !== t && (this.currentRenderer.stop(), this.currentRenderer = t, this.currentRenderer.start());\n    }, r.prototype.flush = function() {\n      this.setObjectRenderer(this.emptyRenderer);\n    }, r.prototype.reset = function() {\n      this.setObjectRenderer(this.emptyRenderer);\n    }, r.prototype.copyBoundTextures = function(t, e) {\n      for (var i = this.renderer.texture.boundTextures, n = e - 1; n >= 0; --n)\n        t[n] = i[n] || null, t[n] && (t[n]._batchLocation = n);\n    }, r.prototype.boundArray = function(t, e, i, n) {\n      for (var s = t.elements, o = t.ids, a = t.count, l = 0, u = 0; u < a; u++) {\n        var c = s[u], f = c._batchLocation;\n        if (f >= 0 && f < n && e[f] === c) {\n          o[u] = f;\n          continue;\n        }\n        for (; l < n; ) {\n          var d = e[l];\n          if (d && d._batchEnabled === i && d._batchLocation === l) {\n            l++;\n            continue;\n          }\n          o[u] = l, c._batchLocation = l, e[l] = c;\n          break;\n        }\n      }\n    }, r.prototype.destroy = function() {\n      this.renderer = null;\n    }, r;\n  }()\n), sg = 0, Ky = (\n  /** @class */\n  function() {\n    function r(t) {\n      this.renderer = t, this.webGLVersion = 1, this.extensions = {}, this.supports = {\n        uint32Indices: !1\n      }, this.handleContextLost = this.handleContextLost.bind(this), this.handleContextRestored = this.handleContextRestored.bind(this), t.view.addEventListener(\"webglcontextlost\", this.handleContextLost, !1), t.view.addEventListener(\"webglcontextrestored\", this.handleContextRestored, !1);\n    }\n    return Object.defineProperty(r.prototype, \"isLost\", {\n      /**\n       * `true` if the context is lost\n       * @readonly\n       */\n      get: function() {\n        return !this.gl || this.gl.isContextLost();\n      },\n      enumerable: !1,\n      configurable: !0\n    }), r.prototype.contextChange = function(t) {\n      this.gl = t, this.renderer.gl = t, this.renderer.CONTEXT_UID = sg++;\n    }, r.prototype.initFromContext = function(t) {\n      this.gl = t, this.validateContext(t), this.renderer.gl = t, this.renderer.CONTEXT_UID = sg++, this.renderer.runners.contextChange.emit(t);\n    }, r.prototype.initFromOptions = function(t) {\n      var e = this.createContext(this.renderer.view, t);\n      this.initFromContext(e);\n    }, r.prototype.createContext = function(t, e) {\n      var i;\n      if (Q.PREFER_ENV >= Fn.WEBGL2 && (i = t.getContext(\"webgl2\", e)), i)\n        this.webGLVersion = 2;\n      else if (this.webGLVersion = 1, i = t.getContext(\"webgl\", e) || t.getContext(\"experimental-webgl\", e), !i)\n        throw new Error(\"This browser does not support WebGL. Try using the canvas renderer\");\n      return this.gl = i, this.getExtensions(), this.gl;\n    }, r.prototype.getExtensions = function() {\n      var t = this.gl, e = {\n        loseContext: t.getExtension(\"WEBGL_lose_context\"),\n        anisotropicFiltering: t.getExtension(\"EXT_texture_filter_anisotropic\"),\n        floatTextureLinear: t.getExtension(\"OES_texture_float_linear\"),\n        s3tc: t.getExtension(\"WEBGL_compressed_texture_s3tc\"),\n        s3tc_sRGB: t.getExtension(\"WEBGL_compressed_texture_s3tc_srgb\"),\n        etc: t.getExtension(\"WEBGL_compressed_texture_etc\"),\n        etc1: t.getExtension(\"WEBGL_compressed_texture_etc1\"),\n        pvrtc: t.getExtension(\"WEBGL_compressed_texture_pvrtc\") || t.getExtension(\"WEBKIT_WEBGL_compressed_texture_pvrtc\"),\n        atc: t.getExtension(\"WEBGL_compressed_texture_atc\"),\n        astc: t.getExtension(\"WEBGL_compressed_texture_astc\")\n      };\n      this.webGLVersion === 1 ? Object.assign(this.extensions, e, {\n        drawBuffers: t.getExtension(\"WEBGL_draw_buffers\"),\n        depthTexture: t.getExtension(\"WEBGL_depth_texture\"),\n        vertexArrayObject: t.getExtension(\"OES_vertex_array_object\") || t.getExtension(\"MOZ_OES_vertex_array_object\") || t.getExtension(\"WEBKIT_OES_vertex_array_object\"),\n        uint32ElementIndex: t.getExtension(\"OES_element_index_uint\"),\n        // Floats and half-floats\n        floatTexture: t.getExtension(\"OES_texture_float\"),\n        floatTextureLinear: t.getExtension(\"OES_texture_float_linear\"),\n        textureHalfFloat: t.getExtension(\"OES_texture_half_float\"),\n        textureHalfFloatLinear: t.getExtension(\"OES_texture_half_float_linear\")\n      }) : this.webGLVersion === 2 && Object.assign(this.extensions, e, {\n        // Floats and half-floats\n        colorBufferFloat: t.getExtension(\"EXT_color_buffer_float\")\n      });\n    }, r.prototype.handleContextLost = function(t) {\n      var e = this;\n      t.preventDefault(), setTimeout(function() {\n        e.gl.isContextLost() && e.extensions.loseContext && e.extensions.loseContext.restoreContext();\n      }, 0);\n    }, r.prototype.handleContextRestored = function() {\n      this.renderer.runners.contextChange.emit(this.gl);\n    }, r.prototype.destroy = function() {\n      var t = this.renderer.view;\n      this.renderer = null, t.removeEventListener(\"webglcontextlost\", this.handleContextLost), t.removeEventListener(\"webglcontextrestored\", this.handleContextRestored), this.gl.useProgram(null), this.extensions.loseContext && this.extensions.loseContext.loseContext();\n    }, r.prototype.postrender = function() {\n      this.renderer.renderingToScreen && this.gl.flush();\n    }, r.prototype.validateContext = function(t) {\n      var e = t.getContextAttributes(), i = \"WebGL2RenderingContext\" in globalThis && t instanceof globalThis.WebGL2RenderingContext;\n      i && (this.webGLVersion = 2), e && !e.stencil && console.warn(\"Provided WebGL context does not have a stencil buffer, masks may not render correctly\");\n      var n = i || !!t.getExtension(\"OES_element_index_uint\");\n      this.supports.uint32Indices = n, n || console.warn(\"Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly\");\n    }, r;\n  }()\n), H0 = (\n  /** @class */\n  function() {\n    function r(t) {\n      this.framebuffer = t, this.stencil = null, this.dirtyId = -1, this.dirtyFormat = -1, this.dirtySize = -1, this.multisample = le.NONE, this.msaaBuffer = null, this.blitFramebuffer = null, this.mipLevel = 0;\n    }\n    return r;\n  }()\n), lP = new gt(), Jy = (\n  /** @class */\n  function() {\n    function r(t) {\n      this.renderer = t, this.managedFramebuffers = [], this.unknownFramebuffer = new Df(10, 10), this.msaaSamples = null;\n    }\n    return r.prototype.contextChange = function() {\n      this.disposeAll(!0);\n      var t = this.gl = this.renderer.gl;\n      if (this.CONTEXT_UID = this.renderer.CONTEXT_UID, this.current = this.unknownFramebuffer, this.viewport = new gt(), this.hasMRT = !0, this.writeDepthTexture = !0, this.renderer.context.webGLVersion === 1) {\n        var e = this.renderer.context.extensions.drawBuffers, i = this.renderer.context.extensions.depthTexture;\n        Q.PREFER_ENV === Fn.WEBGL_LEGACY && (e = null, i = null), e ? t.drawBuffers = function(n) {\n          return e.drawBuffersWEBGL(n);\n        } : (this.hasMRT = !1, t.drawBuffers = function() {\n        }), i || (this.writeDepthTexture = !1);\n      } else\n        this.msaaSamples = t.getInternalformatParameter(t.RENDERBUFFER, t.RGBA8, t.SAMPLES);\n    }, r.prototype.bind = function(t, e, i) {\n      i === void 0 && (i = 0);\n      var n = this.gl;\n      if (t) {\n        var s = t.glFramebuffers[this.CONTEXT_UID] || this.initFramebuffer(t);\n        this.current !== t && (this.current = t, n.bindFramebuffer(n.FRAMEBUFFER, s.framebuffer)), s.mipLevel !== i && (t.dirtyId++, t.dirtyFormat++, s.mipLevel = i), s.dirtyId !== t.dirtyId && (s.dirtyId = t.dirtyId, s.dirtyFormat !== t.dirtyFormat ? (s.dirtyFormat = t.dirtyFormat, s.dirtySize = t.dirtySize, this.updateFramebuffer(t, i)) : s.dirtySize !== t.dirtySize && (s.dirtySize = t.dirtySize, this.resizeFramebuffer(t)));\n        for (var o = 0; o < t.colorTextures.length; o++) {\n          var a = t.colorTextures[o];\n          this.renderer.texture.unbind(a.parentTextureArray || a);\n        }\n        if (t.depthTexture && this.renderer.texture.unbind(t.depthTexture), e) {\n          var l = e.width >> i, u = e.height >> i, c = l / e.width;\n          this.setViewport(e.x * c, e.y * c, l, u);\n        } else {\n          var l = t.width >> i, u = t.height >> i;\n          this.setViewport(0, 0, l, u);\n        }\n      } else\n        this.current && (this.current = null, n.bindFramebuffer(n.FRAMEBUFFER, null)), e ? this.setViewport(e.x, e.y, e.width, e.height) : this.setViewport(0, 0, this.renderer.width, this.renderer.height);\n    }, r.prototype.setViewport = function(t, e, i, n) {\n      var s = this.viewport;\n      t = Math.round(t), e = Math.round(e), i = Math.round(i), n = Math.round(n), (s.width !== i || s.height !== n || s.x !== t || s.y !== e) && (s.x = t, s.y = e, s.width = i, s.height = n, this.gl.viewport(t, e, i, n));\n    }, Object.defineProperty(r.prototype, \"size\", {\n      /**\n       * Get the size of the current width and height. Returns object with `width` and `height` values.\n       * @readonly\n       */\n      get: function() {\n        return this.current ? { x: 0, y: 0, width: this.current.width, height: this.current.height } : { x: 0, y: 0, width: this.renderer.width, height: this.renderer.height };\n      },\n      enumerable: !1,\n      configurable: !0\n    }), r.prototype.clear = function(t, e, i, n, s) {\n      s === void 0 && (s = Cf.COLOR | Cf.DEPTH);\n      var o = this.gl;\n      o.clearColor(t, e, i, n), o.clear(s);\n    }, r.prototype.initFramebuffer = function(t) {\n      var e = this.gl, i = new H0(e.createFramebuffer());\n      return i.multisample = this.detectSamples(t.multisample), t.glFramebuffers[this.CONTEXT_UID] = i, this.managedFramebuffers.push(t), t.disposeRunner.add(this), i;\n    }, r.prototype.resizeFramebuffer = function(t) {\n      var e = this.gl, i = t.glFramebuffers[this.CONTEXT_UID];\n      i.msaaBuffer && (e.bindRenderbuffer(e.RENDERBUFFER, i.msaaBuffer), e.renderbufferStorageMultisample(e.RENDERBUFFER, i.multisample, e.RGBA8, t.width, t.height)), i.stencil && (e.bindRenderbuffer(e.RENDERBUFFER, i.stencil), i.msaaBuffer ? e.renderbufferStorageMultisample(e.RENDERBUFFER, i.multisample, e.DEPTH24_STENCIL8, t.width, t.height) : e.renderbufferStorage(e.RENDERBUFFER, e.DEPTH_STENCIL, t.width, t.height));\n      var n = t.colorTextures, s = n.length;\n      e.drawBuffers || (s = Math.min(s, 1));\n      for (var o = 0; o < s; o++) {\n        var a = n[o], l = a.parentTextureArray || a;\n        this.renderer.texture.bind(l, 0);\n      }\n      t.depthTexture && this.writeDepthTexture && this.renderer.texture.bind(t.depthTexture, 0);\n    }, r.prototype.updateFramebuffer = function(t, e) {\n      var i = this.gl, n = t.glFramebuffers[this.CONTEXT_UID], s = t.colorTextures, o = s.length;\n      i.drawBuffers || (o = Math.min(o, 1)), n.multisample > 1 && this.canMultisampleFramebuffer(t) ? (n.msaaBuffer = n.msaaBuffer || i.createRenderbuffer(), i.bindRenderbuffer(i.RENDERBUFFER, n.msaaBuffer), i.renderbufferStorageMultisample(i.RENDERBUFFER, n.multisample, i.RGBA8, t.width, t.height), i.framebufferRenderbuffer(i.FRAMEBUFFER, i.COLOR_ATTACHMENT0, i.RENDERBUFFER, n.msaaBuffer)) : n.msaaBuffer && (i.deleteRenderbuffer(n.msaaBuffer), n.msaaBuffer = null, n.blitFramebuffer && (n.blitFramebuffer.dispose(), n.blitFramebuffer = null));\n      for (var a = [], l = 0; l < o; l++) {\n        var u = s[l], c = u.parentTextureArray || u;\n        this.renderer.texture.bind(c, 0), !(l === 0 && n.msaaBuffer) && (i.framebufferTexture2D(i.FRAMEBUFFER, i.COLOR_ATTACHMENT0 + l, u.target, c._glTextures[this.CONTEXT_UID].texture, e), a.push(i.COLOR_ATTACHMENT0 + l));\n      }\n      if (a.length > 1 && i.drawBuffers(a), t.depthTexture) {\n        var f = this.writeDepthTexture;\n        if (f) {\n          var d = t.depthTexture;\n          this.renderer.texture.bind(d, 0), i.framebufferTexture2D(i.FRAMEBUFFER, i.DEPTH_ATTACHMENT, i.TEXTURE_2D, d._glTextures[this.CONTEXT_UID].texture, e);\n        }\n      }\n      (t.stencil || t.depth) && !(t.depthTexture && this.writeDepthTexture) ? (n.stencil = n.stencil || i.createRenderbuffer(), i.bindRenderbuffer(i.RENDERBUFFER, n.stencil), n.msaaBuffer ? i.renderbufferStorageMultisample(i.RENDERBUFFER, n.multisample, i.DEPTH24_STENCIL8, t.width, t.height) : i.renderbufferStorage(i.RENDERBUFFER, i.DEPTH_STENCIL, t.width, t.height), i.framebufferRenderbuffer(i.FRAMEBUFFER, i.DEPTH_STENCIL_ATTACHMENT, i.RENDERBUFFER, n.stencil)) : n.stencil && (i.deleteRenderbuffer(n.stencil), n.stencil = null);\n    }, r.prototype.canMultisampleFramebuffer = function(t) {\n      return this.renderer.context.webGLVersion !== 1 && t.colorTextures.length <= 1 && !t.depthTexture;\n    }, r.prototype.detectSamples = function(t) {\n      var e = this.msaaSamples, i = le.NONE;\n      if (t <= 1 || e === null)\n        return i;\n      for (var n = 0; n < e.length; n++)\n        if (e[n] <= t) {\n          i = e[n];\n          break;\n        }\n      return i === 1 && (i = le.NONE), i;\n    }, r.prototype.blit = function(t, e, i) {\n      var n = this, s = n.current, o = n.renderer, a = n.gl, l = n.CONTEXT_UID;\n      if (o.context.webGLVersion === 2 && s) {\n        var u = s.glFramebuffers[l];\n        if (u) {\n          if (!t) {\n            if (!u.msaaBuffer)\n              return;\n            var c = s.colorTextures[0];\n            if (!c)\n              return;\n            u.blitFramebuffer || (u.blitFramebuffer = new Df(s.width, s.height), u.blitFramebuffer.addColorTexture(0, c)), t = u.blitFramebuffer, t.colorTextures[0] !== c && (t.colorTextures[0] = c, t.dirtyId++, t.dirtyFormat++), (t.width !== s.width || t.height !== s.height) && (t.width = s.width, t.height = s.height, t.dirtyId++, t.dirtySize++);\n          }\n          e || (e = lP, e.width = s.width, e.height = s.height), i || (i = e);\n          var f = e.width === i.width && e.height === i.height;\n          this.bind(t), a.bindFramebuffer(a.READ_FRAMEBUFFER, u.framebuffer), a.blitFramebuffer(e.left, e.top, e.right, e.bottom, i.left, i.top, i.right, i.bottom, a.COLOR_BUFFER_BIT, f ? a.NEAREST : a.LINEAR);\n        }\n      }\n    }, r.prototype.disposeFramebuffer = function(t, e) {\n      var i = t.glFramebuffers[this.CONTEXT_UID], n = this.gl;\n      if (i) {\n        delete t.glFramebuffers[this.CONTEXT_UID];\n        var s = this.managedFramebuffers.indexOf(t);\n        s >= 0 && this.managedFramebuffers.splice(s, 1), t.disposeRunner.remove(this), e || (n.deleteFramebuffer(i.framebuffer), i.msaaBuffer && n.deleteRenderbuffer(i.msaaBuffer), i.stencil && n.deleteRenderbuffer(i.stencil)), i.blitFramebuffer && i.blitFramebuffer.dispose();\n      }\n    }, r.prototype.disposeAll = function(t) {\n      var e = this.managedFramebuffers;\n      this.managedFramebuffers = [];\n      for (var i = 0; i < e.length; i++)\n        this.disposeFramebuffer(e[i], t);\n    }, r.prototype.forceStencil = function() {\n      var t = this.current;\n      if (t) {\n        var e = t.glFramebuffers[this.CONTEXT_UID];\n        if (!(!e || e.stencil)) {\n          t.stencil = !0;\n          var i = t.width, n = t.height, s = this.gl, o = s.createRenderbuffer();\n          s.bindRenderbuffer(s.RENDERBUFFER, o), e.msaaBuffer ? s.renderbufferStorageMultisample(s.RENDERBUFFER, e.multisample, s.DEPTH24_STENCIL8, i, n) : s.renderbufferStorage(s.RENDERBUFFER, s.DEPTH_STENCIL, i, n), e.stencil = o, s.framebufferRenderbuffer(s.FRAMEBUFFER, s.DEPTH_STENCIL_ATTACHMENT, s.RENDERBUFFER, o);\n        }\n      }\n    }, r.prototype.reset = function() {\n      this.current = this.unknownFramebuffer, this.viewport = new gt();\n    }, r.prototype.destroy = function() {\n      this.renderer = null;\n    }, r;\n  }()\n), Nv = { 5126: 4, 5123: 2, 5121: 1 }, Qy = (\n  /** @class */\n  function() {\n    function r(t) {\n      this.renderer = t, this._activeGeometry = null, this._activeVao = null, this.hasVao = !0, this.hasInstance = !0, this.canUseUInt32ElementIndex = !1, this.managedGeometries = {};\n    }\n    return r.prototype.contextChange = function() {\n      this.disposeAll(!0);\n      var t = this.gl = this.renderer.gl, e = this.renderer.context;\n      if (this.CONTEXT_UID = this.renderer.CONTEXT_UID, e.webGLVersion !== 2) {\n        var i = this.renderer.context.extensions.vertexArrayObject;\n        Q.PREFER_ENV === Fn.WEBGL_LEGACY && (i = null), i ? (t.createVertexArray = function() {\n          return i.createVertexArrayOES();\n        }, t.bindVertexArray = function(s) {\n          return i.bindVertexArrayOES(s);\n        }, t.deleteVertexArray = function(s) {\n          return i.deleteVertexArrayOES(s);\n        }) : (this.hasVao = !1, t.createVertexArray = function() {\n          return null;\n        }, t.bindVertexArray = function() {\n          return null;\n        }, t.deleteVertexArray = function() {\n          return null;\n        });\n      }\n      if (e.webGLVersion !== 2) {\n        var n = t.getExtension(\"ANGLE_instanced_arrays\");\n        n ? (t.vertexAttribDivisor = function(s, o) {\n          return n.vertexAttribDivisorANGLE(s, o);\n        }, t.drawElementsInstanced = function(s, o, a, l, u) {\n          return n.drawElementsInstancedANGLE(s, o, a, l, u);\n        }, t.drawArraysInstanced = function(s, o, a, l) {\n          return n.drawArraysInstancedANGLE(s, o, a, l);\n        }) : this.hasInstance = !1;\n      }\n      this.canUseUInt32ElementIndex = e.webGLVersion === 2 || !!e.extensions.uint32ElementIndex;\n    }, r.prototype.bind = function(t, e) {\n      e = e || this.renderer.shader.shader;\n      var i = this.gl, n = t.glVertexArrayObjects[this.CONTEXT_UID], s = !1;\n      n || (this.managedGeometries[t.id] = t, t.disposeRunner.add(this), t.glVertexArrayObjects[this.CONTEXT_UID] = n = {}, s = !0);\n      var o = n[e.program.id] || this.initGeometryVao(t, e, s);\n      this._activeGeometry = t, this._activeVao !== o && (this._activeVao = o, this.hasVao ? i.bindVertexArray(o) : this.activateVao(t, e.program)), this.updateBuffers();\n    }, r.prototype.reset = function() {\n      this.unbind();\n    }, r.prototype.updateBuffers = function() {\n      for (var t = this._activeGeometry, e = this.renderer.buffer, i = 0; i < t.buffers.length; i++) {\n        var n = t.buffers[i];\n        e.update(n);\n      }\n    }, r.prototype.checkCompatibility = function(t, e) {\n      var i = t.attributes, n = e.attributeData;\n      for (var s in n)\n        if (!i[s])\n          throw new Error('shader and geometry incompatible, geometry missing the \"' + s + '\" attribute');\n    }, r.prototype.getSignature = function(t, e) {\n      var i = t.attributes, n = e.attributeData, s = [\"g\", t.id];\n      for (var o in i)\n        n[o] && s.push(o, n[o].location);\n      return s.join(\"-\");\n    }, r.prototype.initGeometryVao = function(t, e, i) {\n      i === void 0 && (i = !0);\n      var n = this.gl, s = this.CONTEXT_UID, o = this.renderer.buffer, a = e.program;\n      a.glPrograms[s] || this.renderer.shader.generateProgram(e), this.checkCompatibility(t, a);\n      var l = this.getSignature(t, a), u = t.glVertexArrayObjects[this.CONTEXT_UID], c = u[l];\n      if (c)\n        return u[a.id] = c, c;\n      var f = t.buffers, d = t.attributes, p = {}, m = {};\n      for (var v in f)\n        p[v] = 0, m[v] = 0;\n      for (var v in d)\n        !d[v].size && a.attributeData[v] ? d[v].size = a.attributeData[v].size : d[v].size || console.warn(\"PIXI Geometry attribute '\" + v + \"' size cannot be determined (likely the bound shader does not have the attribute)\"), p[d[v].buffer] += d[v].size * Nv[d[v].type];\n      for (var v in d) {\n        var y = d[v], g = y.size;\n        y.stride === void 0 && (p[y.buffer] === g * Nv[y.type] ? y.stride = 0 : y.stride = p[y.buffer]), y.start === void 0 && (y.start = m[y.buffer], m[y.buffer] += g * Nv[y.type]);\n      }\n      c = n.createVertexArray(), n.bindVertexArray(c);\n      for (var w = 0; w < f.length; w++) {\n        var T = f[w];\n        o.bind(T), i && T._glBuffers[s].refCount++;\n      }\n      return this.activateVao(t, a), this._activeVao = c, u[a.id] = c, u[l] = c, c;\n    }, r.prototype.disposeGeometry = function(t, e) {\n      var i;\n      if (this.managedGeometries[t.id]) {\n        delete this.managedGeometries[t.id];\n        var n = t.glVertexArrayObjects[this.CONTEXT_UID], s = this.gl, o = t.buffers, a = (i = this.renderer) === null || i === void 0 ? void 0 : i.buffer;\n        if (t.disposeRunner.remove(this), !!n) {\n          if (a)\n            for (var l = 0; l < o.length; l++) {\n              var u = o[l]._glBuffers[this.CONTEXT_UID];\n              u && (u.refCount--, u.refCount === 0 && !e && a.dispose(o[l], e));\n            }\n          if (!e) {\n            for (var c in n)\n              if (c[0] === \"g\") {\n                var f = n[c];\n                this._activeVao === f && this.unbind(), s.deleteVertexArray(f);\n              }\n          }\n          delete t.glVertexArrayObjects[this.CONTEXT_UID];\n        }\n      }\n    }, r.prototype.disposeAll = function(t) {\n      for (var e = Object.keys(this.managedGeometries), i = 0; i < e.length; i++)\n        this.disposeGeometry(this.managedGeometries[e[i]], t);\n    }, r.prototype.activateVao = function(t, e) {\n      var i = this.gl, n = this.CONTEXT_UID, s = this.renderer.buffer, o = t.buffers, a = t.attributes;\n      t.indexBuffer && s.bind(t.indexBuffer);\n      var l = null;\n      for (var u in a) {\n        var c = a[u], f = o[c.buffer], d = f._glBuffers[n];\n        if (e.attributeData[u]) {\n          l !== d && (s.bind(f), l = d);\n          var p = e.attributeData[u].location;\n          if (i.enableVertexAttribArray(p), i.vertexAttribPointer(p, c.size, c.type || i.FLOAT, c.normalized, c.stride, c.start), c.instance)\n            if (this.hasInstance)\n              i.vertexAttribDivisor(p, 1);\n            else\n              throw new Error(\"geometry error, GPU Instancing is not supported on this device\");\n        }\n      }\n    }, r.prototype.draw = function(t, e, i, n) {\n      var s = this.gl, o = this._activeGeometry;\n      if (o.indexBuffer) {\n        var a = o.indexBuffer.data.BYTES_PER_ELEMENT, l = a === 2 ? s.UNSIGNED_SHORT : s.UNSIGNED_INT;\n        a === 2 || a === 4 && this.canUseUInt32ElementIndex ? o.instanced ? s.drawElementsInstanced(t, e || o.indexBuffer.data.length, l, (i || 0) * a, n || 1) : s.drawElements(t, e || o.indexBuffer.data.length, l, (i || 0) * a) : console.warn(\"unsupported index buffer type: uint32\");\n      } else\n        o.instanced ? s.drawArraysInstanced(t, i, e || o.getSize(), n || 1) : s.drawArrays(t, i, e || o.getSize());\n      return this;\n    }, r.prototype.unbind = function() {\n      this.gl.bindVertexArray(null), this._activeVao = null, this._activeGeometry = null;\n    }, r.prototype.destroy = function() {\n      this.renderer = null;\n    }, r;\n  }()\n), $0 = (\n  /** @class */\n  function() {\n    function r(t) {\n      t === void 0 && (t = null), this.type = Ce.NONE, this.autoDetect = !0, this.maskObject = t || null, this.pooled = !1, this.isMaskData = !0, this.resolution = null, this.multisample = Q.FILTER_MULTISAMPLE, this.enabled = !0, this.colorMask = 15, this._filters = null, this._stencilCounter = 0, this._scissorCounter = 0, this._scissorRect = null, this._scissorRectLocal = null, this._colorMask = 15, this._target = null;\n    }\n    return Object.defineProperty(r.prototype, \"filter\", {\n      /**\n       * The sprite mask filter.\n       * If set to `null`, the default sprite mask filter is used.\n       * @default null\n       */\n      get: function() {\n        return this._filters ? this._filters[0] : null;\n      },\n      set: function(t) {\n        t ? this._filters ? this._filters[0] = t : this._filters = [t] : this._filters = null;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), r.prototype.reset = function() {\n      this.pooled && (this.maskObject = null, this.type = Ce.NONE, this.autoDetect = !0), this._target = null, this._scissorRectLocal = null;\n    }, r.prototype.copyCountersOrReset = function(t) {\n      t ? (this._stencilCounter = t._stencilCounter, this._scissorCounter = t._scissorCounter, this._scissorRect = t._scissorRect) : (this._stencilCounter = 0, this._scissorCounter = 0, this._scissorRect = null);\n    }, r;\n  }()\n);\nfunction og(r, t, e) {\n  var i = r.createShader(t);\n  return r.shaderSource(i, e), r.compileShader(i), i;\n}\nfunction ag(r, t) {\n  var e = r.getShaderSource(t).split(`\n`).map(function(u, c) {\n    return c + \": \" + u;\n  }), i = r.getShaderInfoLog(t), n = i.split(`\n`), s = {}, o = n.map(function(u) {\n    return parseFloat(u.replace(/^ERROR\\: 0\\:([\\d]+)\\:.*$/, \"$1\"));\n  }).filter(function(u) {\n    return u && !s[u] ? (s[u] = !0, !0) : !1;\n  }), a = [\"\"];\n  o.forEach(function(u) {\n    e[u - 1] = \"%c\" + e[u - 1] + \"%c\", a.push(\"background: #FF0000; color:#FFFFFF; font-size: 10px\", \"font-size: 10px\");\n  });\n  var l = e.join(`\n`);\n  a[0] = l, console.error(i), console.groupCollapsed(\"click to view full shader code\"), console.warn.apply(console, a), console.groupEnd();\n}\nfunction uP(r, t, e, i) {\n  r.getProgramParameter(t, r.LINK_STATUS) || (r.getShaderParameter(e, r.COMPILE_STATUS) || ag(r, e), r.getShaderParameter(i, r.COMPILE_STATUS) || ag(r, i), console.error(\"PixiJS Error: Could not initialize shader.\"), r.getProgramInfoLog(t) !== \"\" && console.warn(\"PixiJS Warning: gl.getProgramInfoLog()\", r.getProgramInfoLog(t)));\n}\nfunction Lv(r) {\n  for (var t = new Array(r), e = 0; e < t.length; e++)\n    t[e] = !1;\n  return t;\n}\nfunction z0(r, t) {\n  switch (r) {\n    case \"float\":\n      return 0;\n    case \"vec2\":\n      return new Float32Array(2 * t);\n    case \"vec3\":\n      return new Float32Array(3 * t);\n    case \"vec4\":\n      return new Float32Array(4 * t);\n    case \"int\":\n    case \"uint\":\n    case \"sampler2D\":\n    case \"sampler2DArray\":\n      return 0;\n    case \"ivec2\":\n      return new Int32Array(2 * t);\n    case \"ivec3\":\n      return new Int32Array(3 * t);\n    case \"ivec4\":\n      return new Int32Array(4 * t);\n    case \"uvec2\":\n      return new Uint32Array(2 * t);\n    case \"uvec3\":\n      return new Uint32Array(3 * t);\n    case \"uvec4\":\n      return new Uint32Array(4 * t);\n    case \"bool\":\n      return !1;\n    case \"bvec2\":\n      return Lv(2 * t);\n    case \"bvec3\":\n      return Lv(3 * t);\n    case \"bvec4\":\n      return Lv(4 * t);\n    case \"mat2\":\n      return new Float32Array([\n        1,\n        0,\n        0,\n        1\n      ]);\n    case \"mat3\":\n      return new Float32Array([\n        1,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        1\n      ]);\n    case \"mat4\":\n      return new Float32Array([\n        1,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        1\n      ]);\n  }\n  return null;\n}\nvar V0 = {}, Nh = V0;\nfunction X0() {\n  if (Nh === V0 || Nh && Nh.isContextLost()) {\n    var r = Q.ADAPTER.createCanvas(), t = void 0;\n    Q.PREFER_ENV >= Fn.WEBGL2 && (t = r.getContext(\"webgl2\", {})), t || (t = r.getContext(\"webgl\", {}) || r.getContext(\"experimental-webgl\", {}), t ? t.getExtension(\"WEBGL_draw_buffers\") : t = null), Nh = t;\n  }\n  return Nh;\n}\nvar Rc;\nfunction cP() {\n  if (!Rc) {\n    Rc = Mi.MEDIUM;\n    var r = X0();\n    if (r && r.getShaderPrecisionFormat) {\n      var t = r.getShaderPrecisionFormat(r.FRAGMENT_SHADER, r.HIGH_FLOAT);\n      Rc = t.precision ? Mi.HIGH : Mi.MEDIUM;\n    }\n  }\n  return Rc;\n}\nfunction hg(r, t, e) {\n  if (r.substring(0, 9) !== \"precision\") {\n    var i = t;\n    return t === Mi.HIGH && e !== Mi.HIGH && (i = Mi.MEDIUM), \"precision \" + i + ` float;\n` + r;\n  } else if (e !== Mi.HIGH && r.substring(0, 15) === \"precision highp\")\n    return r.replace(\"precision highp\", \"precision mediump\");\n  return r;\n}\nvar fP = {\n  float: 1,\n  vec2: 2,\n  vec3: 3,\n  vec4: 4,\n  int: 1,\n  ivec2: 2,\n  ivec3: 3,\n  ivec4: 4,\n  uint: 1,\n  uvec2: 2,\n  uvec3: 3,\n  uvec4: 4,\n  bool: 1,\n  bvec2: 2,\n  bvec3: 3,\n  bvec4: 4,\n  mat2: 4,\n  mat3: 9,\n  mat4: 16,\n  sampler2D: 1\n};\nfunction W0(r) {\n  return fP[r];\n}\nvar kc = null, lg = {\n  FLOAT: \"float\",\n  FLOAT_VEC2: \"vec2\",\n  FLOAT_VEC3: \"vec3\",\n  FLOAT_VEC4: \"vec4\",\n  INT: \"int\",\n  INT_VEC2: \"ivec2\",\n  INT_VEC3: \"ivec3\",\n  INT_VEC4: \"ivec4\",\n  UNSIGNED_INT: \"uint\",\n  UNSIGNED_INT_VEC2: \"uvec2\",\n  UNSIGNED_INT_VEC3: \"uvec3\",\n  UNSIGNED_INT_VEC4: \"uvec4\",\n  BOOL: \"bool\",\n  BOOL_VEC2: \"bvec2\",\n  BOOL_VEC3: \"bvec3\",\n  BOOL_VEC4: \"bvec4\",\n  FLOAT_MAT2: \"mat2\",\n  FLOAT_MAT3: \"mat3\",\n  FLOAT_MAT4: \"mat4\",\n  SAMPLER_2D: \"sampler2D\",\n  INT_SAMPLER_2D: \"sampler2D\",\n  UNSIGNED_INT_SAMPLER_2D: \"sampler2D\",\n  SAMPLER_CUBE: \"samplerCube\",\n  INT_SAMPLER_CUBE: \"samplerCube\",\n  UNSIGNED_INT_SAMPLER_CUBE: \"samplerCube\",\n  SAMPLER_2D_ARRAY: \"sampler2DArray\",\n  INT_SAMPLER_2D_ARRAY: \"sampler2DArray\",\n  UNSIGNED_INT_SAMPLER_2D_ARRAY: \"sampler2DArray\"\n};\nfunction Y0(r, t) {\n  if (!kc) {\n    var e = Object.keys(lg);\n    kc = {};\n    for (var i = 0; i < e.length; ++i) {\n      var n = e[i];\n      kc[r[n]] = lg[n];\n    }\n  }\n  return kc[t];\n}\nvar jo = [\n  // a float cache layer\n  {\n    test: function(r) {\n      return r.type === \"float\" && r.size === 1 && !r.isArray;\n    },\n    code: function(r) {\n      return `\n            if(uv[\"` + r + '\"] !== ud[\"' + r + `\"].value)\n            {\n                ud[\"` + r + '\"].value = uv[\"' + r + `\"]\n                gl.uniform1f(ud[\"` + r + '\"].location, uv[\"' + r + `\"])\n            }\n            `;\n    }\n  },\n  // handling samplers\n  {\n    test: function(r, t) {\n      return (r.type === \"sampler2D\" || r.type === \"samplerCube\" || r.type === \"sampler2DArray\") && r.size === 1 && !r.isArray && (t == null || t.castToBaseTexture !== void 0);\n    },\n    code: function(r) {\n      return `t = syncData.textureCount++;\n\n            renderer.texture.bind(uv[\"` + r + `\"], t);\n\n            if(ud[\"` + r + `\"].value !== t)\n            {\n                ud[\"` + r + `\"].value = t;\n                gl.uniform1i(ud[\"` + r + `\"].location, t);\n; // eslint-disable-line max-len\n            }`;\n    }\n  },\n  // uploading pixi matrix object to mat3\n  {\n    test: function(r, t) {\n      return r.type === \"mat3\" && r.size === 1 && !r.isArray && t.a !== void 0;\n    },\n    code: function(r) {\n      return `\n            gl.uniformMatrix3fv(ud[\"` + r + '\"].location, false, uv[\"' + r + `\"].toArray(true));\n            `;\n    },\n    codeUbo: function(r) {\n      return `\n                var ` + r + \"_matrix = uv.\" + r + `.toArray(true);\n\n                data[offset] = ` + r + `_matrix[0];\n                data[offset+1] = ` + r + `_matrix[1];\n                data[offset+2] = ` + r + `_matrix[2];\n        \n                data[offset + 4] = ` + r + `_matrix[3];\n                data[offset + 5] = ` + r + `_matrix[4];\n                data[offset + 6] = ` + r + `_matrix[5];\n        \n                data[offset + 8] = ` + r + `_matrix[6];\n                data[offset + 9] = ` + r + `_matrix[7];\n                data[offset + 10] = ` + r + `_matrix[8];\n            `;\n    }\n  },\n  // uploading a pixi point as a vec2 with caching layer\n  {\n    test: function(r, t) {\n      return r.type === \"vec2\" && r.size === 1 && !r.isArray && t.x !== void 0;\n    },\n    code: function(r) {\n      return `\n                cv = ud[\"` + r + `\"].value;\n                v = uv[\"` + r + `\"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud[\"` + r + `\"].location, v.x, v.y);\n                }`;\n    },\n    codeUbo: function(r) {\n      return `\n                v = uv.` + r + `;\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            `;\n    }\n  },\n  // caching layer for a vec2\n  {\n    test: function(r) {\n      return r.type === \"vec2\" && r.size === 1 && !r.isArray;\n    },\n    code: function(r) {\n      return `\n                cv = ud[\"` + r + `\"].value;\n                v = uv[\"` + r + `\"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud[\"` + r + `\"].location, v[0], v[1]);\n                }\n            `;\n    }\n  },\n  // upload a pixi rectangle as a vec4 with caching layer\n  {\n    test: function(r, t) {\n      return r.type === \"vec4\" && r.size === 1 && !r.isArray && t.width !== void 0;\n    },\n    code: function(r) {\n      return `\n                cv = ud[\"` + r + `\"].value;\n                v = uv[\"` + r + `\"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud[\"` + r + `\"].location, v.x, v.y, v.width, v.height)\n                }`;\n    },\n    codeUbo: function(r) {\n      return `\n                    v = uv.` + r + `;\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                `;\n    }\n  },\n  // a caching layer for vec4 uploading\n  {\n    test: function(r) {\n      return r.type === \"vec4\" && r.size === 1 && !r.isArray;\n    },\n    code: function(r) {\n      return `\n                cv = ud[\"` + r + `\"].value;\n                v = uv[\"` + r + `\"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud[\"` + r + `\"].location, v[0], v[1], v[2], v[3])\n                }`;\n    }\n  }\n], dP = {\n  float: `\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }`,\n  vec2: `\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }`,\n  vec3: `\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }`,\n  vec4: `\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }`,\n  int: `\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }`,\n  ivec2: `\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }`,\n  ivec3: `\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }`,\n  ivec4: `\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }`,\n  uint: `\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }`,\n  uvec2: `\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }`,\n  uvec3: `\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }`,\n  uvec4: `\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }`,\n  bool: `\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }`,\n  bvec2: `\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }`,\n  bvec3: `\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }`,\n  bvec4: `\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }`,\n  mat2: \"gl.uniformMatrix2fv(location, false, v)\",\n  mat3: \"gl.uniformMatrix3fv(location, false, v)\",\n  mat4: \"gl.uniformMatrix4fv(location, false, v)\",\n  sampler2D: `\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }`,\n  samplerCube: `\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }`,\n  sampler2DArray: `\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }`\n}, pP = {\n  float: \"gl.uniform1fv(location, v)\",\n  vec2: \"gl.uniform2fv(location, v)\",\n  vec3: \"gl.uniform3fv(location, v)\",\n  vec4: \"gl.uniform4fv(location, v)\",\n  mat4: \"gl.uniformMatrix4fv(location, false, v)\",\n  mat3: \"gl.uniformMatrix3fv(location, false, v)\",\n  mat2: \"gl.uniformMatrix2fv(location, false, v)\",\n  int: \"gl.uniform1iv(location, v)\",\n  ivec2: \"gl.uniform2iv(location, v)\",\n  ivec3: \"gl.uniform3iv(location, v)\",\n  ivec4: \"gl.uniform4iv(location, v)\",\n  uint: \"gl.uniform1uiv(location, v)\",\n  uvec2: \"gl.uniform2uiv(location, v)\",\n  uvec3: \"gl.uniform3uiv(location, v)\",\n  uvec4: \"gl.uniform4uiv(location, v)\",\n  bool: \"gl.uniform1iv(location, v)\",\n  bvec2: \"gl.uniform2iv(location, v)\",\n  bvec3: \"gl.uniform3iv(location, v)\",\n  bvec4: \"gl.uniform4iv(location, v)\",\n  sampler2D: \"gl.uniform1iv(location, v)\",\n  samplerCube: \"gl.uniform1iv(location, v)\",\n  sampler2DArray: \"gl.uniform1iv(location, v)\"\n};\nfunction vP(r, t) {\n  var e, i = [`\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    `];\n  for (var n in r.uniforms) {\n    var s = t[n];\n    if (!s) {\n      !((e = r.uniforms[n]) === null || e === void 0) && e.group && (r.uniforms[n].ubo ? i.push(`\n                        renderer.shader.syncUniformBufferGroup(uv.` + n + \", '\" + n + `');\n                    `) : i.push(`\n                        renderer.shader.syncUniformGroup(uv.` + n + `, syncData);\n                    `));\n      continue;\n    }\n    for (var o = r.uniforms[n], a = !1, l = 0; l < jo.length; l++)\n      if (jo[l].test(s, o)) {\n        i.push(jo[l].code(n, o)), a = !0;\n        break;\n      }\n    if (!a) {\n      var u = s.size === 1 && !s.isArray ? dP : pP, c = u[s.type].replace(\"location\", 'ud[\"' + n + '\"].location');\n      i.push(`\n            cu = ud[\"` + n + `\"];\n            cv = cu.value;\n            v = uv[\"` + n + `\"];\n            ` + c + \";\");\n    }\n  }\n  return new Function(\"ud\", \"uv\", \"renderer\", \"syncData\", i.join(`\n`));\n}\nvar mP = [\n  \"precision mediump float;\",\n  \"void main(void){\",\n  \"float test = 0.1;\",\n  \"%forloop%\",\n  \"gl_FragColor = vec4(0.0);\",\n  \"}\"\n].join(`\n`);\nfunction yP(r) {\n  for (var t = \"\", e = 0; e < r; ++e)\n    e > 0 && (t += `\nelse `), e < r - 1 && (t += \"if(test == \" + e + \".0){}\");\n  return t;\n}\nfunction q0(r, t) {\n  if (r === 0)\n    throw new Error(\"Invalid value of `0` passed to `checkMaxIfStatementsInShader`\");\n  for (var e = t.createShader(t.FRAGMENT_SHADER); ; ) {\n    var i = mP.replace(/%forloop%/gi, yP(r));\n    if (t.shaderSource(e, i), t.compileShader(e), !t.getShaderParameter(e, t.COMPILE_STATUS))\n      r = r / 2 | 0;\n    else\n      break;\n  }\n  return r;\n}\nvar Lh;\nfunction _P() {\n  if (typeof Lh == \"boolean\")\n    return Lh;\n  try {\n    var r = new Function(\"param1\", \"param2\", \"param3\", \"return param1[param2] === param3;\");\n    Lh = r({ a: \"b\" }, \"a\", \"b\") === !0;\n  } catch {\n    Lh = !1;\n  }\n  return Lh;\n}\nvar gP = `varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}`, bP = `attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n`, xP = 0, Nc = {}, Mh = (\n  /** @class */\n  function() {\n    function r(t, e, i) {\n      i === void 0 && (i = \"pixi-shader\"), this.id = xP++, this.vertexSrc = t || r.defaultVertexSrc, this.fragmentSrc = e || r.defaultFragmentSrc, this.vertexSrc = this.vertexSrc.trim(), this.fragmentSrc = this.fragmentSrc.trim(), this.vertexSrc.substring(0, 8) !== \"#version\" && (i = i.replace(/\\s+/g, \"-\"), Nc[i] ? (Nc[i]++, i += \"-\" + Nc[i]) : Nc[i] = 1, this.vertexSrc = \"#define SHADER_NAME \" + i + `\n` + this.vertexSrc, this.fragmentSrc = \"#define SHADER_NAME \" + i + `\n` + this.fragmentSrc, this.vertexSrc = hg(this.vertexSrc, Q.PRECISION_VERTEX, Mi.HIGH), this.fragmentSrc = hg(this.fragmentSrc, Q.PRECISION_FRAGMENT, cP())), this.glPrograms = {}, this.syncUniforms = null;\n    }\n    return Object.defineProperty(r, \"defaultVertexSrc\", {\n      /**\n       * The default vertex shader source.\n       * @constant\n       */\n      get: function() {\n        return bP;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r, \"defaultFragmentSrc\", {\n      /**\n       * The default fragment shader source.\n       * @constant\n       */\n      get: function() {\n        return gP;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), r.from = function(t, e, i) {\n      var n = t + e, s = tg[n];\n      return s || (tg[n] = s = new r(t, e, i)), s;\n    }, r;\n  }()\n), Dn = (\n  /** @class */\n  function() {\n    function r(t, e) {\n      this.uniformBindCount = 0, this.program = t, e ? e instanceof ms ? this.uniformGroup = e : this.uniformGroup = new ms(e) : this.uniformGroup = new ms({}), this.disposeRunner = new Xe(\"disposeShader\");\n    }\n    return r.prototype.checkUniformExists = function(t, e) {\n      if (e.uniforms[t])\n        return !0;\n      for (var i in e.uniforms) {\n        var n = e.uniforms[i];\n        if (n.group && this.checkUniformExists(t, n))\n          return !0;\n      }\n      return !1;\n    }, r.prototype.destroy = function() {\n      this.uniformGroup = null, this.disposeRunner.emit(this), this.disposeRunner.destroy();\n    }, Object.defineProperty(r.prototype, \"uniforms\", {\n      /**\n       * Shader uniform values, shortcut for `uniformGroup.uniforms`.\n       * @readonly\n       */\n      get: function() {\n        return this.uniformGroup.uniforms;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), r.from = function(t, e, i) {\n      var n = Mh.from(t, e);\n      return new r(n, i);\n    }, r;\n  }()\n), Av = 0, Dv = 1, Bv = 2, Fv = 3, Uv = 4, Gv = 5, ys = (\n  /** @class */\n  function() {\n    function r() {\n      this.data = 0, this.blendMode = ot.NORMAL, this.polygonOffset = 0, this.blend = !0, this.depthMask = !0;\n    }\n    return Object.defineProperty(r.prototype, \"blend\", {\n      /**\n       * Activates blending of the computed fragment color values.\n       * @default true\n       */\n      get: function() {\n        return !!(this.data & 1 << Av);\n      },\n      set: function(t) {\n        !!(this.data & 1 << Av) !== t && (this.data ^= 1 << Av);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"offsets\", {\n      /**\n       * Activates adding an offset to depth values of polygon's fragments\n       * @default false\n       */\n      get: function() {\n        return !!(this.data & 1 << Dv);\n      },\n      set: function(t) {\n        !!(this.data & 1 << Dv) !== t && (this.data ^= 1 << Dv);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"culling\", {\n      /**\n       * Activates culling of polygons.\n       * @default false\n       */\n      get: function() {\n        return !!(this.data & 1 << Bv);\n      },\n      set: function(t) {\n        !!(this.data & 1 << Bv) !== t && (this.data ^= 1 << Bv);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"depthTest\", {\n      /**\n       * Activates depth comparisons and updates to the depth buffer.\n       * @default false\n       */\n      get: function() {\n        return !!(this.data & 1 << Fv);\n      },\n      set: function(t) {\n        !!(this.data & 1 << Fv) !== t && (this.data ^= 1 << Fv);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"depthMask\", {\n      /**\n       * Enables or disables writing to the depth buffer.\n       * @default true\n       */\n      get: function() {\n        return !!(this.data & 1 << Gv);\n      },\n      set: function(t) {\n        !!(this.data & 1 << Gv) !== t && (this.data ^= 1 << Gv);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"clockwiseFrontFace\", {\n      /**\n       * Specifies whether or not front or back-facing polygons can be culled.\n       * @default false\n       */\n      get: function() {\n        return !!(this.data & 1 << Uv);\n      },\n      set: function(t) {\n        !!(this.data & 1 << Uv) !== t && (this.data ^= 1 << Uv);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"blendMode\", {\n      /**\n       * The blend mode to be applied when this state is set. Apply a value of `PIXI.BLEND_MODES.NORMAL` to reset the blend mode.\n       * Setting this mode to anything other than NO_BLEND will automatically switch blending on.\n       * @default PIXI.BLEND_MODES.NORMAL\n       */\n      get: function() {\n        return this._blendMode;\n      },\n      set: function(t) {\n        this.blend = t !== ot.NONE, this._blendMode = t;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"polygonOffset\", {\n      /**\n       * The polygon offset. Setting this property to anything other than 0 will automatically enable polygon offset fill.\n       * @default 0\n       */\n      get: function() {\n        return this._polygonOffset;\n      },\n      set: function(t) {\n        this.offsets = !!t, this._polygonOffset = t;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), r.prototype.toString = function() {\n      return \"[@pixi/core:State \" + (\"blendMode=\" + this.blendMode + \" \") + (\"clockwiseFrontFace=\" + this.clockwiseFrontFace + \" \") + (\"culling=\" + this.culling + \" \") + (\"depthMask=\" + this.depthMask + \" \") + (\"polygonOffset=\" + this.polygonOffset) + \"]\";\n    }, r.for2d = function() {\n      var t = new r();\n      return t.depthTest = !1, t.blend = !0, t;\n    }, r;\n  }()\n), wP = `varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n`, EP = `attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n`, Sr = (\n  /** @class */\n  function(r) {\n    ne(t, r);\n    function t(e, i, n) {\n      var s = this, o = Mh.from(e || t.defaultVertexSrc, i || t.defaultFragmentSrc);\n      return s = r.call(this, o, n) || this, s.padding = 0, s.resolution = Q.FILTER_RESOLUTION, s.multisample = Q.FILTER_MULTISAMPLE, s.enabled = !0, s.autoFit = !0, s.state = new ys(), s;\n    }\n    return t.prototype.apply = function(e, i, n, s, o) {\n      e.applyFilter(this, i, n, s);\n    }, Object.defineProperty(t.prototype, \"blendMode\", {\n      /**\n       * Sets the blend mode of the filter.\n       * @default PIXI.BLEND_MODES.NORMAL\n       */\n      get: function() {\n        return this.state.blendMode;\n      },\n      set: function(e) {\n        this.state.blendMode = e;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"resolution\", {\n      /**\n       * The resolution of the filter. Setting this to be lower will lower the quality but\n       * increase the performance of the filter.\n       */\n      get: function() {\n        return this._resolution;\n      },\n      set: function(e) {\n        this._resolution = e;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t, \"defaultVertexSrc\", {\n      /**\n       * The default vertex shader source\n       * @constant\n       */\n      get: function() {\n        return EP;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t, \"defaultFragmentSrc\", {\n      /**\n       * The default fragment shader source\n       * @constant\n       */\n      get: function() {\n        return wP;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t;\n  }(Dn)\n), TP = `attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n`, SP = `varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n`, ug = new Be(), _v = (\n  /** @class */\n  function() {\n    function r(t, e) {\n      this._texture = t, this.mapCoord = new Be(), this.uClampFrame = new Float32Array(4), this.uClampOffset = new Float32Array(2), this._textureID = -1, this._updateID = 0, this.clampOffset = 0, this.clampMargin = typeof e > \"u\" ? 0.5 : e, this.isSimple = !1;\n    }\n    return Object.defineProperty(r.prototype, \"texture\", {\n      /** Texture property. */\n      get: function() {\n        return this._texture;\n      },\n      set: function(t) {\n        this._texture = t, this._textureID = -1;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), r.prototype.multiplyUvs = function(t, e) {\n      e === void 0 && (e = t);\n      for (var i = this.mapCoord, n = 0; n < t.length; n += 2) {\n        var s = t[n], o = t[n + 1];\n        e[n] = s * i.a + o * i.c + i.tx, e[n + 1] = s * i.b + o * i.d + i.ty;\n      }\n      return e;\n    }, r.prototype.update = function(t) {\n      var e = this._texture;\n      if (!e || !e.valid || !t && this._textureID === e._updateID)\n        return !1;\n      this._textureID = e._updateID, this._updateID++;\n      var i = e._uvs;\n      this.mapCoord.set(i.x1 - i.x0, i.y1 - i.y0, i.x3 - i.x0, i.y3 - i.y0, i.x0, i.y0);\n      var n = e.orig, s = e.trim;\n      s && (ug.set(n.width / s.width, 0, 0, n.height / s.height, -s.x / s.width, -s.y / s.height), this.mapCoord.append(ug));\n      var o = e.baseTexture, a = this.uClampFrame, l = this.clampMargin / o.resolution, u = this.clampOffset;\n      return a[0] = (e._frame.x + l + u) / o.width, a[1] = (e._frame.y + l + u) / o.height, a[2] = (e._frame.x + e._frame.width - l + u) / o.width, a[3] = (e._frame.y + e._frame.height - l + u) / o.height, this.uClampOffset[0] = u / o.realWidth, this.uClampOffset[1] = u / o.realHeight, this.isSimple = e._frame.width === o.width && e._frame.height === o.height && e.rotate === 0, !0;\n    }, r;\n  }()\n), Z0 = (\n  /** @class */\n  function(r) {\n    ne(t, r);\n    function t(e, i, n) {\n      var s = this, o = null;\n      return typeof e != \"string\" && i === void 0 && n === void 0 && (o = e, e = void 0, i = void 0, n = void 0), s = r.call(this, e || TP, i || SP, n) || this, s.maskSprite = o, s.maskMatrix = new Be(), s;\n    }\n    return Object.defineProperty(t.prototype, \"maskSprite\", {\n      /**\n       * Sprite mask\n       * @type {PIXI.DisplayObject}\n       */\n      get: function() {\n        return this._maskSprite;\n      },\n      set: function(e) {\n        this._maskSprite = e, this._maskSprite && (this._maskSprite.renderable = !1);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t.prototype.apply = function(e, i, n, s) {\n      var o = this._maskSprite, a = o._texture;\n      a.valid && (a.uvMatrix || (a.uvMatrix = new _v(a, 0)), a.uvMatrix.update(), this.uniforms.npmAlpha = a.baseTexture.alphaMode ? 0 : 1, this.uniforms.mask = a, this.uniforms.otherMatrix = e.calculateSpriteMatrix(this.maskMatrix, o).prepend(a.uvMatrix.mapCoord), this.uniforms.alpha = o.worldAlpha, this.uniforms.maskClamp = a.uvMatrix.uClampFrame, e.applyFilter(this, i, n, s));\n    }, t;\n  }(Sr)\n), t_ = (\n  /** @class */\n  function() {\n    function r(t) {\n      this.renderer = t, this.enableScissor = !0, this.alphaMaskPool = [], this.maskDataPool = [], this.maskStack = [], this.alphaMaskIndex = 0;\n    }\n    return r.prototype.setMaskStack = function(t) {\n      this.maskStack = t, this.renderer.scissor.setMaskStack(t), this.renderer.stencil.setMaskStack(t);\n    }, r.prototype.push = function(t, e) {\n      var i = e;\n      if (!i.isMaskData) {\n        var n = this.maskDataPool.pop() || new $0();\n        n.pooled = !0, n.maskObject = e, i = n;\n      }\n      var s = this.maskStack.length !== 0 ? this.maskStack[this.maskStack.length - 1] : null;\n      if (i.copyCountersOrReset(s), i._colorMask = s ? s._colorMask : 15, i.autoDetect && this.detect(i), i._target = t, i.type !== Ce.SPRITE && this.maskStack.push(i), i.enabled)\n        switch (i.type) {\n          case Ce.SCISSOR:\n            this.renderer.scissor.push(i);\n            break;\n          case Ce.STENCIL:\n            this.renderer.stencil.push(i);\n            break;\n          case Ce.SPRITE:\n            i.copyCountersOrReset(null), this.pushSpriteMask(i);\n            break;\n          case Ce.COLOR:\n            this.pushColorMask(i);\n            break;\n        }\n      i.type === Ce.SPRITE && this.maskStack.push(i);\n    }, r.prototype.pop = function(t) {\n      var e = this.maskStack.pop();\n      if (!(!e || e._target !== t)) {\n        if (e.enabled)\n          switch (e.type) {\n            case Ce.SCISSOR:\n              this.renderer.scissor.pop(e);\n              break;\n            case Ce.STENCIL:\n              this.renderer.stencil.pop(e.maskObject);\n              break;\n            case Ce.SPRITE:\n              this.popSpriteMask(e);\n              break;\n            case Ce.COLOR:\n              this.popColorMask(e);\n              break;\n          }\n        if (e.reset(), e.pooled && this.maskDataPool.push(e), this.maskStack.length !== 0) {\n          var i = this.maskStack[this.maskStack.length - 1];\n          i.type === Ce.SPRITE && i._filters && (i._filters[0].maskSprite = i.maskObject);\n        }\n      }\n    }, r.prototype.detect = function(t) {\n      var e = t.maskObject;\n      e ? e.isSprite ? t.type = Ce.SPRITE : this.enableScissor && this.renderer.scissor.testScissor(t) ? t.type = Ce.SCISSOR : t.type = Ce.STENCIL : t.type = Ce.COLOR;\n    }, r.prototype.pushSpriteMask = function(t) {\n      var e, i, n = t.maskObject, s = t._target, o = t._filters;\n      o || (o = this.alphaMaskPool[this.alphaMaskIndex], o || (o = this.alphaMaskPool[this.alphaMaskIndex] = [new Z0()]));\n      var a = this.renderer, l = a.renderTexture, u, c;\n      if (l.current) {\n        var f = l.current;\n        u = t.resolution || f.resolution, c = (e = t.multisample) !== null && e !== void 0 ? e : f.multisample;\n      } else\n        u = t.resolution || a.resolution, c = (i = t.multisample) !== null && i !== void 0 ? i : a.multisample;\n      o[0].resolution = u, o[0].multisample = c, o[0].maskSprite = n;\n      var d = s.filterArea;\n      s.filterArea = n.getBounds(!0), a.filter.push(s, o), s.filterArea = d, t._filters || this.alphaMaskIndex++;\n    }, r.prototype.popSpriteMask = function(t) {\n      this.renderer.filter.pop(), t._filters ? t._filters[0].maskSprite = null : (this.alphaMaskIndex--, this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite = null);\n    }, r.prototype.pushColorMask = function(t) {\n      var e = t._colorMask, i = t._colorMask = e & t.colorMask;\n      i !== e && this.renderer.gl.colorMask((i & 1) !== 0, (i & 2) !== 0, (i & 4) !== 0, (i & 8) !== 0);\n    }, r.prototype.popColorMask = function(t) {\n      var e = t._colorMask, i = this.maskStack.length > 0 ? this.maskStack[this.maskStack.length - 1]._colorMask : 15;\n      i !== e && this.renderer.gl.colorMask((i & 1) !== 0, (i & 2) !== 0, (i & 4) !== 0, (i & 8) !== 0);\n    }, r.prototype.destroy = function() {\n      this.renderer = null;\n    }, r;\n  }()\n), K0 = (\n  /** @class */\n  function() {\n    function r(t) {\n      this.renderer = t, this.maskStack = [], this.glConst = 0;\n    }\n    return r.prototype.getStackLength = function() {\n      return this.maskStack.length;\n    }, r.prototype.setMaskStack = function(t) {\n      var e = this.renderer.gl, i = this.getStackLength();\n      this.maskStack = t;\n      var n = this.getStackLength();\n      n !== i && (n === 0 ? e.disable(this.glConst) : (e.enable(this.glConst), this._useCurrent()));\n    }, r.prototype._useCurrent = function() {\n    }, r.prototype.destroy = function() {\n      this.renderer = null, this.maskStack = null;\n    }, r;\n  }()\n), cg = new Be(), fg = [], e_ = (\n  /** @class */\n  function(r) {\n    ne(t, r);\n    function t(e) {\n      var i = r.call(this, e) || this;\n      return i.glConst = Q.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST, i;\n    }\n    return t.prototype.getStackLength = function() {\n      var e = this.maskStack[this.maskStack.length - 1];\n      return e ? e._scissorCounter : 0;\n    }, t.prototype.calcScissorRect = function(e) {\n      var i;\n      if (!e._scissorRectLocal) {\n        var n = e._scissorRect, s = e.maskObject, o = this.renderer, a = o.renderTexture, l = s.getBounds(!0, (i = fg.pop()) !== null && i !== void 0 ? i : new gt());\n        this.roundFrameToPixels(l, a.current ? a.current.resolution : o.resolution, a.sourceFrame, a.destinationFrame, o.projection.transform), n && l.fit(n), e._scissorRectLocal = l;\n      }\n    }, t.isMatrixRotated = function(e) {\n      if (!e)\n        return !1;\n      var i = e.a, n = e.b, s = e.c, o = e.d;\n      return (Math.abs(n) > 1e-4 || Math.abs(s) > 1e-4) && (Math.abs(i) > 1e-4 || Math.abs(o) > 1e-4);\n    }, t.prototype.testScissor = function(e) {\n      var i = e.maskObject;\n      if (!i.isFastRect || !i.isFastRect() || t.isMatrixRotated(i.worldTransform) || t.isMatrixRotated(this.renderer.projection.transform))\n        return !1;\n      this.calcScissorRect(e);\n      var n = e._scissorRectLocal;\n      return n.width > 0 && n.height > 0;\n    }, t.prototype.roundFrameToPixels = function(e, i, n, s, o) {\n      t.isMatrixRotated(o) || (o = o ? cg.copyFrom(o) : cg.identity(), o.translate(-n.x, -n.y).scale(s.width / n.width, s.height / n.height).translate(s.x, s.y), this.renderer.filter.transformAABB(o, e), e.fit(s), e.x = Math.round(e.x * i), e.y = Math.round(e.y * i), e.width = Math.round(e.width * i), e.height = Math.round(e.height * i));\n    }, t.prototype.push = function(e) {\n      e._scissorRectLocal || this.calcScissorRect(e);\n      var i = this.renderer.gl;\n      e._scissorRect || i.enable(i.SCISSOR_TEST), e._scissorCounter++, e._scissorRect = e._scissorRectLocal, this._useCurrent();\n    }, t.prototype.pop = function(e) {\n      var i = this.renderer.gl;\n      e && fg.push(e._scissorRectLocal), this.getStackLength() > 0 ? this._useCurrent() : i.disable(i.SCISSOR_TEST);\n    }, t.prototype._useCurrent = function() {\n      var e = this.maskStack[this.maskStack.length - 1]._scissorRect, i;\n      this.renderer.renderTexture.current ? i = e.y : i = this.renderer.height - e.height - e.y, this.renderer.gl.scissor(e.x, i, e.width, e.height);\n    }, t;\n  }(K0)\n), i_ = (\n  /** @class */\n  function(r) {\n    ne(t, r);\n    function t(e) {\n      var i = r.call(this, e) || this;\n      return i.glConst = Q.ADAPTER.getWebGLRenderingContext().STENCIL_TEST, i;\n    }\n    return t.prototype.getStackLength = function() {\n      var e = this.maskStack[this.maskStack.length - 1];\n      return e ? e._stencilCounter : 0;\n    }, t.prototype.push = function(e) {\n      var i = e.maskObject, n = this.renderer.gl, s = e._stencilCounter;\n      s === 0 && (this.renderer.framebuffer.forceStencil(), n.clearStencil(0), n.clear(n.STENCIL_BUFFER_BIT), n.enable(n.STENCIL_TEST)), e._stencilCounter++;\n      var o = e._colorMask;\n      o !== 0 && (e._colorMask = 0, n.colorMask(!1, !1, !1, !1)), n.stencilFunc(n.EQUAL, s, 4294967295), n.stencilOp(n.KEEP, n.KEEP, n.INCR), i.renderable = !0, i.render(this.renderer), this.renderer.batch.flush(), i.renderable = !1, o !== 0 && (e._colorMask = o, n.colorMask((o & 1) !== 0, (o & 2) !== 0, (o & 4) !== 0, (o & 8) !== 0)), this._useCurrent();\n    }, t.prototype.pop = function(e) {\n      var i = this.renderer.gl;\n      if (this.getStackLength() === 0)\n        i.disable(i.STENCIL_TEST);\n      else {\n        var n = this.maskStack.length !== 0 ? this.maskStack[this.maskStack.length - 1] : null, s = n ? n._colorMask : 15;\n        s !== 0 && (n._colorMask = 0, i.colorMask(!1, !1, !1, !1)), i.stencilOp(i.KEEP, i.KEEP, i.DECR), e.renderable = !0, e.render(this.renderer), this.renderer.batch.flush(), e.renderable = !1, s !== 0 && (n._colorMask = s, i.colorMask((s & 1) !== 0, (s & 2) !== 0, (s & 4) !== 0, (s & 8) !== 0)), this._useCurrent();\n      }\n    }, t.prototype._useCurrent = function() {\n      var e = this.renderer.gl;\n      e.stencilFunc(e.EQUAL, this.getStackLength(), 4294967295), e.stencilOp(e.KEEP, e.KEEP, e.KEEP);\n    }, t;\n  }(K0)\n), r_ = (\n  /** @class */\n  function() {\n    function r(t) {\n      this.renderer = t, this.destinationFrame = null, this.sourceFrame = null, this.defaultFrame = null, this.projectionMatrix = new Be(), this.transform = null;\n    }\n    return r.prototype.update = function(t, e, i, n) {\n      this.destinationFrame = t || this.destinationFrame || this.defaultFrame, this.sourceFrame = e || this.sourceFrame || t, this.calculateProjection(this.destinationFrame, this.sourceFrame, i, n), this.transform && this.projectionMatrix.append(this.transform);\n      var s = this.renderer;\n      s.globalUniforms.uniforms.projectionMatrix = this.projectionMatrix, s.globalUniforms.update(), s.shader.shader && s.shader.syncUniformGroup(s.shader.shader.uniforms.globals);\n    }, r.prototype.calculateProjection = function(t, e, i, n) {\n      var s = this.projectionMatrix, o = n ? -1 : 1;\n      s.identity(), s.a = 1 / e.width * 2, s.d = o * (1 / e.height * 2), s.tx = -1 - e.x * s.a, s.ty = -o - e.y * s.d;\n    }, r.prototype.setTransform = function(t) {\n    }, r.prototype.destroy = function() {\n      this.renderer = null;\n    }, r;\n  }()\n), bs = new gt(), Ah = new gt(), n_ = (\n  /** @class */\n  function() {\n    function r(t) {\n      this.renderer = t, this.clearColor = t._backgroundColorRgba, this.defaultMaskStack = [], this.current = null, this.sourceFrame = new gt(), this.destinationFrame = new gt(), this.viewportFrame = new gt();\n    }\n    return r.prototype.bind = function(t, e, i) {\n      t === void 0 && (t = null);\n      var n = this.renderer;\n      this.current = t;\n      var s, o, a;\n      t ? (s = t.baseTexture, a = s.resolution, e || (bs.width = t.frame.width, bs.height = t.frame.height, e = bs), i || (Ah.x = t.frame.x, Ah.y = t.frame.y, Ah.width = e.width, Ah.height = e.height, i = Ah), o = s.framebuffer) : (a = n.resolution, e || (bs.width = n.screen.width, bs.height = n.screen.height, e = bs), i || (i = bs, i.width = e.width, i.height = e.height));\n      var l = this.viewportFrame;\n      l.x = i.x * a, l.y = i.y * a, l.width = i.width * a, l.height = i.height * a, t || (l.y = n.view.height - (l.y + l.height)), l.ceil(), this.renderer.framebuffer.bind(o, l), this.renderer.projection.update(i, e, a, !o), t ? this.renderer.mask.setMaskStack(s.maskStack) : this.renderer.mask.setMaskStack(this.defaultMaskStack), this.sourceFrame.copyFrom(e), this.destinationFrame.copyFrom(i);\n    }, r.prototype.clear = function(t, e) {\n      this.current ? t = t || this.current.baseTexture.clearColor : t = t || this.clearColor;\n      var i = this.destinationFrame, n = this.current ? this.current.baseTexture : this.renderer.screen, s = i.width !== n.width || i.height !== n.height;\n      if (s) {\n        var o = this.viewportFrame, a = o.x, l = o.y, u = o.width, c = o.height;\n        a = Math.round(a), l = Math.round(l), u = Math.round(u), c = Math.round(c), this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST), this.renderer.gl.scissor(a, l, u, c);\n      }\n      this.renderer.framebuffer.clear(t[0], t[1], t[2], t[3], e), s && this.renderer.scissor.pop();\n    }, r.prototype.resize = function() {\n      this.bind(null);\n    }, r.prototype.reset = function() {\n      this.bind(null);\n    }, r.prototype.destroy = function() {\n      this.renderer = null;\n    }, r;\n  }()\n);\nfunction PP(r, t, e, i, n) {\n  e.buffer.update(n);\n}\nvar OP = {\n  float: `\n        data[offset] = v;\n    `,\n  vec2: `\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    `,\n  vec3: `\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    `,\n  vec4: `\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    `,\n  mat2: `\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    `,\n  mat3: `\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    `,\n  mat4: `\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    `\n}, J0 = {\n  float: 4,\n  vec2: 8,\n  vec3: 12,\n  vec4: 16,\n  int: 4,\n  ivec2: 8,\n  ivec3: 12,\n  ivec4: 16,\n  uint: 4,\n  uvec2: 8,\n  uvec3: 12,\n  uvec4: 16,\n  bool: 4,\n  bvec2: 8,\n  bvec3: 12,\n  bvec4: 16,\n  mat2: 16 * 2,\n  mat3: 16 * 3,\n  mat4: 16 * 4\n};\nfunction Q0(r) {\n  for (var t = r.map(function(l) {\n    return {\n      data: l,\n      offset: 0,\n      dataLen: 0,\n      dirty: 0\n    };\n  }), e = 0, i = 0, n = 0, s = 0; s < t.length; s++) {\n    var o = t[s];\n    if (e = J0[o.data.type], o.data.size > 1 && (e = Math.max(e, 16) * o.data.size), o.dataLen = e, i % e !== 0 && i < 16) {\n      var a = i % e % 16;\n      i += a, n += a;\n    }\n    i + e > 16 ? (n = Math.ceil(n / 16) * 16, o.offset = n, n += e, i = e) : (o.offset = n, i += e, n += e);\n  }\n  return n = Math.ceil(n / 16) * 16, { uboElements: t, size: n };\n}\nfunction tb(r, t) {\n  var e = [];\n  for (var i in r)\n    t[i] && e.push(t[i]);\n  return e.sort(function(n, s) {\n    return n.index - s.index;\n  }), e;\n}\nfunction eb(r, t) {\n  if (!r.autoManage)\n    return { size: 0, syncFunc: PP };\n  for (var e = tb(r.uniforms, t), i = Q0(e), n = i.uboElements, s = i.size, o = [`\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    `], a = 0; a < n.length; a++) {\n    for (var l = n[a], u = r.uniforms[l.data.name], c = l.data.name, f = !1, d = 0; d < jo.length; d++) {\n      var p = jo[d];\n      if (p.codeUbo && p.test(l.data, u)) {\n        o.push(\"offset = \" + l.offset / 4 + \";\", jo[d].codeUbo(l.data.name, u)), f = !0;\n        break;\n      }\n    }\n    if (!f)\n      if (l.data.size > 1) {\n        var m = W0(l.data.type), v = Math.max(J0[l.data.type] / 16, 1), y = m / v, g = (4 - y % 4) % 4;\n        o.push(`\n                cv = ud.` + c + `.value;\n                v = uv.` + c + `;\n                offset = ` + l.offset / 4 + `;\n\n                t = 0;\n\n                for(var i=0; i < ` + l.data.size * v + `; i++)\n                {\n                    for(var j = 0; j < ` + y + `; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += ` + g + `;\n                }\n\n                `);\n      } else {\n        var w = OP[l.data.type];\n        o.push(`\n                cv = ud.` + c + `.value;\n                v = uv.` + c + `;\n                offset = ` + l.offset / 4 + `;\n                ` + w + `;\n                `);\n      }\n  }\n  return o.push(`\n       renderer.buffer.update(buffer);\n    `), {\n    size: s,\n    // eslint-disable-next-line no-new-func\n    syncFunc: new Function(\"ud\", \"uv\", \"renderer\", \"syncData\", \"buffer\", o.join(`\n`))\n  };\n}\nvar IP = (\n  /** @class */\n  function() {\n    function r() {\n    }\n    return r;\n  }()\n), ib = (\n  /** @class */\n  function() {\n    function r(t, e) {\n      this.program = t, this.uniformData = e, this.uniformGroups = {}, this.uniformDirtyGroups = {}, this.uniformBufferBindings = {};\n    }\n    return r.prototype.destroy = function() {\n      this.uniformData = null, this.uniformGroups = null, this.uniformDirtyGroups = null, this.uniformBufferBindings = null, this.program = null;\n    }, r;\n  }()\n);\nfunction CP(r, t) {\n  for (var e = {}, i = t.getProgramParameter(r, t.ACTIVE_ATTRIBUTES), n = 0; n < i; n++) {\n    var s = t.getActiveAttrib(r, n);\n    if (s.name.indexOf(\"gl_\") !== 0) {\n      var o = Y0(t, s.type), a = {\n        type: o,\n        name: s.name,\n        size: W0(o),\n        location: t.getAttribLocation(r, s.name)\n      };\n      e[s.name] = a;\n    }\n  }\n  return e;\n}\nfunction MP(r, t) {\n  for (var e = {}, i = t.getProgramParameter(r, t.ACTIVE_UNIFORMS), n = 0; n < i; n++) {\n    var s = t.getActiveUniform(r, n), o = s.name.replace(/\\[.*?\\]$/, \"\"), a = !!s.name.match(/\\[.*?\\]$/), l = Y0(t, s.type);\n    e[o] = {\n      name: o,\n      index: n,\n      type: l,\n      size: s.size,\n      isArray: a,\n      value: z0(l, s.size)\n    };\n  }\n  return e;\n}\nfunction rb(r, t) {\n  var e = og(r, r.VERTEX_SHADER, t.vertexSrc), i = og(r, r.FRAGMENT_SHADER, t.fragmentSrc), n = r.createProgram();\n  if (r.attachShader(n, e), r.attachShader(n, i), r.linkProgram(n), r.getProgramParameter(n, r.LINK_STATUS) || uP(r, n, e, i), t.attributeData = CP(n, r), t.uniformData = MP(n, r), !/^[ \\t]*#[ \\t]*version[ \\t]+300[ \\t]+es[ \\t]*$/m.test(t.vertexSrc)) {\n    var s = Object.keys(t.attributeData);\n    s.sort(function(c, f) {\n      return c > f ? 1 : -1;\n    });\n    for (var o = 0; o < s.length; o++)\n      t.attributeData[s[o]].location = o, r.bindAttribLocation(n, o, s[o]);\n    r.linkProgram(n);\n  }\n  r.deleteShader(e), r.deleteShader(i);\n  var a = {};\n  for (var o in t.uniformData) {\n    var l = t.uniformData[o];\n    a[o] = {\n      location: r.getUniformLocation(n, o),\n      value: z0(l.type, l.size)\n    };\n  }\n  var u = new ib(n, a);\n  return u;\n}\nvar RP = 0, Lc = { textureCount: 0, uboCount: 0 }, s_ = (\n  /** @class */\n  function() {\n    function r(t) {\n      this.destroyed = !1, this.renderer = t, this.systemCheck(), this.gl = null, this.shader = null, this.program = null, this.cache = {}, this._uboCache = {}, this.id = RP++;\n    }\n    return r.prototype.systemCheck = function() {\n      if (!_P())\n        throw new Error(\"Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.\");\n    }, r.prototype.contextChange = function(t) {\n      this.gl = t, this.reset();\n    }, r.prototype.bind = function(t, e) {\n      t.disposeRunner.add(this), t.uniforms.globals = this.renderer.globalUniforms;\n      var i = t.program, n = i.glPrograms[this.renderer.CONTEXT_UID] || this.generateProgram(t);\n      return this.shader = t, this.program !== i && (this.program = i, this.gl.useProgram(n.program)), e || (Lc.textureCount = 0, Lc.uboCount = 0, this.syncUniformGroup(t.uniformGroup, Lc)), n;\n    }, r.prototype.setUniforms = function(t) {\n      var e = this.shader.program, i = e.glPrograms[this.renderer.CONTEXT_UID];\n      e.syncUniforms(i.uniformData, t, this.renderer);\n    }, r.prototype.syncUniformGroup = function(t, e) {\n      var i = this.getGlProgram();\n      (!t.static || t.dirtyId !== i.uniformDirtyGroups[t.id]) && (i.uniformDirtyGroups[t.id] = t.dirtyId, this.syncUniforms(t, i, e));\n    }, r.prototype.syncUniforms = function(t, e, i) {\n      var n = t.syncUniforms[this.shader.program.id] || this.createSyncGroups(t);\n      n(e.uniformData, t.uniforms, this.renderer, i);\n    }, r.prototype.createSyncGroups = function(t) {\n      var e = this.getSignature(t, this.shader.program.uniformData, \"u\");\n      return this.cache[e] || (this.cache[e] = vP(t, this.shader.program.uniformData)), t.syncUniforms[this.shader.program.id] = this.cache[e], t.syncUniforms[this.shader.program.id];\n    }, r.prototype.syncUniformBufferGroup = function(t, e) {\n      var i = this.getGlProgram();\n      if (!t.static || t.dirtyId !== 0 || !i.uniformGroups[t.id]) {\n        t.dirtyId = 0;\n        var n = i.uniformGroups[t.id] || this.createSyncBufferGroup(t, i, e);\n        t.buffer.update(), n(i.uniformData, t.uniforms, this.renderer, Lc, t.buffer);\n      }\n      this.renderer.buffer.bindBufferBase(t.buffer, i.uniformBufferBindings[e]);\n    }, r.prototype.createSyncBufferGroup = function(t, e, i) {\n      var n = this.renderer.gl;\n      this.renderer.buffer.bind(t.buffer);\n      var s = this.gl.getUniformBlockIndex(e.program, i);\n      e.uniformBufferBindings[i] = this.shader.uniformBindCount, n.uniformBlockBinding(e.program, s, this.shader.uniformBindCount), this.shader.uniformBindCount++;\n      var o = this.getSignature(t, this.shader.program.uniformData, \"ubo\"), a = this._uboCache[o];\n      if (a || (a = this._uboCache[o] = eb(t, this.shader.program.uniformData)), t.autoManage) {\n        var l = new Float32Array(a.size / 4);\n        t.buffer.update(l);\n      }\n      return e.uniformGroups[t.id] = a.syncFunc, e.uniformGroups[t.id];\n    }, r.prototype.getSignature = function(t, e, i) {\n      var n = t.uniforms, s = [i + \"-\"];\n      for (var o in n)\n        s.push(o), e[o] && s.push(e[o].type);\n      return s.join(\"-\");\n    }, r.prototype.getGlProgram = function() {\n      return this.shader ? this.shader.program.glPrograms[this.renderer.CONTEXT_UID] : null;\n    }, r.prototype.generateProgram = function(t) {\n      var e = this.gl, i = t.program, n = rb(e, i);\n      return i.glPrograms[this.renderer.CONTEXT_UID] = n, n;\n    }, r.prototype.reset = function() {\n      this.program = null, this.shader = null;\n    }, r.prototype.disposeShader = function(t) {\n      this.shader === t && (this.shader = null);\n    }, r.prototype.destroy = function() {\n      this.renderer = null, this.destroyed = !0;\n    }, r;\n  }()\n);\nfunction kP(r, t) {\n  return t === void 0 && (t = []), t[ot.NORMAL] = [r.ONE, r.ONE_MINUS_SRC_ALPHA], t[ot.ADD] = [r.ONE, r.ONE], t[ot.MULTIPLY] = [r.DST_COLOR, r.ONE_MINUS_SRC_ALPHA, r.ONE, r.ONE_MINUS_SRC_ALPHA], t[ot.SCREEN] = [r.ONE, r.ONE_MINUS_SRC_COLOR, r.ONE, r.ONE_MINUS_SRC_ALPHA], t[ot.OVERLAY] = [r.ONE, r.ONE_MINUS_SRC_ALPHA], t[ot.DARKEN] = [r.ONE, r.ONE_MINUS_SRC_ALPHA], t[ot.LIGHTEN] = [r.ONE, r.ONE_MINUS_SRC_ALPHA], t[ot.COLOR_DODGE] = [r.ONE, r.ONE_MINUS_SRC_ALPHA], t[ot.COLOR_BURN] = [r.ONE, r.ONE_MINUS_SRC_ALPHA], t[ot.HARD_LIGHT] = [r.ONE, r.ONE_MINUS_SRC_ALPHA], t[ot.SOFT_LIGHT] = [r.ONE, r.ONE_MINUS_SRC_ALPHA], t[ot.DIFFERENCE] = [r.ONE, r.ONE_MINUS_SRC_ALPHA], t[ot.EXCLUSION] = [r.ONE, r.ONE_MINUS_SRC_ALPHA], t[ot.HUE] = [r.ONE, r.ONE_MINUS_SRC_ALPHA], t[ot.SATURATION] = [r.ONE, r.ONE_MINUS_SRC_ALPHA], t[ot.COLOR] = [r.ONE, r.ONE_MINUS_SRC_ALPHA], t[ot.LUMINOSITY] = [r.ONE, r.ONE_MINUS_SRC_ALPHA], t[ot.NONE] = [0, 0], t[ot.NORMAL_NPM] = [r.SRC_ALPHA, r.ONE_MINUS_SRC_ALPHA, r.ONE, r.ONE_MINUS_SRC_ALPHA], t[ot.ADD_NPM] = [r.SRC_ALPHA, r.ONE, r.ONE, r.ONE], t[ot.SCREEN_NPM] = [r.SRC_ALPHA, r.ONE_MINUS_SRC_COLOR, r.ONE, r.ONE_MINUS_SRC_ALPHA], t[ot.SRC_IN] = [r.DST_ALPHA, r.ZERO], t[ot.SRC_OUT] = [r.ONE_MINUS_DST_ALPHA, r.ZERO], t[ot.SRC_ATOP] = [r.DST_ALPHA, r.ONE_MINUS_SRC_ALPHA], t[ot.DST_OVER] = [r.ONE_MINUS_DST_ALPHA, r.ONE], t[ot.DST_IN] = [r.ZERO, r.SRC_ALPHA], t[ot.DST_OUT] = [r.ZERO, r.ONE_MINUS_SRC_ALPHA], t[ot.DST_ATOP] = [r.ONE_MINUS_DST_ALPHA, r.SRC_ALPHA], t[ot.XOR] = [r.ONE_MINUS_DST_ALPHA, r.ONE_MINUS_SRC_ALPHA], t[ot.SUBTRACT] = [r.ONE, r.ONE, r.ONE, r.ONE, r.FUNC_REVERSE_SUBTRACT, r.FUNC_ADD], t;\n}\nvar NP = 0, LP = 1, AP = 2, DP = 3, BP = 4, FP = 5, o_ = (\n  /** @class */\n  function() {\n    function r() {\n      this.gl = null, this.stateId = 0, this.polygonOffset = 0, this.blendMode = ot.NONE, this._blendEq = !1, this.map = [], this.map[NP] = this.setBlend, this.map[LP] = this.setOffset, this.map[AP] = this.setCullFace, this.map[DP] = this.setDepthTest, this.map[BP] = this.setFrontFace, this.map[FP] = this.setDepthMask, this.checks = [], this.defaultState = new ys(), this.defaultState.blend = !0;\n    }\n    return r.prototype.contextChange = function(t) {\n      this.gl = t, this.blendModes = kP(t), this.set(this.defaultState), this.reset();\n    }, r.prototype.set = function(t) {\n      if (t = t || this.defaultState, this.stateId !== t.data) {\n        for (var e = this.stateId ^ t.data, i = 0; e; )\n          e & 1 && this.map[i].call(this, !!(t.data & 1 << i)), e = e >> 1, i++;\n        this.stateId = t.data;\n      }\n      for (var i = 0; i < this.checks.length; i++)\n        this.checks[i](this, t);\n    }, r.prototype.forceState = function(t) {\n      t = t || this.defaultState;\n      for (var e = 0; e < this.map.length; e++)\n        this.map[e].call(this, !!(t.data & 1 << e));\n      for (var e = 0; e < this.checks.length; e++)\n        this.checks[e](this, t);\n      this.stateId = t.data;\n    }, r.prototype.setBlend = function(t) {\n      this.updateCheck(r.checkBlendMode, t), this.gl[t ? \"enable\" : \"disable\"](this.gl.BLEND);\n    }, r.prototype.setOffset = function(t) {\n      this.updateCheck(r.checkPolygonOffset, t), this.gl[t ? \"enable\" : \"disable\"](this.gl.POLYGON_OFFSET_FILL);\n    }, r.prototype.setDepthTest = function(t) {\n      this.gl[t ? \"enable\" : \"disable\"](this.gl.DEPTH_TEST);\n    }, r.prototype.setDepthMask = function(t) {\n      this.gl.depthMask(t);\n    }, r.prototype.setCullFace = function(t) {\n      this.gl[t ? \"enable\" : \"disable\"](this.gl.CULL_FACE);\n    }, r.prototype.setFrontFace = function(t) {\n      this.gl.frontFace(this.gl[t ? \"CW\" : \"CCW\"]);\n    }, r.prototype.setBlendMode = function(t) {\n      if (t !== this.blendMode) {\n        this.blendMode = t;\n        var e = this.blendModes[t], i = this.gl;\n        e.length === 2 ? i.blendFunc(e[0], e[1]) : i.blendFuncSeparate(e[0], e[1], e[2], e[3]), e.length === 6 ? (this._blendEq = !0, i.blendEquationSeparate(e[4], e[5])) : this._blendEq && (this._blendEq = !1, i.blendEquationSeparate(i.FUNC_ADD, i.FUNC_ADD));\n      }\n    }, r.prototype.setPolygonOffset = function(t, e) {\n      this.gl.polygonOffset(t, e);\n    }, r.prototype.reset = function() {\n      this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL, !1), this.forceState(this.defaultState), this._blendEq = !0, this.blendMode = -1, this.setBlendMode(0);\n    }, r.prototype.updateCheck = function(t, e) {\n      var i = this.checks.indexOf(t);\n      e && i === -1 ? this.checks.push(t) : !e && i !== -1 && this.checks.splice(i, 1);\n    }, r.checkBlendMode = function(t, e) {\n      t.setBlendMode(e.blendMode);\n    }, r.checkPolygonOffset = function(t, e) {\n      t.setPolygonOffset(1, e.polygonOffset);\n    }, r.prototype.destroy = function() {\n      this.gl = null;\n    }, r;\n  }()\n), a_ = (\n  /** @class */\n  function() {\n    function r(t) {\n      this.renderer = t, this.count = 0, this.checkCount = 0, this.maxIdle = Q.GC_MAX_IDLE, this.checkCountMax = Q.GC_MAX_CHECK_COUNT, this.mode = Q.GC_MODE;\n    }\n    return r.prototype.postrender = function() {\n      this.renderer.renderingToScreen && (this.count++, this.mode !== Rf.MANUAL && (this.checkCount++, this.checkCount > this.checkCountMax && (this.checkCount = 0, this.run())));\n    }, r.prototype.run = function() {\n      for (var t = this.renderer.texture, e = t.managedTextures, i = !1, n = 0; n < e.length; n++) {\n        var s = e[n];\n        !s.framebuffer && this.count - s.touched > this.maxIdle && (t.destroyTexture(s, !0), e[n] = null, i = !0);\n      }\n      if (i) {\n        for (var o = 0, n = 0; n < e.length; n++)\n          e[n] !== null && (e[o++] = e[n]);\n        e.length = o;\n      }\n    }, r.prototype.unload = function(t) {\n      var e = this.renderer.texture, i = t._texture;\n      i && !i.framebuffer && e.destroyTexture(i);\n      for (var n = t.children.length - 1; n >= 0; n--)\n        this.unload(t.children[n]);\n    }, r.prototype.destroy = function() {\n      this.renderer = null;\n    }, r;\n  }()\n);\nfunction UP(r) {\n  var t, e, i, n, s, o, a, l, u, c, f, d, p, m, v, y, g, w, T, P, O, C, I;\n  return \"WebGL2RenderingContext\" in globalThis && r instanceof globalThis.WebGL2RenderingContext ? I = (t = {}, t[ut.UNSIGNED_BYTE] = (e = {}, e[W.RGBA] = r.RGBA8, e[W.RGB] = r.RGB8, e[W.RG] = r.RG8, e[W.RED] = r.R8, e[W.RGBA_INTEGER] = r.RGBA8UI, e[W.RGB_INTEGER] = r.RGB8UI, e[W.RG_INTEGER] = r.RG8UI, e[W.RED_INTEGER] = r.R8UI, e[W.ALPHA] = r.ALPHA, e[W.LUMINANCE] = r.LUMINANCE, e[W.LUMINANCE_ALPHA] = r.LUMINANCE_ALPHA, e), t[ut.BYTE] = (i = {}, i[W.RGBA] = r.RGBA8_SNORM, i[W.RGB] = r.RGB8_SNORM, i[W.RG] = r.RG8_SNORM, i[W.RED] = r.R8_SNORM, i[W.RGBA_INTEGER] = r.RGBA8I, i[W.RGB_INTEGER] = r.RGB8I, i[W.RG_INTEGER] = r.RG8I, i[W.RED_INTEGER] = r.R8I, i), t[ut.UNSIGNED_SHORT] = (n = {}, n[W.RGBA_INTEGER] = r.RGBA16UI, n[W.RGB_INTEGER] = r.RGB16UI, n[W.RG_INTEGER] = r.RG16UI, n[W.RED_INTEGER] = r.R16UI, n[W.DEPTH_COMPONENT] = r.DEPTH_COMPONENT16, n), t[ut.SHORT] = (s = {}, s[W.RGBA_INTEGER] = r.RGBA16I, s[W.RGB_INTEGER] = r.RGB16I, s[W.RG_INTEGER] = r.RG16I, s[W.RED_INTEGER] = r.R16I, s), t[ut.UNSIGNED_INT] = (o = {}, o[W.RGBA_INTEGER] = r.RGBA32UI, o[W.RGB_INTEGER] = r.RGB32UI, o[W.RG_INTEGER] = r.RG32UI, o[W.RED_INTEGER] = r.R32UI, o[W.DEPTH_COMPONENT] = r.DEPTH_COMPONENT24, o), t[ut.INT] = (a = {}, a[W.RGBA_INTEGER] = r.RGBA32I, a[W.RGB_INTEGER] = r.RGB32I, a[W.RG_INTEGER] = r.RG32I, a[W.RED_INTEGER] = r.R32I, a), t[ut.FLOAT] = (l = {}, l[W.RGBA] = r.RGBA32F, l[W.RGB] = r.RGB32F, l[W.RG] = r.RG32F, l[W.RED] = r.R32F, l[W.DEPTH_COMPONENT] = r.DEPTH_COMPONENT32F, l), t[ut.HALF_FLOAT] = (u = {}, u[W.RGBA] = r.RGBA16F, u[W.RGB] = r.RGB16F, u[W.RG] = r.RG16F, u[W.RED] = r.R16F, u), t[ut.UNSIGNED_SHORT_5_6_5] = (c = {}, c[W.RGB] = r.RGB565, c), t[ut.UNSIGNED_SHORT_4_4_4_4] = (f = {}, f[W.RGBA] = r.RGBA4, f), t[ut.UNSIGNED_SHORT_5_5_5_1] = (d = {}, d[W.RGBA] = r.RGB5_A1, d), t[ut.UNSIGNED_INT_2_10_10_10_REV] = (p = {}, p[W.RGBA] = r.RGB10_A2, p[W.RGBA_INTEGER] = r.RGB10_A2UI, p), t[ut.UNSIGNED_INT_10F_11F_11F_REV] = (m = {}, m[W.RGB] = r.R11F_G11F_B10F, m), t[ut.UNSIGNED_INT_5_9_9_9_REV] = (v = {}, v[W.RGB] = r.RGB9_E5, v), t[ut.UNSIGNED_INT_24_8] = (y = {}, y[W.DEPTH_STENCIL] = r.DEPTH24_STENCIL8, y), t[ut.FLOAT_32_UNSIGNED_INT_24_8_REV] = (g = {}, g[W.DEPTH_STENCIL] = r.DEPTH32F_STENCIL8, g), t) : I = (w = {}, w[ut.UNSIGNED_BYTE] = (T = {}, T[W.RGBA] = r.RGBA, T[W.RGB] = r.RGB, T[W.ALPHA] = r.ALPHA, T[W.LUMINANCE] = r.LUMINANCE, T[W.LUMINANCE_ALPHA] = r.LUMINANCE_ALPHA, T), w[ut.UNSIGNED_SHORT_5_6_5] = (P = {}, P[W.RGB] = r.RGB, P), w[ut.UNSIGNED_SHORT_4_4_4_4] = (O = {}, O[W.RGBA] = r.RGBA, O), w[ut.UNSIGNED_SHORT_5_5_5_1] = (C = {}, C[W.RGBA] = r.RGBA, C), w), I;\n}\nvar ef = (\n  /** @class */\n  function() {\n    function r(t) {\n      this.texture = t, this.width = -1, this.height = -1, this.dirtyId = -1, this.dirtyStyleId = -1, this.mipmap = !1, this.wrapMode = 33071, this.type = ut.UNSIGNED_BYTE, this.internalFormat = W.RGBA, this.samplerType = 0;\n    }\n    return r;\n  }()\n), h_ = (\n  /** @class */\n  function() {\n    function r(t) {\n      this.renderer = t, this.boundTextures = [], this.currentLocation = -1, this.managedTextures = [], this._unknownBoundTextures = !1, this.unknownTexture = new It(), this.hasIntegerTextures = !1;\n    }\n    return r.prototype.contextChange = function() {\n      var t = this.gl = this.renderer.gl;\n      this.CONTEXT_UID = this.renderer.CONTEXT_UID, this.webGLVersion = this.renderer.context.webGLVersion, this.internalFormats = UP(t);\n      var e = t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);\n      this.boundTextures.length = e;\n      for (var i = 0; i < e; i++)\n        this.boundTextures[i] = null;\n      this.emptyTextures = {};\n      var n = new ef(t.createTexture());\n      t.bindTexture(t.TEXTURE_2D, n.texture), t.texImage2D(t.TEXTURE_2D, 0, t.RGBA, 1, 1, 0, t.RGBA, t.UNSIGNED_BYTE, new Uint8Array(4)), this.emptyTextures[t.TEXTURE_2D] = n, this.emptyTextures[t.TEXTURE_CUBE_MAP] = new ef(t.createTexture()), t.bindTexture(t.TEXTURE_CUBE_MAP, this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);\n      for (var i = 0; i < 6; i++)\n        t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, t.RGBA, 1, 1, 0, t.RGBA, t.UNSIGNED_BYTE, null);\n      t.texParameteri(t.TEXTURE_CUBE_MAP, t.TEXTURE_MAG_FILTER, t.LINEAR), t.texParameteri(t.TEXTURE_CUBE_MAP, t.TEXTURE_MIN_FILTER, t.LINEAR);\n      for (var i = 0; i < this.boundTextures.length; i++)\n        this.bind(null, i);\n    }, r.prototype.bind = function(t, e) {\n      e === void 0 && (e = 0);\n      var i = this.gl;\n      if (t = t == null ? void 0 : t.castToBaseTexture(), t && t.valid && !t.parentTextureArray) {\n        t.touched = this.renderer.textureGC.count;\n        var n = t._glTextures[this.CONTEXT_UID] || this.initTexture(t);\n        this.boundTextures[e] !== t && (this.currentLocation !== e && (this.currentLocation = e, i.activeTexture(i.TEXTURE0 + e)), i.bindTexture(t.target, n.texture)), n.dirtyId !== t.dirtyId ? (this.currentLocation !== e && (this.currentLocation = e, i.activeTexture(i.TEXTURE0 + e)), this.updateTexture(t)) : n.dirtyStyleId !== t.dirtyStyleId && this.updateTextureStyle(t), this.boundTextures[e] = t;\n      } else\n        this.currentLocation !== e && (this.currentLocation = e, i.activeTexture(i.TEXTURE0 + e)), i.bindTexture(i.TEXTURE_2D, this.emptyTextures[i.TEXTURE_2D].texture), this.boundTextures[e] = null;\n    }, r.prototype.reset = function() {\n      this._unknownBoundTextures = !0, this.hasIntegerTextures = !1, this.currentLocation = -1;\n      for (var t = 0; t < this.boundTextures.length; t++)\n        this.boundTextures[t] = this.unknownTexture;\n    }, r.prototype.unbind = function(t) {\n      var e = this, i = e.gl, n = e.boundTextures;\n      if (this._unknownBoundTextures) {\n        this._unknownBoundTextures = !1;\n        for (var s = 0; s < n.length; s++)\n          n[s] === this.unknownTexture && this.bind(null, s);\n      }\n      for (var s = 0; s < n.length; s++)\n        n[s] === t && (this.currentLocation !== s && (i.activeTexture(i.TEXTURE0 + s), this.currentLocation = s), i.bindTexture(t.target, this.emptyTextures[t.target].texture), n[s] = null);\n    }, r.prototype.ensureSamplerType = function(t) {\n      var e = this, i = e.boundTextures, n = e.hasIntegerTextures, s = e.CONTEXT_UID;\n      if (n)\n        for (var o = t - 1; o >= 0; --o) {\n          var a = i[o];\n          if (a) {\n            var l = a._glTextures[s];\n            l.samplerType !== Mf.FLOAT && this.renderer.texture.unbind(a);\n          }\n        }\n    }, r.prototype.initTexture = function(t) {\n      var e = new ef(this.gl.createTexture());\n      return e.dirtyId = -1, t._glTextures[this.CONTEXT_UID] = e, this.managedTextures.push(t), t.on(\"dispose\", this.destroyTexture, this), e;\n    }, r.prototype.initTextureType = function(t, e) {\n      var i, n;\n      e.internalFormat = (n = (i = this.internalFormats[t.type]) === null || i === void 0 ? void 0 : i[t.format]) !== null && n !== void 0 ? n : t.format, this.webGLVersion === 2 && t.type === ut.HALF_FLOAT ? e.type = this.gl.HALF_FLOAT : e.type = t.type;\n    }, r.prototype.updateTexture = function(t) {\n      var e = t._glTextures[this.CONTEXT_UID];\n      if (e) {\n        var i = this.renderer;\n        if (this.initTextureType(t, e), t.resource && t.resource.upload(i, t, e))\n          e.samplerType !== Mf.FLOAT && (this.hasIntegerTextures = !0);\n        else {\n          var n = t.realWidth, s = t.realHeight, o = i.gl;\n          (e.width !== n || e.height !== s || e.dirtyId < 0) && (e.width = n, e.height = s, o.texImage2D(t.target, 0, e.internalFormat, n, s, 0, t.format, e.type, null));\n        }\n        t.dirtyStyleId !== e.dirtyStyleId && this.updateTextureStyle(t), e.dirtyId = t.dirtyId;\n      }\n    }, r.prototype.destroyTexture = function(t, e) {\n      var i = this.gl;\n      if (t = t.castToBaseTexture(), t._glTextures[this.CONTEXT_UID] && (this.unbind(t), i.deleteTexture(t._glTextures[this.CONTEXT_UID].texture), t.off(\"dispose\", this.destroyTexture, this), delete t._glTextures[this.CONTEXT_UID], !e)) {\n        var n = this.managedTextures.indexOf(t);\n        n !== -1 && ya(this.managedTextures, n, 1);\n      }\n    }, r.prototype.updateTextureStyle = function(t) {\n      var e = t._glTextures[this.CONTEXT_UID];\n      e && ((t.mipmap === Er.POW2 || this.webGLVersion !== 2) && !t.isPowerOfTwo ? e.mipmap = !1 : e.mipmap = t.mipmap >= 1, this.webGLVersion !== 2 && !t.isPowerOfTwo ? e.wrapMode = Zr.CLAMP : e.wrapMode = t.wrapMode, t.resource && t.resource.style(this.renderer, t, e) || this.setStyle(t, e), e.dirtyStyleId = t.dirtyStyleId);\n    }, r.prototype.setStyle = function(t, e) {\n      var i = this.gl;\n      if (e.mipmap && t.mipmap !== Er.ON_MANUAL && i.generateMipmap(t.target), i.texParameteri(t.target, i.TEXTURE_WRAP_S, e.wrapMode), i.texParameteri(t.target, i.TEXTURE_WRAP_T, e.wrapMode), e.mipmap) {\n        i.texParameteri(t.target, i.TEXTURE_MIN_FILTER, t.scaleMode === Wr.LINEAR ? i.LINEAR_MIPMAP_LINEAR : i.NEAREST_MIPMAP_NEAREST);\n        var n = this.renderer.context.extensions.anisotropicFiltering;\n        if (n && t.anisotropicLevel > 0 && t.scaleMode === Wr.LINEAR) {\n          var s = Math.min(t.anisotropicLevel, i.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT));\n          i.texParameterf(t.target, n.TEXTURE_MAX_ANISOTROPY_EXT, s);\n        }\n      } else\n        i.texParameteri(t.target, i.TEXTURE_MIN_FILTER, t.scaleMode === Wr.LINEAR ? i.LINEAR : i.NEAREST);\n      i.texParameteri(t.target, i.TEXTURE_MAG_FILTER, t.scaleMode === Wr.LINEAR ? i.LINEAR : i.NEAREST);\n    }, r.prototype.destroy = function() {\n      this.renderer = null;\n    }, r;\n  }()\n), nb = {\n  __proto__: null,\n  FilterSystem: qy,\n  BatchSystem: Zy,\n  ContextSystem: Ky,\n  FramebufferSystem: Jy,\n  GeometrySystem: Qy,\n  MaskSystem: t_,\n  ScissorSystem: e_,\n  StencilSystem: i_,\n  ProjectionSystem: r_,\n  RenderTextureSystem: n_,\n  ShaderSystem: s_,\n  StateSystem: o_,\n  TextureGCSystem: a_,\n  TextureSystem: h_\n}, jv = new Be(), sb = (\n  /** @class */\n  function(r) {\n    ne(t, r);\n    function t(e, i) {\n      e === void 0 && (e = fl.UNKNOWN);\n      var n = r.call(this) || this;\n      return i = Object.assign({}, Q.RENDER_OPTIONS, i), n.options = i, n.type = e, n.screen = new gt(0, 0, i.width, i.height), n.view = i.view || Q.ADAPTER.createCanvas(), n.resolution = i.resolution || Q.RESOLUTION, n.useContextAlpha = i.useContextAlpha, n.autoDensity = !!i.autoDensity, n.preserveDrawingBuffer = i.preserveDrawingBuffer, n.clearBeforeRender = i.clearBeforeRender, n._backgroundColor = 0, n._backgroundColorRgba = [0, 0, 0, 1], n._backgroundColorString = \"#000000\", n.backgroundColor = i.backgroundColor || n._backgroundColor, n.backgroundAlpha = i.backgroundAlpha, i.transparent !== void 0 && (fi(\"6.0.0\", \"Option transparent is deprecated, please use backgroundAlpha instead.\"), n.useContextAlpha = i.transparent, n.backgroundAlpha = i.transparent ? 0 : 1), n._lastObjectRendered = null, n.plugins = {}, n;\n    }\n    return t.prototype.initPlugins = function(e) {\n      for (var i in e)\n        this.plugins[i] = new e[i](this);\n    }, Object.defineProperty(t.prototype, \"width\", {\n      /**\n       * Same as view.width, actual number of pixels in the canvas by horizontal.\n       * @member {number}\n       * @readonly\n       * @default 800\n       */\n      get: function() {\n        return this.view.width;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"height\", {\n      /**\n       * Same as view.height, actual number of pixels in the canvas by vertical.\n       * @member {number}\n       * @readonly\n       * @default 600\n       */\n      get: function() {\n        return this.view.height;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t.prototype.resize = function(e, i) {\n      this.view.width = Math.round(e * this.resolution), this.view.height = Math.round(i * this.resolution);\n      var n = this.view.width / this.resolution, s = this.view.height / this.resolution;\n      this.screen.width = n, this.screen.height = s, this.autoDensity && (this.view.style.width = n + \"px\", this.view.style.height = s + \"px\"), this.emit(\"resize\", n, s);\n    }, t.prototype.generateTexture = function(e, i, n, s) {\n      i === void 0 && (i = {}), typeof i == \"number\" && (fi(\"6.1.0\", \"generateTexture options (scaleMode, resolution, region) are now object options.\"), i = { scaleMode: i, resolution: n, region: s });\n      var o = i.region, a = tP(i, [\"region\"]);\n      s = o || e.getLocalBounds(null, !0), s.width === 0 && (s.width = 1), s.height === 0 && (s.height = 1);\n      var l = qi.create(pm({ width: s.width, height: s.height }, a));\n      return jv.tx = -s.x, jv.ty = -s.y, this.render(e, {\n        renderTexture: l,\n        clear: !1,\n        transform: jv,\n        skipUpdateTransform: !!e.parent\n      }), l;\n    }, t.prototype.destroy = function(e) {\n      for (var i in this.plugins)\n        this.plugins[i].destroy(), this.plugins[i] = null;\n      e && this.view.parentNode && this.view.parentNode.removeChild(this.view);\n      var n = this;\n      n.plugins = null, n.type = fl.UNKNOWN, n.view = null, n.screen = null, n._tempDisplayObjectParent = null, n.options = null, this._backgroundColorRgba = null, this._backgroundColorString = null, this._lastObjectRendered = null;\n    }, Object.defineProperty(t.prototype, \"backgroundColor\", {\n      /**\n       * The background color to fill if not transparent\n       * @member {number}\n       */\n      get: function() {\n        return this._backgroundColor;\n      },\n      set: function(e) {\n        this._backgroundColor = e, this._backgroundColorString = I0(e), wh(e, this._backgroundColorRgba);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"backgroundAlpha\", {\n      /**\n       * The background color alpha. Setting this to 0 will make the canvas transparent.\n       * @member {number}\n       */\n      get: function() {\n        return this._backgroundColorRgba[3];\n      },\n      set: function(e) {\n        this._backgroundColorRgba[3] = e;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t;\n  }(Ji)\n), GP = (\n  /** @class */\n  function() {\n    function r(t) {\n      this.buffer = t || null, this.updateID = -1, this.byteLength = -1, this.refCount = 0;\n    }\n    return r;\n  }()\n), jP = (\n  /** @class */\n  function() {\n    function r(t) {\n      this.renderer = t, this.managedBuffers = {}, this.boundBufferBases = {};\n    }\n    return r.prototype.destroy = function() {\n      this.renderer = null;\n    }, r.prototype.contextChange = function() {\n      this.disposeAll(!0), this.gl = this.renderer.gl, this.CONTEXT_UID = this.renderer.CONTEXT_UID;\n    }, r.prototype.bind = function(t) {\n      var e = this, i = e.gl, n = e.CONTEXT_UID, s = t._glBuffers[n] || this.createGLBuffer(t);\n      i.bindBuffer(t.type, s.buffer);\n    }, r.prototype.bindBufferBase = function(t, e) {\n      var i = this, n = i.gl, s = i.CONTEXT_UID;\n      if (this.boundBufferBases[e] !== t) {\n        var o = t._glBuffers[s] || this.createGLBuffer(t);\n        this.boundBufferBases[e] = t, n.bindBufferBase(n.UNIFORM_BUFFER, e, o.buffer);\n      }\n    }, r.prototype.bindBufferRange = function(t, e, i) {\n      var n = this, s = n.gl, o = n.CONTEXT_UID;\n      i = i || 0;\n      var a = t._glBuffers[o] || this.createGLBuffer(t);\n      s.bindBufferRange(s.UNIFORM_BUFFER, e || 0, a.buffer, i * 256, 256);\n    }, r.prototype.update = function(t) {\n      var e = this, i = e.gl, n = e.CONTEXT_UID, s = t._glBuffers[n];\n      if (t._updateID !== s.updateID)\n        if (s.updateID = t._updateID, i.bindBuffer(t.type, s.buffer), s.byteLength >= t.data.byteLength)\n          i.bufferSubData(t.type, 0, t.data);\n        else {\n          var o = t.static ? i.STATIC_DRAW : i.DYNAMIC_DRAW;\n          s.byteLength = t.data.byteLength, i.bufferData(t.type, t.data, o);\n        }\n    }, r.prototype.dispose = function(t, e) {\n      if (this.managedBuffers[t.id]) {\n        delete this.managedBuffers[t.id];\n        var i = t._glBuffers[this.CONTEXT_UID], n = this.gl;\n        t.disposeRunner.remove(this), i && (e || n.deleteBuffer(i.buffer), delete t._glBuffers[this.CONTEXT_UID]);\n      }\n    }, r.prototype.disposeAll = function(t) {\n      for (var e = Object.keys(this.managedBuffers), i = 0; i < e.length; i++)\n        this.dispose(this.managedBuffers[e[i]], t);\n    }, r.prototype.createGLBuffer = function(t) {\n      var e = this, i = e.CONTEXT_UID, n = e.gl;\n      return t._glBuffers[i] = new GP(n.createBuffer()), this.managedBuffers[t.id] = t, t.disposeRunner.add(this), t._glBuffers[i];\n    }, r;\n  }()\n), l_ = (\n  /** @class */\n  function(r) {\n    ne(t, r);\n    function t(e) {\n      var i = r.call(this, fl.WEBGL, e) || this;\n      return e = i.options, i.gl = null, i.CONTEXT_UID = 0, i.runners = {\n        destroy: new Xe(\"destroy\"),\n        contextChange: new Xe(\"contextChange\"),\n        reset: new Xe(\"reset\"),\n        update: new Xe(\"update\"),\n        postrender: new Xe(\"postrender\"),\n        prerender: new Xe(\"prerender\"),\n        resize: new Xe(\"resize\")\n      }, i.runners.contextChange.add(i), i.globalUniforms = new ms({\n        projectionMatrix: new Be()\n      }, !0), i.addSystem(t_, \"mask\").addSystem(Ky, \"context\").addSystem(o_, \"state\").addSystem(s_, \"shader\").addSystem(h_, \"texture\").addSystem(jP, \"buffer\").addSystem(Qy, \"geometry\").addSystem(Jy, \"framebuffer\").addSystem(e_, \"scissor\").addSystem(i_, \"stencil\").addSystem(r_, \"projection\").addSystem(a_, \"textureGC\").addSystem(qy, \"filter\").addSystem(n_, \"renderTexture\").addSystem(Zy, \"batch\"), i.initPlugins(t.__plugins), i.multisample = void 0, e.context ? i.context.initFromContext(e.context) : i.context.initFromOptions({\n        alpha: !!i.useContextAlpha,\n        antialias: e.antialias,\n        premultipliedAlpha: i.useContextAlpha && i.useContextAlpha !== \"notMultiplied\",\n        stencil: !0,\n        preserveDrawingBuffer: e.preserveDrawingBuffer,\n        powerPreference: i.options.powerPreference\n      }), i.renderingToScreen = !0, KE(i.context.webGLVersion === 2 ? \"WebGL 2\" : \"WebGL 1\"), i.resize(i.options.width, i.options.height), i;\n    }\n    return t.create = function(e) {\n      if (JE())\n        return new t(e);\n      throw new Error('WebGL unsupported in this browser, use \"pixi.js-legacy\" for fallback canvas2d support.');\n    }, t.prototype.contextChange = function() {\n      var e = this.gl, i;\n      if (this.context.webGLVersion === 1) {\n        var n = e.getParameter(e.FRAMEBUFFER_BINDING);\n        e.bindFramebuffer(e.FRAMEBUFFER, null), i = e.getParameter(e.SAMPLES), e.bindFramebuffer(e.FRAMEBUFFER, n);\n      } else {\n        var n = e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);\n        e.bindFramebuffer(e.DRAW_FRAMEBUFFER, null), i = e.getParameter(e.SAMPLES), e.bindFramebuffer(e.DRAW_FRAMEBUFFER, n);\n      }\n      i >= le.HIGH ? this.multisample = le.HIGH : i >= le.MEDIUM ? this.multisample = le.MEDIUM : i >= le.LOW ? this.multisample = le.LOW : this.multisample = le.NONE;\n    }, t.prototype.addSystem = function(e, i) {\n      var n = new e(this);\n      if (this[i])\n        throw new Error('Whoops! The name \"' + i + '\" is already in use');\n      this[i] = n;\n      for (var s in this.runners)\n        this.runners[s].add(n);\n      return this;\n    }, t.prototype.render = function(e, i) {\n      var n, s, o, a;\n      if (i && (i instanceof qi ? (fi(\"6.0.0\", \"Renderer#render arguments changed, use options instead.\"), n = i, s = arguments[2], o = arguments[3], a = arguments[4]) : (n = i.renderTexture, s = i.clear, o = i.transform, a = i.skipUpdateTransform)), this.renderingToScreen = !n, this.runners.prerender.emit(), this.emit(\"prerender\"), this.projection.transform = o, !this.context.isLost) {\n        if (n || (this._lastObjectRendered = e), !a) {\n          var l = e.enableTempParent();\n          e.updateTransform(), e.disableTempParent(l);\n        }\n        this.renderTexture.bind(n), this.batch.currentRenderer.start(), (s !== void 0 ? s : this.clearBeforeRender) && this.renderTexture.clear(), e.render(this), this.batch.currentRenderer.flush(), n && n.baseTexture.update(), this.runners.postrender.emit(), this.projection.transform = null, this.emit(\"postrender\");\n      }\n    }, t.prototype.generateTexture = function(e, i, n, s) {\n      i === void 0 && (i = {});\n      var o = r.prototype.generateTexture.call(this, e, i, n, s);\n      return this.framebuffer.blit(), o;\n    }, t.prototype.resize = function(e, i) {\n      r.prototype.resize.call(this, e, i), this.runners.resize.emit(this.screen.height, this.screen.width);\n    }, t.prototype.reset = function() {\n      return this.runners.reset.emit(), this;\n    }, t.prototype.clear = function() {\n      this.renderTexture.bind(), this.renderTexture.clear();\n    }, t.prototype.destroy = function(e) {\n      this.runners.destroy.emit();\n      for (var i in this.runners)\n        this.runners[i].destroy();\n      r.prototype.destroy.call(this, e), this.gl = null;\n    }, Object.defineProperty(t.prototype, \"extract\", {\n      /**\n       * Please use `plugins.extract` instead.\n       * @member {PIXI.Extract} extract\n       * @deprecated since 6.0.0\n       * @readonly\n       */\n      get: function() {\n        return fi(\"6.0.0\", \"Renderer#extract has been deprecated, please use Renderer#plugins.extract instead.\"), this.plugins.extract;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t.registerPlugin = function(e, i) {\n      fi(\"6.5.0\", \"Renderer.registerPlugin() has been deprecated, please use extensions.add() instead.\"), Or.add({\n        name: e,\n        type: Xt.RendererPlugin,\n        ref: i\n      });\n    }, t.__plugins = {}, t;\n  }(sb)\n);\nOr.handleByMap(Xt.RendererPlugin, l_.__plugins);\nfunction u_(r) {\n  return l_.create(r);\n}\nvar HP = `attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}`, $P = `attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n`, ob = HP, c_ = $P, zP = (\n  /** @class */\n  function() {\n    function r(t) {\n      fi(\"6.1.0\", \"System class is deprecated, implemement ISystem interface instead.\"), this.renderer = t;\n    }\n    return r.prototype.destroy = function() {\n      this.renderer = null;\n    }, r;\n  }()\n), Bf = (\n  /** @class */\n  function() {\n    function r() {\n      this.texArray = null, this.blend = 0, this.type = xr.TRIANGLES, this.start = 0, this.size = 0, this.data = null;\n    }\n    return r;\n  }()\n), Ff = (\n  /** @class */\n  function() {\n    function r() {\n      this.elements = [], this.ids = [], this.count = 0;\n    }\n    return r.prototype.clear = function() {\n      for (var t = 0; t < this.count; t++)\n        this.elements[t] = null;\n      this.count = 0;\n    }, r;\n  }()\n), Uf = (\n  /** @class */\n  function() {\n    function r(t) {\n      typeof t == \"number\" ? this.rawBinaryData = new ArrayBuffer(t) : t instanceof Uint8Array ? this.rawBinaryData = t.buffer : this.rawBinaryData = t, this.uint32View = new Uint32Array(this.rawBinaryData), this.float32View = new Float32Array(this.rawBinaryData);\n    }\n    return Object.defineProperty(r.prototype, \"int8View\", {\n      /** View on the raw binary data as a `Int8Array`. */\n      get: function() {\n        return this._int8View || (this._int8View = new Int8Array(this.rawBinaryData)), this._int8View;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"uint8View\", {\n      /** View on the raw binary data as a `Uint8Array`. */\n      get: function() {\n        return this._uint8View || (this._uint8View = new Uint8Array(this.rawBinaryData)), this._uint8View;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"int16View\", {\n      /**  View on the raw binary data as a `Int16Array`. */\n      get: function() {\n        return this._int16View || (this._int16View = new Int16Array(this.rawBinaryData)), this._int16View;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"uint16View\", {\n      /** View on the raw binary data as a `Uint16Array`. */\n      get: function() {\n        return this._uint16View || (this._uint16View = new Uint16Array(this.rawBinaryData)), this._uint16View;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"int32View\", {\n      /** View on the raw binary data as a `Int32Array`. */\n      get: function() {\n        return this._int32View || (this._int32View = new Int32Array(this.rawBinaryData)), this._int32View;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), r.prototype.view = function(t) {\n      return this[t + \"View\"];\n    }, r.prototype.destroy = function() {\n      this.rawBinaryData = null, this._int8View = null, this._uint8View = null, this._int16View = null, this._uint16View = null, this._int32View = null, this.uint32View = null, this.float32View = null;\n    }, r.sizeOf = function(t) {\n      switch (t) {\n        case \"int8\":\n        case \"uint8\":\n          return 1;\n        case \"int16\":\n        case \"uint16\":\n          return 2;\n        case \"int32\":\n        case \"uint32\":\n        case \"float32\":\n          return 4;\n        default:\n          throw new Error(t + \" isn't a valid view type\");\n      }\n    }, r;\n  }()\n), ab = (\n  /** @class */\n  function(r) {\n    ne(t, r);\n    function t(e) {\n      var i = r.call(this, e) || this;\n      return i.shaderGenerator = null, i.geometryClass = null, i.vertexSize = null, i.state = ys.for2d(), i.size = Q.SPRITE_BATCH_SIZE * 4, i._vertexCount = 0, i._indexCount = 0, i._bufferedElements = [], i._bufferedTextures = [], i._bufferSize = 0, i._shader = null, i._packedGeometries = [], i._packedGeometryPoolSize = 2, i._flushId = 0, i._aBuffers = {}, i._iBuffers = {}, i.MAX_TEXTURES = 1, i.renderer.on(\"prerender\", i.onPrerender, i), e.runners.contextChange.add(i), i._dcIndex = 0, i._aIndex = 0, i._iIndex = 0, i._attributeBuffer = null, i._indexBuffer = null, i._tempBoundTextures = [], i;\n    }\n    return t.prototype.contextChange = function() {\n      var e = this.renderer.gl;\n      Q.PREFER_ENV === Fn.WEBGL_LEGACY ? this.MAX_TEXTURES = 1 : (this.MAX_TEXTURES = Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS), Q.SPRITE_MAX_TEXTURES), this.MAX_TEXTURES = q0(this.MAX_TEXTURES, e)), this._shader = this.shaderGenerator.generateShader(this.MAX_TEXTURES);\n      for (var i = 0; i < this._packedGeometryPoolSize; i++)\n        this._packedGeometries[i] = new this.geometryClass();\n      this.initFlushBuffers();\n    }, t.prototype.initFlushBuffers = function() {\n      for (var e = t._drawCallPool, i = t._textureArrayPool, n = this.size / 4, s = Math.floor(n / this.MAX_TEXTURES) + 1; e.length < n; )\n        e.push(new Bf());\n      for (; i.length < s; )\n        i.push(new Ff());\n      for (var o = 0; o < this.MAX_TEXTURES; o++)\n        this._tempBoundTextures[o] = null;\n    }, t.prototype.onPrerender = function() {\n      this._flushId = 0;\n    }, t.prototype.render = function(e) {\n      e._texture.valid && (this._vertexCount + e.vertexData.length / 2 > this.size && this.flush(), this._vertexCount += e.vertexData.length / 2, this._indexCount += e.indices.length, this._bufferedTextures[this._bufferSize] = e._texture.baseTexture, this._bufferedElements[this._bufferSize++] = e);\n    }, t.prototype.buildTexturesAndDrawCalls = function() {\n      var e = this, i = e._bufferedTextures, n = e.MAX_TEXTURES, s = t._textureArrayPool, o = this.renderer.batch, a = this._tempBoundTextures, l = this.renderer.textureGC.count, u = ++It._globalBatch, c = 0, f = s[0], d = 0;\n      o.copyBoundTextures(a, n);\n      for (var p = 0; p < this._bufferSize; ++p) {\n        var m = i[p];\n        i[p] = null, m._batchEnabled !== u && (f.count >= n && (o.boundArray(f, a, u, n), this.buildDrawCalls(f, d, p), d = p, f = s[++c], ++u), m._batchEnabled = u, m.touched = l, f.elements[f.count++] = m);\n      }\n      f.count > 0 && (o.boundArray(f, a, u, n), this.buildDrawCalls(f, d, this._bufferSize), ++c, ++u);\n      for (var p = 0; p < a.length; p++)\n        a[p] = null;\n      It._globalBatch = u;\n    }, t.prototype.buildDrawCalls = function(e, i, n) {\n      var s = this, o = s._bufferedElements, a = s._attributeBuffer, l = s._indexBuffer, u = s.vertexSize, c = t._drawCallPool, f = this._dcIndex, d = this._aIndex, p = this._iIndex, m = c[f];\n      m.start = this._iIndex, m.texArray = e;\n      for (var v = i; v < n; ++v) {\n        var y = o[v], g = y._texture.baseTexture, w = M0[g.alphaMode ? 1 : 0][y.blendMode];\n        o[v] = null, i < v && m.blend !== w && (m.size = p - m.start, i = v, m = c[++f], m.texArray = e, m.start = p), this.packInterleavedGeometry(y, a, l, d, p), d += y.vertexData.length / 2 * u, p += y.indices.length, m.blend = w;\n      }\n      i < n && (m.size = p - m.start, ++f), this._dcIndex = f, this._aIndex = d, this._iIndex = p;\n    }, t.prototype.bindAndClearTexArray = function(e) {\n      for (var i = this.renderer.texture, n = 0; n < e.count; n++)\n        i.bind(e.elements[n], e.ids[n]), e.elements[n] = null;\n      e.count = 0;\n    }, t.prototype.updateGeometry = function() {\n      var e = this, i = e._packedGeometries, n = e._attributeBuffer, s = e._indexBuffer;\n      Q.CAN_UPLOAD_SAME_BUFFER ? (i[this._flushId]._buffer.update(n.rawBinaryData), i[this._flushId]._indexBuffer.update(s), this.renderer.geometry.updateBuffers()) : (this._packedGeometryPoolSize <= this._flushId && (this._packedGeometryPoolSize++, i[this._flushId] = new this.geometryClass()), i[this._flushId]._buffer.update(n.rawBinaryData), i[this._flushId]._indexBuffer.update(s), this.renderer.geometry.bind(i[this._flushId]), this.renderer.geometry.updateBuffers(), this._flushId++);\n    }, t.prototype.drawBatches = function() {\n      for (var e = this._dcIndex, i = this.renderer, n = i.gl, s = i.state, o = t._drawCallPool, a = null, l = 0; l < e; l++) {\n        var u = o[l], c = u.texArray, f = u.type, d = u.size, p = u.start, m = u.blend;\n        a !== c && (a = c, this.bindAndClearTexArray(c)), this.state.blendMode = m, s.set(this.state), n.drawElements(f, d, n.UNSIGNED_SHORT, p * 2);\n      }\n    }, t.prototype.flush = function() {\n      this._vertexCount !== 0 && (this._attributeBuffer = this.getAttributeBuffer(this._vertexCount), this._indexBuffer = this.getIndexBuffer(this._indexCount), this._aIndex = 0, this._iIndex = 0, this._dcIndex = 0, this.buildTexturesAndDrawCalls(), this.updateGeometry(), this.drawBatches(), this._bufferSize = 0, this._vertexCount = 0, this._indexCount = 0);\n    }, t.prototype.start = function() {\n      this.renderer.state.set(this.state), this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES), this.renderer.shader.bind(this._shader), Q.CAN_UPLOAD_SAME_BUFFER && this.renderer.geometry.bind(this._packedGeometries[this._flushId]);\n    }, t.prototype.stop = function() {\n      this.flush();\n    }, t.prototype.destroy = function() {\n      for (var e = 0; e < this._packedGeometryPoolSize; e++)\n        this._packedGeometries[e] && this._packedGeometries[e].destroy();\n      this.renderer.off(\"prerender\", this.onPrerender, this), this._aBuffers = null, this._iBuffers = null, this._packedGeometries = null, this._attributeBuffer = null, this._indexBuffer = null, this._shader && (this._shader.destroy(), this._shader = null), r.prototype.destroy.call(this);\n    }, t.prototype.getAttributeBuffer = function(e) {\n      var i = kf(Math.ceil(e / 8)), n = J_(i), s = i * 8;\n      this._aBuffers.length <= n && (this._iBuffers.length = n + 1);\n      var o = this._aBuffers[s];\n      return o || (this._aBuffers[s] = o = new Uf(s * this.vertexSize * 4)), o;\n    }, t.prototype.getIndexBuffer = function(e) {\n      var i = kf(Math.ceil(e / 12)), n = J_(i), s = i * 12;\n      this._iBuffers.length <= n && (this._iBuffers.length = n + 1);\n      var o = this._iBuffers[n];\n      return o || (this._iBuffers[n] = o = new Uint16Array(s)), o;\n    }, t.prototype.packInterleavedGeometry = function(e, i, n, s, o) {\n      for (var a = i.uint32View, l = i.float32View, u = s / this.vertexSize, c = e.uvs, f = e.indices, d = e.vertexData, p = e._texture.baseTexture._batchLocation, m = Math.min(e.worldAlpha, 1), v = m < 1 && e._texture.baseTexture.alphaMode ? Fy(e._tintRGB, m) : e._tintRGB + (m * 255 << 24), y = 0; y < d.length; y += 2)\n        l[s++] = d[y], l[s++] = d[y + 1], l[s++] = c[y], l[s++] = c[y + 1], a[s++] = v, l[s++] = p;\n      for (var y = 0; y < f.length; y++)\n        n[o++] = u + f[y];\n    }, t._drawCallPool = [], t._textureArrayPool = [], t;\n  }(bc)\n), hb = (\n  /** @class */\n  function() {\n    function r(t, e) {\n      if (this.vertexSrc = t, this.fragTemplate = e, this.programCache = {}, this.defaultGroupCache = {}, e.indexOf(\"%count%\") < 0)\n        throw new Error('Fragment template must contain \"%count%\".');\n      if (e.indexOf(\"%forloop%\") < 0)\n        throw new Error('Fragment template must contain \"%forloop%\".');\n    }\n    return r.prototype.generateShader = function(t) {\n      if (!this.programCache[t]) {\n        for (var e = new Int32Array(t), i = 0; i < t; i++)\n          e[i] = i;\n        this.defaultGroupCache[t] = ms.from({ uSamplers: e }, !0);\n        var n = this.fragTemplate;\n        n = n.replace(/%count%/gi, \"\" + t), n = n.replace(/%forloop%/gi, this.generateSampleSrc(t)), this.programCache[t] = new Mh(this.vertexSrc, n);\n      }\n      var s = {\n        tint: new Float32Array([1, 1, 1, 1]),\n        translationMatrix: new Be(),\n        default: this.defaultGroupCache[t]\n      };\n      return new Dn(this.programCache[t], s);\n    }, r.prototype.generateSampleSrc = function(t) {\n      var e = \"\";\n      e += `\n`, e += `\n`;\n      for (var i = 0; i < t; i++)\n        i > 0 && (e += `\nelse `), i < t - 1 && (e += \"if(vTextureId < \" + i + \".5)\"), e += `\n{`, e += `\n\tcolor = texture2D(uSamplers[` + i + \"], vTextureCoord);\", e += `\n}`;\n      return e += `\n`, e += `\n`, e;\n    }, r;\n  }()\n), f_ = (\n  /** @class */\n  function(r) {\n    ne(t, r);\n    function t(e) {\n      e === void 0 && (e = !1);\n      var i = r.call(this) || this;\n      return i._buffer = new Me(null, e, !1), i._indexBuffer = new Me(null, e, !0), i.addAttribute(\"aVertexPosition\", i._buffer, 2, !1, ut.FLOAT).addAttribute(\"aTextureCoord\", i._buffer, 2, !1, ut.FLOAT).addAttribute(\"aColor\", i._buffer, 4, !0, ut.UNSIGNED_BYTE).addAttribute(\"aTextureId\", i._buffer, 1, !0, ut.FLOAT).addIndex(i._indexBuffer), i;\n    }\n    return t;\n  }(Ch)\n), dg = `precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n`, pg = `varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n`, lb = (\n  /** @class */\n  function() {\n    function r() {\n    }\n    return r.create = function(t) {\n      var e = Object.assign({\n        vertex: dg,\n        fragment: pg,\n        geometryClass: f_,\n        vertexSize: 6\n      }, t), i = e.vertex, n = e.fragment, s = e.vertexSize, o = e.geometryClass;\n      return (\n        /** @class */\n        function(a) {\n          ne(l, a);\n          function l(u) {\n            var c = a.call(this, u) || this;\n            return c.shaderGenerator = new hb(i, n), c.geometryClass = o, c.vertexSize = s, c;\n          }\n          return l;\n        }(ab)\n      );\n    }, Object.defineProperty(r, \"defaultVertexSrc\", {\n      /**\n       * The default vertex shader source\n       * @readonly\n       */\n      get: function() {\n        return dg;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r, \"defaultFragmentTemplate\", {\n      /**\n       * The default fragment shader source\n       * @readonly\n       */\n      get: function() {\n        return pg;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), r;\n  }()\n), d_ = lb.create();\nObject.assign(d_, {\n  extension: {\n    name: \"batch\",\n    type: Xt.RendererPlugin\n  }\n});\nvar ub = {}, VP = function(r) {\n  Object.defineProperty(ub, r, {\n    get: function() {\n      return fi(\"6.0.0\", \"PIXI.systems.\" + r + \" has moved to PIXI.\" + r), F0[r];\n    }\n  });\n};\nfor (var p_ in F0)\n  VP(p_);\nvar cb = {}, XP = function(r) {\n  Object.defineProperty(cb, r, {\n    get: function() {\n      return fi(\"6.0.0\", \"PIXI.resources.\" + r + \" has moved to PIXI.\" + r), nb[r];\n    }\n  });\n};\nfor (var p_ in nb)\n  XP(p_);\nvar WP = \"6.5.9\";\nconst YP = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  AbstractBatchRenderer: ab,\n  AbstractMultiResource: mv,\n  AbstractRenderer: sb,\n  ArrayResource: Gy,\n  Attribute: vm,\n  BaseImageResource: Qr,\n  BaseRenderTexture: Xy,\n  BaseTexture: It,\n  BatchDrawCall: Bf,\n  BatchGeometry: f_,\n  BatchPluginFactory: lb,\n  BatchRenderer: d_,\n  BatchShaderGenerator: hb,\n  BatchSystem: Zy,\n  BatchTextureArray: Ff,\n  Buffer: Me,\n  BufferResource: Zo,\n  CanvasResource: jy,\n  ContextSystem: Ky,\n  CubeResource: Hy,\n  get ExtensionType() {\n    return Xt;\n  },\n  Filter: Sr,\n  FilterState: j0,\n  FilterSystem: qy,\n  Framebuffer: Df,\n  FramebufferSystem: Jy,\n  GLFramebuffer: H0,\n  GLProgram: ib,\n  GLTexture: ef,\n  Geometry: Ch,\n  GeometrySystem: Qy,\n  IGLUniformData: IP,\n  INSTALLED: ml,\n  ImageBitmapResource: Vy,\n  ImageResource: yv,\n  MaskData: $0,\n  MaskSystem: t_,\n  ObjectRenderer: bc,\n  Program: Mh,\n  ProjectionSystem: r_,\n  Quad: G0,\n  QuadUv: Yy,\n  RenderTexture: qi,\n  RenderTexturePool: U0,\n  RenderTextureSystem: n_,\n  Renderer: l_,\n  Resource: Xo,\n  SVGResource: $y,\n  ScissorSystem: e_,\n  Shader: Dn,\n  ShaderSystem: s_,\n  SpriteMaskFilter: Z0,\n  State: ys,\n  StateSystem: o_,\n  StencilSystem: i_,\n  System: zP,\n  Texture: lt,\n  TextureGCSystem: a_,\n  TextureMatrix: _v,\n  TextureSystem: h_,\n  TextureUvs: Wy,\n  UniformGroup: ms,\n  VERSION: WP,\n  VideoResource: zy,\n  ViewableBuffer: Uf,\n  autoDetectRenderer: u_,\n  autoDetectResource: vv,\n  checkMaxIfStatementsInShader: q0,\n  createUBOElements: Q0,\n  defaultFilterVertex: c_,\n  defaultVertex: ob,\n  extensions: Or,\n  generateProgram: rb,\n  generateUniformBufferSync: eb,\n  getTestContext: X0,\n  getUBOData: tb,\n  resources: ub,\n  systems: cb,\n  uniformParsers: jo\n}, Symbol.toStringTag, { value: \"Module\" }));\n/*!\n * @pixi/accessibility - v6.5.9\n * Compiled Wed, 25 Jan 2023 05:01:45 UTC\n *\n * @pixi/accessibility is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */\nvar qP = {\n  /**\n   *  Flag for if the object is accessible. If true AccessibilityManager will overlay a\n   *   shadow div with attributes set\n   * @member {boolean}\n   * @memberof PIXI.DisplayObject#\n   */\n  accessible: !1,\n  /**\n   * Sets the title attribute of the shadow div\n   * If accessibleTitle AND accessibleHint has not been this will default to 'displayObject [tabIndex]'\n   * @member {?string}\n   * @memberof PIXI.DisplayObject#\n   */\n  accessibleTitle: null,\n  /**\n   * Sets the aria-label attribute of the shadow div\n   * @member {string}\n   * @memberof PIXI.DisplayObject#\n   */\n  accessibleHint: null,\n  /**\n   * @member {number}\n   * @memberof PIXI.DisplayObject#\n   * @private\n   * @todo Needs docs.\n   */\n  tabIndex: 0,\n  /**\n   * @member {boolean}\n   * @memberof PIXI.DisplayObject#\n   * @todo Needs docs.\n   */\n  _accessibleActive: !1,\n  /**\n   * @member {boolean}\n   * @memberof PIXI.DisplayObject#\n   * @todo Needs docs.\n   */\n  _accessibleDiv: null,\n  /**\n   * Specify the type of div the accessible layer is. Screen readers treat the element differently\n   * depending on this type. Defaults to button.\n   * @member {string}\n   * @memberof PIXI.DisplayObject#\n   * @default 'button'\n   */\n  accessibleType: \"button\",\n  /**\n   * Specify the pointer-events the accessible div will use\n   * Defaults to auto.\n   * @member {string}\n   * @memberof PIXI.DisplayObject#\n   * @default 'auto'\n   */\n  accessiblePointerEvents: \"auto\",\n  /**\n   * Setting to false will prevent any children inside this container to\n   * be accessible. Defaults to true.\n   * @member {boolean}\n   * @memberof PIXI.DisplayObject#\n   * @default true\n   */\n  accessibleChildren: !0,\n  renderId: -1\n};\nwe.mixin(qP);\nvar ZP = 9, Ac = 100, KP = 0, JP = 0, vg = 2, mg = 1, QP = -1e3, tO = -1e3, eO = 2, iO = (\n  /** @class */\n  function() {\n    function r(t) {\n      this.debug = !1, this._isActive = !1, this._isMobileAccessibility = !1, this.pool = [], this.renderId = 0, this.children = [], this.androidUpdateCount = 0, this.androidUpdateFrequency = 500, this._hookDiv = null, (Yr.tablet || Yr.phone) && this.createTouchHook();\n      var e = document.createElement(\"div\");\n      e.style.width = Ac + \"px\", e.style.height = Ac + \"px\", e.style.position = \"absolute\", e.style.top = KP + \"px\", e.style.left = JP + \"px\", e.style.zIndex = vg.toString(), this.div = e, this.renderer = t, this._onKeyDown = this._onKeyDown.bind(this), this._onMouseMove = this._onMouseMove.bind(this), globalThis.addEventListener(\"keydown\", this._onKeyDown, !1);\n    }\n    return Object.defineProperty(r.prototype, \"isActive\", {\n      /**\n       * Value of `true` if accessibility is currently active and accessibility layers are showing.\n       * @member {boolean}\n       * @readonly\n       */\n      get: function() {\n        return this._isActive;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"isMobileAccessibility\", {\n      /**\n       * Value of `true` if accessibility is enabled for touch devices.\n       * @member {boolean}\n       * @readonly\n       */\n      get: function() {\n        return this._isMobileAccessibility;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), r.prototype.createTouchHook = function() {\n      var t = this, e = document.createElement(\"button\");\n      e.style.width = mg + \"px\", e.style.height = mg + \"px\", e.style.position = \"absolute\", e.style.top = QP + \"px\", e.style.left = tO + \"px\", e.style.zIndex = eO.toString(), e.style.backgroundColor = \"#FF0000\", e.title = \"select to enable accessibility for this content\", e.addEventListener(\"focus\", function() {\n        t._isMobileAccessibility = !0, t.activate(), t.destroyTouchHook();\n      }), document.body.appendChild(e), this._hookDiv = e;\n    }, r.prototype.destroyTouchHook = function() {\n      this._hookDiv && (document.body.removeChild(this._hookDiv), this._hookDiv = null);\n    }, r.prototype.activate = function() {\n      var t;\n      this._isActive || (this._isActive = !0, globalThis.document.addEventListener(\"mousemove\", this._onMouseMove, !0), globalThis.removeEventListener(\"keydown\", this._onKeyDown, !1), this.renderer.on(\"postrender\", this.update, this), (t = this.renderer.view.parentNode) === null || t === void 0 || t.appendChild(this.div));\n    }, r.prototype.deactivate = function() {\n      var t;\n      !this._isActive || this._isMobileAccessibility || (this._isActive = !1, globalThis.document.removeEventListener(\"mousemove\", this._onMouseMove, !0), globalThis.addEventListener(\"keydown\", this._onKeyDown, !1), this.renderer.off(\"postrender\", this.update), (t = this.div.parentNode) === null || t === void 0 || t.removeChild(this.div));\n    }, r.prototype.updateAccessibleObjects = function(t) {\n      if (!(!t.visible || !t.accessibleChildren)) {\n        t.accessible && t.interactive && (t._accessibleActive || this.addChild(t), t.renderId = this.renderId);\n        var e = t.children;\n        if (e)\n          for (var i = 0; i < e.length; i++)\n            this.updateAccessibleObjects(e[i]);\n      }\n    }, r.prototype.update = function() {\n      var t = performance.now();\n      if (!(Yr.android.device && t < this.androidUpdateCount) && (this.androidUpdateCount = t + this.androidUpdateFrequency, !!this.renderer.renderingToScreen)) {\n        this.renderer._lastObjectRendered && this.updateAccessibleObjects(this.renderer._lastObjectRendered);\n        var e = this.renderer.view.getBoundingClientRect(), i = e.left, n = e.top, s = e.width, o = e.height, a = this.renderer, l = a.width, u = a.height, c = a.resolution, f = s / l * c, d = o / u * c, p = this.div;\n        p.style.left = i + \"px\", p.style.top = n + \"px\", p.style.width = l + \"px\", p.style.height = u + \"px\";\n        for (var m = 0; m < this.children.length; m++) {\n          var v = this.children[m];\n          if (v.renderId !== this.renderId)\n            v._accessibleActive = !1, ya(this.children, m, 1), this.div.removeChild(v._accessibleDiv), this.pool.push(v._accessibleDiv), v._accessibleDiv = null, m--;\n          else {\n            p = v._accessibleDiv;\n            var y = v.hitArea, g = v.worldTransform;\n            v.hitArea ? (p.style.left = (g.tx + y.x * g.a) * f + \"px\", p.style.top = (g.ty + y.y * g.d) * d + \"px\", p.style.width = y.width * g.a * f + \"px\", p.style.height = y.height * g.d * d + \"px\") : (y = v.getBounds(), this.capHitArea(y), p.style.left = y.x * f + \"px\", p.style.top = y.y * d + \"px\", p.style.width = y.width * f + \"px\", p.style.height = y.height * d + \"px\", p.title !== v.accessibleTitle && v.accessibleTitle !== null && (p.title = v.accessibleTitle), p.getAttribute(\"aria-label\") !== v.accessibleHint && v.accessibleHint !== null && p.setAttribute(\"aria-label\", v.accessibleHint)), (v.accessibleTitle !== p.title || v.tabIndex !== p.tabIndex) && (p.title = v.accessibleTitle, p.tabIndex = v.tabIndex, this.debug && this.updateDebugHTML(p));\n          }\n        }\n        this.renderId++;\n      }\n    }, r.prototype.updateDebugHTML = function(t) {\n      t.innerHTML = \"type: \" + t.type + \"</br> title : \" + t.title + \"</br> tabIndex: \" + t.tabIndex;\n    }, r.prototype.capHitArea = function(t) {\n      t.x < 0 && (t.width += t.x, t.x = 0), t.y < 0 && (t.height += t.y, t.y = 0);\n      var e = this.renderer, i = e.width, n = e.height;\n      t.x + t.width > i && (t.width = i - t.x), t.y + t.height > n && (t.height = n - t.y);\n    }, r.prototype.addChild = function(t) {\n      var e = this.pool.pop();\n      e || (e = document.createElement(\"button\"), e.style.width = Ac + \"px\", e.style.height = Ac + \"px\", e.style.backgroundColor = this.debug ? \"rgba(255,255,255,0.5)\" : \"transparent\", e.style.position = \"absolute\", e.style.zIndex = vg.toString(), e.style.borderStyle = \"none\", navigator.userAgent.toLowerCase().indexOf(\"chrome\") > -1 ? e.setAttribute(\"aria-live\", \"off\") : e.setAttribute(\"aria-live\", \"polite\"), navigator.userAgent.match(/rv:.*Gecko\\//) ? e.setAttribute(\"aria-relevant\", \"additions\") : e.setAttribute(\"aria-relevant\", \"text\"), e.addEventListener(\"click\", this._onClick.bind(this)), e.addEventListener(\"focus\", this._onFocus.bind(this)), e.addEventListener(\"focusout\", this._onFocusOut.bind(this))), e.style.pointerEvents = t.accessiblePointerEvents, e.type = t.accessibleType, t.accessibleTitle && t.accessibleTitle !== null ? e.title = t.accessibleTitle : (!t.accessibleHint || t.accessibleHint === null) && (e.title = \"displayObject \" + t.tabIndex), t.accessibleHint && t.accessibleHint !== null && e.setAttribute(\"aria-label\", t.accessibleHint), this.debug && this.updateDebugHTML(e), t._accessibleActive = !0, t._accessibleDiv = e, e.displayObject = t, this.children.push(t), this.div.appendChild(t._accessibleDiv), t._accessibleDiv.tabIndex = t.tabIndex;\n    }, r.prototype._onClick = function(t) {\n      var e = this.renderer.plugins.interaction, i = t.target.displayObject, n = e.eventData;\n      e.dispatchEvent(i, \"click\", n), e.dispatchEvent(i, \"pointertap\", n), e.dispatchEvent(i, \"tap\", n);\n    }, r.prototype._onFocus = function(t) {\n      t.target.getAttribute(\"aria-live\") || t.target.setAttribute(\"aria-live\", \"assertive\");\n      var e = this.renderer.plugins.interaction, i = t.target.displayObject, n = e.eventData;\n      e.dispatchEvent(i, \"mouseover\", n);\n    }, r.prototype._onFocusOut = function(t) {\n      t.target.getAttribute(\"aria-live\") || t.target.setAttribute(\"aria-live\", \"polite\");\n      var e = this.renderer.plugins.interaction, i = t.target.displayObject, n = e.eventData;\n      e.dispatchEvent(i, \"mouseout\", n);\n    }, r.prototype._onKeyDown = function(t) {\n      t.keyCode === ZP && this.activate();\n    }, r.prototype._onMouseMove = function(t) {\n      t.movementX === 0 && t.movementY === 0 || this.deactivate();\n    }, r.prototype.destroy = function() {\n      this.destroyTouchHook(), this.div = null, globalThis.document.removeEventListener(\"mousemove\", this._onMouseMove, !0), globalThis.removeEventListener(\"keydown\", this._onKeyDown), this.pool = null, this.children = null, this.renderer = null;\n    }, r.extension = {\n      name: \"accessibility\",\n      type: [\n        Xt.RendererPlugin,\n        Xt.CanvasRendererPlugin\n      ]\n    }, r;\n  }()\n);\n/*!\n * @pixi/interaction - v6.5.9\n * Compiled Wed, 25 Jan 2023 05:01:45 UTC\n *\n * @pixi/interaction is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */\nvar yg = (\n  /** @class */\n  function() {\n    function r() {\n      this.pressure = 0, this.rotationAngle = 0, this.twist = 0, this.tangentialPressure = 0, this.global = new oe(), this.target = null, this.originalEvent = null, this.identifier = null, this.isPrimary = !1, this.button = 0, this.buttons = 0, this.width = 0, this.height = 0, this.tiltX = 0, this.tiltY = 0, this.pointerType = null, this.pressure = 0, this.rotationAngle = 0, this.twist = 0, this.tangentialPressure = 0;\n    }\n    return Object.defineProperty(r.prototype, \"pointerId\", {\n      /**\n       * The unique identifier of the pointer. It will be the same as `identifier`.\n       * @readonly\n       * @see https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/pointerId\n       */\n      get: function() {\n        return this.identifier;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), r.prototype.getLocalPosition = function(t, e, i) {\n      return t.worldTransform.applyInverse(i || this.global, e);\n    }, r.prototype.copyEvent = function(t) {\n      \"isPrimary\" in t && t.isPrimary && (this.isPrimary = !0), this.button = \"button\" in t && t.button;\n      var e = \"buttons\" in t && t.buttons;\n      this.buttons = Number.isInteger(e) ? e : \"which\" in t && t.which, this.width = \"width\" in t && t.width, this.height = \"height\" in t && t.height, this.tiltX = \"tiltX\" in t && t.tiltX, this.tiltY = \"tiltY\" in t && t.tiltY, this.pointerType = \"pointerType\" in t && t.pointerType, this.pressure = \"pressure\" in t && t.pressure, this.rotationAngle = \"rotationAngle\" in t && t.rotationAngle, this.twist = \"twist\" in t && t.twist || 0, this.tangentialPressure = \"tangentialPressure\" in t && t.tangentialPressure || 0;\n    }, r.prototype.reset = function() {\n      this.isPrimary = !1;\n    }, r;\n  }()\n);\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\nvar mm = function(r, t) {\n  return mm = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(e, i) {\n    e.__proto__ = i;\n  } || function(e, i) {\n    for (var n in i)\n      i.hasOwnProperty(n) && (e[n] = i[n]);\n  }, mm(r, t);\n};\nfunction rO(r, t) {\n  mm(r, t);\n  function e() {\n    this.constructor = r;\n  }\n  r.prototype = t === null ? Object.create(t) : (e.prototype = t.prototype, new e());\n}\nvar nO = (\n  /** @class */\n  function() {\n    function r() {\n      this.stopped = !1, this.stopsPropagatingAt = null, this.stopPropagationHint = !1, this.target = null, this.currentTarget = null, this.type = null, this.data = null;\n    }\n    return r.prototype.stopPropagation = function() {\n      this.stopped = !0, this.stopPropagationHint = !0, this.stopsPropagatingAt = this.currentTarget;\n    }, r.prototype.reset = function() {\n      this.stopped = !1, this.stopsPropagatingAt = null, this.stopPropagationHint = !1, this.currentTarget = null, this.target = null;\n    }, r;\n  }()\n), Hv = (\n  /** @class */\n  function() {\n    function r(t) {\n      this._pointerId = t, this._flags = r.FLAGS.NONE;\n    }\n    return r.prototype._doSet = function(t, e) {\n      e ? this._flags = this._flags | t : this._flags = this._flags & ~t;\n    }, Object.defineProperty(r.prototype, \"pointerId\", {\n      /**\n       * Unique pointer id of the event\n       * @readonly\n       * @private\n       * @member {number}\n       */\n      get: function() {\n        return this._pointerId;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"flags\", {\n      /**\n       * State of the tracking data, expressed as bit flags\n       * @private\n       * @member {number}\n       */\n      get: function() {\n        return this._flags;\n      },\n      set: function(t) {\n        this._flags = t;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"none\", {\n      /**\n       * Is the tracked event inactive (not over or down)?\n       * @private\n       * @member {number}\n       */\n      get: function() {\n        return this._flags === r.FLAGS.NONE;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"over\", {\n      /**\n       * Is the tracked event over the DisplayObject?\n       * @private\n       * @member {boolean}\n       */\n      get: function() {\n        return (this._flags & r.FLAGS.OVER) !== 0;\n      },\n      set: function(t) {\n        this._doSet(r.FLAGS.OVER, t);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"rightDown\", {\n      /**\n       * Did the right mouse button come down in the DisplayObject?\n       * @private\n       * @member {boolean}\n       */\n      get: function() {\n        return (this._flags & r.FLAGS.RIGHT_DOWN) !== 0;\n      },\n      set: function(t) {\n        this._doSet(r.FLAGS.RIGHT_DOWN, t);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"leftDown\", {\n      /**\n       * Did the left mouse button come down in the DisplayObject?\n       * @private\n       * @member {boolean}\n       */\n      get: function() {\n        return (this._flags & r.FLAGS.LEFT_DOWN) !== 0;\n      },\n      set: function(t) {\n        this._doSet(r.FLAGS.LEFT_DOWN, t);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), r.FLAGS = Object.freeze({\n      NONE: 0,\n      OVER: 1,\n      LEFT_DOWN: 2,\n      RIGHT_DOWN: 4\n    }), r;\n  }()\n), sO = (\n  /** @class */\n  function() {\n    function r() {\n      this._tempPoint = new oe();\n    }\n    return r.prototype.recursiveFindHit = function(t, e, i, n, s) {\n      var o;\n      if (!e || !e.visible)\n        return !1;\n      var a = t.data.global;\n      s = e.interactive || s;\n      var l = !1, u = s, c = !0;\n      if (e.hitArea)\n        n && (e.worldTransform.applyInverse(a, this._tempPoint), e.hitArea.contains(this._tempPoint.x, this._tempPoint.y) ? l = !0 : (n = !1, c = !1)), u = !1;\n      else if (e._mask && n) {\n        var f = e._mask.isMaskData ? e._mask.maskObject : e._mask;\n        f && !(!((o = f.containsPoint) === null || o === void 0) && o.call(f, a)) && (n = !1);\n      }\n      if (c && e.interactiveChildren && e.children)\n        for (var d = e.children, p = d.length - 1; p >= 0; p--) {\n          var m = d[p], v = this.recursiveFindHit(t, m, i, n, u);\n          if (v) {\n            if (!m.parent)\n              continue;\n            u = !1, v && (t.target && (n = !1), l = !0);\n          }\n        }\n      return s && (n && !t.target && !e.hitArea && e.containsPoint && e.containsPoint(a) && (l = !0), e.interactive && (l && !t.target && (t.target = e), i && i(t, e, !!l))), l;\n    }, r.prototype.findHit = function(t, e, i, n) {\n      this.recursiveFindHit(t, e, i, n, !1);\n    }, r;\n  }()\n), oO = {\n  interactive: !1,\n  interactiveChildren: !0,\n  hitArea: null,\n  /**\n   * If enabled, the mouse cursor use the pointer behavior when hovered over the displayObject if it is interactive\n   * Setting this changes the 'cursor' property to `'pointer'`.\n   * @example\n   * const sprite = new PIXI.Sprite(texture);\n   * sprite.interactive = true;\n   * sprite.buttonMode = true;\n   * @member {boolean}\n   * @memberof PIXI.DisplayObject#\n   */\n  get buttonMode() {\n    return this.cursor === \"pointer\";\n  },\n  set buttonMode(r) {\n    r ? this.cursor = \"pointer\" : this.cursor === \"pointer\" && (this.cursor = null);\n  },\n  /**\n   * This defines what cursor mode is used when the mouse cursor\n   * is hovered over the displayObject.\n   * @example\n   * const sprite = new PIXI.Sprite(texture);\n   * sprite.interactive = true;\n   * sprite.cursor = 'wait';\n   * @see https://developer.mozilla.org/en/docs/Web/CSS/cursor\n   * @member {string}\n   * @memberof PIXI.DisplayObject#\n   */\n  cursor: null,\n  /**\n   * Internal set of all active pointers, by identifier\n   * @member {Map<number, InteractionTrackingData>}\n   * @memberof PIXI.DisplayObject#\n   * @private\n   */\n  get trackedPointers() {\n    return this._trackedPointers === void 0 && (this._trackedPointers = {}), this._trackedPointers;\n  },\n  /**\n   * Map of all tracked pointers, by identifier. Use trackedPointers to access.\n   * @private\n   * @type {Map<number, InteractionTrackingData>}\n   */\n  _trackedPointers: void 0\n};\nwe.mixin(oO);\nvar Dc = 1, Bc = {\n  target: null,\n  data: {\n    global: null\n  }\n}, aO = (\n  /** @class */\n  function(r) {\n    rO(t, r);\n    function t(e, i) {\n      var n = r.call(this) || this;\n      return i = i || {}, n.renderer = e, n.autoPreventDefault = i.autoPreventDefault !== void 0 ? i.autoPreventDefault : !0, n.interactionFrequency = i.interactionFrequency || 10, n.mouse = new yg(), n.mouse.identifier = Dc, n.mouse.global.set(-999999), n.activeInteractionData = {}, n.activeInteractionData[Dc] = n.mouse, n.interactionDataPool = [], n.eventData = new nO(), n.interactionDOMElement = null, n.moveWhenInside = !1, n.eventsAdded = !1, n.tickerAdded = !1, n.mouseOverRenderer = !(\"PointerEvent\" in globalThis), n.supportsTouchEvents = \"ontouchstart\" in globalThis, n.supportsPointerEvents = !!globalThis.PointerEvent, n.onPointerUp = n.onPointerUp.bind(n), n.processPointerUp = n.processPointerUp.bind(n), n.onPointerCancel = n.onPointerCancel.bind(n), n.processPointerCancel = n.processPointerCancel.bind(n), n.onPointerDown = n.onPointerDown.bind(n), n.processPointerDown = n.processPointerDown.bind(n), n.onPointerMove = n.onPointerMove.bind(n), n.processPointerMove = n.processPointerMove.bind(n), n.onPointerOut = n.onPointerOut.bind(n), n.processPointerOverOut = n.processPointerOverOut.bind(n), n.onPointerOver = n.onPointerOver.bind(n), n.cursorStyles = {\n        default: \"inherit\",\n        pointer: \"pointer\"\n      }, n.currentCursorMode = null, n.cursor = null, n.resolution = 1, n.delayedEvents = [], n.search = new sO(), n._tempDisplayObject = new B0(), n._eventListenerOptions = { capture: !0, passive: !1 }, n._useSystemTicker = i.useSystemTicker !== void 0 ? i.useSystemTicker : !0, n.setTargetElement(n.renderer.view, n.renderer.resolution), n;\n    }\n    return Object.defineProperty(t.prototype, \"useSystemTicker\", {\n      /**\n       * Should the InteractionManager automatically add {@link tickerUpdate} to {@link PIXI.Ticker.system}.\n       * @default true\n       */\n      get: function() {\n        return this._useSystemTicker;\n      },\n      set: function(e) {\n        this._useSystemTicker = e, e ? this.addTickerListener() : this.removeTickerListener();\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"lastObjectRendered\", {\n      /**\n       * Last rendered object or temp object.\n       * @readonly\n       * @protected\n       */\n      get: function() {\n        return this.renderer._lastObjectRendered || this._tempDisplayObject;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t.prototype.hitTest = function(e, i) {\n      return Bc.target = null, Bc.data.global = e, i || (i = this.lastObjectRendered), this.processInteractive(Bc, i, null, !0), Bc.target;\n    }, t.prototype.setTargetElement = function(e, i) {\n      i === void 0 && (i = 1), this.removeTickerListener(), this.removeEvents(), this.interactionDOMElement = e, this.resolution = i, this.addEvents(), this.addTickerListener();\n    }, t.prototype.addTickerListener = function() {\n      this.tickerAdded || !this.interactionDOMElement || !this._useSystemTicker || (_e.system.add(this.tickerUpdate, this, Un.INTERACTION), this.tickerAdded = !0);\n    }, t.prototype.removeTickerListener = function() {\n      this.tickerAdded && (_e.system.remove(this.tickerUpdate, this), this.tickerAdded = !1);\n    }, t.prototype.addEvents = function() {\n      if (!(this.eventsAdded || !this.interactionDOMElement)) {\n        var e = this.interactionDOMElement.style;\n        globalThis.navigator.msPointerEnabled ? (e.msContentZooming = \"none\", e.msTouchAction = \"none\") : this.supportsPointerEvents && (e.touchAction = \"none\"), this.supportsPointerEvents ? (globalThis.document.addEventListener(\"pointermove\", this.onPointerMove, this._eventListenerOptions), this.interactionDOMElement.addEventListener(\"pointerdown\", this.onPointerDown, this._eventListenerOptions), this.interactionDOMElement.addEventListener(\"pointerleave\", this.onPointerOut, this._eventListenerOptions), this.interactionDOMElement.addEventListener(\"pointerover\", this.onPointerOver, this._eventListenerOptions), globalThis.addEventListener(\"pointercancel\", this.onPointerCancel, this._eventListenerOptions), globalThis.addEventListener(\"pointerup\", this.onPointerUp, this._eventListenerOptions)) : (globalThis.document.addEventListener(\"mousemove\", this.onPointerMove, this._eventListenerOptions), this.interactionDOMElement.addEventListener(\"mousedown\", this.onPointerDown, this._eventListenerOptions), this.interactionDOMElement.addEventListener(\"mouseout\", this.onPointerOut, this._eventListenerOptions), this.interactionDOMElement.addEventListener(\"mouseover\", this.onPointerOver, this._eventListenerOptions), globalThis.addEventListener(\"mouseup\", this.onPointerUp, this._eventListenerOptions)), this.supportsTouchEvents && (this.interactionDOMElement.addEventListener(\"touchstart\", this.onPointerDown, this._eventListenerOptions), this.interactionDOMElement.addEventListener(\"touchcancel\", this.onPointerCancel, this._eventListenerOptions), this.interactionDOMElement.addEventListener(\"touchend\", this.onPointerUp, this._eventListenerOptions), this.interactionDOMElement.addEventListener(\"touchmove\", this.onPointerMove, this._eventListenerOptions)), this.eventsAdded = !0;\n      }\n    }, t.prototype.removeEvents = function() {\n      if (!(!this.eventsAdded || !this.interactionDOMElement)) {\n        var e = this.interactionDOMElement.style;\n        globalThis.navigator.msPointerEnabled ? (e.msContentZooming = \"\", e.msTouchAction = \"\") : this.supportsPointerEvents && (e.touchAction = \"\"), this.supportsPointerEvents ? (globalThis.document.removeEventListener(\"pointermove\", this.onPointerMove, this._eventListenerOptions), this.interactionDOMElement.removeEventListener(\"pointerdown\", this.onPointerDown, this._eventListenerOptions), this.interactionDOMElement.removeEventListener(\"pointerleave\", this.onPointerOut, this._eventListenerOptions), this.interactionDOMElement.removeEventListener(\"pointerover\", this.onPointerOver, this._eventListenerOptions), globalThis.removeEventListener(\"pointercancel\", this.onPointerCancel, this._eventListenerOptions), globalThis.removeEventListener(\"pointerup\", this.onPointerUp, this._eventListenerOptions)) : (globalThis.document.removeEventListener(\"mousemove\", this.onPointerMove, this._eventListenerOptions), this.interactionDOMElement.removeEventListener(\"mousedown\", this.onPointerDown, this._eventListenerOptions), this.interactionDOMElement.removeEventListener(\"mouseout\", this.onPointerOut, this._eventListenerOptions), this.interactionDOMElement.removeEventListener(\"mouseover\", this.onPointerOver, this._eventListenerOptions), globalThis.removeEventListener(\"mouseup\", this.onPointerUp, this._eventListenerOptions)), this.supportsTouchEvents && (this.interactionDOMElement.removeEventListener(\"touchstart\", this.onPointerDown, this._eventListenerOptions), this.interactionDOMElement.removeEventListener(\"touchcancel\", this.onPointerCancel, this._eventListenerOptions), this.interactionDOMElement.removeEventListener(\"touchend\", this.onPointerUp, this._eventListenerOptions), this.interactionDOMElement.removeEventListener(\"touchmove\", this.onPointerMove, this._eventListenerOptions)), this.interactionDOMElement = null, this.eventsAdded = !1;\n      }\n    }, t.prototype.tickerUpdate = function(e) {\n      this._deltaTime += e, !(this._deltaTime < this.interactionFrequency) && (this._deltaTime = 0, this.update());\n    }, t.prototype.update = function() {\n      if (this.interactionDOMElement) {\n        if (this._didMove) {\n          this._didMove = !1;\n          return;\n        }\n        this.cursor = null;\n        for (var e in this.activeInteractionData)\n          if (this.activeInteractionData.hasOwnProperty(e)) {\n            var i = this.activeInteractionData[e];\n            if (i.originalEvent && i.pointerType !== \"touch\") {\n              var n = this.configureInteractionEventForDOMEvent(this.eventData, i.originalEvent, i);\n              this.processInteractive(n, this.lastObjectRendered, this.processPointerOverOut, !0);\n            }\n          }\n        this.setCursorMode(this.cursor);\n      }\n    }, t.prototype.setCursorMode = function(e) {\n      e = e || \"default\";\n      var i = !0;\n      if (globalThis.OffscreenCanvas && this.interactionDOMElement instanceof OffscreenCanvas && (i = !1), this.currentCursorMode !== e) {\n        this.currentCursorMode = e;\n        var n = this.cursorStyles[e];\n        if (n)\n          switch (typeof n) {\n            case \"string\":\n              i && (this.interactionDOMElement.style.cursor = n);\n              break;\n            case \"function\":\n              n(e);\n              break;\n            case \"object\":\n              i && Object.assign(this.interactionDOMElement.style, n);\n              break;\n          }\n        else\n          i && typeof e == \"string\" && !Object.prototype.hasOwnProperty.call(this.cursorStyles, e) && (this.interactionDOMElement.style.cursor = e);\n      }\n    }, t.prototype.dispatchEvent = function(e, i, n) {\n      (!n.stopPropagationHint || e === n.stopsPropagatingAt) && (n.currentTarget = e, n.type = i, e.emit(i, n), e[i] && e[i](n));\n    }, t.prototype.delayDispatchEvent = function(e, i, n) {\n      this.delayedEvents.push({ displayObject: e, eventString: i, eventData: n });\n    }, t.prototype.mapPositionToPoint = function(e, i, n) {\n      var s;\n      this.interactionDOMElement.parentElement ? s = this.interactionDOMElement.getBoundingClientRect() : s = {\n        x: 0,\n        y: 0,\n        width: this.interactionDOMElement.width,\n        height: this.interactionDOMElement.height,\n        left: 0,\n        top: 0\n      };\n      var o = 1 / this.resolution;\n      e.x = (i - s.left) * (this.interactionDOMElement.width / s.width) * o, e.y = (n - s.top) * (this.interactionDOMElement.height / s.height) * o;\n    }, t.prototype.processInteractive = function(e, i, n, s) {\n      var o = this.search.findHit(e, i, n, s), a = this.delayedEvents;\n      if (!a.length)\n        return o;\n      e.stopPropagationHint = !1;\n      var l = a.length;\n      this.delayedEvents = [];\n      for (var u = 0; u < l; u++) {\n        var c = a[u], f = c.displayObject, d = c.eventString, p = c.eventData;\n        p.stopsPropagatingAt === f && (p.stopPropagationHint = !0), this.dispatchEvent(f, d, p);\n      }\n      return o;\n    }, t.prototype.onPointerDown = function(e) {\n      if (!(this.supportsTouchEvents && e.pointerType === \"touch\")) {\n        var i = this.normalizeToPointerData(e);\n        if (this.autoPreventDefault && i[0].isNormalized) {\n          var n = e.cancelable || !(\"cancelable\" in e);\n          n && e.preventDefault();\n        }\n        for (var s = i.length, o = 0; o < s; o++) {\n          var a = i[o], l = this.getInteractionDataForPointerId(a), u = this.configureInteractionEventForDOMEvent(this.eventData, a, l);\n          if (u.data.originalEvent = e, this.processInteractive(u, this.lastObjectRendered, this.processPointerDown, !0), this.emit(\"pointerdown\", u), a.pointerType === \"touch\")\n            this.emit(\"touchstart\", u);\n          else if (a.pointerType === \"mouse\" || a.pointerType === \"pen\") {\n            var c = a.button === 2;\n            this.emit(c ? \"rightdown\" : \"mousedown\", this.eventData);\n          }\n        }\n      }\n    }, t.prototype.processPointerDown = function(e, i, n) {\n      var s = e.data, o = e.data.identifier;\n      if (n) {\n        if (i.trackedPointers[o] || (i.trackedPointers[o] = new Hv(o)), this.dispatchEvent(i, \"pointerdown\", e), s.pointerType === \"touch\")\n          this.dispatchEvent(i, \"touchstart\", e);\n        else if (s.pointerType === \"mouse\" || s.pointerType === \"pen\") {\n          var a = s.button === 2;\n          a ? i.trackedPointers[o].rightDown = !0 : i.trackedPointers[o].leftDown = !0, this.dispatchEvent(i, a ? \"rightdown\" : \"mousedown\", e);\n        }\n      }\n    }, t.prototype.onPointerComplete = function(e, i, n) {\n      var s = this.normalizeToPointerData(e), o = s.length, a = e.target;\n      e.composedPath && e.composedPath().length > 0 && (a = e.composedPath()[0]);\n      for (var l = a !== this.interactionDOMElement ? \"outside\" : \"\", u = 0; u < o; u++) {\n        var c = s[u], f = this.getInteractionDataForPointerId(c), d = this.configureInteractionEventForDOMEvent(this.eventData, c, f);\n        if (d.data.originalEvent = e, this.processInteractive(d, this.lastObjectRendered, n, i || !l), this.emit(i ? \"pointercancel\" : \"pointerup\" + l, d), c.pointerType === \"mouse\" || c.pointerType === \"pen\") {\n          var p = c.button === 2;\n          this.emit(p ? \"rightup\" + l : \"mouseup\" + l, d);\n        } else\n          c.pointerType === \"touch\" && (this.emit(i ? \"touchcancel\" : \"touchend\" + l, d), this.releaseInteractionDataForPointerId(c.pointerId));\n      }\n    }, t.prototype.onPointerCancel = function(e) {\n      this.supportsTouchEvents && e.pointerType === \"touch\" || this.onPointerComplete(e, !0, this.processPointerCancel);\n    }, t.prototype.processPointerCancel = function(e, i) {\n      var n = e.data, s = e.data.identifier;\n      i.trackedPointers[s] !== void 0 && (delete i.trackedPointers[s], this.dispatchEvent(i, \"pointercancel\", e), n.pointerType === \"touch\" && this.dispatchEvent(i, \"touchcancel\", e));\n    }, t.prototype.onPointerUp = function(e) {\n      this.supportsTouchEvents && e.pointerType === \"touch\" || this.onPointerComplete(e, !1, this.processPointerUp);\n    }, t.prototype.processPointerUp = function(e, i, n) {\n      var s = e.data, o = e.data.identifier, a = i.trackedPointers[o], l = s.pointerType === \"touch\", u = s.pointerType === \"mouse\" || s.pointerType === \"pen\", c = !1;\n      if (u) {\n        var f = s.button === 2, d = Hv.FLAGS, p = f ? d.RIGHT_DOWN : d.LEFT_DOWN, m = a !== void 0 && a.flags & p;\n        n ? (this.dispatchEvent(i, f ? \"rightup\" : \"mouseup\", e), m && (this.dispatchEvent(i, f ? \"rightclick\" : \"click\", e), c = !0)) : m && this.dispatchEvent(i, f ? \"rightupoutside\" : \"mouseupoutside\", e), a && (f ? a.rightDown = !1 : a.leftDown = !1);\n      }\n      n ? (this.dispatchEvent(i, \"pointerup\", e), l && this.dispatchEvent(i, \"touchend\", e), a && ((!u || c) && this.dispatchEvent(i, \"pointertap\", e), l && (this.dispatchEvent(i, \"tap\", e), a.over = !1))) : a && (this.dispatchEvent(i, \"pointerupoutside\", e), l && this.dispatchEvent(i, \"touchendoutside\", e)), a && a.none && delete i.trackedPointers[o];\n    }, t.prototype.onPointerMove = function(e) {\n      if (!(this.supportsTouchEvents && e.pointerType === \"touch\")) {\n        var i = this.normalizeToPointerData(e);\n        (i[0].pointerType === \"mouse\" || i[0].pointerType === \"pen\") && (this._didMove = !0, this.cursor = null);\n        for (var n = i.length, s = 0; s < n; s++) {\n          var o = i[s], a = this.getInteractionDataForPointerId(o), l = this.configureInteractionEventForDOMEvent(this.eventData, o, a);\n          l.data.originalEvent = e, this.processInteractive(l, this.lastObjectRendered, this.processPointerMove, !0), this.emit(\"pointermove\", l), o.pointerType === \"touch\" && this.emit(\"touchmove\", l), (o.pointerType === \"mouse\" || o.pointerType === \"pen\") && this.emit(\"mousemove\", l);\n        }\n        i[0].pointerType === \"mouse\" && this.setCursorMode(this.cursor);\n      }\n    }, t.prototype.processPointerMove = function(e, i, n) {\n      var s = e.data, o = s.pointerType === \"touch\", a = s.pointerType === \"mouse\" || s.pointerType === \"pen\";\n      a && this.processPointerOverOut(e, i, n), (!this.moveWhenInside || n) && (this.dispatchEvent(i, \"pointermove\", e), o && this.dispatchEvent(i, \"touchmove\", e), a && this.dispatchEvent(i, \"mousemove\", e));\n    }, t.prototype.onPointerOut = function(e) {\n      if (!(this.supportsTouchEvents && e.pointerType === \"touch\")) {\n        var i = this.normalizeToPointerData(e), n = i[0];\n        n.pointerType === \"mouse\" && (this.mouseOverRenderer = !1, this.setCursorMode(null));\n        var s = this.getInteractionDataForPointerId(n), o = this.configureInteractionEventForDOMEvent(this.eventData, n, s);\n        o.data.originalEvent = n, this.processInteractive(o, this.lastObjectRendered, this.processPointerOverOut, !1), this.emit(\"pointerout\", o), n.pointerType === \"mouse\" || n.pointerType === \"pen\" ? this.emit(\"mouseout\", o) : this.releaseInteractionDataForPointerId(s.identifier);\n      }\n    }, t.prototype.processPointerOverOut = function(e, i, n) {\n      var s = e.data, o = e.data.identifier, a = s.pointerType === \"mouse\" || s.pointerType === \"pen\", l = i.trackedPointers[o];\n      n && !l && (l = i.trackedPointers[o] = new Hv(o)), l !== void 0 && (n && this.mouseOverRenderer ? (l.over || (l.over = !0, this.delayDispatchEvent(i, \"pointerover\", e), a && this.delayDispatchEvent(i, \"mouseover\", e)), a && this.cursor === null && (this.cursor = i.cursor)) : l.over && (l.over = !1, this.dispatchEvent(i, \"pointerout\", this.eventData), a && this.dispatchEvent(i, \"mouseout\", e), l.none && delete i.trackedPointers[o]));\n    }, t.prototype.onPointerOver = function(e) {\n      if (!(this.supportsTouchEvents && e.pointerType === \"touch\")) {\n        var i = this.normalizeToPointerData(e), n = i[0], s = this.getInteractionDataForPointerId(n), o = this.configureInteractionEventForDOMEvent(this.eventData, n, s);\n        o.data.originalEvent = n, n.pointerType === \"mouse\" && (this.mouseOverRenderer = !0), this.emit(\"pointerover\", o), (n.pointerType === \"mouse\" || n.pointerType === \"pen\") && this.emit(\"mouseover\", o);\n      }\n    }, t.prototype.getInteractionDataForPointerId = function(e) {\n      var i = e.pointerId, n;\n      return i === Dc || e.pointerType === \"mouse\" ? n = this.mouse : this.activeInteractionData[i] ? n = this.activeInteractionData[i] : (n = this.interactionDataPool.pop() || new yg(), n.identifier = i, this.activeInteractionData[i] = n), n.copyEvent(e), n;\n    }, t.prototype.releaseInteractionDataForPointerId = function(e) {\n      var i = this.activeInteractionData[e];\n      i && (delete this.activeInteractionData[e], i.reset(), this.interactionDataPool.push(i));\n    }, t.prototype.configureInteractionEventForDOMEvent = function(e, i, n) {\n      return e.data = n, this.mapPositionToPoint(n.global, i.clientX, i.clientY), i.pointerType === \"touch\" && (i.globalX = n.global.x, i.globalY = n.global.y), n.originalEvent = i, e.reset(), e;\n    }, t.prototype.normalizeToPointerData = function(e) {\n      var i = [];\n      if (this.supportsTouchEvents && e instanceof TouchEvent)\n        for (var n = 0, s = e.changedTouches.length; n < s; n++) {\n          var o = e.changedTouches[n];\n          typeof o.button > \"u\" && (o.button = e.touches.length ? 1 : 0), typeof o.buttons > \"u\" && (o.buttons = e.touches.length ? 1 : 0), typeof o.isPrimary > \"u\" && (o.isPrimary = e.touches.length === 1 && e.type === \"touchstart\"), typeof o.width > \"u\" && (o.width = o.radiusX || 1), typeof o.height > \"u\" && (o.height = o.radiusY || 1), typeof o.tiltX > \"u\" && (o.tiltX = 0), typeof o.tiltY > \"u\" && (o.tiltY = 0), typeof o.pointerType > \"u\" && (o.pointerType = \"touch\"), typeof o.pointerId > \"u\" && (o.pointerId = o.identifier || 0), typeof o.pressure > \"u\" && (o.pressure = o.force || 0.5), typeof o.twist > \"u\" && (o.twist = 0), typeof o.tangentialPressure > \"u\" && (o.tangentialPressure = 0), typeof o.layerX > \"u\" && (o.layerX = o.offsetX = o.clientX), typeof o.layerY > \"u\" && (o.layerY = o.offsetY = o.clientY), o.isNormalized = !0, i.push(o);\n        }\n      else if (!globalThis.MouseEvent || e instanceof MouseEvent && (!this.supportsPointerEvents || !(e instanceof globalThis.PointerEvent))) {\n        var a = e;\n        typeof a.isPrimary > \"u\" && (a.isPrimary = !0), typeof a.width > \"u\" && (a.width = 1), typeof a.height > \"u\" && (a.height = 1), typeof a.tiltX > \"u\" && (a.tiltX = 0), typeof a.tiltY > \"u\" && (a.tiltY = 0), typeof a.pointerType > \"u\" && (a.pointerType = \"mouse\"), typeof a.pointerId > \"u\" && (a.pointerId = Dc), typeof a.pressure > \"u\" && (a.pressure = 0.5), typeof a.twist > \"u\" && (a.twist = 0), typeof a.tangentialPressure > \"u\" && (a.tangentialPressure = 0), a.isNormalized = !0, i.push(a);\n      } else\n        i.push(e);\n      return i;\n    }, t.prototype.destroy = function() {\n      this.removeEvents(), this.removeTickerListener(), this.removeAllListeners(), this.renderer = null, this.mouse = null, this.eventData = null, this.interactionDOMElement = null, this.onPointerDown = null, this.processPointerDown = null, this.onPointerUp = null, this.processPointerUp = null, this.onPointerCancel = null, this.processPointerCancel = null, this.onPointerMove = null, this.processPointerMove = null, this.onPointerOut = null, this.processPointerOverOut = null, this.onPointerOver = null, this.search = null;\n    }, t.extension = {\n      name: \"interaction\",\n      type: [\n        Xt.RendererPlugin,\n        Xt.CanvasRendererPlugin\n      ]\n    }, t;\n  }(Ji)\n);\n/*!\n * @pixi/extract - v6.5.9\n * Compiled Wed, 25 Jan 2023 05:01:45 UTC\n *\n * @pixi/extract is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */\nvar hO = new gt(), lO = 4, uO = (\n  /** @class */\n  function() {\n    function r(t) {\n      this.renderer = t;\n    }\n    return r.prototype.image = function(t, e, i) {\n      var n = new Image();\n      return n.src = this.base64(t, e, i), n;\n    }, r.prototype.base64 = function(t, e, i) {\n      return this.canvas(t).toDataURL(e, i);\n    }, r.prototype.canvas = function(t, e) {\n      var i = this._rawPixels(t, e), n = i.pixels, s = i.width, o = i.height, a = i.flipY, l = new eg(s, o, 1), u = l.context.getImageData(0, 0, s, o);\n      if (r.arrayPostDivide(n, u.data), l.context.putImageData(u, 0, 0), a) {\n        var c = new eg(l.width, l.height, 1);\n        c.context.scale(1, -1), c.context.drawImage(l.canvas, 0, -o), l.destroy(), l = c;\n      }\n      return l.canvas;\n    }, r.prototype.pixels = function(t, e) {\n      var i = this._rawPixels(t, e).pixels;\n      return r.arrayPostDivide(i, i), i;\n    }, r.prototype._rawPixels = function(t, e) {\n      var i = this.renderer, n, s = !1, o, a = !1;\n      if (t)\n        if (t instanceof qi)\n          o = t;\n        else {\n          var l = i.context.webGLVersion >= 2 ? i.multisample : le.NONE;\n          if (o = this.renderer.generateTexture(t, { multisample: l }), l !== le.NONE) {\n            var u = qi.create({\n              width: o.width,\n              height: o.height\n            });\n            i.framebuffer.bind(o.framebuffer), i.framebuffer.blit(u.framebuffer), i.framebuffer.bind(null), o.destroy(!0), o = u;\n          }\n          a = !0;\n        }\n      o ? (n = o.baseTexture.resolution, e = e ?? o.frame, s = !1, i.renderTexture.bind(o)) : (n = i.resolution, e || (e = hO, e.width = i.width, e.height = i.height), s = !0, i.renderTexture.bind(null));\n      var c = Math.round(e.width * n), f = Math.round(e.height * n), d = new Uint8Array(lO * c * f), p = i.gl;\n      return p.readPixels(Math.round(e.x * n), Math.round(e.y * n), c, f, p.RGBA, p.UNSIGNED_BYTE, d), a && o.destroy(!0), { pixels: d, width: c, height: f, flipY: s };\n    }, r.prototype.destroy = function() {\n      this.renderer = null;\n    }, r.arrayPostDivide = function(t, e) {\n      for (var i = 0; i < t.length; i += 4) {\n        var n = e[i + 3] = t[i + 3];\n        n !== 0 ? (e[i] = Math.round(Math.min(t[i] * 255 / n, 255)), e[i + 1] = Math.round(Math.min(t[i + 1] * 255 / n, 255)), e[i + 2] = Math.round(Math.min(t[i + 2] * 255 / n, 255))) : (e[i] = t[i], e[i + 1] = t[i + 1], e[i + 2] = t[i + 2]);\n      }\n    }, r.extension = {\n      name: \"extract\",\n      type: Xt.RendererPlugin\n    }, r;\n  }()\n);\n/*!\n * @pixi/loaders - v6.5.9\n * Compiled Wed, 25 Jan 2023 05:01:45 UTC\n *\n * @pixi/loaders is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */\nvar Fc = (\n  /** @class */\n  function() {\n    function r(t, e, i) {\n      e === void 0 && (e = !1), this._fn = t, this._once = e, this._thisArg = i, this._next = this._prev = this._owner = null;\n    }\n    return r.prototype.detach = function() {\n      return this._owner === null ? !1 : (this._owner.detach(this), !0);\n    }, r;\n  }()\n);\nfunction _g(r, t) {\n  return r._head ? (r._tail._next = t, t._prev = r._tail, r._tail = t) : (r._head = t, r._tail = t), t._owner = r, t;\n}\nvar Ln = (\n  /** @class */\n  function() {\n    function r() {\n      this._head = this._tail = void 0;\n    }\n    return r.prototype.handlers = function(t) {\n      t === void 0 && (t = !1);\n      var e = this._head;\n      if (t)\n        return !!e;\n      for (var i = []; e; )\n        i.push(e), e = e._next;\n      return i;\n    }, r.prototype.has = function(t) {\n      if (!(t instanceof Fc))\n        throw new Error(\"MiniSignal#has(): First arg must be a SignalBinding object.\");\n      return t._owner === this;\n    }, r.prototype.dispatch = function() {\n      for (var t = arguments, e = [], i = 0; i < arguments.length; i++)\n        e[i] = t[i];\n      var n = this._head;\n      if (!n)\n        return !1;\n      for (; n; )\n        n._once && this.detach(n), n._fn.apply(n._thisArg, e), n = n._next;\n      return !0;\n    }, r.prototype.add = function(t, e) {\n      if (e === void 0 && (e = null), typeof t != \"function\")\n        throw new Error(\"MiniSignal#add(): First arg must be a Function.\");\n      return _g(this, new Fc(t, !1, e));\n    }, r.prototype.once = function(t, e) {\n      if (e === void 0 && (e = null), typeof t != \"function\")\n        throw new Error(\"MiniSignal#once(): First arg must be a Function.\");\n      return _g(this, new Fc(t, !0, e));\n    }, r.prototype.detach = function(t) {\n      if (!(t instanceof Fc))\n        throw new Error(\"MiniSignal#detach(): First arg must be a SignalBinding object.\");\n      return t._owner !== this ? this : (t._prev && (t._prev._next = t._next), t._next && (t._next._prev = t._prev), t === this._head ? (this._head = t._next, t._next === null && (this._tail = null)) : t === this._tail && (this._tail = t._prev, this._tail._next = null), t._owner = null, this);\n    }, r.prototype.detachAll = function() {\n      var t = this._head;\n      if (!t)\n        return this;\n      for (this._head = this._tail = null; t; )\n        t._owner = null, t = t._next;\n      return this;\n    }, r;\n  }()\n);\nfunction fb(r, t) {\n  t = t || {};\n  for (var e = {\n    // eslint-disable-next-line max-len\n    key: [\"source\", \"protocol\", \"authority\", \"userInfo\", \"user\", \"password\", \"host\", \"port\", \"relative\", \"path\", \"directory\", \"file\", \"query\", \"anchor\"],\n    q: {\n      name: \"queryKey\",\n      parser: /(?:^|&)([^&=]*)=?([^&]*)/g\n    },\n    parser: {\n      // eslint-disable-next-line max-len\n      strict: /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?))?((((?:[^?#\\/]*\\/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,\n      // eslint-disable-next-line max-len\n      loose: /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/\n    }\n  }, i = e.parser[t.strictMode ? \"strict\" : \"loose\"].exec(r), n = {}, s = 14; s--; )\n    n[e.key[s]] = i[s] || \"\";\n  return n[e.q.name] = {}, n[e.key[12]].replace(e.q.parser, function(o, a, l) {\n    a && (n[e.q.name][a] = l);\n  }), n;\n}\nvar $v, Uc = null, cO = 0, gg = 200, fO = 204, dO = 1223, pO = 2;\nfunction bg() {\n}\nfunction xg(r, t, e) {\n  t && t.indexOf(\".\") === 0 && (t = t.substring(1)), t && (r[t] = e);\n}\nfunction zv(r) {\n  return r.toString().replace(\"object \", \"\");\n}\nvar _t = (\n  /** @class */\n  function() {\n    function r(t, e, i) {\n      if (this._dequeue = bg, this._onLoadBinding = null, this._elementTimer = 0, this._boundComplete = null, this._boundOnError = null, this._boundOnProgress = null, this._boundOnTimeout = null, this._boundXhrOnError = null, this._boundXhrOnTimeout = null, this._boundXhrOnAbort = null, this._boundXhrOnLoad = null, typeof t != \"string\" || typeof e != \"string\")\n        throw new Error(\"Both name and url are required for constructing a resource.\");\n      i = i || {}, this._flags = 0, this._setFlag(r.STATUS_FLAGS.DATA_URL, e.indexOf(\"data:\") === 0), this.name = t, this.url = e, this.extension = this._getExtension(), this.data = null, this.crossOrigin = i.crossOrigin === !0 ? \"anonymous\" : i.crossOrigin, this.timeout = i.timeout || 0, this.loadType = i.loadType || this._determineLoadType(), this.xhrType = i.xhrType, this.metadata = i.metadata || {}, this.error = null, this.xhr = null, this.children = [], this.type = r.TYPE.UNKNOWN, this.progressChunk = 0, this._dequeue = bg, this._onLoadBinding = null, this._elementTimer = 0, this._boundComplete = this.complete.bind(this), this._boundOnError = this._onError.bind(this), this._boundOnProgress = this._onProgress.bind(this), this._boundOnTimeout = this._onTimeout.bind(this), this._boundXhrOnError = this._xhrOnError.bind(this), this._boundXhrOnTimeout = this._xhrOnTimeout.bind(this), this._boundXhrOnAbort = this._xhrOnAbort.bind(this), this._boundXhrOnLoad = this._xhrOnLoad.bind(this), this.onStart = new Ln(), this.onProgress = new Ln(), this.onComplete = new Ln(), this.onAfterMiddleware = new Ln();\n    }\n    return r.setExtensionLoadType = function(t, e) {\n      xg(r._loadTypeMap, t, e);\n    }, r.setExtensionXhrType = function(t, e) {\n      xg(r._xhrTypeMap, t, e);\n    }, Object.defineProperty(r.prototype, \"isDataUrl\", {\n      /**\n       * When the resource starts to load.\n       * @memberof PIXI.LoaderResource\n       * @callback OnStartSignal\n       * @param {PIXI.Resource} resource - The resource that the event happened on.\n       */\n      /**\n       * When the resource reports loading progress.\n       * @memberof PIXI.LoaderResource\n       * @callback OnProgressSignal\n       * @param {PIXI.Resource} resource - The resource that the event happened on.\n       * @param {number} percentage - The progress of the load in the range [0, 1].\n       */\n      /**\n       * When the resource finishes loading.\n       * @memberof PIXI.LoaderResource\n       * @callback OnCompleteSignal\n       * @param {PIXI.Resource} resource - The resource that the event happened on.\n       */\n      /**\n       * @memberof PIXI.LoaderResource\n       * @typedef {object} IMetadata\n       * @property {HTMLImageElement|HTMLAudioElement|HTMLVideoElement} [loadElement=null] - The\n       *      element to use for loading, instead of creating one.\n       * @property {boolean} [skipSource=false] - Skips adding source(s) to the load element. This\n       *      is useful if you want to pass in a `loadElement` that you already added load sources to.\n       * @property {string|string[]} [mimeType] - The mime type to use for the source element\n       *      of a video/audio elment. If the urls are an array, you can pass this as an array as well\n       *      where each index is the mime type to use for the corresponding url index.\n       */\n      /**\n       * Stores whether or not this url is a data url.\n       * @readonly\n       * @member {boolean}\n       */\n      get: function() {\n        return this._hasFlag(r.STATUS_FLAGS.DATA_URL);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"isComplete\", {\n      /**\n       * Describes if this resource has finished loading. Is true when the resource has completely\n       * loaded.\n       * @readonly\n       * @member {boolean}\n       */\n      get: function() {\n        return this._hasFlag(r.STATUS_FLAGS.COMPLETE);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"isLoading\", {\n      /**\n       * Describes if this resource is currently loading. Is true when the resource starts loading,\n       * and is false again when complete.\n       * @readonly\n       * @member {boolean}\n       */\n      get: function() {\n        return this._hasFlag(r.STATUS_FLAGS.LOADING);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), r.prototype.complete = function() {\n      this._clearEvents(), this._finish();\n    }, r.prototype.abort = function(t) {\n      if (!this.error) {\n        if (this.error = new Error(t), this._clearEvents(), this.xhr)\n          this.xhr.abort();\n        else if (this.xdr)\n          this.xdr.abort();\n        else if (this.data)\n          if (this.data.src)\n            this.data.src = r.EMPTY_GIF;\n          else\n            for (; this.data.firstChild; )\n              this.data.removeChild(this.data.firstChild);\n        this._finish();\n      }\n    }, r.prototype.load = function(t) {\n      var e = this;\n      if (!this.isLoading) {\n        if (this.isComplete) {\n          t && setTimeout(function() {\n            return t(e);\n          }, 1);\n          return;\n        } else\n          t && this.onComplete.once(t);\n        switch (this._setFlag(r.STATUS_FLAGS.LOADING, !0), this.onStart.dispatch(this), (this.crossOrigin === !1 || typeof this.crossOrigin != \"string\") && (this.crossOrigin = this._determineCrossOrigin(this.url)), this.loadType) {\n          case r.LOAD_TYPE.IMAGE:\n            this.type = r.TYPE.IMAGE, this._loadElement(\"image\");\n            break;\n          case r.LOAD_TYPE.AUDIO:\n            this.type = r.TYPE.AUDIO, this._loadSourceElement(\"audio\");\n            break;\n          case r.LOAD_TYPE.VIDEO:\n            this.type = r.TYPE.VIDEO, this._loadSourceElement(\"video\");\n            break;\n          case r.LOAD_TYPE.XHR:\n          default:\n            typeof $v > \"u\" && ($v = !!(globalThis.XDomainRequest && !(\"withCredentials\" in new XMLHttpRequest()))), $v && this.crossOrigin ? this._loadXdr() : this._loadXhr();\n            break;\n        }\n      }\n    }, r.prototype._hasFlag = function(t) {\n      return (this._flags & t) !== 0;\n    }, r.prototype._setFlag = function(t, e) {\n      this._flags = e ? this._flags | t : this._flags & ~t;\n    }, r.prototype._clearEvents = function() {\n      clearTimeout(this._elementTimer), this.data && this.data.removeEventListener && (this.data.removeEventListener(\"error\", this._boundOnError, !1), this.data.removeEventListener(\"load\", this._boundComplete, !1), this.data.removeEventListener(\"progress\", this._boundOnProgress, !1), this.data.removeEventListener(\"canplaythrough\", this._boundComplete, !1)), this.xhr && (this.xhr.removeEventListener ? (this.xhr.removeEventListener(\"error\", this._boundXhrOnError, !1), this.xhr.removeEventListener(\"timeout\", this._boundXhrOnTimeout, !1), this.xhr.removeEventListener(\"abort\", this._boundXhrOnAbort, !1), this.xhr.removeEventListener(\"progress\", this._boundOnProgress, !1), this.xhr.removeEventListener(\"load\", this._boundXhrOnLoad, !1)) : (this.xhr.onerror = null, this.xhr.ontimeout = null, this.xhr.onprogress = null, this.xhr.onload = null));\n    }, r.prototype._finish = function() {\n      if (this.isComplete)\n        throw new Error(\"Complete called again for an already completed resource.\");\n      this._setFlag(r.STATUS_FLAGS.COMPLETE, !0), this._setFlag(r.STATUS_FLAGS.LOADING, !1), this.onComplete.dispatch(this);\n    }, r.prototype._loadElement = function(t) {\n      this.metadata.loadElement ? this.data = this.metadata.loadElement : t === \"image\" && typeof globalThis.Image < \"u\" ? this.data = new Image() : this.data = document.createElement(t), this.crossOrigin && (this.data.crossOrigin = this.crossOrigin), this.metadata.skipSource || (this.data.src = this.url), this.data.addEventListener(\"error\", this._boundOnError, !1), this.data.addEventListener(\"load\", this._boundComplete, !1), this.data.addEventListener(\"progress\", this._boundOnProgress, !1), this.timeout && (this._elementTimer = setTimeout(this._boundOnTimeout, this.timeout));\n    }, r.prototype._loadSourceElement = function(t) {\n      if (this.metadata.loadElement ? this.data = this.metadata.loadElement : t === \"audio\" && typeof globalThis.Audio < \"u\" ? this.data = new Audio() : this.data = document.createElement(t), this.data === null) {\n        this.abort(\"Unsupported element: \" + t);\n        return;\n      }\n      if (this.crossOrigin && (this.data.crossOrigin = this.crossOrigin), !this.metadata.skipSource)\n        if (navigator.isCocoonJS)\n          this.data.src = Array.isArray(this.url) ? this.url[0] : this.url;\n        else if (Array.isArray(this.url))\n          for (var e = this.metadata.mimeType, i = 0; i < this.url.length; ++i)\n            this.data.appendChild(this._createSource(t, this.url[i], Array.isArray(e) ? e[i] : e));\n        else {\n          var e = this.metadata.mimeType;\n          this.data.appendChild(this._createSource(t, this.url, Array.isArray(e) ? e[0] : e));\n        }\n      this.data.addEventListener(\"error\", this._boundOnError, !1), this.data.addEventListener(\"load\", this._boundComplete, !1), this.data.addEventListener(\"progress\", this._boundOnProgress, !1), this.data.addEventListener(\"canplaythrough\", this._boundComplete, !1), this.data.load(), this.timeout && (this._elementTimer = setTimeout(this._boundOnTimeout, this.timeout));\n    }, r.prototype._loadXhr = function() {\n      typeof this.xhrType != \"string\" && (this.xhrType = this._determineXhrType());\n      var t = this.xhr = new XMLHttpRequest();\n      this.crossOrigin === \"use-credentials\" && (t.withCredentials = !0), t.open(\"GET\", this.url, !0), t.timeout = this.timeout, this.xhrType === r.XHR_RESPONSE_TYPE.JSON || this.xhrType === r.XHR_RESPONSE_TYPE.DOCUMENT ? t.responseType = r.XHR_RESPONSE_TYPE.TEXT : t.responseType = this.xhrType, t.addEventListener(\"error\", this._boundXhrOnError, !1), t.addEventListener(\"timeout\", this._boundXhrOnTimeout, !1), t.addEventListener(\"abort\", this._boundXhrOnAbort, !1), t.addEventListener(\"progress\", this._boundOnProgress, !1), t.addEventListener(\"load\", this._boundXhrOnLoad, !1), t.send();\n    }, r.prototype._loadXdr = function() {\n      typeof this.xhrType != \"string\" && (this.xhrType = this._determineXhrType());\n      var t = this.xhr = new globalThis.XDomainRequest();\n      t.timeout = this.timeout || 5e3, t.onerror = this._boundXhrOnError, t.ontimeout = this._boundXhrOnTimeout, t.onprogress = this._boundOnProgress, t.onload = this._boundXhrOnLoad, t.open(\"GET\", this.url, !0), setTimeout(function() {\n        return t.send();\n      }, 1);\n    }, r.prototype._createSource = function(t, e, i) {\n      i || (i = t + \"/\" + this._getExtension(e));\n      var n = document.createElement(\"source\");\n      return n.src = e, n.type = i, n;\n    }, r.prototype._onError = function(t) {\n      this.abort(\"Failed to load element using: \" + t.target.nodeName);\n    }, r.prototype._onProgress = function(t) {\n      t && t.lengthComputable && this.onProgress.dispatch(this, t.loaded / t.total);\n    }, r.prototype._onTimeout = function() {\n      this.abort(\"Load timed out.\");\n    }, r.prototype._xhrOnError = function() {\n      var t = this.xhr;\n      this.abort(zv(t) + \" Request failed. Status: \" + t.status + ', text: \"' + t.statusText + '\"');\n    }, r.prototype._xhrOnTimeout = function() {\n      var t = this.xhr;\n      this.abort(zv(t) + \" Request timed out.\");\n    }, r.prototype._xhrOnAbort = function() {\n      var t = this.xhr;\n      this.abort(zv(t) + \" Request was aborted by the user.\");\n    }, r.prototype._xhrOnLoad = function() {\n      var t = this.xhr, e = \"\", i = typeof t.status > \"u\" ? gg : t.status;\n      (t.responseType === \"\" || t.responseType === \"text\" || typeof t.responseType > \"u\") && (e = t.responseText), i === cO && (e.length > 0 || t.responseType === r.XHR_RESPONSE_TYPE.BUFFER) ? i = gg : i === dO && (i = fO);\n      var n = i / 100 | 0;\n      if (n === pO)\n        if (this.xhrType === r.XHR_RESPONSE_TYPE.TEXT)\n          this.data = e, this.type = r.TYPE.TEXT;\n        else if (this.xhrType === r.XHR_RESPONSE_TYPE.JSON)\n          try {\n            this.data = JSON.parse(e), this.type = r.TYPE.JSON;\n          } catch (a) {\n            this.abort(\"Error trying to parse loaded json: \" + a);\n            return;\n          }\n        else if (this.xhrType === r.XHR_RESPONSE_TYPE.DOCUMENT)\n          try {\n            if (globalThis.DOMParser) {\n              var s = new DOMParser();\n              this.data = s.parseFromString(e, \"text/xml\");\n            } else {\n              var o = document.createElement(\"div\");\n              o.innerHTML = e, this.data = o;\n            }\n            this.type = r.TYPE.XML;\n          } catch (a) {\n            this.abort(\"Error trying to parse loaded xml: \" + a);\n            return;\n          }\n        else\n          this.data = t.response || e;\n      else {\n        this.abort(\"[\" + t.status + \"] \" + t.statusText + \": \" + t.responseURL);\n        return;\n      }\n      this.complete();\n    }, r.prototype._determineCrossOrigin = function(t, e) {\n      if (t.indexOf(\"data:\") === 0)\n        return \"\";\n      if (globalThis.origin !== globalThis.location.origin)\n        return \"anonymous\";\n      e = e || globalThis.location, Uc || (Uc = document.createElement(\"a\")), Uc.href = t;\n      var i = fb(Uc.href, { strictMode: !0 }), n = !i.port && e.port === \"\" || i.port === e.port, s = i.protocol ? i.protocol + \":\" : \"\";\n      return i.host !== e.hostname || !n || s !== e.protocol ? \"anonymous\" : \"\";\n    }, r.prototype._determineXhrType = function() {\n      return r._xhrTypeMap[this.extension] || r.XHR_RESPONSE_TYPE.TEXT;\n    }, r.prototype._determineLoadType = function() {\n      return r._loadTypeMap[this.extension] || r.LOAD_TYPE.XHR;\n    }, r.prototype._getExtension = function(t) {\n      t === void 0 && (t = this.url);\n      var e = \"\";\n      if (this.isDataUrl) {\n        var i = t.indexOf(\"/\");\n        e = t.substring(i + 1, t.indexOf(\";\", i));\n      } else {\n        var n = t.indexOf(\"?\"), s = t.indexOf(\"#\"), o = Math.min(n > -1 ? n : t.length, s > -1 ? s : t.length);\n        t = t.substring(0, o), e = t.substring(t.lastIndexOf(\".\") + 1);\n      }\n      return e.toLowerCase();\n    }, r.prototype._getMimeFromXhrType = function(t) {\n      switch (t) {\n        case r.XHR_RESPONSE_TYPE.BUFFER:\n          return \"application/octet-binary\";\n        case r.XHR_RESPONSE_TYPE.BLOB:\n          return \"application/blob\";\n        case r.XHR_RESPONSE_TYPE.DOCUMENT:\n          return \"application/xml\";\n        case r.XHR_RESPONSE_TYPE.JSON:\n          return \"application/json\";\n        case r.XHR_RESPONSE_TYPE.DEFAULT:\n        case r.XHR_RESPONSE_TYPE.TEXT:\n        default:\n          return \"text/plain\";\n      }\n    }, r;\n  }()\n);\n(function(r) {\n  (function(t) {\n    t[t.NONE = 0] = \"NONE\", t[t.DATA_URL = 1] = \"DATA_URL\", t[t.COMPLETE = 2] = \"COMPLETE\", t[t.LOADING = 4] = \"LOADING\";\n  })(r.STATUS_FLAGS || (r.STATUS_FLAGS = {})), function(t) {\n    t[t.UNKNOWN = 0] = \"UNKNOWN\", t[t.JSON = 1] = \"JSON\", t[t.XML = 2] = \"XML\", t[t.IMAGE = 3] = \"IMAGE\", t[t.AUDIO = 4] = \"AUDIO\", t[t.VIDEO = 5] = \"VIDEO\", t[t.TEXT = 6] = \"TEXT\";\n  }(r.TYPE || (r.TYPE = {})), function(t) {\n    t[t.XHR = 1] = \"XHR\", t[t.IMAGE = 2] = \"IMAGE\", t[t.AUDIO = 3] = \"AUDIO\", t[t.VIDEO = 4] = \"VIDEO\";\n  }(r.LOAD_TYPE || (r.LOAD_TYPE = {})), function(t) {\n    t.DEFAULT = \"text\", t.BUFFER = \"arraybuffer\", t.BLOB = \"blob\", t.DOCUMENT = \"document\", t.JSON = \"json\", t.TEXT = \"text\";\n  }(r.XHR_RESPONSE_TYPE || (r.XHR_RESPONSE_TYPE = {})), r._loadTypeMap = {\n    // images\n    gif: r.LOAD_TYPE.IMAGE,\n    png: r.LOAD_TYPE.IMAGE,\n    bmp: r.LOAD_TYPE.IMAGE,\n    jpg: r.LOAD_TYPE.IMAGE,\n    jpeg: r.LOAD_TYPE.IMAGE,\n    tif: r.LOAD_TYPE.IMAGE,\n    tiff: r.LOAD_TYPE.IMAGE,\n    webp: r.LOAD_TYPE.IMAGE,\n    tga: r.LOAD_TYPE.IMAGE,\n    avif: r.LOAD_TYPE.IMAGE,\n    svg: r.LOAD_TYPE.IMAGE,\n    \"svg+xml\": r.LOAD_TYPE.IMAGE,\n    // audio\n    mp3: r.LOAD_TYPE.AUDIO,\n    ogg: r.LOAD_TYPE.AUDIO,\n    wav: r.LOAD_TYPE.AUDIO,\n    // videos\n    mp4: r.LOAD_TYPE.VIDEO,\n    webm: r.LOAD_TYPE.VIDEO\n  }, r._xhrTypeMap = {\n    // xml\n    xhtml: r.XHR_RESPONSE_TYPE.DOCUMENT,\n    html: r.XHR_RESPONSE_TYPE.DOCUMENT,\n    htm: r.XHR_RESPONSE_TYPE.DOCUMENT,\n    xml: r.XHR_RESPONSE_TYPE.DOCUMENT,\n    tmx: r.XHR_RESPONSE_TYPE.DOCUMENT,\n    svg: r.XHR_RESPONSE_TYPE.DOCUMENT,\n    // This was added to handle Tiled Tileset XML, but .tsx is also a TypeScript React Component.\n    // Since it is way less likely for people to be loading TypeScript files instead of Tiled files,\n    // this should probably be fine.\n    tsx: r.XHR_RESPONSE_TYPE.DOCUMENT,\n    // images\n    gif: r.XHR_RESPONSE_TYPE.BLOB,\n    png: r.XHR_RESPONSE_TYPE.BLOB,\n    bmp: r.XHR_RESPONSE_TYPE.BLOB,\n    jpg: r.XHR_RESPONSE_TYPE.BLOB,\n    jpeg: r.XHR_RESPONSE_TYPE.BLOB,\n    tif: r.XHR_RESPONSE_TYPE.BLOB,\n    tiff: r.XHR_RESPONSE_TYPE.BLOB,\n    webp: r.XHR_RESPONSE_TYPE.BLOB,\n    tga: r.XHR_RESPONSE_TYPE.BLOB,\n    avif: r.XHR_RESPONSE_TYPE.BLOB,\n    // json\n    json: r.XHR_RESPONSE_TYPE.JSON,\n    // text\n    text: r.XHR_RESPONSE_TYPE.TEXT,\n    txt: r.XHR_RESPONSE_TYPE.TEXT,\n    // fonts\n    ttf: r.XHR_RESPONSE_TYPE.BUFFER,\n    otf: r.XHR_RESPONSE_TYPE.BUFFER\n  }, r.EMPTY_GIF = \"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==\";\n})(_t || (_t = {}));\nfunction xs() {\n}\nfunction vO(r) {\n  return function() {\n    for (var e = arguments, i = [], n = 0; n < arguments.length; n++)\n      i[n] = e[n];\n    if (r === null)\n      throw new Error(\"Callback was already called.\");\n    var s = r;\n    r = null, s.apply(this, i);\n  };\n}\nvar mO = (\n  /** @class */\n  function() {\n    function r(t, e) {\n      this.data = t, this.callback = e;\n    }\n    return r;\n  }()\n), Vv = (\n  /** @class */\n  function() {\n    function r(t, e) {\n      var i = this;\n      if (e === void 0 && (e = 1), this.workers = 0, this.saturated = xs, this.unsaturated = xs, this.empty = xs, this.drain = xs, this.error = xs, this.started = !1, this.paused = !1, this._tasks = [], this._insert = function(n, s, o) {\n        if (o && typeof o != \"function\")\n          throw new Error(\"task callback must be a function\");\n        if (i.started = !0, n == null && i.idle()) {\n          setTimeout(function() {\n            return i.drain();\n          }, 1);\n          return;\n        }\n        var a = new mO(n, typeof o == \"function\" ? o : xs);\n        s ? i._tasks.unshift(a) : i._tasks.push(a), setTimeout(i.process, 1);\n      }, this.process = function() {\n        for (; !i.paused && i.workers < i.concurrency && i._tasks.length; ) {\n          var n = i._tasks.shift();\n          i._tasks.length === 0 && i.empty(), i.workers += 1, i.workers === i.concurrency && i.saturated(), i._worker(n.data, vO(i._next(n)));\n        }\n      }, this._worker = t, e === 0)\n        throw new Error(\"Concurrency must not be zero\");\n      this.concurrency = e, this.buffer = e / 4;\n    }\n    return r.prototype._next = function(t) {\n      var e = this;\n      return function() {\n        for (var i = arguments, n = [], s = 0; s < arguments.length; s++)\n          n[s] = i[s];\n        e.workers -= 1, t.callback.apply(t, n), n[0] != null && e.error(n[0], t.data), e.workers <= e.concurrency - e.buffer && e.unsaturated(), e.idle() && e.drain(), e.process();\n      };\n    }, r.prototype.push = function(t, e) {\n      this._insert(t, !1, e);\n    }, r.prototype.kill = function() {\n      this.workers = 0, this.drain = xs, this.started = !1, this._tasks = [];\n    }, r.prototype.unshift = function(t, e) {\n      this._insert(t, !0, e);\n    }, r.prototype.length = function() {\n      return this._tasks.length;\n    }, r.prototype.running = function() {\n      return this.workers;\n    }, r.prototype.idle = function() {\n      return this._tasks.length + this.workers === 0;\n    }, r.prototype.pause = function() {\n      this.paused !== !0 && (this.paused = !0);\n    }, r.prototype.resume = function() {\n      if (this.paused !== !1) {\n        this.paused = !1;\n        for (var t = 1; t <= this.concurrency; t++)\n          this.process();\n      }\n    }, r.eachSeries = function(t, e, i, n) {\n      var s = 0, o = t.length;\n      function a(l) {\n        if (l || s === o) {\n          i && i(l);\n          return;\n        }\n        n ? setTimeout(function() {\n          e(t[s++], a);\n        }, 1) : e(t[s++], a);\n      }\n      a();\n    }, r.queue = function(t, e) {\n      return new r(t, e);\n    }, r;\n  }()\n), Xv = 100, yO = /(#[\\w-]+)?$/, Ii = (\n  /** @class */\n  function() {\n    function r(t, e) {\n      var i = this;\n      t === void 0 && (t = \"\"), e === void 0 && (e = 10), this.progress = 0, this.loading = !1, this.defaultQueryString = \"\", this._beforeMiddleware = [], this._afterMiddleware = [], this._resourcesParsing = [], this._boundLoadResource = function(l, u) {\n        return i._loadResource(l, u);\n      }, this.resources = {}, this.baseUrl = t, this._beforeMiddleware = [], this._afterMiddleware = [], this._resourcesParsing = [], this._boundLoadResource = function(l, u) {\n        return i._loadResource(l, u);\n      }, this._queue = Vv.queue(this._boundLoadResource, e), this._queue.pause(), this.resources = {}, this.onProgress = new Ln(), this.onError = new Ln(), this.onLoad = new Ln(), this.onStart = new Ln(), this.onComplete = new Ln();\n      for (var n = 0; n < r._plugins.length; ++n) {\n        var s = r._plugins[n], o = s.pre, a = s.use;\n        o && this.pre(o), a && this.use(a);\n      }\n      this._protected = !1;\n    }\n    return r.prototype._add = function(t, e, i, n) {\n      if (this.loading && (!i || !i.parentResource))\n        throw new Error(\"Cannot add resources while the loader is running.\");\n      if (this.resources[t])\n        throw new Error('Resource named \"' + t + '\" already exists.');\n      if (e = this._prepareUrl(e), this.resources[t] = new _t(t, e, i), typeof n == \"function\" && this.resources[t].onAfterMiddleware.once(n), this.loading) {\n        for (var s = i.parentResource, o = [], a = 0; a < s.children.length; ++a)\n          s.children[a].isComplete || o.push(s.children[a]);\n        var l = s.progressChunk * (o.length + 1), u = l / (o.length + 2);\n        s.children.push(this.resources[t]), s.progressChunk = u;\n        for (var a = 0; a < o.length; ++a)\n          o[a].progressChunk = u;\n        this.resources[t].progressChunk = u;\n      }\n      return this._queue.push(this.resources[t]), this;\n    }, r.prototype.pre = function(t) {\n      return this._beforeMiddleware.push(t), this;\n    }, r.prototype.use = function(t) {\n      return this._afterMiddleware.push(t), this;\n    }, r.prototype.reset = function() {\n      this.progress = 0, this.loading = !1, this._queue.kill(), this._queue.pause();\n      for (var t in this.resources) {\n        var e = this.resources[t];\n        e._onLoadBinding && e._onLoadBinding.detach(), e.isLoading && e.abort(\"loader reset\");\n      }\n      return this.resources = {}, this;\n    }, r.prototype.load = function(t) {\n      if (fi(\"6.5.0\", \"@pixi/loaders is being replaced with @pixi/assets in the next major release.\"), typeof t == \"function\" && this.onComplete.once(t), this.loading)\n        return this;\n      if (this._queue.idle())\n        this._onStart(), this._onComplete();\n      else {\n        for (var e = this._queue._tasks.length, i = Xv / e, n = 0; n < this._queue._tasks.length; ++n)\n          this._queue._tasks[n].data.progressChunk = i;\n        this._onStart(), this._queue.resume();\n      }\n      return this;\n    }, Object.defineProperty(r.prototype, \"concurrency\", {\n      /**\n       * The number of resources to load concurrently.\n       * @default 10\n       */\n      get: function() {\n        return this._queue.concurrency;\n      },\n      set: function(t) {\n        this._queue.concurrency = t;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), r.prototype._prepareUrl = function(t) {\n      var e = fb(t, { strictMode: !0 }), i;\n      if (e.protocol || !e.path || t.indexOf(\"//\") === 0 ? i = t : this.baseUrl.length && this.baseUrl.lastIndexOf(\"/\") !== this.baseUrl.length - 1 && t.charAt(0) !== \"/\" ? i = this.baseUrl + \"/\" + t : i = this.baseUrl + t, this.defaultQueryString) {\n        var n = yO.exec(i)[0];\n        i = i.slice(0, i.length - n.length), i.indexOf(\"?\") !== -1 ? i += \"&\" + this.defaultQueryString : i += \"?\" + this.defaultQueryString, i += n;\n      }\n      return i;\n    }, r.prototype._loadResource = function(t, e) {\n      var i = this;\n      t._dequeue = e, Vv.eachSeries(this._beforeMiddleware, function(n, s) {\n        n.call(i, t, function() {\n          s(t.isComplete ? {} : null);\n        });\n      }, function() {\n        t.isComplete ? i._onLoad(t) : (t._onLoadBinding = t.onComplete.once(i._onLoad, i), t.load());\n      }, !0);\n    }, r.prototype._onStart = function() {\n      this.progress = 0, this.loading = !0, this.onStart.dispatch(this);\n    }, r.prototype._onComplete = function() {\n      this.progress = Xv, this.loading = !1, this.onComplete.dispatch(this, this.resources);\n    }, r.prototype._onLoad = function(t) {\n      var e = this;\n      t._onLoadBinding = null, this._resourcesParsing.push(t), t._dequeue(), Vv.eachSeries(this._afterMiddleware, function(i, n) {\n        i.call(e, t, n);\n      }, function() {\n        t.onAfterMiddleware.dispatch(t), e.progress = Math.min(Xv, e.progress + t.progressChunk), e.onProgress.dispatch(e, t), t.error ? e.onError.dispatch(t.error, e, t) : e.onLoad.dispatch(e, t), e._resourcesParsing.splice(e._resourcesParsing.indexOf(t), 1), e._queue.idle() && e._resourcesParsing.length === 0 && e._onComplete();\n      }, !0);\n    }, r.prototype.destroy = function() {\n      this._protected || this.reset();\n    }, Object.defineProperty(r, \"shared\", {\n      /** A premade instance of the loader that can be used to load resources. */\n      get: function() {\n        var t = r._shared;\n        return t || (t = new r(), t._protected = !0, r._shared = t), t;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), r.registerPlugin = function(t) {\n      return fi(\"6.5.0\", \"Loader.registerPlugin() is deprecated, use extensions.add() instead.\"), Or.add({\n        type: Xt.Loader,\n        ref: t\n      }), r;\n    }, r._plugins = [], r;\n  }()\n);\nOr.handleByList(Xt.Loader, Ii._plugins);\nIi.prototype.add = function(t, e, i, n) {\n  if (Array.isArray(t)) {\n    for (var s = 0; s < t.length; ++s)\n      this.add(t[s]);\n    return this;\n  }\n  if (typeof t == \"object\" && (i = t, n = e || i.callback || i.onComplete, e = i.url, t = i.name || i.key || i.url), typeof e != \"string\" && (n = i, i = e, e = t), typeof e != \"string\")\n    throw new Error(\"No url passed to add resource to loader.\");\n  return typeof i == \"function\" && (n = i, i = null), this._add(t, e, i, n);\n};\nvar _O = (\n  /** @class */\n  function() {\n    function r() {\n    }\n    return r.init = function(t) {\n      t = Object.assign({\n        sharedLoader: !1\n      }, t), this.loader = t.sharedLoader ? Ii.shared : new Ii();\n    }, r.destroy = function() {\n      this.loader && (this.loader.destroy(), this.loader = null);\n    }, r.extension = Xt.Application, r;\n  }()\n), gO = (\n  /** @class */\n  function() {\n    function r() {\n    }\n    return r.add = function() {\n      _t.setExtensionLoadType(\"svg\", _t.LOAD_TYPE.XHR), _t.setExtensionXhrType(\"svg\", _t.XHR_RESPONSE_TYPE.TEXT);\n    }, r.use = function(t, e) {\n      if (t.data && (t.type === _t.TYPE.IMAGE || t.extension === \"svg\")) {\n        var i = t.data, n = t.url, s = t.name, o = t.metadata;\n        lt.fromLoader(i, n, s, o).then(function(a) {\n          t.texture = a, e();\n        }).catch(e);\n      } else\n        e();\n    }, r.extension = Xt.Loader, r;\n  }()\n), bO = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\nfunction xO(r) {\n  for (var t = \"\", e = 0; e < r.length; ) {\n    for (var i = [0, 0, 0], n = [0, 0, 0, 0], s = 0; s < i.length; ++s)\n      e < r.length ? i[s] = r.charCodeAt(e++) & 255 : i[s] = 0;\n    n[0] = i[0] >> 2, n[1] = (i[0] & 3) << 4 | i[1] >> 4, n[2] = (i[1] & 15) << 2 | i[2] >> 6, n[3] = i[2] & 63;\n    var o = e - (r.length - 1);\n    switch (o) {\n      case 2:\n        n[3] = 64, n[2] = 64;\n        break;\n      case 1:\n        n[3] = 64;\n        break;\n    }\n    for (var s = 0; s < n.length; ++s)\n      t += bO.charAt(n[s]);\n  }\n  return t;\n}\nfunction wO(r, t) {\n  if (!r.data) {\n    t();\n    return;\n  }\n  if (r.xhr && r.xhrType === _t.XHR_RESPONSE_TYPE.BLOB) {\n    if (!self.Blob || typeof r.data == \"string\") {\n      var e = r.xhr.getResponseHeader(\"content-type\");\n      if (e && e.indexOf(\"image\") === 0) {\n        r.data = new Image(), r.data.src = \"data:\" + e + \";base64,\" + xO(r.xhr.responseText), r.type = _t.TYPE.IMAGE, r.data.onload = function() {\n          r.data.onload = null, t();\n        };\n        return;\n      }\n    } else if (r.data.type.indexOf(\"image\") === 0) {\n      var i = globalThis.URL || globalThis.webkitURL, n = i.createObjectURL(r.data);\n      r.blob = r.data, r.data = new Image(), r.data.src = n, r.type = _t.TYPE.IMAGE, r.data.onload = function() {\n        i.revokeObjectURL(n), r.data.onload = null, t();\n      };\n      return;\n    }\n  }\n  t();\n}\nvar EO = (\n  /** @class */\n  function() {\n    function r() {\n    }\n    return r.extension = Xt.Loader, r.use = wO, r;\n  }()\n);\nOr.add(gO, EO);\n/*!\n * @pixi/compressed-textures - v6.5.9\n * Compiled Wed, 25 Jan 2023 05:01:45 UTC\n *\n * @pixi/compressed-textures is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */\nvar $t, bt;\n(function(r) {\n  r[r.COMPRESSED_RGB_S3TC_DXT1_EXT = 33776] = \"COMPRESSED_RGB_S3TC_DXT1_EXT\", r[r.COMPRESSED_RGBA_S3TC_DXT1_EXT = 33777] = \"COMPRESSED_RGBA_S3TC_DXT1_EXT\", r[r.COMPRESSED_RGBA_S3TC_DXT3_EXT = 33778] = \"COMPRESSED_RGBA_S3TC_DXT3_EXT\", r[r.COMPRESSED_RGBA_S3TC_DXT5_EXT = 33779] = \"COMPRESSED_RGBA_S3TC_DXT5_EXT\", r[r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT = 35917] = \"COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT\", r[r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT = 35918] = \"COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT\", r[r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT = 35919] = \"COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT\", r[r.COMPRESSED_SRGB_S3TC_DXT1_EXT = 35916] = \"COMPRESSED_SRGB_S3TC_DXT1_EXT\", r[r.COMPRESSED_R11_EAC = 37488] = \"COMPRESSED_R11_EAC\", r[r.COMPRESSED_SIGNED_R11_EAC = 37489] = \"COMPRESSED_SIGNED_R11_EAC\", r[r.COMPRESSED_RG11_EAC = 37490] = \"COMPRESSED_RG11_EAC\", r[r.COMPRESSED_SIGNED_RG11_EAC = 37491] = \"COMPRESSED_SIGNED_RG11_EAC\", r[r.COMPRESSED_RGB8_ETC2 = 37492] = \"COMPRESSED_RGB8_ETC2\", r[r.COMPRESSED_RGBA8_ETC2_EAC = 37496] = \"COMPRESSED_RGBA8_ETC2_EAC\", r[r.COMPRESSED_SRGB8_ETC2 = 37493] = \"COMPRESSED_SRGB8_ETC2\", r[r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC = 37497] = \"COMPRESSED_SRGB8_ALPHA8_ETC2_EAC\", r[r.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2 = 37494] = \"COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2\", r[r.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2 = 37495] = \"COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2\", r[r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG = 35840] = \"COMPRESSED_RGB_PVRTC_4BPPV1_IMG\", r[r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG = 35842] = \"COMPRESSED_RGBA_PVRTC_4BPPV1_IMG\", r[r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG = 35841] = \"COMPRESSED_RGB_PVRTC_2BPPV1_IMG\", r[r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG = 35843] = \"COMPRESSED_RGBA_PVRTC_2BPPV1_IMG\", r[r.COMPRESSED_RGB_ETC1_WEBGL = 36196] = \"COMPRESSED_RGB_ETC1_WEBGL\", r[r.COMPRESSED_RGB_ATC_WEBGL = 35986] = \"COMPRESSED_RGB_ATC_WEBGL\", r[r.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL = 35986] = \"COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL\", r[r.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL = 34798] = \"COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL\", r[r.COMPRESSED_RGBA_ASTC_4x4_KHR = 37808] = \"COMPRESSED_RGBA_ASTC_4x4_KHR\";\n})(bt || (bt = {}));\nvar Gf = ($t = {}, // WEBGL_compressed_texture_s3tc\n$t[bt.COMPRESSED_RGB_S3TC_DXT1_EXT] = 0.5, $t[bt.COMPRESSED_RGBA_S3TC_DXT1_EXT] = 0.5, $t[bt.COMPRESSED_RGBA_S3TC_DXT3_EXT] = 1, $t[bt.COMPRESSED_RGBA_S3TC_DXT5_EXT] = 1, // WEBGL_compressed_texture_s3tc\n$t[bt.COMPRESSED_SRGB_S3TC_DXT1_EXT] = 0.5, $t[bt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT] = 0.5, $t[bt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT] = 1, $t[bt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT] = 1, // WEBGL_compressed_texture_etc\n$t[bt.COMPRESSED_R11_EAC] = 0.5, $t[bt.COMPRESSED_SIGNED_R11_EAC] = 0.5, $t[bt.COMPRESSED_RG11_EAC] = 1, $t[bt.COMPRESSED_SIGNED_RG11_EAC] = 1, $t[bt.COMPRESSED_RGB8_ETC2] = 0.5, $t[bt.COMPRESSED_RGBA8_ETC2_EAC] = 1, $t[bt.COMPRESSED_SRGB8_ETC2] = 0.5, $t[bt.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC] = 1, $t[bt.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2] = 0.5, $t[bt.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2] = 0.5, // WEBGL_compressed_texture_pvrtc\n$t[bt.COMPRESSED_RGB_PVRTC_4BPPV1_IMG] = 0.5, $t[bt.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG] = 0.5, $t[bt.COMPRESSED_RGB_PVRTC_2BPPV1_IMG] = 0.25, $t[bt.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG] = 0.25, // WEBGL_compressed_texture_etc1\n$t[bt.COMPRESSED_RGB_ETC1_WEBGL] = 0.5, // @see https://www.khronos.org/registry/OpenGL/extensions/AMD/AMD_compressed_ATC_texture.txt\n// WEBGL_compressed_texture_atc\n$t[bt.COMPRESSED_RGB_ATC_WEBGL] = 0.5, $t[bt.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL] = 1, $t[bt.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL] = 1, // @see https://registry.khronos.org/OpenGL/extensions/KHR/KHR_texture_compression_astc_hdr.txt\n// WEBGL_compressed_texture_astc\n/* eslint-disable-next-line camelcase */\n$t[bt.COMPRESSED_RGBA_ASTC_4x4_KHR] = 1, $t);\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\nvar ym = function(r, t) {\n  return ym = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(e, i) {\n    e.__proto__ = i;\n  } || function(e, i) {\n    for (var n in i)\n      i.hasOwnProperty(n) && (e[n] = i[n]);\n  }, ym(r, t);\n};\nfunction db(r, t) {\n  ym(r, t);\n  function e() {\n    this.constructor = r;\n  }\n  r.prototype = t === null ? Object.create(t) : (e.prototype = t.prototype, new e());\n}\nfunction TO(r, t, e, i) {\n  function n(s) {\n    return s instanceof e ? s : new e(function(o) {\n      o(s);\n    });\n  }\n  return new (e || (e = Promise))(function(s, o) {\n    function a(c) {\n      try {\n        u(i.next(c));\n      } catch (f) {\n        o(f);\n      }\n    }\n    function l(c) {\n      try {\n        u(i.throw(c));\n      } catch (f) {\n        o(f);\n      }\n    }\n    function u(c) {\n      c.done ? s(c.value) : n(c.value).then(a, l);\n    }\n    u((i = i.apply(r, t || [])).next());\n  });\n}\nfunction SO(r, t) {\n  var e = { label: 0, sent: function() {\n    if (s[0] & 1)\n      throw s[1];\n    return s[1];\n  }, trys: [], ops: [] }, i, n, s, o;\n  return o = { next: a(0), throw: a(1), return: a(2) }, typeof Symbol == \"function\" && (o[Symbol.iterator] = function() {\n    return this;\n  }), o;\n  function a(u) {\n    return function(c) {\n      return l([u, c]);\n    };\n  }\n  function l(u) {\n    if (i)\n      throw new TypeError(\"Generator is already executing.\");\n    for (; e; )\n      try {\n        if (i = 1, n && (s = u[0] & 2 ? n.return : u[0] ? n.throw || ((s = n.return) && s.call(n), 0) : n.next) && !(s = s.call(n, u[1])).done)\n          return s;\n        switch (n = 0, s && (u = [u[0] & 2, s.value]), u[0]) {\n          case 0:\n          case 1:\n            s = u;\n            break;\n          case 4:\n            return e.label++, { value: u[1], done: !1 };\n          case 5:\n            e.label++, n = u[1], u = [0];\n            continue;\n          case 7:\n            u = e.ops.pop(), e.trys.pop();\n            continue;\n          default:\n            if (s = e.trys, !(s = s.length > 0 && s[s.length - 1]) && (u[0] === 6 || u[0] === 2)) {\n              e = 0;\n              continue;\n            }\n            if (u[0] === 3 && (!s || u[1] > s[0] && u[1] < s[3])) {\n              e.label = u[1];\n              break;\n            }\n            if (u[0] === 6 && e.label < s[1]) {\n              e.label = s[1], s = u;\n              break;\n            }\n            if (s && e.label < s[2]) {\n              e.label = s[2], e.ops.push(u);\n              break;\n            }\n            s[2] && e.ops.pop(), e.trys.pop();\n            continue;\n        }\n        u = t.call(r, e);\n      } catch (c) {\n        u = [6, c], n = 0;\n      } finally {\n        i = s = 0;\n      }\n    if (u[0] & 5)\n      throw u[1];\n    return { value: u[0] ? u[1] : void 0, done: !0 };\n  }\n}\nvar PO = (\n  /** @class */\n  function(r) {\n    db(t, r);\n    function t(e, i) {\n      i === void 0 && (i = { width: 1, height: 1, autoLoad: !0 });\n      var n = this, s, o;\n      return typeof e == \"string\" ? (s = e, o = new Uint8Array()) : (s = null, o = e), n = r.call(this, o, i) || this, n.origin = s, n.buffer = o ? new Uf(o) : null, n.origin && i.autoLoad !== !1 && n.load(), o && o.length && (n.loaded = !0, n.onBlobLoaded(n.buffer.rawBinaryData)), n;\n    }\n    return t.prototype.onBlobLoaded = function(e) {\n    }, t.prototype.load = function() {\n      return TO(this, void 0, Promise, function() {\n        var e, i, n;\n        return SO(this, function(s) {\n          switch (s.label) {\n            case 0:\n              return [4, fetch(this.origin)];\n            case 1:\n              return e = s.sent(), [4, e.blob()];\n            case 2:\n              return i = s.sent(), [4, i.arrayBuffer()];\n            case 3:\n              return n = s.sent(), this.data = new Uint32Array(n), this.buffer = new Uf(n), this.loaded = !0, this.onBlobLoaded(n), this.update(), [2, this];\n          }\n        });\n      });\n    }, t;\n  }(Zo)\n), _m = (\n  /** @class */\n  function(r) {\n    db(t, r);\n    function t(e, i) {\n      var n = r.call(this, e, i) || this;\n      return n.format = i.format, n.levels = i.levels || 1, n._width = i.width, n._height = i.height, n._extension = t._formatToExtension(n.format), (i.levelBuffers || n.buffer) && (n._levelBuffers = i.levelBuffers || t._createLevelBuffers(\n        e instanceof Uint8Array ? e : n.buffer.uint8View,\n        n.format,\n        n.levels,\n        4,\n        4,\n        // PVRTC has 8x4 blocks in 2bpp mode\n        n.width,\n        n.height\n      )), n;\n    }\n    return t.prototype.upload = function(e, i, n) {\n      var s = e.gl, o = e.context.extensions[this._extension];\n      if (!o)\n        throw new Error(this._extension + \" textures are not supported on the current machine\");\n      if (!this._levelBuffers)\n        return !1;\n      for (var a = 0, l = this.levels; a < l; a++) {\n        var u = this._levelBuffers[a], c = u.levelID, f = u.levelWidth, d = u.levelHeight, p = u.levelBuffer;\n        s.compressedTexImage2D(s.TEXTURE_2D, c, this.format, f, d, 0, p);\n      }\n      return !0;\n    }, t.prototype.onBlobLoaded = function() {\n      this._levelBuffers = t._createLevelBuffers(\n        this.buffer.uint8View,\n        this.format,\n        this.levels,\n        4,\n        4,\n        // PVRTC has 8x4 blocks in 2bpp mode\n        this.width,\n        this.height\n      );\n    }, t._formatToExtension = function(e) {\n      if (e >= 33776 && e <= 33779)\n        return \"s3tc\";\n      if (e >= 37488 && e <= 37497)\n        return \"etc\";\n      if (e >= 35840 && e <= 35843)\n        return \"pvrtc\";\n      if (e >= 36196)\n        return \"etc1\";\n      if (e >= 35986 && e <= 34798)\n        return \"atc\";\n      throw new Error(\"Invalid (compressed) texture format given!\");\n    }, t._createLevelBuffers = function(e, i, n, s, o, a, l) {\n      for (var u = new Array(n), c = e.byteOffset, f = a, d = l, p = f + s - 1 & ~(s - 1), m = d + o - 1 & ~(o - 1), v = p * m * Gf[i], y = 0; y < n; y++)\n        u[y] = {\n          levelID: y,\n          levelWidth: n > 1 ? f : p,\n          levelHeight: n > 1 ? d : m,\n          levelBuffer: new Uint8Array(e.buffer, c, v)\n        }, c += v, f = f >> 1 || 1, d = d >> 1 || 1, p = f + s - 1 & ~(s - 1), m = d + o - 1 & ~(o - 1), v = p * m * Gf[i];\n      return u;\n    }, t;\n  }(PO)\n), OO = (\n  /** @class */\n  function() {\n    function r() {\n    }\n    return r.use = function(t, e) {\n      var i = t.data, n = this;\n      if (t.type === _t.TYPE.JSON && i && i.cacheID && i.textures) {\n        for (var s = i.textures, o = void 0, a = void 0, l = 0, u = s.length; l < u; l++) {\n          var c = s[l], f = c.src, d = c.format;\n          if (d || (a = f), r.textureFormats[d]) {\n            o = f;\n            break;\n          }\n        }\n        if (o = o || a, !o) {\n          e(new Error(\"Cannot load compressed-textures in \" + t.url + \", make sure you provide a fallback\"));\n          return;\n        }\n        if (o === t.url) {\n          e(new Error(\"URL of compressed texture cannot be the same as the manifest's URL\"));\n          return;\n        }\n        var p = {\n          crossOrigin: t.crossOrigin,\n          metadata: t.metadata.imageMetadata,\n          parentResource: t\n        }, m = ca.resolve(t.url.replace(n.baseUrl, \"\"), o), v = i.cacheID;\n        n.add(v, m, p, function(y) {\n          if (y.error) {\n            e(y.error);\n            return;\n          }\n          var g = y.texture, w = g === void 0 ? null : g, T = y.textures, P = T === void 0 ? {} : T;\n          Object.assign(t, { texture: w, textures: P }), e();\n        });\n      } else\n        e();\n    }, Object.defineProperty(r, \"textureExtensions\", {\n      /**  Map of available texture extensions. */\n      get: function() {\n        if (!r._textureExtensions) {\n          var t = Q.ADAPTER.createCanvas(), e = t.getContext(\"webgl\");\n          if (!e)\n            return console.warn(\"WebGL not available for compressed textures. Silently failing.\"), {};\n          var i = {\n            s3tc: e.getExtension(\"WEBGL_compressed_texture_s3tc\"),\n            s3tc_sRGB: e.getExtension(\"WEBGL_compressed_texture_s3tc_srgb\"),\n            etc: e.getExtension(\"WEBGL_compressed_texture_etc\"),\n            etc1: e.getExtension(\"WEBGL_compressed_texture_etc1\"),\n            pvrtc: e.getExtension(\"WEBGL_compressed_texture_pvrtc\") || e.getExtension(\"WEBKIT_WEBGL_compressed_texture_pvrtc\"),\n            atc: e.getExtension(\"WEBGL_compressed_texture_atc\"),\n            astc: e.getExtension(\"WEBGL_compressed_texture_astc\")\n          };\n          r._textureExtensions = i;\n        }\n        return r._textureExtensions;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r, \"textureFormats\", {\n      /** Map of available texture formats. */\n      get: function() {\n        if (!r._textureFormats) {\n          var t = r.textureExtensions;\n          r._textureFormats = {};\n          for (var e in t) {\n            var i = t[e];\n            i && Object.assign(r._textureFormats, Object.getPrototypeOf(i));\n          }\n        }\n        return r._textureFormats;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), r.extension = Xt.Loader, r;\n  }()\n);\nfunction pb(r, t, e) {\n  var i = {\n    textures: {},\n    texture: null\n  };\n  if (!t)\n    return i;\n  var n = t.map(function(s) {\n    return new lt(new It(s, Object.assign({\n      mipmap: Er.OFF,\n      alphaMode: Tr.NO_PREMULTIPLIED_ALPHA\n    }, e)));\n  });\n  return n.forEach(function(s, o) {\n    var a = s.baseTexture, l = r + \"-\" + (o + 1);\n    It.addToCache(a, l), lt.addToCache(s, l), o === 0 && (It.addToCache(a, r), lt.addToCache(s, r), i.texture = s), i.textures[l] = s;\n  }), i;\n}\nvar Dh, Qi, Wv = 4, Gc = 124, IO = 32, wg = 20, CO = 542327876, jc = {\n  SIZE: 1,\n  FLAGS: 2,\n  HEIGHT: 3,\n  WIDTH: 4,\n  MIPMAP_COUNT: 7,\n  PIXEL_FORMAT: 19\n}, MO = {\n  SIZE: 0,\n  FLAGS: 1,\n  FOURCC: 2,\n  RGB_BITCOUNT: 3,\n  R_BIT_MASK: 4,\n  G_BIT_MASK: 5,\n  B_BIT_MASK: 6,\n  A_BIT_MASK: 7\n}, Hc = {\n  DXGI_FORMAT: 0,\n  RESOURCE_DIMENSION: 1,\n  MISC_FLAG: 2,\n  ARRAY_SIZE: 3,\n  MISC_FLAGS2: 4\n}, er;\n(function(r) {\n  r[r.DXGI_FORMAT_UNKNOWN = 0] = \"DXGI_FORMAT_UNKNOWN\", r[r.DXGI_FORMAT_R32G32B32A32_TYPELESS = 1] = \"DXGI_FORMAT_R32G32B32A32_TYPELESS\", r[r.DXGI_FORMAT_R32G32B32A32_FLOAT = 2] = \"DXGI_FORMAT_R32G32B32A32_FLOAT\", r[r.DXGI_FORMAT_R32G32B32A32_UINT = 3] = \"DXGI_FORMAT_R32G32B32A32_UINT\", r[r.DXGI_FORMAT_R32G32B32A32_SINT = 4] = \"DXGI_FORMAT_R32G32B32A32_SINT\", r[r.DXGI_FORMAT_R32G32B32_TYPELESS = 5] = \"DXGI_FORMAT_R32G32B32_TYPELESS\", r[r.DXGI_FORMAT_R32G32B32_FLOAT = 6] = \"DXGI_FORMAT_R32G32B32_FLOAT\", r[r.DXGI_FORMAT_R32G32B32_UINT = 7] = \"DXGI_FORMAT_R32G32B32_UINT\", r[r.DXGI_FORMAT_R32G32B32_SINT = 8] = \"DXGI_FORMAT_R32G32B32_SINT\", r[r.DXGI_FORMAT_R16G16B16A16_TYPELESS = 9] = \"DXGI_FORMAT_R16G16B16A16_TYPELESS\", r[r.DXGI_FORMAT_R16G16B16A16_FLOAT = 10] = \"DXGI_FORMAT_R16G16B16A16_FLOAT\", r[r.DXGI_FORMAT_R16G16B16A16_UNORM = 11] = \"DXGI_FORMAT_R16G16B16A16_UNORM\", r[r.DXGI_FORMAT_R16G16B16A16_UINT = 12] = \"DXGI_FORMAT_R16G16B16A16_UINT\", r[r.DXGI_FORMAT_R16G16B16A16_SNORM = 13] = \"DXGI_FORMAT_R16G16B16A16_SNORM\", r[r.DXGI_FORMAT_R16G16B16A16_SINT = 14] = \"DXGI_FORMAT_R16G16B16A16_SINT\", r[r.DXGI_FORMAT_R32G32_TYPELESS = 15] = \"DXGI_FORMAT_R32G32_TYPELESS\", r[r.DXGI_FORMAT_R32G32_FLOAT = 16] = \"DXGI_FORMAT_R32G32_FLOAT\", r[r.DXGI_FORMAT_R32G32_UINT = 17] = \"DXGI_FORMAT_R32G32_UINT\", r[r.DXGI_FORMAT_R32G32_SINT = 18] = \"DXGI_FORMAT_R32G32_SINT\", r[r.DXGI_FORMAT_R32G8X24_TYPELESS = 19] = \"DXGI_FORMAT_R32G8X24_TYPELESS\", r[r.DXGI_FORMAT_D32_FLOAT_S8X24_UINT = 20] = \"DXGI_FORMAT_D32_FLOAT_S8X24_UINT\", r[r.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS = 21] = \"DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS\", r[r.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT = 22] = \"DXGI_FORMAT_X32_TYPELESS_G8X24_UINT\", r[r.DXGI_FORMAT_R10G10B10A2_TYPELESS = 23] = \"DXGI_FORMAT_R10G10B10A2_TYPELESS\", r[r.DXGI_FORMAT_R10G10B10A2_UNORM = 24] = \"DXGI_FORMAT_R10G10B10A2_UNORM\", r[r.DXGI_FORMAT_R10G10B10A2_UINT = 25] = \"DXGI_FORMAT_R10G10B10A2_UINT\", r[r.DXGI_FORMAT_R11G11B10_FLOAT = 26] = \"DXGI_FORMAT_R11G11B10_FLOAT\", r[r.DXGI_FORMAT_R8G8B8A8_TYPELESS = 27] = \"DXGI_FORMAT_R8G8B8A8_TYPELESS\", r[r.DXGI_FORMAT_R8G8B8A8_UNORM = 28] = \"DXGI_FORMAT_R8G8B8A8_UNORM\", r[r.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB = 29] = \"DXGI_FORMAT_R8G8B8A8_UNORM_SRGB\", r[r.DXGI_FORMAT_R8G8B8A8_UINT = 30] = \"DXGI_FORMAT_R8G8B8A8_UINT\", r[r.DXGI_FORMAT_R8G8B8A8_SNORM = 31] = \"DXGI_FORMAT_R8G8B8A8_SNORM\", r[r.DXGI_FORMAT_R8G8B8A8_SINT = 32] = \"DXGI_FORMAT_R8G8B8A8_SINT\", r[r.DXGI_FORMAT_R16G16_TYPELESS = 33] = \"DXGI_FORMAT_R16G16_TYPELESS\", r[r.DXGI_FORMAT_R16G16_FLOAT = 34] = \"DXGI_FORMAT_R16G16_FLOAT\", r[r.DXGI_FORMAT_R16G16_UNORM = 35] = \"DXGI_FORMAT_R16G16_UNORM\", r[r.DXGI_FORMAT_R16G16_UINT = 36] = \"DXGI_FORMAT_R16G16_UINT\", r[r.DXGI_FORMAT_R16G16_SNORM = 37] = \"DXGI_FORMAT_R16G16_SNORM\", r[r.DXGI_FORMAT_R16G16_SINT = 38] = \"DXGI_FORMAT_R16G16_SINT\", r[r.DXGI_FORMAT_R32_TYPELESS = 39] = \"DXGI_FORMAT_R32_TYPELESS\", r[r.DXGI_FORMAT_D32_FLOAT = 40] = \"DXGI_FORMAT_D32_FLOAT\", r[r.DXGI_FORMAT_R32_FLOAT = 41] = \"DXGI_FORMAT_R32_FLOAT\", r[r.DXGI_FORMAT_R32_UINT = 42] = \"DXGI_FORMAT_R32_UINT\", r[r.DXGI_FORMAT_R32_SINT = 43] = \"DXGI_FORMAT_R32_SINT\", r[r.DXGI_FORMAT_R24G8_TYPELESS = 44] = \"DXGI_FORMAT_R24G8_TYPELESS\", r[r.DXGI_FORMAT_D24_UNORM_S8_UINT = 45] = \"DXGI_FORMAT_D24_UNORM_S8_UINT\", r[r.DXGI_FORMAT_R24_UNORM_X8_TYPELESS = 46] = \"DXGI_FORMAT_R24_UNORM_X8_TYPELESS\", r[r.DXGI_FORMAT_X24_TYPELESS_G8_UINT = 47] = \"DXGI_FORMAT_X24_TYPELESS_G8_UINT\", r[r.DXGI_FORMAT_R8G8_TYPELESS = 48] = \"DXGI_FORMAT_R8G8_TYPELESS\", r[r.DXGI_FORMAT_R8G8_UNORM = 49] = \"DXGI_FORMAT_R8G8_UNORM\", r[r.DXGI_FORMAT_R8G8_UINT = 50] = \"DXGI_FORMAT_R8G8_UINT\", r[r.DXGI_FORMAT_R8G8_SNORM = 51] = \"DXGI_FORMAT_R8G8_SNORM\", r[r.DXGI_FORMAT_R8G8_SINT = 52] = \"DXGI_FORMAT_R8G8_SINT\", r[r.DXGI_FORMAT_R16_TYPELESS = 53] = \"DXGI_FORMAT_R16_TYPELESS\", r[r.DXGI_FORMAT_R16_FLOAT = 54] = \"DXGI_FORMAT_R16_FLOAT\", r[r.DXGI_FORMAT_D16_UNORM = 55] = \"DXGI_FORMAT_D16_UNORM\", r[r.DXGI_FORMAT_R16_UNORM = 56] = \"DXGI_FORMAT_R16_UNORM\", r[r.DXGI_FORMAT_R16_UINT = 57] = \"DXGI_FORMAT_R16_UINT\", r[r.DXGI_FORMAT_R16_SNORM = 58] = \"DXGI_FORMAT_R16_SNORM\", r[r.DXGI_FORMAT_R16_SINT = 59] = \"DXGI_FORMAT_R16_SINT\", r[r.DXGI_FORMAT_R8_TYPELESS = 60] = \"DXGI_FORMAT_R8_TYPELESS\", r[r.DXGI_FORMAT_R8_UNORM = 61] = \"DXGI_FORMAT_R8_UNORM\", r[r.DXGI_FORMAT_R8_UINT = 62] = \"DXGI_FORMAT_R8_UINT\", r[r.DXGI_FORMAT_R8_SNORM = 63] = \"DXGI_FORMAT_R8_SNORM\", r[r.DXGI_FORMAT_R8_SINT = 64] = \"DXGI_FORMAT_R8_SINT\", r[r.DXGI_FORMAT_A8_UNORM = 65] = \"DXGI_FORMAT_A8_UNORM\", r[r.DXGI_FORMAT_R1_UNORM = 66] = \"DXGI_FORMAT_R1_UNORM\", r[r.DXGI_FORMAT_R9G9B9E5_SHAREDEXP = 67] = \"DXGI_FORMAT_R9G9B9E5_SHAREDEXP\", r[r.DXGI_FORMAT_R8G8_B8G8_UNORM = 68] = \"DXGI_FORMAT_R8G8_B8G8_UNORM\", r[r.DXGI_FORMAT_G8R8_G8B8_UNORM = 69] = \"DXGI_FORMAT_G8R8_G8B8_UNORM\", r[r.DXGI_FORMAT_BC1_TYPELESS = 70] = \"DXGI_FORMAT_BC1_TYPELESS\", r[r.DXGI_FORMAT_BC1_UNORM = 71] = \"DXGI_FORMAT_BC1_UNORM\", r[r.DXGI_FORMAT_BC1_UNORM_SRGB = 72] = \"DXGI_FORMAT_BC1_UNORM_SRGB\", r[r.DXGI_FORMAT_BC2_TYPELESS = 73] = \"DXGI_FORMAT_BC2_TYPELESS\", r[r.DXGI_FORMAT_BC2_UNORM = 74] = \"DXGI_FORMAT_BC2_UNORM\", r[r.DXGI_FORMAT_BC2_UNORM_SRGB = 75] = \"DXGI_FORMAT_BC2_UNORM_SRGB\", r[r.DXGI_FORMAT_BC3_TYPELESS = 76] = \"DXGI_FORMAT_BC3_TYPELESS\", r[r.DXGI_FORMAT_BC3_UNORM = 77] = \"DXGI_FORMAT_BC3_UNORM\", r[r.DXGI_FORMAT_BC3_UNORM_SRGB = 78] = \"DXGI_FORMAT_BC3_UNORM_SRGB\", r[r.DXGI_FORMAT_BC4_TYPELESS = 79] = \"DXGI_FORMAT_BC4_TYPELESS\", r[r.DXGI_FORMAT_BC4_UNORM = 80] = \"DXGI_FORMAT_BC4_UNORM\", r[r.DXGI_FORMAT_BC4_SNORM = 81] = \"DXGI_FORMAT_BC4_SNORM\", r[r.DXGI_FORMAT_BC5_TYPELESS = 82] = \"DXGI_FORMAT_BC5_TYPELESS\", r[r.DXGI_FORMAT_BC5_UNORM = 83] = \"DXGI_FORMAT_BC5_UNORM\", r[r.DXGI_FORMAT_BC5_SNORM = 84] = \"DXGI_FORMAT_BC5_SNORM\", r[r.DXGI_FORMAT_B5G6R5_UNORM = 85] = \"DXGI_FORMAT_B5G6R5_UNORM\", r[r.DXGI_FORMAT_B5G5R5A1_UNORM = 86] = \"DXGI_FORMAT_B5G5R5A1_UNORM\", r[r.DXGI_FORMAT_B8G8R8A8_UNORM = 87] = \"DXGI_FORMAT_B8G8R8A8_UNORM\", r[r.DXGI_FORMAT_B8G8R8X8_UNORM = 88] = \"DXGI_FORMAT_B8G8R8X8_UNORM\", r[r.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM = 89] = \"DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM\", r[r.DXGI_FORMAT_B8G8R8A8_TYPELESS = 90] = \"DXGI_FORMAT_B8G8R8A8_TYPELESS\", r[r.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB = 91] = \"DXGI_FORMAT_B8G8R8A8_UNORM_SRGB\", r[r.DXGI_FORMAT_B8G8R8X8_TYPELESS = 92] = \"DXGI_FORMAT_B8G8R8X8_TYPELESS\", r[r.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB = 93] = \"DXGI_FORMAT_B8G8R8X8_UNORM_SRGB\", r[r.DXGI_FORMAT_BC6H_TYPELESS = 94] = \"DXGI_FORMAT_BC6H_TYPELESS\", r[r.DXGI_FORMAT_BC6H_UF16 = 95] = \"DXGI_FORMAT_BC6H_UF16\", r[r.DXGI_FORMAT_BC6H_SF16 = 96] = \"DXGI_FORMAT_BC6H_SF16\", r[r.DXGI_FORMAT_BC7_TYPELESS = 97] = \"DXGI_FORMAT_BC7_TYPELESS\", r[r.DXGI_FORMAT_BC7_UNORM = 98] = \"DXGI_FORMAT_BC7_UNORM\", r[r.DXGI_FORMAT_BC7_UNORM_SRGB = 99] = \"DXGI_FORMAT_BC7_UNORM_SRGB\", r[r.DXGI_FORMAT_AYUV = 100] = \"DXGI_FORMAT_AYUV\", r[r.DXGI_FORMAT_Y410 = 101] = \"DXGI_FORMAT_Y410\", r[r.DXGI_FORMAT_Y416 = 102] = \"DXGI_FORMAT_Y416\", r[r.DXGI_FORMAT_NV12 = 103] = \"DXGI_FORMAT_NV12\", r[r.DXGI_FORMAT_P010 = 104] = \"DXGI_FORMAT_P010\", r[r.DXGI_FORMAT_P016 = 105] = \"DXGI_FORMAT_P016\", r[r.DXGI_FORMAT_420_OPAQUE = 106] = \"DXGI_FORMAT_420_OPAQUE\", r[r.DXGI_FORMAT_YUY2 = 107] = \"DXGI_FORMAT_YUY2\", r[r.DXGI_FORMAT_Y210 = 108] = \"DXGI_FORMAT_Y210\", r[r.DXGI_FORMAT_Y216 = 109] = \"DXGI_FORMAT_Y216\", r[r.DXGI_FORMAT_NV11 = 110] = \"DXGI_FORMAT_NV11\", r[r.DXGI_FORMAT_AI44 = 111] = \"DXGI_FORMAT_AI44\", r[r.DXGI_FORMAT_IA44 = 112] = \"DXGI_FORMAT_IA44\", r[r.DXGI_FORMAT_P8 = 113] = \"DXGI_FORMAT_P8\", r[r.DXGI_FORMAT_A8P8 = 114] = \"DXGI_FORMAT_A8P8\", r[r.DXGI_FORMAT_B4G4R4A4_UNORM = 115] = \"DXGI_FORMAT_B4G4R4A4_UNORM\", r[r.DXGI_FORMAT_P208 = 116] = \"DXGI_FORMAT_P208\", r[r.DXGI_FORMAT_V208 = 117] = \"DXGI_FORMAT_V208\", r[r.DXGI_FORMAT_V408 = 118] = \"DXGI_FORMAT_V408\", r[r.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE = 119] = \"DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE\", r[r.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE = 120] = \"DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE\", r[r.DXGI_FORMAT_FORCE_UINT = 121] = \"DXGI_FORMAT_FORCE_UINT\";\n})(er || (er = {}));\nvar gm;\n(function(r) {\n  r[r.DDS_DIMENSION_TEXTURE1D = 2] = \"DDS_DIMENSION_TEXTURE1D\", r[r.DDS_DIMENSION_TEXTURE2D = 3] = \"DDS_DIMENSION_TEXTURE2D\", r[r.DDS_DIMENSION_TEXTURE3D = 6] = \"DDS_DIMENSION_TEXTURE3D\";\n})(gm || (gm = {}));\nvar RO = 1, kO = 2, NO = 4, LO = 64, AO = 512, DO = 131072, BO = 827611204, FO = 861165636, UO = 894720068, GO = 808540228, jO = 4, HO = (Dh = {}, Dh[BO] = bt.COMPRESSED_RGBA_S3TC_DXT1_EXT, Dh[FO] = bt.COMPRESSED_RGBA_S3TC_DXT3_EXT, Dh[UO] = bt.COMPRESSED_RGBA_S3TC_DXT5_EXT, Dh), $O = (Qi = {}, // WEBGL_compressed_texture_s3tc\nQi[er.DXGI_FORMAT_BC1_TYPELESS] = bt.COMPRESSED_RGBA_S3TC_DXT1_EXT, Qi[er.DXGI_FORMAT_BC1_UNORM] = bt.COMPRESSED_RGBA_S3TC_DXT1_EXT, Qi[er.DXGI_FORMAT_BC2_TYPELESS] = bt.COMPRESSED_RGBA_S3TC_DXT3_EXT, Qi[er.DXGI_FORMAT_BC2_UNORM] = bt.COMPRESSED_RGBA_S3TC_DXT3_EXT, Qi[er.DXGI_FORMAT_BC3_TYPELESS] = bt.COMPRESSED_RGBA_S3TC_DXT5_EXT, Qi[er.DXGI_FORMAT_BC3_UNORM] = bt.COMPRESSED_RGBA_S3TC_DXT5_EXT, // WEBGL_compressed_texture_s3tc_srgb\nQi[er.DXGI_FORMAT_BC1_UNORM_SRGB] = bt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT, Qi[er.DXGI_FORMAT_BC2_UNORM_SRGB] = bt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT, Qi[er.DXGI_FORMAT_BC3_UNORM_SRGB] = bt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT, Qi);\nfunction zO(r) {\n  var t = new Uint32Array(r), e = t[0];\n  if (e !== CO)\n    throw new Error(\"Invalid DDS file magic word\");\n  var i = new Uint32Array(r, 0, Gc / Uint32Array.BYTES_PER_ELEMENT), n = i[jc.HEIGHT], s = i[jc.WIDTH], o = i[jc.MIPMAP_COUNT], a = new Uint32Array(r, jc.PIXEL_FORMAT * Uint32Array.BYTES_PER_ELEMENT, IO / Uint32Array.BYTES_PER_ELEMENT), l = a[RO];\n  if (l & NO) {\n    var u = a[MO.FOURCC];\n    if (u !== GO) {\n      var c = HO[u], f = Wv + Gc, d = new Uint8Array(r, f), p = new _m(d, {\n        format: c,\n        width: s,\n        height: n,\n        levels: o\n        // CompressedTextureResource will separate the levelBuffers for us!\n      });\n      return [p];\n    }\n    var m = Wv + Gc, v = new Uint32Array(t.buffer, m, wg / Uint32Array.BYTES_PER_ELEMENT), y = v[Hc.DXGI_FORMAT], g = v[Hc.RESOURCE_DIMENSION], w = v[Hc.MISC_FLAG], T = v[Hc.ARRAY_SIZE], P = $O[y];\n    if (P === void 0)\n      throw new Error(\"DDSParser cannot parse texture data with DXGI format \" + y);\n    if (w === jO)\n      throw new Error(\"DDSParser does not support cubemap textures\");\n    if (g === gm.DDS_DIMENSION_TEXTURE3D)\n      throw new Error(\"DDSParser does not supported 3D texture data\");\n    var O = new Array(), C = Wv + Gc + wg;\n    if (T === 1)\n      O.push(new Uint8Array(r, C));\n    else {\n      for (var I = Gf[P], S = 0, M = s, N = n, D = 0; D < o; D++) {\n        var z = Math.max(1, M + 3 & -4), q = Math.max(1, N + 3 & -4), it = z * q * I;\n        S += it, M = M >>> 1, N = N >>> 1;\n      }\n      for (var V = C, D = 0; D < T; D++)\n        O.push(new Uint8Array(r, V, S)), V += S;\n    }\n    return O.map(function(H) {\n      return new _m(H, {\n        format: P,\n        width: s,\n        height: n,\n        levels: o\n      });\n    });\n  }\n  throw l & LO ? new Error(\"DDSParser does not support uncompressed texture data.\") : l & AO ? new Error(\"DDSParser does not supported YUV uncompressed texture data.\") : l & DO ? new Error(\"DDSParser does not support single-channel (lumninance) texture data!\") : l & kO ? new Error(\"DDSParser does not support single-channel (alpha) texture data!\") : new Error(\"DDSParser failed to load a texture file due to an unknown reason!\");\n}\nvar Gn, hn, Bh, Eg = [171, 75, 84, 88, 32, 49, 49, 187, 13, 10, 26, 10], VO = 67305985, tr = {\n  FILE_IDENTIFIER: 0,\n  ENDIANNESS: 12,\n  GL_TYPE: 16,\n  GL_TYPE_SIZE: 20,\n  GL_FORMAT: 24,\n  GL_INTERNAL_FORMAT: 28,\n  GL_BASE_INTERNAL_FORMAT: 32,\n  PIXEL_WIDTH: 36,\n  PIXEL_HEIGHT: 40,\n  PIXEL_DEPTH: 44,\n  NUMBER_OF_ARRAY_ELEMENTS: 48,\n  NUMBER_OF_FACES: 52,\n  NUMBER_OF_MIPMAP_LEVELS: 56,\n  BYTES_OF_KEY_VALUE_DATA: 60\n}, bm = 64, Tg = (Gn = {}, Gn[ut.UNSIGNED_BYTE] = 1, Gn[ut.UNSIGNED_SHORT] = 2, Gn[ut.INT] = 4, Gn[ut.UNSIGNED_INT] = 4, Gn[ut.FLOAT] = 4, Gn[ut.HALF_FLOAT] = 8, Gn), XO = (hn = {}, hn[W.RGBA] = 4, hn[W.RGB] = 3, hn[W.RG] = 2, hn[W.RED] = 1, hn[W.LUMINANCE] = 1, hn[W.LUMINANCE_ALPHA] = 2, hn[W.ALPHA] = 1, hn), WO = (Bh = {}, Bh[ut.UNSIGNED_SHORT_4_4_4_4] = 2, Bh[ut.UNSIGNED_SHORT_5_5_5_1] = 2, Bh[ut.UNSIGNED_SHORT_5_6_5] = 2, Bh);\nfunction YO(r, t, e) {\n  e === void 0 && (e = !1);\n  var i = new DataView(t);\n  if (!qO(r, i))\n    return null;\n  var n = i.getUint32(tr.ENDIANNESS, !0) === VO, s = i.getUint32(tr.GL_TYPE, n), o = i.getUint32(tr.GL_FORMAT, n), a = i.getUint32(tr.GL_INTERNAL_FORMAT, n), l = i.getUint32(tr.PIXEL_WIDTH, n), u = i.getUint32(tr.PIXEL_HEIGHT, n) || 1, c = i.getUint32(tr.PIXEL_DEPTH, n) || 1, f = i.getUint32(tr.NUMBER_OF_ARRAY_ELEMENTS, n) || 1, d = i.getUint32(tr.NUMBER_OF_FACES, n), p = i.getUint32(tr.NUMBER_OF_MIPMAP_LEVELS, n), m = i.getUint32(tr.BYTES_OF_KEY_VALUE_DATA, n);\n  if (u === 0 || c !== 1)\n    throw new Error(\"Only 2D textures are supported\");\n  if (d !== 1)\n    throw new Error(\"CubeTextures are not supported by KTXLoader yet!\");\n  if (f !== 1)\n    throw new Error(\"WebGL does not support array textures\");\n  var v = 4, y = 4, g = l + 3 & -4, w = u + 3 & -4, T = new Array(f), P = l * u;\n  s === 0 && (P = g * w);\n  var O;\n  if (s !== 0 ? Tg[s] ? O = Tg[s] * XO[o] : O = WO[s] : O = Gf[a], O === void 0)\n    throw new Error(\"Unable to resolve the pixel format stored in the *.ktx file!\");\n  for (var C = e ? KO(i, m, n) : null, I = P * O, S = I, M = l, N = u, D = g, z = w, q = bm + m, it = 0; it < p; it++) {\n    for (var V = i.getUint32(q, n), H = q + 4, J = 0; J < f; J++) {\n      var vt = T[J];\n      vt || (vt = T[J] = new Array(p)), vt[it] = {\n        levelID: it,\n        // don't align mipWidth when texture not compressed! (glType not zero)\n        levelWidth: p > 1 || s !== 0 ? M : D,\n        levelHeight: p > 1 || s !== 0 ? N : z,\n        levelBuffer: new Uint8Array(t, H, S)\n      }, H += S;\n    }\n    q += V + 4, q = q % 4 !== 0 ? q + 4 - q % 4 : q, M = M >> 1 || 1, N = N >> 1 || 1, D = M + v - 1 & ~(v - 1), z = N + y - 1 & ~(y - 1), S = D * z * O;\n  }\n  return s !== 0 ? {\n    uncompressed: T.map(function(tt) {\n      var wt = tt[0].levelBuffer, rt = !1;\n      return s === ut.FLOAT ? wt = new Float32Array(tt[0].levelBuffer.buffer, tt[0].levelBuffer.byteOffset, tt[0].levelBuffer.byteLength / 4) : s === ut.UNSIGNED_INT ? (rt = !0, wt = new Uint32Array(tt[0].levelBuffer.buffer, tt[0].levelBuffer.byteOffset, tt[0].levelBuffer.byteLength / 4)) : s === ut.INT && (rt = !0, wt = new Int32Array(tt[0].levelBuffer.buffer, tt[0].levelBuffer.byteOffset, tt[0].levelBuffer.byteLength / 4)), {\n        resource: new Zo(wt, {\n          width: tt[0].levelWidth,\n          height: tt[0].levelHeight\n        }),\n        type: s,\n        format: rt ? ZO(o) : o\n      };\n    }),\n    kvData: C\n  } : {\n    compressed: T.map(function(tt) {\n      return new _m(null, {\n        format: a,\n        width: l,\n        height: u,\n        levels: p,\n        levelBuffers: tt\n      });\n    }),\n    kvData: C\n  };\n}\nfunction qO(r, t) {\n  for (var e = 0; e < Eg.length; e++)\n    if (t.getUint8(e) !== Eg[e])\n      return console.error(r + \" is not a valid *.ktx file!\"), !1;\n  return !0;\n}\nfunction ZO(r) {\n  switch (r) {\n    case W.RGBA:\n      return W.RGBA_INTEGER;\n    case W.RGB:\n      return W.RGB_INTEGER;\n    case W.RG:\n      return W.RG_INTEGER;\n    case W.RED:\n      return W.RED_INTEGER;\n    default:\n      return r;\n  }\n}\nfunction KO(r, t, e) {\n  for (var i = /* @__PURE__ */ new Map(), n = 0; n < t; ) {\n    var s = r.getUint32(bm + n, e), o = bm + n + 4, a = 3 - (s + 3) % 4;\n    if (s === 0 || s > t - n) {\n      console.error(\"KTXLoader: keyAndValueByteSize out of bounds\");\n      break;\n    }\n    for (var l = 0; l < s && r.getUint8(o + l) !== 0; l++)\n      ;\n    if (l === -1) {\n      console.error(\"KTXLoader: Failed to find null byte terminating kvData key\");\n      break;\n    }\n    var u = new TextDecoder().decode(new Uint8Array(r.buffer, o, l)), c = new DataView(r.buffer, o + l + 1, s - l - 1);\n    i.set(u, c), n += 4 + s + a;\n  }\n  return i;\n}\n_t.setExtensionXhrType(\"dds\", _t.XHR_RESPONSE_TYPE.BUFFER);\nvar JO = (\n  /** @class */\n  function() {\n    function r() {\n    }\n    return r.use = function(t, e) {\n      if (t.extension === \"dds\" && t.data)\n        try {\n          Object.assign(t, pb(t.name || t.url, zO(t.data), t.metadata));\n        } catch (i) {\n          e(i);\n          return;\n        }\n      e();\n    }, r.extension = Xt.Loader, r;\n  }()\n);\n_t.setExtensionXhrType(\"ktx\", _t.XHR_RESPONSE_TYPE.BUFFER);\nvar QO = (\n  /** @class */\n  function() {\n    function r() {\n    }\n    return r.use = function(t, e) {\n      if (t.extension === \"ktx\" && t.data)\n        try {\n          var i = t.name || t.url, n = YO(i, t.data, this.loadKeyValueData), s = n.compressed, o = n.uncompressed, a = n.kvData;\n          if (s) {\n            var l = pb(i, s, t.metadata);\n            if (a && l.textures)\n              for (var u in l.textures)\n                l.textures[u].baseTexture.ktxKeyValueData = a;\n            Object.assign(t, l);\n          } else if (o) {\n            var c = {};\n            o.forEach(function(f, d) {\n              var p = new lt(new It(f.resource, {\n                mipmap: Er.OFF,\n                alphaMode: Tr.NO_PREMULTIPLIED_ALPHA,\n                type: f.type,\n                format: f.format\n              })), m = i + \"-\" + (d + 1);\n              a && (p.baseTexture.ktxKeyValueData = a), It.addToCache(p.baseTexture, m), lt.addToCache(p, m), d === 0 && (c[i] = p, It.addToCache(p.baseTexture, i), lt.addToCache(p, i)), c[m] = p;\n            }), Object.assign(t, { textures: c });\n          }\n        } catch (f) {\n          e(f);\n          return;\n        }\n      e();\n    }, r.extension = Xt.Loader, r.loadKeyValueData = !1, r;\n  }()\n);\n/*!\n * @pixi/particle-container - v6.5.9\n * Compiled Wed, 25 Jan 2023 05:01:45 UTC\n *\n * @pixi/particle-container is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\nvar xm = function(r, t) {\n  return xm = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(e, i) {\n    e.__proto__ = i;\n  } || function(e, i) {\n    for (var n in i)\n      i.hasOwnProperty(n) && (e[n] = i[n]);\n  }, xm(r, t);\n};\nfunction vb(r, t) {\n  xm(r, t);\n  function e() {\n    this.constructor = r;\n  }\n  r.prototype = t === null ? Object.create(t) : (e.prototype = t.prototype, new e());\n}\n(function(r) {\n  vb(t, r);\n  function t(e, i, n, s) {\n    e === void 0 && (e = 1500), n === void 0 && (n = 16384), s === void 0 && (s = !1);\n    var o = r.call(this) || this, a = 16384;\n    return n > a && (n = a), o._properties = [!1, !0, !1, !1, !1], o._maxSize = e, o._batchSize = n, o._buffers = null, o._bufferUpdateIDs = [], o._updateID = 0, o.interactiveChildren = !1, o.blendMode = ot.NORMAL, o.autoResize = s, o.roundPixels = !0, o.baseTexture = null, o.setProperties(i), o._tint = 0, o.tintRgb = new Float32Array(4), o.tint = 16777215, o;\n  }\n  return t.prototype.setProperties = function(e) {\n    e && (this._properties[0] = \"vertices\" in e || \"scale\" in e ? !!e.vertices || !!e.scale : this._properties[0], this._properties[1] = \"position\" in e ? !!e.position : this._properties[1], this._properties[2] = \"rotation\" in e ? !!e.rotation : this._properties[2], this._properties[3] = \"uvs\" in e ? !!e.uvs : this._properties[3], this._properties[4] = \"tint\" in e || \"alpha\" in e ? !!e.tint || !!e.alpha : this._properties[4]);\n  }, t.prototype.updateTransform = function() {\n    this.displayObjectUpdateTransform();\n  }, Object.defineProperty(t.prototype, \"tint\", {\n    /**\n     * The tint applied to the container. This is a hex value.\n     * A value of 0xFFFFFF will remove any tint effect.\n     * IMPORTANT: This is a WebGL only feature and will be ignored by the canvas renderer.\n     * @default 0xFFFFFF\n     */\n    get: function() {\n      return this._tint;\n    },\n    set: function(e) {\n      this._tint = e, wh(e, this.tintRgb);\n    },\n    enumerable: !1,\n    configurable: !0\n  }), t.prototype.render = function(e) {\n    var i = this;\n    !this.visible || this.worldAlpha <= 0 || !this.children.length || !this.renderable || (this.baseTexture || (this.baseTexture = this.children[0]._texture.baseTexture, this.baseTexture.valid || this.baseTexture.once(\"update\", function() {\n      return i.onChildrenChange(0);\n    })), e.batch.setObjectRenderer(e.plugins.particle), e.plugins.particle.render(this));\n  }, t.prototype.onChildrenChange = function(e) {\n    for (var i = Math.floor(e / this._batchSize); this._bufferUpdateIDs.length < i; )\n      this._bufferUpdateIDs.push(0);\n    this._bufferUpdateIDs[i] = ++this._updateID;\n  }, t.prototype.dispose = function() {\n    if (this._buffers) {\n      for (var e = 0; e < this._buffers.length; ++e)\n        this._buffers[e].destroy();\n      this._buffers = null;\n    }\n  }, t.prototype.destroy = function(e) {\n    r.prototype.destroy.call(this, e), this.dispose(), this._properties = null, this._buffers = null, this._bufferUpdateIDs = null;\n  }, t;\n})(Jt);\nvar Sg = (\n  /** @class */\n  function() {\n    function r(t, e, i) {\n      this.geometry = new Ch(), this.indexBuffer = null, this.size = i, this.dynamicProperties = [], this.staticProperties = [];\n      for (var n = 0; n < t.length; ++n) {\n        var s = t[n];\n        s = {\n          attributeName: s.attributeName,\n          size: s.size,\n          uploadFunction: s.uploadFunction,\n          type: s.type || ut.FLOAT,\n          offset: s.offset\n        }, e[n] ? this.dynamicProperties.push(s) : this.staticProperties.push(s);\n      }\n      this.staticStride = 0, this.staticBuffer = null, this.staticData = null, this.staticDataUint32 = null, this.dynamicStride = 0, this.dynamicBuffer = null, this.dynamicData = null, this.dynamicDataUint32 = null, this._updateID = 0, this.initBuffers();\n    }\n    return r.prototype.initBuffers = function() {\n      var t = this.geometry, e = 0;\n      this.indexBuffer = new Me(HS(this.size), !0, !0), t.addIndex(this.indexBuffer), this.dynamicStride = 0;\n      for (var i = 0; i < this.dynamicProperties.length; ++i) {\n        var n = this.dynamicProperties[i];\n        n.offset = e, e += n.size, this.dynamicStride += n.size;\n      }\n      var s = new ArrayBuffer(this.size * this.dynamicStride * 4 * 4);\n      this.dynamicData = new Float32Array(s), this.dynamicDataUint32 = new Uint32Array(s), this.dynamicBuffer = new Me(this.dynamicData, !1, !1);\n      var o = 0;\n      this.staticStride = 0;\n      for (var i = 0; i < this.staticProperties.length; ++i) {\n        var n = this.staticProperties[i];\n        n.offset = o, o += n.size, this.staticStride += n.size;\n      }\n      var a = new ArrayBuffer(this.size * this.staticStride * 4 * 4);\n      this.staticData = new Float32Array(a), this.staticDataUint32 = new Uint32Array(a), this.staticBuffer = new Me(this.staticData, !0, !1);\n      for (var i = 0; i < this.dynamicProperties.length; ++i) {\n        var n = this.dynamicProperties[i];\n        t.addAttribute(n.attributeName, this.dynamicBuffer, 0, n.type === ut.UNSIGNED_BYTE, n.type, this.dynamicStride * 4, n.offset * 4);\n      }\n      for (var i = 0; i < this.staticProperties.length; ++i) {\n        var n = this.staticProperties[i];\n        t.addAttribute(n.attributeName, this.staticBuffer, 0, n.type === ut.UNSIGNED_BYTE, n.type, this.staticStride * 4, n.offset * 4);\n      }\n    }, r.prototype.uploadDynamic = function(t, e, i) {\n      for (var n = 0; n < this.dynamicProperties.length; n++) {\n        var s = this.dynamicProperties[n];\n        s.uploadFunction(t, e, i, s.type === ut.UNSIGNED_BYTE ? this.dynamicDataUint32 : this.dynamicData, this.dynamicStride, s.offset);\n      }\n      this.dynamicBuffer._updateID++;\n    }, r.prototype.uploadStatic = function(t, e, i) {\n      for (var n = 0; n < this.staticProperties.length; n++) {\n        var s = this.staticProperties[n];\n        s.uploadFunction(t, e, i, s.type === ut.UNSIGNED_BYTE ? this.staticDataUint32 : this.staticData, this.staticStride, s.offset);\n      }\n      this.staticBuffer._updateID++;\n    }, r.prototype.destroy = function() {\n      this.indexBuffer = null, this.dynamicProperties = null, this.dynamicBuffer = null, this.dynamicData = null, this.dynamicDataUint32 = null, this.staticProperties = null, this.staticBuffer = null, this.staticData = null, this.staticDataUint32 = null, this.geometry.destroy();\n    }, r;\n  }()\n), tI = `varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}`, eI = `attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n`, iI = (\n  /** @class */\n  function(r) {\n    vb(t, r);\n    function t(e) {\n      var i = r.call(this, e) || this;\n      return i.shader = null, i.properties = null, i.tempMatrix = new Be(), i.properties = [\n        // verticesData\n        {\n          attributeName: \"aVertexPosition\",\n          size: 2,\n          uploadFunction: i.uploadVertices,\n          offset: 0\n        },\n        // positionData\n        {\n          attributeName: \"aPositionCoord\",\n          size: 2,\n          uploadFunction: i.uploadPosition,\n          offset: 0\n        },\n        // rotationData\n        {\n          attributeName: \"aRotation\",\n          size: 1,\n          uploadFunction: i.uploadRotation,\n          offset: 0\n        },\n        // uvsData\n        {\n          attributeName: \"aTextureCoord\",\n          size: 2,\n          uploadFunction: i.uploadUvs,\n          offset: 0\n        },\n        // tintData\n        {\n          attributeName: \"aColor\",\n          size: 1,\n          type: ut.UNSIGNED_BYTE,\n          uploadFunction: i.uploadTint,\n          offset: 0\n        }\n      ], i.shader = Dn.from(eI, tI, {}), i.state = ys.for2d(), i;\n    }\n    return t.prototype.render = function(e) {\n      var i = e.children, n = e._maxSize, s = e._batchSize, o = this.renderer, a = i.length;\n      if (a !== 0) {\n        a > n && !e.autoResize && (a = n);\n        var l = e._buffers;\n        l || (l = e._buffers = this.generateBuffers(e));\n        var u = i[0]._texture.baseTexture, c = u.alphaMode > 0;\n        this.state.blendMode = R0(e.blendMode, c), o.state.set(this.state);\n        var f = o.gl, d = e.worldTransform.copyTo(this.tempMatrix);\n        d.prepend(o.globalUniforms.uniforms.projectionMatrix), this.shader.uniforms.translationMatrix = d.toArray(!0), this.shader.uniforms.uColor = jS(e.tintRgb, e.worldAlpha, this.shader.uniforms.uColor, c), this.shader.uniforms.uSampler = u, this.renderer.shader.bind(this.shader);\n        for (var p = !1, m = 0, v = 0; m < a; m += s, v += 1) {\n          var y = a - m;\n          y > s && (y = s), v >= l.length && l.push(this._generateOneMoreBuffer(e));\n          var g = l[v];\n          g.uploadDynamic(i, m, y);\n          var w = e._bufferUpdateIDs[v] || 0;\n          p = p || g._updateID < w, p && (g._updateID = e._updateID, g.uploadStatic(i, m, y)), o.geometry.bind(g.geometry), f.drawElements(f.TRIANGLES, y * 6, f.UNSIGNED_SHORT, 0);\n        }\n      }\n    }, t.prototype.generateBuffers = function(e) {\n      for (var i = [], n = e._maxSize, s = e._batchSize, o = e._properties, a = 0; a < n; a += s)\n        i.push(new Sg(this.properties, o, s));\n      return i;\n    }, t.prototype._generateOneMoreBuffer = function(e) {\n      var i = e._batchSize, n = e._properties;\n      return new Sg(this.properties, n, i);\n    }, t.prototype.uploadVertices = function(e, i, n, s, o, a) {\n      for (var l = 0, u = 0, c = 0, f = 0, d = 0; d < n; ++d) {\n        var p = e[i + d], m = p._texture, v = p.scale.x, y = p.scale.y, g = m.trim, w = m.orig;\n        g ? (u = g.x - p.anchor.x * w.width, l = u + g.width, f = g.y - p.anchor.y * w.height, c = f + g.height) : (l = w.width * (1 - p.anchor.x), u = w.width * -p.anchor.x, c = w.height * (1 - p.anchor.y), f = w.height * -p.anchor.y), s[a] = u * v, s[a + 1] = f * y, s[a + o] = l * v, s[a + o + 1] = f * y, s[a + o * 2] = l * v, s[a + o * 2 + 1] = c * y, s[a + o * 3] = u * v, s[a + o * 3 + 1] = c * y, a += o * 4;\n      }\n    }, t.prototype.uploadPosition = function(e, i, n, s, o, a) {\n      for (var l = 0; l < n; l++) {\n        var u = e[i + l].position;\n        s[a] = u.x, s[a + 1] = u.y, s[a + o] = u.x, s[a + o + 1] = u.y, s[a + o * 2] = u.x, s[a + o * 2 + 1] = u.y, s[a + o * 3] = u.x, s[a + o * 3 + 1] = u.y, a += o * 4;\n      }\n    }, t.prototype.uploadRotation = function(e, i, n, s, o, a) {\n      for (var l = 0; l < n; l++) {\n        var u = e[i + l].rotation;\n        s[a] = u, s[a + o] = u, s[a + o * 2] = u, s[a + o * 3] = u, a += o * 4;\n      }\n    }, t.prototype.uploadUvs = function(e, i, n, s, o, a) {\n      for (var l = 0; l < n; ++l) {\n        var u = e[i + l]._texture._uvs;\n        u ? (s[a] = u.x0, s[a + 1] = u.y0, s[a + o] = u.x1, s[a + o + 1] = u.y1, s[a + o * 2] = u.x2, s[a + o * 2 + 1] = u.y2, s[a + o * 3] = u.x3, s[a + o * 3 + 1] = u.y3, a += o * 4) : (s[a] = 0, s[a + 1] = 0, s[a + o] = 0, s[a + o + 1] = 0, s[a + o * 2] = 0, s[a + o * 2 + 1] = 0, s[a + o * 3] = 0, s[a + o * 3 + 1] = 0, a += o * 4);\n      }\n    }, t.prototype.uploadTint = function(e, i, n, s, o, a) {\n      for (var l = 0; l < n; ++l) {\n        var u = e[i + l], c = u._texture.baseTexture.alphaMode > 0, f = u.alpha, d = f < 1 && c ? Fy(u._tintRGB, f) : u._tintRGB + (f * 255 << 24);\n        s[a] = d, s[a + o] = d, s[a + o * 2] = d, s[a + o * 3] = d, a += o * 4;\n      }\n    }, t.prototype.destroy = function() {\n      r.prototype.destroy.call(this), this.shader && (this.shader.destroy(), this.shader = null), this.tempMatrix = null;\n    }, t.extension = {\n      name: \"particle\",\n      type: Xt.RendererPlugin\n    }, t;\n  }(bc)\n);\n/*!\n * @pixi/graphics - v6.5.9\n * Compiled Wed, 25 Jan 2023 05:01:45 UTC\n *\n * @pixi/graphics is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */\nvar An;\n(function(r) {\n  r.MITER = \"miter\", r.BEVEL = \"bevel\", r.ROUND = \"round\";\n})(An || (An = {}));\nvar ps;\n(function(r) {\n  r.BUTT = \"butt\", r.ROUND = \"round\", r.SQUARE = \"square\";\n})(ps || (ps = {}));\nvar yl = {\n  adaptive: !0,\n  maxLength: 10,\n  minSegments: 8,\n  maxSegments: 2048,\n  epsilon: 1e-4,\n  _segmentsCount: function(r, t) {\n    if (t === void 0 && (t = 20), !this.adaptive || !r || isNaN(r))\n      return t;\n    var e = Math.ceil(r / this.maxLength);\n    return e < this.minSegments ? e = this.minSegments : e > this.maxSegments && (e = this.maxSegments), e;\n  }\n}, mb = (\n  /** @class */\n  function() {\n    function r() {\n      this.color = 16777215, this.alpha = 1, this.texture = lt.WHITE, this.matrix = null, this.visible = !1, this.reset();\n    }\n    return r.prototype.clone = function() {\n      var t = new r();\n      return t.color = this.color, t.alpha = this.alpha, t.texture = this.texture, t.matrix = this.matrix, t.visible = this.visible, t;\n    }, r.prototype.reset = function() {\n      this.color = 16777215, this.alpha = 1, this.texture = lt.WHITE, this.matrix = null, this.visible = !1;\n    }, r.prototype.destroy = function() {\n      this.texture = null, this.matrix = null;\n    }, r;\n  }()\n);\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\nvar wm = function(r, t) {\n  return wm = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(e, i) {\n    e.__proto__ = i;\n  } || function(e, i) {\n    for (var n in i)\n      i.hasOwnProperty(n) && (e[n] = i[n]);\n  }, wm(r, t);\n};\nfunction v_(r, t) {\n  wm(r, t);\n  function e() {\n    this.constructor = r;\n  }\n  r.prototype = t === null ? Object.create(t) : (e.prototype = t.prototype, new e());\n}\nfunction Pg(r, t) {\n  var e, i;\n  t === void 0 && (t = !1);\n  var n = r.length;\n  if (!(n < 6)) {\n    for (var s = 0, o = 0, a = r[n - 2], l = r[n - 1]; o < n; o += 2) {\n      var u = r[o], c = r[o + 1];\n      s += (u - a) * (c + l), a = u, l = c;\n    }\n    if (!t && s > 0 || t && s <= 0)\n      for (var f = n / 2, o = f + f % 2; o < n; o += 2) {\n        var d = n - o - 2, p = n - o - 1, m = o, v = o + 1;\n        e = [r[m], r[d]], r[d] = e[0], r[m] = e[1], i = [r[v], r[p]], r[p] = i[0], r[v] = i[1];\n      }\n  }\n}\nvar yb = {\n  build: function(r) {\n    r.points = r.shape.points.slice();\n  },\n  triangulate: function(r, t) {\n    var e = r.points, i = r.holes, n = t.points, s = t.indices;\n    if (e.length >= 6) {\n      Pg(e, !1);\n      for (var o = [], a = 0; a < i.length; a++) {\n        var l = i[a];\n        Pg(l.points, !0), o.push(e.length / 2), e = e.concat(l.points);\n      }\n      var u = O0(e, o, 2);\n      if (!u)\n        return;\n      for (var c = n.length / 2, a = 0; a < u.length; a += 3)\n        s.push(u[a] + c), s.push(u[a + 1] + c), s.push(u[a + 2] + c);\n      for (var a = 0; a < e.length; a++)\n        n.push(e[a]);\n    }\n  }\n}, jf = {\n  build: function(r) {\n    var t = r.points, e, i, n, s, o, a;\n    if (r.type === Ge.CIRC) {\n      var l = r.shape;\n      e = l.x, i = l.y, o = a = l.radius, n = s = 0;\n    } else if (r.type === Ge.ELIP) {\n      var u = r.shape;\n      e = u.x, i = u.y, o = u.width, a = u.height, n = s = 0;\n    } else {\n      var c = r.shape, f = c.width / 2, d = c.height / 2;\n      e = c.x + f, i = c.y + d, o = a = Math.max(0, Math.min(c.radius, Math.min(f, d))), n = f - o, s = d - a;\n    }\n    if (!(o >= 0 && a >= 0 && n >= 0 && s >= 0)) {\n      t.length = 0;\n      return;\n    }\n    var p = Math.ceil(2.3 * Math.sqrt(o + a)), m = p * 8 + (n ? 4 : 0) + (s ? 4 : 0);\n    if (t.length = m, m !== 0) {\n      if (p === 0) {\n        t.length = 8, t[0] = t[6] = e + n, t[1] = t[3] = i + s, t[2] = t[4] = e - n, t[5] = t[7] = i - s;\n        return;\n      }\n      var v = 0, y = p * 4 + (n ? 2 : 0) + 2, g = y, w = m;\n      {\n        var T = n + o, P = s, O = e + T, C = e - T, I = i + P;\n        if (t[v++] = O, t[v++] = I, t[--y] = I, t[--y] = C, s) {\n          var S = i - P;\n          t[g++] = C, t[g++] = S, t[--w] = S, t[--w] = O;\n        }\n      }\n      for (var M = 1; M < p; M++) {\n        var N = Math.PI / 2 * (M / p), T = n + Math.cos(N) * o, P = s + Math.sin(N) * a, O = e + T, C = e - T, I = i + P, S = i - P;\n        t[v++] = O, t[v++] = I, t[--y] = I, t[--y] = C, t[g++] = C, t[g++] = S, t[--w] = S, t[--w] = O;\n      }\n      {\n        var T = n, P = s + a, O = e + T, C = e - T, I = i + P, S = i - P;\n        t[v++] = O, t[v++] = I, t[--w] = S, t[--w] = O, n && (t[v++] = C, t[v++] = I, t[--w] = S, t[--w] = C);\n      }\n    }\n  },\n  triangulate: function(r, t) {\n    var e = r.points, i = t.points, n = t.indices;\n    if (e.length !== 0) {\n      var s = i.length / 2, o = s, a, l;\n      if (r.type !== Ge.RREC) {\n        var u = r.shape;\n        a = u.x, l = u.y;\n      } else {\n        var c = r.shape;\n        a = c.x + c.width / 2, l = c.y + c.height / 2;\n      }\n      var f = r.matrix;\n      i.push(r.matrix ? f.a * a + f.c * l + f.tx : a, r.matrix ? f.b * a + f.d * l + f.ty : l), s++, i.push(e[0], e[1]);\n      for (var d = 2; d < e.length; d += 2)\n        i.push(e[d], e[d + 1]), n.push(s++, o, s);\n      n.push(o + 1, o, s);\n    }\n  }\n}, rI = {\n  build: function(r) {\n    var t = r.shape, e = t.x, i = t.y, n = t.width, s = t.height, o = r.points;\n    o.length = 0, o.push(e, i, e + n, i, e + n, i + s, e, i + s);\n  },\n  triangulate: function(r, t) {\n    var e = r.points, i = t.points, n = i.length / 2;\n    i.push(e[0], e[1], e[2], e[3], e[6], e[7], e[4], e[5]), t.indices.push(n, n + 1, n + 2, n + 1, n + 2, n + 3);\n  }\n};\nfunction ra(r, t, e) {\n  var i = t - r;\n  return r + i * e;\n}\nfunction $c(r, t, e, i, n, s, o) {\n  o === void 0 && (o = []);\n  for (var a = 20, l = o, u = 0, c = 0, f = 0, d = 0, p = 0, m = 0, v = 0, y = 0; v <= a; ++v)\n    y = v / a, u = ra(r, e, y), c = ra(t, i, y), f = ra(e, n, y), d = ra(i, s, y), p = ra(u, f, y), m = ra(c, d, y), !(v === 0 && l[l.length - 2] === p && l[l.length - 1] === m) && l.push(p, m);\n  return l;\n}\nvar nI = {\n  build: function(r) {\n    if (Ri.nextRoundedRectBehavior) {\n      jf.build(r);\n      return;\n    }\n    var t = r.shape, e = r.points, i = t.x, n = t.y, s = t.width, o = t.height, a = Math.max(0, Math.min(t.radius, Math.min(s, o) / 2));\n    e.length = 0, a ? ($c(i, n + a, i, n, i + a, n, e), $c(i + s - a, n, i + s, n, i + s, n + a, e), $c(i + s, n + o - a, i + s, n + o, i + s - a, n + o, e), $c(i + a, n + o, i, n + o, i, n + o - a, e)) : e.push(i, n, i + s, n, i + s, n + o, i, n + o);\n  },\n  triangulate: function(r, t) {\n    if (Ri.nextRoundedRectBehavior) {\n      jf.triangulate(r, t);\n      return;\n    }\n    for (var e = r.points, i = t.points, n = t.indices, s = i.length / 2, o = O0(e, null, 2), a = 0, l = o.length; a < l; a += 3)\n      n.push(o[a] + s), n.push(o[a + 1] + s), n.push(o[a + 2] + s);\n    for (var a = 0, l = e.length; a < l; a++)\n      i.push(e[a], e[++a]);\n  }\n};\nfunction Og(r, t, e, i, n, s, o, a) {\n  var l = r - e * n, u = t - i * n, c = r + e * s, f = t + i * s, d, p;\n  o ? (d = i, p = -e) : (d = -i, p = e);\n  var m = l + d, v = u + p, y = c + d, g = f + p;\n  return a.push(m, v), a.push(y, g), 2;\n}\nfunction ws(r, t, e, i, n, s, o, a) {\n  var l = e - r, u = i - t, c = Math.atan2(l, u), f = Math.atan2(n - r, s - t);\n  a && c < f ? c += Math.PI * 2 : !a && c > f && (f += Math.PI * 2);\n  var d = c, p = f - c, m = Math.abs(p), v = Math.sqrt(l * l + u * u), y = (15 * m * Math.sqrt(v) / Math.PI >> 0) + 1, g = p / y;\n  if (d += g, a) {\n    o.push(r, t), o.push(e, i);\n    for (var w = 1, T = d; w < y; w++, T += g)\n      o.push(r, t), o.push(r + Math.sin(T) * v, t + Math.cos(T) * v);\n    o.push(r, t), o.push(n, s);\n  } else {\n    o.push(e, i), o.push(r, t);\n    for (var w = 1, T = d; w < y; w++, T += g)\n      o.push(r + Math.sin(T) * v, t + Math.cos(T) * v), o.push(r, t);\n    o.push(n, s), o.push(r, t);\n  }\n  return y * 2;\n}\nfunction sI(r, t) {\n  var e = r.shape, i = r.points || e.points.slice(), n = t.closePointEps;\n  if (i.length !== 0) {\n    var s = r.lineStyle, o = new oe(i[0], i[1]), a = new oe(i[i.length - 2], i[i.length - 1]), l = e.type !== Ge.POLY || e.closeStroke, u = Math.abs(o.x - a.x) < n && Math.abs(o.y - a.y) < n;\n    if (l) {\n      i = i.slice(), u && (i.pop(), i.pop(), a.set(i[i.length - 2], i[i.length - 1]));\n      var c = (o.x + a.x) * 0.5, f = (a.y + o.y) * 0.5;\n      i.unshift(c, f), i.push(c, f);\n    }\n    var d = t.points, p = i.length / 2, m = i.length, v = d.length / 2, y = s.width / 2, g = y * y, w = s.miterLimit * s.miterLimit, T = i[0], P = i[1], O = i[2], C = i[3], I = 0, S = 0, M = -(P - C), N = T - O, D = 0, z = 0, q = Math.sqrt(M * M + N * N);\n    M /= q, N /= q, M *= y, N *= y;\n    var it = s.alignment, V = (1 - it) * 2, H = it * 2;\n    l || (s.cap === ps.ROUND ? m += ws(T - M * (V - H) * 0.5, P - N * (V - H) * 0.5, T - M * V, P - N * V, T + M * H, P + N * H, d, !0) + 2 : s.cap === ps.SQUARE && (m += Og(T, P, M, N, V, H, !0, d))), d.push(T - M * V, P - N * V), d.push(T + M * H, P + N * H);\n    for (var J = 1; J < p - 1; ++J) {\n      T = i[(J - 1) * 2], P = i[(J - 1) * 2 + 1], O = i[J * 2], C = i[J * 2 + 1], I = i[(J + 1) * 2], S = i[(J + 1) * 2 + 1], M = -(P - C), N = T - O, q = Math.sqrt(M * M + N * N), M /= q, N /= q, M *= y, N *= y, D = -(C - S), z = O - I, q = Math.sqrt(D * D + z * z), D /= q, z /= q, D *= y, z *= y;\n      var vt = O - T, tt = P - C, wt = O - I, rt = S - C, be = vt * wt + tt * rt, Wt = tt * wt - rt * vt, Et = Wt < 0;\n      if (Math.abs(Wt) < 1e-3 * Math.abs(be)) {\n        d.push(O - M * V, C - N * V), d.push(O + M * H, C + N * H), be >= 0 && (s.join === An.ROUND ? m += ws(O, C, O - M * V, C - N * V, O - D * V, C - z * V, d, !1) + 4 : m += 2, d.push(O - D * H, C - z * H), d.push(O + D * V, C + z * V));\n        continue;\n      }\n      var Qt = (-M + T) * (-N + C) - (-M + O) * (-N + P), k = (-D + I) * (-z + C) - (-D + O) * (-z + S), Yt = (vt * k - wt * Qt) / Wt, at = (rt * Qt - tt * k) / Wt, me = (Yt - O) * (Yt - O) + (at - C) * (at - C), Ft = O + (Yt - O) * V, Z = C + (at - C) * V, xe = O - (Yt - O) * H, ct = C - (at - C) * H, F = Math.min(vt * vt + tt * tt, wt * wt + rt * rt), ht = Et ? V : H, xt = F + ht * ht * g, U = me <= xt;\n      U ? s.join === An.BEVEL || me / g > w ? (Et ? (d.push(Ft, Z), d.push(O + M * H, C + N * H), d.push(Ft, Z), d.push(O + D * H, C + z * H)) : (d.push(O - M * V, C - N * V), d.push(xe, ct), d.push(O - D * V, C - z * V), d.push(xe, ct)), m += 2) : s.join === An.ROUND ? Et ? (d.push(Ft, Z), d.push(O + M * H, C + N * H), m += ws(O, C, O + M * H, C + N * H, O + D * H, C + z * H, d, !0) + 4, d.push(Ft, Z), d.push(O + D * H, C + z * H)) : (d.push(O - M * V, C - N * V), d.push(xe, ct), m += ws(O, C, O - M * V, C - N * V, O - D * V, C - z * V, d, !1) + 4, d.push(O - D * V, C - z * V), d.push(xe, ct)) : (d.push(Ft, Z), d.push(xe, ct)) : (d.push(O - M * V, C - N * V), d.push(O + M * H, C + N * H), s.join === An.ROUND ? Et ? m += ws(O, C, O + M * H, C + N * H, O + D * H, C + z * H, d, !0) + 2 : m += ws(O, C, O - M * V, C - N * V, O - D * V, C - z * V, d, !1) + 2 : s.join === An.MITER && me / g <= w && (Et ? (d.push(xe, ct), d.push(xe, ct)) : (d.push(Ft, Z), d.push(Ft, Z)), m += 2), d.push(O - D * V, C - z * V), d.push(O + D * H, C + z * H), m += 2);\n    }\n    T = i[(p - 2) * 2], P = i[(p - 2) * 2 + 1], O = i[(p - 1) * 2], C = i[(p - 1) * 2 + 1], M = -(P - C), N = T - O, q = Math.sqrt(M * M + N * N), M /= q, N /= q, M *= y, N *= y, d.push(O - M * V, C - N * V), d.push(O + M * H, C + N * H), l || (s.cap === ps.ROUND ? m += ws(O - M * (V - H) * 0.5, C - N * (V - H) * 0.5, O - M * V, C - N * V, O + M * H, C + N * H, d, !1) + 2 : s.cap === ps.SQUARE && (m += Og(O, C, M, N, V, H, !1, d)));\n    for (var ke = t.indices, vi = yl.epsilon * yl.epsilon, J = v; J < m + v - 2; ++J)\n      T = d[J * 2], P = d[J * 2 + 1], O = d[(J + 1) * 2], C = d[(J + 1) * 2 + 1], I = d[(J + 2) * 2], S = d[(J + 2) * 2 + 1], !(Math.abs(T * (C - S) + O * (S - P) + I * (P - C)) < vi) && ke.push(J, J + 1, J + 2);\n  }\n}\nfunction oI(r, t) {\n  var e = 0, i = r.shape, n = r.points || i.points, s = i.type !== Ge.POLY || i.closeStroke;\n  if (n.length !== 0) {\n    var o = t.points, a = t.indices, l = n.length / 2, u = o.length / 2, c = u;\n    for (o.push(n[0], n[1]), e = 1; e < l; e++)\n      o.push(n[e * 2], n[e * 2 + 1]), a.push(c, c + 1), c++;\n    s && a.push(c, u);\n  }\n}\nfunction Ig(r, t) {\n  r.lineStyle.native ? oI(r, t) : sI(r, t);\n}\nvar Cg = (\n  /** @class */\n  function() {\n    function r() {\n    }\n    return r.curveTo = function(t, e, i, n, s, o) {\n      var a = o[o.length - 2], l = o[o.length - 1], u = l - e, c = a - t, f = n - e, d = i - t, p = Math.abs(u * d - c * f);\n      if (p < 1e-8 || s === 0)\n        return (o[o.length - 2] !== t || o[o.length - 1] !== e) && o.push(t, e), null;\n      var m = u * u + c * c, v = f * f + d * d, y = u * f + c * d, g = s * Math.sqrt(m) / p, w = s * Math.sqrt(v) / p, T = g * y / m, P = w * y / v, O = g * d + w * c, C = g * f + w * u, I = c * (w + T), S = u * (w + T), M = d * (g + P), N = f * (g + P), D = Math.atan2(S - C, I - O), z = Math.atan2(N - C, M - O);\n      return {\n        cx: O + t,\n        cy: C + e,\n        radius: s,\n        startAngle: D,\n        endAngle: z,\n        anticlockwise: c * f > d * u\n      };\n    }, r.arc = function(t, e, i, n, s, o, a, l, u) {\n      for (var c = a - o, f = yl._segmentsCount(Math.abs(c) * s, Math.ceil(Math.abs(c) / Lf) * 40), d = c / (f * 2), p = d * 2, m = Math.cos(d), v = Math.sin(d), y = f - 1, g = y % 1 / y, w = 0; w <= y; ++w) {\n        var T = w + g * w, P = d + o + p * T, O = Math.cos(P), C = -Math.sin(P);\n        u.push((m * O + v * C) * s + i, (m * -C + v * O) * s + n);\n      }\n    }, r;\n  }()\n), aI = (\n  /** @class */\n  function() {\n    function r() {\n    }\n    return r.curveLength = function(t, e, i, n, s, o, a, l) {\n      for (var u = 10, c = 0, f = 0, d = 0, p = 0, m = 0, v = 0, y = 0, g = 0, w = 0, T = 0, P = 0, O = t, C = e, I = 1; I <= u; ++I)\n        f = I / u, d = f * f, p = d * f, m = 1 - f, v = m * m, y = v * m, g = y * t + 3 * v * f * i + 3 * m * d * s + p * a, w = y * e + 3 * v * f * n + 3 * m * d * o + p * l, T = O - g, P = C - w, O = g, C = w, c += Math.sqrt(T * T + P * P);\n      return c;\n    }, r.curveTo = function(t, e, i, n, s, o, a) {\n      var l = a[a.length - 2], u = a[a.length - 1];\n      a.length -= 2;\n      var c = yl._segmentsCount(r.curveLength(l, u, t, e, i, n, s, o)), f = 0, d = 0, p = 0, m = 0, v = 0;\n      a.push(l, u);\n      for (var y = 1, g = 0; y <= c; ++y)\n        g = y / c, f = 1 - g, d = f * f, p = d * f, m = g * g, v = m * g, a.push(p * l + 3 * d * g * t + 3 * f * m * i + v * s, p * u + 3 * d * g * e + 3 * f * m * n + v * o);\n    }, r;\n  }()\n), hI = (\n  /** @class */\n  function() {\n    function r() {\n    }\n    return r.curveLength = function(t, e, i, n, s, o) {\n      var a = t - 2 * i + s, l = e - 2 * n + o, u = 2 * i - 2 * t, c = 2 * n - 2 * e, f = 4 * (a * a + l * l), d = 4 * (a * u + l * c), p = u * u + c * c, m = 2 * Math.sqrt(f + d + p), v = Math.sqrt(f), y = 2 * f * v, g = 2 * Math.sqrt(p), w = d / v;\n      return (y * m + v * d * (m - g) + (4 * p * f - d * d) * Math.log((2 * v + w + m) / (w + g))) / (4 * y);\n    }, r.curveTo = function(t, e, i, n, s) {\n      for (var o = s[s.length - 2], a = s[s.length - 1], l = yl._segmentsCount(r.curveLength(o, a, t, e, i, n)), u = 0, c = 0, f = 1; f <= l; ++f) {\n        var d = f / l;\n        u = o + (t - o) * d, c = a + (e - a) * d, s.push(u + (t + (i - t) * d - u) * d, c + (e + (n - e) * d - c) * d);\n      }\n    }, r;\n  }()\n), lI = (\n  /** @class */\n  function() {\n    function r() {\n      this.reset();\n    }\n    return r.prototype.begin = function(t, e, i) {\n      this.reset(), this.style = t, this.start = e, this.attribStart = i;\n    }, r.prototype.end = function(t, e) {\n      this.attribSize = e - this.attribStart, this.size = t - this.start;\n    }, r.prototype.reset = function() {\n      this.style = null, this.size = 0, this.start = 0, this.attribStart = 0, this.attribSize = 0;\n    }, r;\n  }()\n), Es, Yv = (Es = {}, Es[Ge.POLY] = yb, Es[Ge.CIRC] = jf, Es[Ge.ELIP] = jf, Es[Ge.RECT] = rI, Es[Ge.RREC] = nI, Es), Mg = [], zc = [], Rg = (\n  /** @class */\n  function() {\n    function r(t, e, i, n) {\n      e === void 0 && (e = null), i === void 0 && (i = null), n === void 0 && (n = null), this.points = [], this.holes = [], this.shape = t, this.lineStyle = i, this.fillStyle = e, this.matrix = n, this.type = t.type;\n    }\n    return r.prototype.clone = function() {\n      return new r(this.shape, this.fillStyle, this.lineStyle, this.matrix);\n    }, r.prototype.destroy = function() {\n      this.shape = null, this.holes.length = 0, this.holes = null, this.points.length = 0, this.points = null, this.lineStyle = null, this.fillStyle = null;\n    }, r;\n  }()\n), na = new oe(), uI = (\n  /** @class */\n  function(r) {\n    v_(t, r);\n    function t() {\n      var e = r.call(this) || this;\n      return e.closePointEps = 1e-4, e.boundsPadding = 0, e.uvsFloat32 = null, e.indicesUint16 = null, e.batchable = !1, e.points = [], e.colors = [], e.uvs = [], e.indices = [], e.textureIds = [], e.graphicsData = [], e.drawCalls = [], e.batchDirty = -1, e.batches = [], e.dirty = 0, e.cacheDirty = -1, e.clearDirty = 0, e.shapeIndex = 0, e._bounds = new Af(), e.boundsDirty = -1, e;\n    }\n    return Object.defineProperty(t.prototype, \"bounds\", {\n      /**\n       * Get the current bounds of the graphic geometry.\n       * @readonly\n       */\n      get: function() {\n        return this.updateBatches(), this.boundsDirty !== this.dirty && (this.boundsDirty = this.dirty, this.calculateBounds()), this._bounds;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t.prototype.invalidate = function() {\n      this.boundsDirty = -1, this.dirty++, this.batchDirty++, this.shapeIndex = 0, this.points.length = 0, this.colors.length = 0, this.uvs.length = 0, this.indices.length = 0, this.textureIds.length = 0;\n      for (var e = 0; e < this.drawCalls.length; e++)\n        this.drawCalls[e].texArray.clear(), zc.push(this.drawCalls[e]);\n      this.drawCalls.length = 0;\n      for (var e = 0; e < this.batches.length; e++) {\n        var i = this.batches[e];\n        i.reset(), Mg.push(i);\n      }\n      this.batches.length = 0;\n    }, t.prototype.clear = function() {\n      return this.graphicsData.length > 0 && (this.invalidate(), this.clearDirty++, this.graphicsData.length = 0), this;\n    }, t.prototype.drawShape = function(e, i, n, s) {\n      i === void 0 && (i = null), n === void 0 && (n = null), s === void 0 && (s = null);\n      var o = new Rg(e, i, n, s);\n      return this.graphicsData.push(o), this.dirty++, this;\n    }, t.prototype.drawHole = function(e, i) {\n      if (i === void 0 && (i = null), !this.graphicsData.length)\n        return null;\n      var n = new Rg(e, null, null, i), s = this.graphicsData[this.graphicsData.length - 1];\n      return n.lineStyle = s.lineStyle, s.holes.push(n), this.dirty++, this;\n    }, t.prototype.destroy = function() {\n      r.prototype.destroy.call(this);\n      for (var e = 0; e < this.graphicsData.length; ++e)\n        this.graphicsData[e].destroy();\n      this.points.length = 0, this.points = null, this.colors.length = 0, this.colors = null, this.uvs.length = 0, this.uvs = null, this.indices.length = 0, this.indices = null, this.indexBuffer.destroy(), this.indexBuffer = null, this.graphicsData.length = 0, this.graphicsData = null, this.drawCalls.length = 0, this.drawCalls = null, this.batches.length = 0, this.batches = null, this._bounds = null;\n    }, t.prototype.containsPoint = function(e) {\n      for (var i = this.graphicsData, n = 0; n < i.length; ++n) {\n        var s = i[n];\n        if (s.fillStyle.visible && s.shape && (s.matrix ? s.matrix.applyInverse(e, na) : na.copyFrom(e), s.shape.contains(na.x, na.y))) {\n          var o = !1;\n          if (s.holes)\n            for (var a = 0; a < s.holes.length; a++) {\n              var l = s.holes[a];\n              if (l.shape.contains(na.x, na.y)) {\n                o = !0;\n                break;\n              }\n            }\n          if (!o)\n            return !0;\n        }\n      }\n      return !1;\n    }, t.prototype.updateBatches = function() {\n      if (!this.graphicsData.length) {\n        this.batchable = !0;\n        return;\n      }\n      if (this.validateBatching()) {\n        this.cacheDirty = this.dirty;\n        var e = this.uvs, i = this.graphicsData, n = null, s = null;\n        this.batches.length > 0 && (n = this.batches[this.batches.length - 1], s = n.style);\n        for (var o = this.shapeIndex; o < i.length; o++) {\n          this.shapeIndex++;\n          var a = i[o], l = a.fillStyle, u = a.lineStyle, c = Yv[a.type];\n          c.build(a), a.matrix && this.transformPoints(a.points, a.matrix), (l.visible || u.visible) && this.processHoles(a.holes);\n          for (var f = 0; f < 2; f++) {\n            var d = f === 0 ? l : u;\n            if (d.visible) {\n              var p = d.texture.baseTexture, m = this.indices.length, v = this.points.length / 2;\n              p.wrapMode = Zr.REPEAT, f === 0 ? this.processFill(a) : this.processLine(a);\n              var y = this.points.length / 2 - v;\n              y !== 0 && (n && !this._compareStyles(s, d) && (n.end(m, v), n = null), n || (n = Mg.pop() || new lI(), n.begin(d, m, v), this.batches.push(n), s = d), this.addUvs(this.points, e, d.texture, v, y, d.matrix));\n            }\n          }\n        }\n        var g = this.indices.length, w = this.points.length / 2;\n        if (n && n.end(g, w), this.batches.length === 0) {\n          this.batchable = !0;\n          return;\n        }\n        var T = w > 65535;\n        this.indicesUint16 && this.indices.length === this.indicesUint16.length && T === this.indicesUint16.BYTES_PER_ELEMENT > 2 ? this.indicesUint16.set(this.indices) : this.indicesUint16 = T ? new Uint32Array(this.indices) : new Uint16Array(this.indices), this.batchable = this.isBatchable(), this.batchable ? this.packBatches() : this.buildDrawCalls();\n      }\n    }, t.prototype._compareStyles = function(e, i) {\n      return !(!e || !i || e.texture.baseTexture !== i.texture.baseTexture || e.color + e.alpha !== i.color + i.alpha || !!e.native != !!i.native);\n    }, t.prototype.validateBatching = function() {\n      if (this.dirty === this.cacheDirty || !this.graphicsData.length)\n        return !1;\n      for (var e = 0, i = this.graphicsData.length; e < i; e++) {\n        var n = this.graphicsData[e], s = n.fillStyle, o = n.lineStyle;\n        if (s && !s.texture.baseTexture.valid || o && !o.texture.baseTexture.valid)\n          return !1;\n      }\n      return !0;\n    }, t.prototype.packBatches = function() {\n      this.batchDirty++, this.uvsFloat32 = new Float32Array(this.uvs);\n      for (var e = this.batches, i = 0, n = e.length; i < n; i++)\n        for (var s = e[i], o = 0; o < s.size; o++) {\n          var a = s.start + o;\n          this.indicesUint16[a] = this.indicesUint16[a] - s.attribStart;\n        }\n    }, t.prototype.isBatchable = function() {\n      if (this.points.length > 65535 * 2)\n        return !1;\n      for (var e = this.batches, i = 0; i < e.length; i++)\n        if (e[i].style.native)\n          return !1;\n      return this.points.length < t.BATCHABLE_SIZE * 2;\n    }, t.prototype.buildDrawCalls = function() {\n      for (var e = ++It._globalBatch, i = 0; i < this.drawCalls.length; i++)\n        this.drawCalls[i].texArray.clear(), zc.push(this.drawCalls[i]);\n      this.drawCalls.length = 0;\n      var n = this.colors, s = this.textureIds, o = zc.pop();\n      o || (o = new Bf(), o.texArray = new Ff()), o.texArray.count = 0, o.start = 0, o.size = 0, o.type = xr.TRIANGLES;\n      var a = 0, l = null, u = 0, c = !1, f = xr.TRIANGLES, d = 0;\n      this.drawCalls.push(o);\n      for (var i = 0; i < this.batches.length; i++) {\n        var p = this.batches[i], m = 8, v = p.style, y = v.texture.baseTexture;\n        c !== !!v.native && (c = !!v.native, f = c ? xr.LINES : xr.TRIANGLES, l = null, a = m, e++), l !== y && (l = y, y._batchEnabled !== e && (a === m && (e++, a = 0, o.size > 0 && (o = zc.pop(), o || (o = new Bf(), o.texArray = new Ff()), this.drawCalls.push(o)), o.start = d, o.size = 0, o.texArray.count = 0, o.type = f), y.touched = 1, y._batchEnabled = e, y._batchLocation = a, y.wrapMode = Zr.REPEAT, o.texArray.elements[o.texArray.count++] = y, a++)), o.size += p.size, d += p.size, u = y._batchLocation, this.addColors(n, v.color, v.alpha, p.attribSize, p.attribStart), this.addTextureIds(s, u, p.attribSize, p.attribStart);\n      }\n      It._globalBatch = e, this.packAttributes();\n    }, t.prototype.packAttributes = function() {\n      for (var e = this.points, i = this.uvs, n = this.colors, s = this.textureIds, o = new ArrayBuffer(e.length * 3 * 4), a = new Float32Array(o), l = new Uint32Array(o), u = 0, c = 0; c < e.length / 2; c++)\n        a[u++] = e[c * 2], a[u++] = e[c * 2 + 1], a[u++] = i[c * 2], a[u++] = i[c * 2 + 1], l[u++] = n[c], a[u++] = s[c];\n      this._buffer.update(o), this._indexBuffer.update(this.indicesUint16);\n    }, t.prototype.processFill = function(e) {\n      if (e.holes.length)\n        yb.triangulate(e, this);\n      else {\n        var i = Yv[e.type];\n        i.triangulate(e, this);\n      }\n    }, t.prototype.processLine = function(e) {\n      Ig(e, this);\n      for (var i = 0; i < e.holes.length; i++)\n        Ig(e.holes[i], this);\n    }, t.prototype.processHoles = function(e) {\n      for (var i = 0; i < e.length; i++) {\n        var n = e[i], s = Yv[n.type];\n        s.build(n), n.matrix && this.transformPoints(n.points, n.matrix);\n      }\n    }, t.prototype.calculateBounds = function() {\n      var e = this._bounds;\n      e.clear(), e.addVertexData(this.points, 0, this.points.length), e.pad(this.boundsPadding, this.boundsPadding);\n    }, t.prototype.transformPoints = function(e, i) {\n      for (var n = 0; n < e.length / 2; n++) {\n        var s = e[n * 2], o = e[n * 2 + 1];\n        e[n * 2] = i.a * s + i.c * o + i.tx, e[n * 2 + 1] = i.b * s + i.d * o + i.ty;\n      }\n    }, t.prototype.addColors = function(e, i, n, s, o) {\n      o === void 0 && (o = 0);\n      var a = (i >> 16) + (i & 65280) + ((i & 255) << 16), l = Fy(a, n);\n      e.length = Math.max(e.length, o + s);\n      for (var u = 0; u < s; u++)\n        e[o + u] = l;\n    }, t.prototype.addTextureIds = function(e, i, n, s) {\n      s === void 0 && (s = 0), e.length = Math.max(e.length, s + n);\n      for (var o = 0; o < n; o++)\n        e[s + o] = i;\n    }, t.prototype.addUvs = function(e, i, n, s, o, a) {\n      a === void 0 && (a = null);\n      for (var l = 0, u = i.length, c = n.frame; l < o; ) {\n        var f = e[(s + l) * 2], d = e[(s + l) * 2 + 1];\n        if (a) {\n          var p = a.a * f + a.c * d + a.tx;\n          d = a.b * f + a.d * d + a.ty, f = p;\n        }\n        l++, i.push(f / c.width, d / c.height);\n      }\n      var m = n.baseTexture;\n      (c.width < m.width || c.height < m.height) && this.adjustUvs(i, n, u, o);\n    }, t.prototype.adjustUvs = function(e, i, n, s) {\n      for (var o = i.baseTexture, a = 1e-6, l = n + s * 2, u = i.frame, c = u.width / o.width, f = u.height / o.height, d = u.x / u.width, p = u.y / u.height, m = Math.floor(e[n] + a), v = Math.floor(e[n + 1] + a), y = n + 2; y < l; y += 2)\n        m = Math.min(m, Math.floor(e[y] + a)), v = Math.min(v, Math.floor(e[y + 1] + a));\n      d -= m, p -= v;\n      for (var y = n; y < l; y += 2)\n        e[y] = (e[y] + d) * c, e[y + 1] = (e[y + 1] + p) * f;\n    }, t.BATCHABLE_SIZE = 100, t;\n  }(f_)\n), cI = (\n  /** @class */\n  function(r) {\n    v_(t, r);\n    function t() {\n      var e = r !== null && r.apply(this, arguments) || this;\n      return e.width = 0, e.alignment = 0.5, e.native = !1, e.cap = ps.BUTT, e.join = An.MITER, e.miterLimit = 10, e;\n    }\n    return t.prototype.clone = function() {\n      var e = new t();\n      return e.color = this.color, e.alpha = this.alpha, e.texture = this.texture, e.matrix = this.matrix, e.visible = this.visible, e.width = this.width, e.alignment = this.alignment, e.native = this.native, e.cap = this.cap, e.join = this.join, e.miterLimit = this.miterLimit, e;\n    }, t.prototype.reset = function() {\n      r.prototype.reset.call(this), this.color = 0, this.alignment = 0.5, this.width = 0, this.native = !1;\n    }, t;\n  }(mb)\n), fI = new Float32Array(3), qv = {}, Ri = (\n  /** @class */\n  function(r) {\n    v_(t, r);\n    function t(e) {\n      e === void 0 && (e = null);\n      var i = r.call(this) || this;\n      return i.shader = null, i.pluginName = \"batch\", i.currentPath = null, i.batches = [], i.batchTint = -1, i.batchDirty = -1, i.vertexData = null, i._fillStyle = new mb(), i._lineStyle = new cI(), i._matrix = null, i._holeMode = !1, i.state = ys.for2d(), i._geometry = e || new uI(), i._geometry.refCount++, i._transformID = -1, i.tint = 16777215, i.blendMode = ot.NORMAL, i;\n    }\n    return Object.defineProperty(t.prototype, \"geometry\", {\n      /**\n       * Includes vertex positions, face indices, normals, colors, UVs, and\n       * custom attributes within buffers, reducing the cost of passing all\n       * this data to the GPU. Can be shared between multiple Mesh or Graphics objects.\n       * @readonly\n       */\n      get: function() {\n        return this._geometry;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t.prototype.clone = function() {\n      return this.finishPoly(), new t(this._geometry);\n    }, Object.defineProperty(t.prototype, \"blendMode\", {\n      get: function() {\n        return this.state.blendMode;\n      },\n      /**\n       * The blend mode to be applied to the graphic shape. Apply a value of\n       * `PIXI.BLEND_MODES.NORMAL` to reset the blend mode.  Note that, since each\n       * primitive in the GraphicsGeometry list is rendered sequentially, modes\n       * such as `PIXI.BLEND_MODES.ADD` and `PIXI.BLEND_MODES.MULTIPLY` will\n       * be applied per-primitive.\n       * @default PIXI.BLEND_MODES.NORMAL\n       */\n      set: function(e) {\n        this.state.blendMode = e;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"tint\", {\n      /**\n       * The tint applied to each graphic shape. This is a hex value. A value of\n       * 0xFFFFFF will remove any tint effect.\n       * @default 0xFFFFFF\n       */\n      get: function() {\n        return this._tint;\n      },\n      set: function(e) {\n        this._tint = e;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"fill\", {\n      /**\n       * The current fill style.\n       * @readonly\n       */\n      get: function() {\n        return this._fillStyle;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"line\", {\n      /**\n       * The current line style.\n       * @readonly\n       */\n      get: function() {\n        return this._lineStyle;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t.prototype.lineStyle = function(e, i, n, s, o) {\n      return e === void 0 && (e = null), i === void 0 && (i = 0), n === void 0 && (n = 1), s === void 0 && (s = 0.5), o === void 0 && (o = !1), typeof e == \"number\" && (e = { width: e, color: i, alpha: n, alignment: s, native: o }), this.lineTextureStyle(e);\n    }, t.prototype.lineTextureStyle = function(e) {\n      e = Object.assign({\n        width: 0,\n        texture: lt.WHITE,\n        color: e && e.texture ? 16777215 : 0,\n        alpha: 1,\n        matrix: null,\n        alignment: 0.5,\n        native: !1,\n        cap: ps.BUTT,\n        join: An.MITER,\n        miterLimit: 10\n      }, e), this.currentPath && this.startPoly();\n      var i = e.width > 0 && e.alpha > 0;\n      return i ? (e.matrix && (e.matrix = e.matrix.clone(), e.matrix.invert()), Object.assign(this._lineStyle, { visible: i }, e)) : this._lineStyle.reset(), this;\n    }, t.prototype.startPoly = function() {\n      if (this.currentPath) {\n        var e = this.currentPath.points, i = this.currentPath.points.length;\n        i > 2 && (this.drawShape(this.currentPath), this.currentPath = new tf(), this.currentPath.closeStroke = !1, this.currentPath.points.push(e[i - 2], e[i - 1]));\n      } else\n        this.currentPath = new tf(), this.currentPath.closeStroke = !1;\n    }, t.prototype.finishPoly = function() {\n      this.currentPath && (this.currentPath.points.length > 2 ? (this.drawShape(this.currentPath), this.currentPath = null) : this.currentPath.points.length = 0);\n    }, t.prototype.moveTo = function(e, i) {\n      return this.startPoly(), this.currentPath.points[0] = e, this.currentPath.points[1] = i, this;\n    }, t.prototype.lineTo = function(e, i) {\n      this.currentPath || this.moveTo(0, 0);\n      var n = this.currentPath.points, s = n[n.length - 2], o = n[n.length - 1];\n      return (s !== e || o !== i) && n.push(e, i), this;\n    }, t.prototype._initCurve = function(e, i) {\n      e === void 0 && (e = 0), i === void 0 && (i = 0), this.currentPath ? this.currentPath.points.length === 0 && (this.currentPath.points = [e, i]) : this.moveTo(e, i);\n    }, t.prototype.quadraticCurveTo = function(e, i, n, s) {\n      this._initCurve();\n      var o = this.currentPath.points;\n      return o.length === 0 && this.moveTo(0, 0), hI.curveTo(e, i, n, s, o), this;\n    }, t.prototype.bezierCurveTo = function(e, i, n, s, o, a) {\n      return this._initCurve(), aI.curveTo(e, i, n, s, o, a, this.currentPath.points), this;\n    }, t.prototype.arcTo = function(e, i, n, s, o) {\n      this._initCurve(e, i);\n      var a = this.currentPath.points, l = Cg.curveTo(e, i, n, s, o, a);\n      if (l) {\n        var u = l.cx, c = l.cy, f = l.radius, d = l.startAngle, p = l.endAngle, m = l.anticlockwise;\n        this.arc(u, c, f, d, p, m);\n      }\n      return this;\n    }, t.prototype.arc = function(e, i, n, s, o, a) {\n      if (a === void 0 && (a = !1), s === o)\n        return this;\n      !a && o <= s ? o += Lf : a && s <= o && (s += Lf);\n      var l = o - s;\n      if (l === 0)\n        return this;\n      var u = e + Math.cos(s) * n, c = i + Math.sin(s) * n, f = this._geometry.closePointEps, d = this.currentPath ? this.currentPath.points : null;\n      if (d) {\n        var p = Math.abs(d[d.length - 2] - u), m = Math.abs(d[d.length - 1] - c);\n        p < f && m < f || d.push(u, c);\n      } else\n        this.moveTo(u, c), d = this.currentPath.points;\n      return Cg.arc(u, c, e, i, n, s, o, a, d), this;\n    }, t.prototype.beginFill = function(e, i) {\n      return e === void 0 && (e = 0), i === void 0 && (i = 1), this.beginTextureFill({ texture: lt.WHITE, color: e, alpha: i });\n    }, t.prototype.beginTextureFill = function(e) {\n      e = Object.assign({\n        texture: lt.WHITE,\n        color: 16777215,\n        alpha: 1,\n        matrix: null\n      }, e), this.currentPath && this.startPoly();\n      var i = e.alpha > 0;\n      return i ? (e.matrix && (e.matrix = e.matrix.clone(), e.matrix.invert()), Object.assign(this._fillStyle, { visible: i }, e)) : this._fillStyle.reset(), this;\n    }, t.prototype.endFill = function() {\n      return this.finishPoly(), this._fillStyle.reset(), this;\n    }, t.prototype.drawRect = function(e, i, n, s) {\n      return this.drawShape(new gt(e, i, n, s));\n    }, t.prototype.drawRoundedRect = function(e, i, n, s, o) {\n      return this.drawShape(new ZS(e, i, n, s, o));\n    }, t.prototype.drawCircle = function(e, i, n) {\n      return this.drawShape(new YS(e, i, n));\n    }, t.prototype.drawEllipse = function(e, i, n, s) {\n      return this.drawShape(new qS(e, i, n, s));\n    }, t.prototype.drawPolygon = function() {\n      for (var e = arguments, i = [], n = 0; n < arguments.length; n++)\n        i[n] = e[n];\n      var s, o = !0, a = i[0];\n      a.points ? (o = a.closeStroke, s = a.points) : Array.isArray(i[0]) ? s = i[0] : s = i;\n      var l = new tf(s);\n      return l.closeStroke = o, this.drawShape(l), this;\n    }, t.prototype.drawShape = function(e) {\n      return this._holeMode ? this._geometry.drawHole(e, this._matrix) : this._geometry.drawShape(e, this._fillStyle.clone(), this._lineStyle.clone(), this._matrix), this;\n    }, t.prototype.clear = function() {\n      return this._geometry.clear(), this._lineStyle.reset(), this._fillStyle.reset(), this._boundsID++, this._matrix = null, this._holeMode = !1, this.currentPath = null, this;\n    }, t.prototype.isFastRect = function() {\n      var e = this._geometry.graphicsData;\n      return e.length === 1 && e[0].shape.type === Ge.RECT && !e[0].matrix && !e[0].holes.length && !(e[0].lineStyle.visible && e[0].lineStyle.width);\n    }, t.prototype._render = function(e) {\n      this.finishPoly();\n      var i = this._geometry;\n      i.updateBatches(), i.batchable ? (this.batchDirty !== i.batchDirty && this._populateBatches(), this._renderBatched(e)) : (e.batch.flush(), this._renderDirect(e));\n    }, t.prototype._populateBatches = function() {\n      var e = this._geometry, i = this.blendMode, n = e.batches.length;\n      this.batchTint = -1, this._transformID = -1, this.batchDirty = e.batchDirty, this.batches.length = n, this.vertexData = new Float32Array(e.points);\n      for (var s = 0; s < n; s++) {\n        var o = e.batches[s], a = o.style.color, l = new Float32Array(this.vertexData.buffer, o.attribStart * 4 * 2, o.attribSize * 2), u = new Float32Array(e.uvsFloat32.buffer, o.attribStart * 4 * 2, o.attribSize * 2), c = new Uint16Array(e.indicesUint16.buffer, o.start * 2, o.size), f = {\n          vertexData: l,\n          blendMode: i,\n          indices: c,\n          uvs: u,\n          _batchRGB: wh(a),\n          _tintRGB: a,\n          _texture: o.style.texture,\n          alpha: o.style.alpha,\n          worldAlpha: 1\n        };\n        this.batches[s] = f;\n      }\n    }, t.prototype._renderBatched = function(e) {\n      if (this.batches.length) {\n        e.batch.setObjectRenderer(e.plugins[this.pluginName]), this.calculateVertices(), this.calculateTints();\n        for (var i = 0, n = this.batches.length; i < n; i++) {\n          var s = this.batches[i];\n          s.worldAlpha = this.worldAlpha * s.alpha, e.plugins[this.pluginName].render(s);\n        }\n      }\n    }, t.prototype._renderDirect = function(e) {\n      var i = this._resolveDirectShader(e), n = this._geometry, s = this.tint, o = this.worldAlpha, a = i.uniforms, l = n.drawCalls;\n      a.translationMatrix = this.transform.worldTransform, a.tint[0] = (s >> 16 & 255) / 255 * o, a.tint[1] = (s >> 8 & 255) / 255 * o, a.tint[2] = (s & 255) / 255 * o, a.tint[3] = o, e.shader.bind(i), e.geometry.bind(n, i), e.state.set(this.state);\n      for (var u = 0, c = l.length; u < c; u++)\n        this._renderDrawCallDirect(e, n.drawCalls[u]);\n    }, t.prototype._renderDrawCallDirect = function(e, i) {\n      for (var n = i.texArray, s = i.type, o = i.size, a = i.start, l = n.count, u = 0; u < l; u++)\n        e.texture.bind(n.elements[u], u);\n      e.geometry.draw(s, o, a);\n    }, t.prototype._resolveDirectShader = function(e) {\n      var i = this.shader, n = this.pluginName;\n      if (!i) {\n        if (!qv[n]) {\n          for (var s = e.plugins[n].MAX_TEXTURES, o = new Int32Array(s), a = 0; a < s; a++)\n            o[a] = a;\n          var l = {\n            tint: new Float32Array([1, 1, 1, 1]),\n            translationMatrix: new Be(),\n            default: ms.from({ uSamplers: o }, !0)\n          }, u = e.plugins[n]._shader.program;\n          qv[n] = new Dn(u, l);\n        }\n        i = qv[n];\n      }\n      return i;\n    }, t.prototype._calculateBounds = function() {\n      this.finishPoly();\n      var e = this._geometry;\n      if (e.graphicsData.length) {\n        var i = e.bounds, n = i.minX, s = i.minY, o = i.maxX, a = i.maxY;\n        this._bounds.addFrame(this.transform, n, s, o, a);\n      }\n    }, t.prototype.containsPoint = function(e) {\n      return this.worldTransform.applyInverse(e, t._TEMP_POINT), this._geometry.containsPoint(t._TEMP_POINT);\n    }, t.prototype.calculateTints = function() {\n      if (this.batchTint !== this.tint) {\n        this.batchTint = this.tint;\n        for (var e = wh(this.tint, fI), i = 0; i < this.batches.length; i++) {\n          var n = this.batches[i], s = n._batchRGB, o = e[0] * s[0] * 255, a = e[1] * s[1] * 255, l = e[2] * s[2] * 255, u = (o << 16) + (a << 8) + (l | 0);\n          n._tintRGB = (u >> 16) + (u & 65280) + ((u & 255) << 16);\n        }\n      }\n    }, t.prototype.calculateVertices = function() {\n      var e = this.transform._worldID;\n      if (this._transformID !== e) {\n        this._transformID = e;\n        for (var i = this.transform.worldTransform, n = i.a, s = i.b, o = i.c, a = i.d, l = i.tx, u = i.ty, c = this._geometry.points, f = this.vertexData, d = 0, p = 0; p < c.length; p += 2) {\n          var m = c[p], v = c[p + 1];\n          f[d++] = n * m + o * v + l, f[d++] = a * v + s * m + u;\n        }\n      }\n    }, t.prototype.closePath = function() {\n      var e = this.currentPath;\n      return e && (e.closeStroke = !0, this.finishPoly()), this;\n    }, t.prototype.setMatrix = function(e) {\n      return this._matrix = e, this;\n    }, t.prototype.beginHole = function() {\n      return this.finishPoly(), this._holeMode = !0, this;\n    }, t.prototype.endHole = function() {\n      return this.finishPoly(), this._holeMode = !1, this;\n    }, t.prototype.destroy = function(e) {\n      this._geometry.refCount--, this._geometry.refCount === 0 && this._geometry.dispose(), this._matrix = null, this.currentPath = null, this._lineStyle.destroy(), this._lineStyle = null, this._fillStyle.destroy(), this._fillStyle = null, this._geometry = null, this.shader = null, this.vertexData = null, this.batches.length = 0, this.batches = null, r.prototype.destroy.call(this, e);\n    }, t.nextRoundedRectBehavior = !1, t._TEMP_POINT = new oe(), t;\n  }(Jt)\n);\n/*!\n * @pixi/sprite - v6.5.9\n * Compiled Wed, 25 Jan 2023 05:01:45 UTC\n *\n * @pixi/sprite is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\nvar Em = function(r, t) {\n  return Em = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(e, i) {\n    e.__proto__ = i;\n  } || function(e, i) {\n    for (var n in i)\n      i.hasOwnProperty(n) && (e[n] = i[n]);\n  }, Em(r, t);\n};\nfunction dI(r, t) {\n  Em(r, t);\n  function e() {\n    this.constructor = r;\n  }\n  r.prototype = t === null ? Object.create(t) : (e.prototype = t.prototype, new e());\n}\nvar Fh = new oe(), pI = new Uint16Array([0, 1, 2, 0, 2, 3]), ge = (\n  /** @class */\n  function(r) {\n    dI(t, r);\n    function t(e) {\n      var i = r.call(this) || this;\n      return i._anchor = new da(i._onAnchorUpdate, i, e ? e.defaultAnchor.x : 0, e ? e.defaultAnchor.y : 0), i._texture = null, i._width = 0, i._height = 0, i._tint = null, i._tintRGB = null, i.tint = 16777215, i.blendMode = ot.NORMAL, i._cachedTint = 16777215, i.uvs = null, i.texture = e || lt.EMPTY, i.vertexData = new Float32Array(8), i.vertexTrimmedData = null, i._transformID = -1, i._textureID = -1, i._transformTrimmedID = -1, i._textureTrimmedID = -1, i.indices = pI, i.pluginName = \"batch\", i.isSprite = !0, i._roundPixels = Q.ROUND_PIXELS, i;\n    }\n    return t.prototype._onTextureUpdate = function() {\n      this._textureID = -1, this._textureTrimmedID = -1, this._cachedTint = 16777215, this._width && (this.scale.x = fa(this.scale.x) * this._width / this._texture.orig.width), this._height && (this.scale.y = fa(this.scale.y) * this._height / this._texture.orig.height);\n    }, t.prototype._onAnchorUpdate = function() {\n      this._transformID = -1, this._transformTrimmedID = -1;\n    }, t.prototype.calculateVertices = function() {\n      var e = this._texture;\n      if (!(this._transformID === this.transform._worldID && this._textureID === e._updateID)) {\n        this._textureID !== e._updateID && (this.uvs = this._texture._uvs.uvsFloat32), this._transformID = this.transform._worldID, this._textureID = e._updateID;\n        var i = this.transform.worldTransform, n = i.a, s = i.b, o = i.c, a = i.d, l = i.tx, u = i.ty, c = this.vertexData, f = e.trim, d = e.orig, p = this._anchor, m = 0, v = 0, y = 0, g = 0;\n        if (f ? (v = f.x - p._x * d.width, m = v + f.width, g = f.y - p._y * d.height, y = g + f.height) : (v = -p._x * d.width, m = v + d.width, g = -p._y * d.height, y = g + d.height), c[0] = n * v + o * g + l, c[1] = a * g + s * v + u, c[2] = n * m + o * g + l, c[3] = a * g + s * m + u, c[4] = n * m + o * y + l, c[5] = a * y + s * m + u, c[6] = n * v + o * y + l, c[7] = a * y + s * v + u, this._roundPixels)\n          for (var w = Q.RESOLUTION, T = 0; T < c.length; ++T)\n            c[T] = Math.round((c[T] * w | 0) / w);\n      }\n    }, t.prototype.calculateTrimmedVertices = function() {\n      if (!this.vertexTrimmedData)\n        this.vertexTrimmedData = new Float32Array(8);\n      else if (this._transformTrimmedID === this.transform._worldID && this._textureTrimmedID === this._texture._updateID)\n        return;\n      this._transformTrimmedID = this.transform._worldID, this._textureTrimmedID = this._texture._updateID;\n      var e = this._texture, i = this.vertexTrimmedData, n = e.orig, s = this._anchor, o = this.transform.worldTransform, a = o.a, l = o.b, u = o.c, c = o.d, f = o.tx, d = o.ty, p = -s._x * n.width, m = p + n.width, v = -s._y * n.height, y = v + n.height;\n      i[0] = a * p + u * v + f, i[1] = c * v + l * p + d, i[2] = a * m + u * v + f, i[3] = c * v + l * m + d, i[4] = a * m + u * y + f, i[5] = c * y + l * m + d, i[6] = a * p + u * y + f, i[7] = c * y + l * p + d;\n    }, t.prototype._render = function(e) {\n      this.calculateVertices(), e.batch.setObjectRenderer(e.plugins[this.pluginName]), e.plugins[this.pluginName].render(this);\n    }, t.prototype._calculateBounds = function() {\n      var e = this._texture.trim, i = this._texture.orig;\n      !e || e.width === i.width && e.height === i.height ? (this.calculateVertices(), this._bounds.addQuad(this.vertexData)) : (this.calculateTrimmedVertices(), this._bounds.addQuad(this.vertexTrimmedData));\n    }, t.prototype.getLocalBounds = function(e) {\n      return this.children.length === 0 ? (this._localBounds || (this._localBounds = new Af()), this._localBounds.minX = this._texture.orig.width * -this._anchor._x, this._localBounds.minY = this._texture.orig.height * -this._anchor._y, this._localBounds.maxX = this._texture.orig.width * (1 - this._anchor._x), this._localBounds.maxY = this._texture.orig.height * (1 - this._anchor._y), e || (this._localBoundsRect || (this._localBoundsRect = new gt()), e = this._localBoundsRect), this._localBounds.getRectangle(e)) : r.prototype.getLocalBounds.call(this, e);\n    }, t.prototype.containsPoint = function(e) {\n      this.worldTransform.applyInverse(e, Fh);\n      var i = this._texture.orig.width, n = this._texture.orig.height, s = -i * this.anchor.x, o = 0;\n      return Fh.x >= s && Fh.x < s + i && (o = -n * this.anchor.y, Fh.y >= o && Fh.y < o + n);\n    }, t.prototype.destroy = function(e) {\n      r.prototype.destroy.call(this, e), this._texture.off(\"update\", this._onTextureUpdate, this), this._anchor = null;\n      var i = typeof e == \"boolean\" ? e : e && e.texture;\n      if (i) {\n        var n = typeof e == \"boolean\" ? e : e && e.baseTexture;\n        this._texture.destroy(!!n);\n      }\n      this._texture = null;\n    }, t.from = function(e, i) {\n      var n = e instanceof lt ? e : lt.from(e, i);\n      return new t(n);\n    }, Object.defineProperty(t.prototype, \"roundPixels\", {\n      get: function() {\n        return this._roundPixels;\n      },\n      /**\n       * If true PixiJS will Math.floor() x/y values when rendering, stopping pixel interpolation.\n       *\n       * Advantages can include sharper image quality (like text) and faster rendering on canvas.\n       * The main disadvantage is movement of objects may appear less smooth.\n       *\n       * To set the global default, change {@link PIXI.settings.ROUND_PIXELS}.\n       * @default false\n       */\n      set: function(e) {\n        this._roundPixels !== e && (this._transformID = -1), this._roundPixels = e;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"width\", {\n      /** The width of the sprite, setting this will actually modify the scale to achieve the value set. */\n      get: function() {\n        return Math.abs(this.scale.x) * this._texture.orig.width;\n      },\n      set: function(e) {\n        var i = fa(this.scale.x) || 1;\n        this.scale.x = i * e / this._texture.orig.width, this._width = e;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"height\", {\n      /** The height of the sprite, setting this will actually modify the scale to achieve the value set. */\n      get: function() {\n        return Math.abs(this.scale.y) * this._texture.orig.height;\n      },\n      set: function(e) {\n        var i = fa(this.scale.y) || 1;\n        this.scale.y = i * e / this._texture.orig.height, this._height = e;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"anchor\", {\n      /**\n       * The anchor sets the origin point of the sprite. The default value is taken from the {@link PIXI.Texture|Texture}\n       * and passed to the constructor.\n       *\n       * The default is `(0,0)`, this means the sprite's origin is the top left.\n       *\n       * Setting the anchor to `(0.5,0.5)` means the sprite's origin is centered.\n       *\n       * Setting the anchor to `(1,1)` would mean the sprite's origin point will be the bottom right corner.\n       *\n       * If you pass only single parameter, it will set both x and y to the same value as shown in the example below.\n       * @example\n       * const sprite = new PIXI.Sprite(texture);\n       * sprite.anchor.set(0.5); // This will set the origin to center. (0.5) is same as (0.5, 0.5).\n       */\n      get: function() {\n        return this._anchor;\n      },\n      set: function(e) {\n        this._anchor.copyFrom(e);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"tint\", {\n      /**\n       * The tint applied to the sprite. This is a hex value.\n       *\n       * A value of 0xFFFFFF will remove any tint effect.\n       * @default 0xFFFFFF\n       */\n      get: function() {\n        return this._tint;\n      },\n      set: function(e) {\n        this._tint = e, this._tintRGB = (e >> 16) + (e & 65280) + ((e & 255) << 16);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"texture\", {\n      /** The texture that the sprite is using. */\n      get: function() {\n        return this._texture;\n      },\n      set: function(e) {\n        this._texture !== e && (this._texture && this._texture.off(\"update\", this._onTextureUpdate, this), this._texture = e || lt.EMPTY, this._cachedTint = 16777215, this._textureID = -1, this._textureTrimmedID = -1, e && (e.baseTexture.valid ? this._onTextureUpdate() : e.once(\"update\", this._onTextureUpdate, this)));\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t;\n  }(Jt)\n);\n/*!\n * @pixi/text - v6.5.9\n * Compiled Wed, 25 Jan 2023 05:01:45 UTC\n *\n * @pixi/text is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\nvar Tm = function(r, t) {\n  return Tm = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(e, i) {\n    e.__proto__ = i;\n  } || function(e, i) {\n    for (var n in i)\n      i.hasOwnProperty(n) && (e[n] = i[n]);\n  }, Tm(r, t);\n};\nfunction vI(r, t) {\n  Tm(r, t);\n  function e() {\n    this.constructor = r;\n  }\n  r.prototype = t === null ? Object.create(t) : (e.prototype = t.prototype, new e());\n}\nvar _l;\n(function(r) {\n  r[r.LINEAR_VERTICAL = 0] = \"LINEAR_VERTICAL\", r[r.LINEAR_HORIZONTAL = 1] = \"LINEAR_HORIZONTAL\";\n})(_l || (_l = {}));\nvar Zv = {\n  align: \"left\",\n  breakWords: !1,\n  dropShadow: !1,\n  dropShadowAlpha: 1,\n  dropShadowAngle: Math.PI / 6,\n  dropShadowBlur: 0,\n  dropShadowColor: \"black\",\n  dropShadowDistance: 5,\n  fill: \"black\",\n  fillGradientType: _l.LINEAR_VERTICAL,\n  fillGradientStops: [],\n  fontFamily: \"Arial\",\n  fontSize: 26,\n  fontStyle: \"normal\",\n  fontVariant: \"normal\",\n  fontWeight: \"normal\",\n  letterSpacing: 0,\n  lineHeight: 0,\n  lineJoin: \"miter\",\n  miterLimit: 10,\n  padding: 0,\n  stroke: \"black\",\n  strokeThickness: 0,\n  textBaseline: \"alphabetic\",\n  trim: !1,\n  whiteSpace: \"pre\",\n  wordWrap: !1,\n  wordWrapWidth: 100,\n  leading: 0\n}, mI = [\n  \"serif\",\n  \"sans-serif\",\n  \"monospace\",\n  \"cursive\",\n  \"fantasy\",\n  \"system-ui\"\n], Wo = (\n  /** @class */\n  function() {\n    function r(t) {\n      this.styleID = 0, this.reset(), Jv(this, t, t);\n    }\n    return r.prototype.clone = function() {\n      var t = {};\n      return Jv(t, this, Zv), new r(t);\n    }, r.prototype.reset = function() {\n      Jv(this, Zv, Zv);\n    }, Object.defineProperty(r.prototype, \"align\", {\n      /**\n       * Alignment for multiline text ('left', 'center' or 'right'), does not affect single line text\n       *\n       * @member {string}\n       */\n      get: function() {\n        return this._align;\n      },\n      set: function(t) {\n        this._align !== t && (this._align = t, this.styleID++);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"breakWords\", {\n      /** Indicates if lines can be wrapped within words, it needs wordWrap to be set to true. */\n      get: function() {\n        return this._breakWords;\n      },\n      set: function(t) {\n        this._breakWords !== t && (this._breakWords = t, this.styleID++);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"dropShadow\", {\n      /** Set a drop shadow for the text. */\n      get: function() {\n        return this._dropShadow;\n      },\n      set: function(t) {\n        this._dropShadow !== t && (this._dropShadow = t, this.styleID++);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"dropShadowAlpha\", {\n      /** Set alpha for the drop shadow. */\n      get: function() {\n        return this._dropShadowAlpha;\n      },\n      set: function(t) {\n        this._dropShadowAlpha !== t && (this._dropShadowAlpha = t, this.styleID++);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"dropShadowAngle\", {\n      /** Set a angle of the drop shadow. */\n      get: function() {\n        return this._dropShadowAngle;\n      },\n      set: function(t) {\n        this._dropShadowAngle !== t && (this._dropShadowAngle = t, this.styleID++);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"dropShadowBlur\", {\n      /** Set a shadow blur radius. */\n      get: function() {\n        return this._dropShadowBlur;\n      },\n      set: function(t) {\n        this._dropShadowBlur !== t && (this._dropShadowBlur = t, this.styleID++);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"dropShadowColor\", {\n      /** A fill style to be used on the dropshadow e.g 'red', '#00FF00'. */\n      get: function() {\n        return this._dropShadowColor;\n      },\n      set: function(t) {\n        var e = Kv(t);\n        this._dropShadowColor !== e && (this._dropShadowColor = e, this.styleID++);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"dropShadowDistance\", {\n      /** Set a distance of the drop shadow. */\n      get: function() {\n        return this._dropShadowDistance;\n      },\n      set: function(t) {\n        this._dropShadowDistance !== t && (this._dropShadowDistance = t, this.styleID++);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"fill\", {\n      /**\n       * A canvas fillstyle that will be used on the text e.g 'red', '#00FF00'.\n       *\n       * Can be an array to create a gradient eg ['#000000','#FFFFFF']\n       * {@link https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/fillStyle|MDN}\n       *\n       * @member {string|string[]|number|number[]|CanvasGradient|CanvasPattern}\n       */\n      get: function() {\n        return this._fill;\n      },\n      set: function(t) {\n        var e = Kv(t);\n        this._fill !== e && (this._fill = e, this.styleID++);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"fillGradientType\", {\n      /**\n       * If fill is an array of colours to create a gradient, this can change the type/direction of the gradient.\n       *\n       * @see PIXI.TEXT_GRADIENT\n       */\n      get: function() {\n        return this._fillGradientType;\n      },\n      set: function(t) {\n        this._fillGradientType !== t && (this._fillGradientType = t, this.styleID++);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"fillGradientStops\", {\n      /**\n       * If fill is an array of colours to create a gradient, this array can set the stop points\n       * (numbers between 0 and 1) for the color, overriding the default behaviour of evenly spacing them.\n       */\n      get: function() {\n        return this._fillGradientStops;\n      },\n      set: function(t) {\n        yI(this._fillGradientStops, t) || (this._fillGradientStops = t, this.styleID++);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"fontFamily\", {\n      /** The font family. */\n      get: function() {\n        return this._fontFamily;\n      },\n      set: function(t) {\n        this.fontFamily !== t && (this._fontFamily = t, this.styleID++);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"fontSize\", {\n      /**\n       * The font size\n       * (as a number it converts to px, but as a string, equivalents are '26px','20pt','160%' or '1.6em')\n       */\n      get: function() {\n        return this._fontSize;\n      },\n      set: function(t) {\n        this._fontSize !== t && (this._fontSize = t, this.styleID++);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"fontStyle\", {\n      /**\n       * The font style\n       * ('normal', 'italic' or 'oblique')\n       *\n       * @member {string}\n       */\n      get: function() {\n        return this._fontStyle;\n      },\n      set: function(t) {\n        this._fontStyle !== t && (this._fontStyle = t, this.styleID++);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"fontVariant\", {\n      /**\n       * The font variant\n       * ('normal' or 'small-caps')\n       *\n       * @member {string}\n       */\n      get: function() {\n        return this._fontVariant;\n      },\n      set: function(t) {\n        this._fontVariant !== t && (this._fontVariant = t, this.styleID++);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"fontWeight\", {\n      /**\n       * The font weight\n       * ('normal', 'bold', 'bolder', 'lighter' and '100', '200', '300', '400', '500', '600', '700', 800' or '900')\n       *\n       * @member {string}\n       */\n      get: function() {\n        return this._fontWeight;\n      },\n      set: function(t) {\n        this._fontWeight !== t && (this._fontWeight = t, this.styleID++);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"letterSpacing\", {\n      /** The amount of spacing between letters, default is 0. */\n      get: function() {\n        return this._letterSpacing;\n      },\n      set: function(t) {\n        this._letterSpacing !== t && (this._letterSpacing = t, this.styleID++);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"lineHeight\", {\n      /** The line height, a number that represents the vertical space that a letter uses. */\n      get: function() {\n        return this._lineHeight;\n      },\n      set: function(t) {\n        this._lineHeight !== t && (this._lineHeight = t, this.styleID++);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"leading\", {\n      /** The space between lines. */\n      get: function() {\n        return this._leading;\n      },\n      set: function(t) {\n        this._leading !== t && (this._leading = t, this.styleID++);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"lineJoin\", {\n      /**\n       * The lineJoin property sets the type of corner created, it can resolve spiked text issues.\n       * Default is 'miter' (creates a sharp corner).\n       *\n       * @member {string}\n       */\n      get: function() {\n        return this._lineJoin;\n      },\n      set: function(t) {\n        this._lineJoin !== t && (this._lineJoin = t, this.styleID++);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"miterLimit\", {\n      /**\n       * The miter limit to use when using the 'miter' lineJoin mode.\n       *\n       * This can reduce or increase the spikiness of rendered text.\n       */\n      get: function() {\n        return this._miterLimit;\n      },\n      set: function(t) {\n        this._miterLimit !== t && (this._miterLimit = t, this.styleID++);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"padding\", {\n      /**\n       * Occasionally some fonts are cropped. Adding some padding will prevent this from happening\n       * by adding padding to all sides of the text.\n       */\n      get: function() {\n        return this._padding;\n      },\n      set: function(t) {\n        this._padding !== t && (this._padding = t, this.styleID++);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"stroke\", {\n      /**\n       * A canvas fillstyle that will be used on the text stroke\n       * e.g 'blue', '#FCFF00'\n       */\n      get: function() {\n        return this._stroke;\n      },\n      set: function(t) {\n        var e = Kv(t);\n        this._stroke !== e && (this._stroke = e, this.styleID++);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"strokeThickness\", {\n      /**\n       * A number that represents the thickness of the stroke.\n       *\n       * @default 0\n       */\n      get: function() {\n        return this._strokeThickness;\n      },\n      set: function(t) {\n        this._strokeThickness !== t && (this._strokeThickness = t, this.styleID++);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"textBaseline\", {\n      /**\n       * The baseline of the text that is rendered.\n       *\n       * @member {string}\n       */\n      get: function() {\n        return this._textBaseline;\n      },\n      set: function(t) {\n        this._textBaseline !== t && (this._textBaseline = t, this.styleID++);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"trim\", {\n      /** Trim transparent borders. */\n      get: function() {\n        return this._trim;\n      },\n      set: function(t) {\n        this._trim !== t && (this._trim = t, this.styleID++);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"whiteSpace\", {\n      /**\n       * How newlines and spaces should be handled.\n       * Default is 'pre' (preserve, preserve).\n       *\n       *  value       | New lines     |   Spaces\n       *  ---         | ---           |   ---\n       * 'normal'     | Collapse      |   Collapse\n       * 'pre'        | Preserve      |   Preserve\n       * 'pre-line'   | Preserve      |   Collapse\n       *\n       * @member {string}\n       */\n      get: function() {\n        return this._whiteSpace;\n      },\n      set: function(t) {\n        this._whiteSpace !== t && (this._whiteSpace = t, this.styleID++);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"wordWrap\", {\n      /** Indicates if word wrap should be used. */\n      get: function() {\n        return this._wordWrap;\n      },\n      set: function(t) {\n        this._wordWrap !== t && (this._wordWrap = t, this.styleID++);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"wordWrapWidth\", {\n      /** The width at which text will wrap, it needs wordWrap to be set to true. */\n      get: function() {\n        return this._wordWrapWidth;\n      },\n      set: function(t) {\n        this._wordWrapWidth !== t && (this._wordWrapWidth = t, this.styleID++);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), r.prototype.toFontString = function() {\n      var t = typeof this.fontSize == \"number\" ? this.fontSize + \"px\" : this.fontSize, e = this.fontFamily;\n      Array.isArray(this.fontFamily) || (e = this.fontFamily.split(\",\"));\n      for (var i = e.length - 1; i >= 0; i--) {\n        var n = e[i].trim();\n        !/([\\\"\\'])[^\\'\\\"]+\\1/.test(n) && mI.indexOf(n) < 0 && (n = '\"' + n + '\"'), e[i] = n;\n      }\n      return this.fontStyle + \" \" + this.fontVariant + \" \" + this.fontWeight + \" \" + t + \" \" + e.join(\",\");\n    }, r;\n  }()\n);\nfunction kg(r) {\n  return typeof r == \"number\" ? I0(r) : (typeof r == \"string\" && r.indexOf(\"0x\") === 0 && (r = r.replace(\"0x\", \"#\")), r);\n}\nfunction Kv(r) {\n  if (Array.isArray(r)) {\n    for (var t = 0; t < r.length; ++t)\n      r[t] = kg(r[t]);\n    return r;\n  } else\n    return kg(r);\n}\nfunction yI(r, t) {\n  if (!Array.isArray(r) || !Array.isArray(t) || r.length !== t.length)\n    return !1;\n  for (var e = 0; e < r.length; ++e)\n    if (r[e] !== t[e])\n      return !1;\n  return !0;\n}\nfunction Jv(r, t, e) {\n  for (var i in e)\n    Array.isArray(t[i]) ? r[i] = t[i].slice() : r[i] = t[i];\n}\nvar Vc = {\n  // TextMetrics requires getImageData readback for measuring fonts.\n  willReadFrequently: !0\n}, nn = (\n  /** @class */\n  function() {\n    function r(t, e, i, n, s, o, a, l, u) {\n      this.text = t, this.style = e, this.width = i, this.height = n, this.lines = s, this.lineWidths = o, this.lineHeight = a, this.maxLineWidth = l, this.fontProperties = u;\n    }\n    return r.measureText = function(t, e, i, n) {\n      n === void 0 && (n = r._canvas), i = i ?? e.wordWrap;\n      var s = e.toFontString(), o = r.measureFont(s);\n      o.fontSize === 0 && (o.fontSize = e.fontSize, o.ascent = e.fontSize);\n      var a = n.getContext(\"2d\", Vc);\n      a.font = s;\n      for (var l = i ? r.wordWrap(t, e, n) : t, u = l.split(/(?:\\r\\n|\\r|\\n)/), c = new Array(u.length), f = 0, d = 0; d < u.length; d++) {\n        var p = a.measureText(u[d]).width + (u[d].length - 1) * e.letterSpacing;\n        c[d] = p, f = Math.max(f, p);\n      }\n      var m = f + e.strokeThickness;\n      e.dropShadow && (m += e.dropShadowDistance);\n      var v = e.lineHeight || o.fontSize + e.strokeThickness, y = Math.max(v, o.fontSize + e.strokeThickness) + (u.length - 1) * (v + e.leading);\n      return e.dropShadow && (y += e.dropShadowDistance), new r(t, e, m, y, u, c, v + e.leading, f, o);\n    }, r.wordWrap = function(t, e, i) {\n      i === void 0 && (i = r._canvas);\n      for (var n = i.getContext(\"2d\", Vc), s = 0, o = \"\", a = \"\", l = /* @__PURE__ */ Object.create(null), u = e.letterSpacing, c = e.whiteSpace, f = r.collapseSpaces(c), d = r.collapseNewlines(c), p = !f, m = e.wordWrapWidth + u, v = r.tokenize(t), y = 0; y < v.length; y++) {\n        var g = v[y];\n        if (r.isNewline(g)) {\n          if (!d) {\n            a += r.addLine(o), p = !f, o = \"\", s = 0;\n            continue;\n          }\n          g = \" \";\n        }\n        if (f) {\n          var w = r.isBreakingSpace(g), T = r.isBreakingSpace(o[o.length - 1]);\n          if (w && T)\n            continue;\n        }\n        var P = r.getFromCache(g, u, l, n);\n        if (P > m)\n          if (o !== \"\" && (a += r.addLine(o), o = \"\", s = 0), r.canBreakWords(g, e.breakWords))\n            for (var O = r.wordWrapSplit(g), C = 0; C < O.length; C++) {\n              for (var I = O[C], S = 1; O[C + S]; ) {\n                var M = O[C + S], N = I[I.length - 1];\n                if (!r.canBreakChars(N, M, g, C, e.breakWords))\n                  I += M;\n                else\n                  break;\n                S++;\n              }\n              C += I.length - 1;\n              var D = r.getFromCache(I, u, l, n);\n              D + s > m && (a += r.addLine(o), p = !1, o = \"\", s = 0), o += I, s += D;\n            }\n          else {\n            o.length > 0 && (a += r.addLine(o), o = \"\", s = 0);\n            var z = y === v.length - 1;\n            a += r.addLine(g, !z), p = !1, o = \"\", s = 0;\n          }\n        else\n          P + s > m && (p = !1, a += r.addLine(o), o = \"\", s = 0), (o.length > 0 || !r.isBreakingSpace(g) || p) && (o += g, s += P);\n      }\n      return a += r.addLine(o, !1), a;\n    }, r.addLine = function(t, e) {\n      return e === void 0 && (e = !0), t = r.trimRight(t), t = e ? t + `\n` : t, t;\n    }, r.getFromCache = function(t, e, i, n) {\n      var s = i[t];\n      if (typeof s != \"number\") {\n        var o = t.length * e;\n        s = n.measureText(t).width + o, i[t] = s;\n      }\n      return s;\n    }, r.collapseSpaces = function(t) {\n      return t === \"normal\" || t === \"pre-line\";\n    }, r.collapseNewlines = function(t) {\n      return t === \"normal\";\n    }, r.trimRight = function(t) {\n      if (typeof t != \"string\")\n        return \"\";\n      for (var e = t.length - 1; e >= 0; e--) {\n        var i = t[e];\n        if (!r.isBreakingSpace(i))\n          break;\n        t = t.slice(0, -1);\n      }\n      return t;\n    }, r.isNewline = function(t) {\n      return typeof t != \"string\" ? !1 : r._newlines.indexOf(t.charCodeAt(0)) >= 0;\n    }, r.isBreakingSpace = function(t, e) {\n      return typeof t != \"string\" ? !1 : r._breakingSpaces.indexOf(t.charCodeAt(0)) >= 0;\n    }, r.tokenize = function(t) {\n      var e = [], i = \"\";\n      if (typeof t != \"string\")\n        return e;\n      for (var n = 0; n < t.length; n++) {\n        var s = t[n], o = t[n + 1];\n        if (r.isBreakingSpace(s, o) || r.isNewline(s)) {\n          i !== \"\" && (e.push(i), i = \"\"), e.push(s);\n          continue;\n        }\n        i += s;\n      }\n      return i !== \"\" && e.push(i), e;\n    }, r.canBreakWords = function(t, e) {\n      return e;\n    }, r.canBreakChars = function(t, e, i, n, s) {\n      return !0;\n    }, r.wordWrapSplit = function(t) {\n      return t.split(\"\");\n    }, r.measureFont = function(t) {\n      if (r._fonts[t])\n        return r._fonts[t];\n      var e = {\n        ascent: 0,\n        descent: 0,\n        fontSize: 0\n      }, i = r._canvas, n = r._context;\n      n.font = t;\n      var s = r.METRICS_STRING + r.BASELINE_SYMBOL, o = Math.ceil(n.measureText(s).width), a = Math.ceil(n.measureText(r.BASELINE_SYMBOL).width), l = Math.ceil(r.HEIGHT_MULTIPLIER * a);\n      a = a * r.BASELINE_MULTIPLIER | 0, i.width = o, i.height = l, n.fillStyle = \"#f00\", n.fillRect(0, 0, o, l), n.font = t, n.textBaseline = \"alphabetic\", n.fillStyle = \"#000\", n.fillText(s, 0, a);\n      var u = n.getImageData(0, 0, o, l).data, c = u.length, f = o * 4, d = 0, p = 0, m = !1;\n      for (d = 0; d < a; ++d) {\n        for (var v = 0; v < f; v += 4)\n          if (u[p + v] !== 255) {\n            m = !0;\n            break;\n          }\n        if (!m)\n          p += f;\n        else\n          break;\n      }\n      for (e.ascent = a - d, p = c - f, m = !1, d = l; d > a; --d) {\n        for (var v = 0; v < f; v += 4)\n          if (u[p + v] !== 255) {\n            m = !0;\n            break;\n          }\n        if (!m)\n          p -= f;\n        else\n          break;\n      }\n      return e.descent = d - a, e.fontSize = e.ascent + e.descent, r._fonts[t] = e, e;\n    }, r.clearMetrics = function(t) {\n      t === void 0 && (t = \"\"), t ? delete r._fonts[t] : r._fonts = {};\n    }, Object.defineProperty(r, \"_canvas\", {\n      /**\n       * Cached canvas element for measuring text\n       * TODO: this should be private, but isn't because of backward compat, will fix later.\n       * @ignore\n       */\n      get: function() {\n        if (!r.__canvas) {\n          var t = void 0;\n          try {\n            var e = new OffscreenCanvas(0, 0), i = e.getContext(\"2d\", Vc);\n            if (i && i.measureText)\n              return r.__canvas = e, e;\n            t = Q.ADAPTER.createCanvas();\n          } catch {\n            t = Q.ADAPTER.createCanvas();\n          }\n          t.width = t.height = 10, r.__canvas = t;\n        }\n        return r.__canvas;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r, \"_context\", {\n      /**\n       * TODO: this should be private, but isn't because of backward compat, will fix later.\n       * @ignore\n       */\n      get: function() {\n        return r.__context || (r.__context = r._canvas.getContext(\"2d\", Vc)), r.__context;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), r;\n  }()\n);\nnn._fonts = {};\nnn.METRICS_STRING = \"|ÉqÅ\";\nnn.BASELINE_SYMBOL = \"M\";\nnn.BASELINE_MULTIPLIER = 1.4;\nnn.HEIGHT_MULTIPLIER = 2;\nnn._newlines = [\n  10,\n  13\n];\nnn._breakingSpaces = [\n  9,\n  32,\n  8192,\n  8193,\n  8194,\n  8195,\n  8196,\n  8197,\n  8198,\n  8200,\n  8201,\n  8202,\n  8287,\n  12288\n];\nvar _I = {\n  texture: !0,\n  children: !1,\n  baseTexture: !0\n}, m_ = (\n  /** @class */\n  function(r) {\n    vI(t, r);\n    function t(e, i, n) {\n      var s = this, o = !1;\n      n || (n = Q.ADAPTER.createCanvas(), o = !0), n.width = 3, n.height = 3;\n      var a = lt.from(n);\n      return a.orig = new gt(), a.trim = new gt(), s = r.call(this, a) || this, s._ownCanvas = o, s.canvas = n, s.context = n.getContext(\"2d\", {\n        // required for trimming to work without warnings\n        willReadFrequently: !0\n      }), s._resolution = Q.RESOLUTION, s._autoResolution = !0, s._text = null, s._style = null, s._styleListener = null, s._font = \"\", s.text = e, s.style = i, s.localStyleID = -1, s;\n    }\n    return t.prototype.updateText = function(e) {\n      var i = this._style;\n      if (this.localStyleID !== i.styleID && (this.dirty = !0, this.localStyleID = i.styleID), !(!this.dirty && e)) {\n        this._font = this._style.toFontString();\n        var n = this.context, s = nn.measureText(this._text || \" \", this._style, this._style.wordWrap, this.canvas), o = s.width, a = s.height, l = s.lines, u = s.lineHeight, c = s.lineWidths, f = s.maxLineWidth, d = s.fontProperties;\n        this.canvas.width = Math.ceil(Math.ceil(Math.max(1, o) + i.padding * 2) * this._resolution), this.canvas.height = Math.ceil(Math.ceil(Math.max(1, a) + i.padding * 2) * this._resolution), n.scale(this._resolution, this._resolution), n.clearRect(0, 0, this.canvas.width, this.canvas.height), n.font = this._font, n.lineWidth = i.strokeThickness, n.textBaseline = i.textBaseline, n.lineJoin = i.lineJoin, n.miterLimit = i.miterLimit;\n        for (var p, m, v = i.dropShadow ? 2 : 1, y = 0; y < v; ++y) {\n          var g = i.dropShadow && y === 0, w = g ? Math.ceil(Math.max(1, a) + i.padding * 2) : 0, T = w * this._resolution;\n          if (g) {\n            n.fillStyle = \"black\", n.strokeStyle = \"black\";\n            var P = i.dropShadowColor, O = wh(typeof P == \"number\" ? P : C0(P)), C = i.dropShadowBlur * this._resolution, I = i.dropShadowDistance * this._resolution;\n            n.shadowColor = \"rgba(\" + O[0] * 255 + \",\" + O[1] * 255 + \",\" + O[2] * 255 + \",\" + i.dropShadowAlpha + \")\", n.shadowBlur = C, n.shadowOffsetX = Math.cos(i.dropShadowAngle) * I, n.shadowOffsetY = Math.sin(i.dropShadowAngle) * I + T;\n          } else\n            n.fillStyle = this._generateFillStyle(i, l, s), n.strokeStyle = i.stroke, n.shadowColor = \"black\", n.shadowBlur = 0, n.shadowOffsetX = 0, n.shadowOffsetY = 0;\n          var S = (u - d.fontSize) / 2;\n          (!t.nextLineHeightBehavior || u - d.fontSize < 0) && (S = 0);\n          for (var M = 0; M < l.length; M++)\n            p = i.strokeThickness / 2, m = i.strokeThickness / 2 + M * u + d.ascent + S, i.align === \"right\" ? p += f - c[M] : i.align === \"center\" && (p += (f - c[M]) / 2), i.stroke && i.strokeThickness && this.drawLetterSpacing(l[M], p + i.padding, m + i.padding - w, !0), i.fill && this.drawLetterSpacing(l[M], p + i.padding, m + i.padding - w);\n        }\n        this.updateTexture();\n      }\n    }, t.prototype.drawLetterSpacing = function(e, i, n, s) {\n      s === void 0 && (s = !1);\n      var o = this._style, a = o.letterSpacing, l = t.experimentalLetterSpacing && (\"letterSpacing\" in CanvasRenderingContext2D.prototype || \"textLetterSpacing\" in CanvasRenderingContext2D.prototype);\n      if (a === 0 || l) {\n        l && (this.context.letterSpacing = a, this.context.textLetterSpacing = a), s ? this.context.strokeText(e, i, n) : this.context.fillText(e, i, n);\n        return;\n      }\n      for (var u = i, c = Array.from ? Array.from(e) : e.split(\"\"), f = this.context.measureText(e).width, d = 0, p = 0; p < c.length; ++p) {\n        var m = c[p];\n        s ? this.context.strokeText(m, u, n) : this.context.fillText(m, u, n);\n        for (var v = \"\", y = p + 1; y < c.length; ++y)\n          v += c[y];\n        d = this.context.measureText(v).width, u += f - d + a, f = d;\n      }\n    }, t.prototype.updateTexture = function() {\n      var e = this.canvas;\n      if (this._style.trim) {\n        var i = zS(e);\n        i.data && (e.width = i.width, e.height = i.height, this.context.putImageData(i.data, 0, 0));\n      }\n      var n = this._texture, s = this._style, o = s.trim ? 0 : s.padding, a = n.baseTexture;\n      n.trim.width = n._frame.width = e.width / this._resolution, n.trim.height = n._frame.height = e.height / this._resolution, n.trim.x = -o, n.trim.y = -o, n.orig.width = n._frame.width - o * 2, n.orig.height = n._frame.height - o * 2, this._onTextureUpdate(), a.setRealSize(e.width, e.height, this._resolution), n.updateUvs(), this.dirty = !1;\n    }, t.prototype._render = function(e) {\n      this._autoResolution && this._resolution !== e.resolution && (this._resolution = e.resolution, this.dirty = !0), this.updateText(!0), r.prototype._render.call(this, e);\n    }, t.prototype.updateTransform = function() {\n      this.updateText(!0), r.prototype.updateTransform.call(this);\n    }, t.prototype.getBounds = function(e, i) {\n      return this.updateText(!0), this._textureID === -1 && (e = !1), r.prototype.getBounds.call(this, e, i);\n    }, t.prototype.getLocalBounds = function(e) {\n      return this.updateText(!0), r.prototype.getLocalBounds.call(this, e);\n    }, t.prototype._calculateBounds = function() {\n      this.calculateVertices(), this._bounds.addQuad(this.vertexData);\n    }, t.prototype._generateFillStyle = function(e, i, n) {\n      var s = e.fill;\n      if (Array.isArray(s)) {\n        if (s.length === 1)\n          return s[0];\n      } else\n        return s;\n      var o, a = e.dropShadow ? e.dropShadowDistance : 0, l = e.padding || 0, u = this.canvas.width / this._resolution - a - l * 2, c = this.canvas.height / this._resolution - a - l * 2, f = s.slice(), d = e.fillGradientStops.slice();\n      if (!d.length)\n        for (var p = f.length + 1, m = 1; m < p; ++m)\n          d.push(m / p);\n      if (f.unshift(s[0]), d.unshift(0), f.push(s[s.length - 1]), d.push(1), e.fillGradientType === _l.LINEAR_VERTICAL) {\n        o = this.context.createLinearGradient(u / 2, l, u / 2, c + l);\n        for (var v = n.fontProperties.fontSize + e.strokeThickness, m = 0; m < i.length; m++) {\n          var y = n.lineHeight * (m - 1) + v, g = n.lineHeight * m, w = g;\n          m > 0 && y > g && (w = (g + y) / 2);\n          var T = g + v, P = n.lineHeight * (m + 1), O = T;\n          m + 1 < i.length && P < T && (O = (T + P) / 2);\n          for (var C = (O - w) / c, I = 0; I < f.length; I++) {\n            var S = 0;\n            typeof d[I] == \"number\" ? S = d[I] : S = I / f.length;\n            var M = Math.min(1, Math.max(0, w / c + S * C));\n            M = Number(M.toFixed(5)), o.addColorStop(M, f[I]);\n          }\n        }\n      } else {\n        o = this.context.createLinearGradient(l, c / 2, u + l, c / 2);\n        for (var N = f.length + 1, D = 1, m = 0; m < f.length; m++) {\n          var z = void 0;\n          typeof d[m] == \"number\" ? z = d[m] : z = D / N, o.addColorStop(z, f[m]), D++;\n        }\n      }\n      return o;\n    }, t.prototype.destroy = function(e) {\n      typeof e == \"boolean\" && (e = { children: e }), e = Object.assign({}, _I, e), r.prototype.destroy.call(this, e), this._ownCanvas && (this.canvas.height = this.canvas.width = 0), this.context = null, this.canvas = null, this._style = null;\n    }, Object.defineProperty(t.prototype, \"width\", {\n      /** The width of the Text, setting this will actually modify the scale to achieve the value set. */\n      get: function() {\n        return this.updateText(!0), Math.abs(this.scale.x) * this._texture.orig.width;\n      },\n      set: function(e) {\n        this.updateText(!0);\n        var i = fa(this.scale.x) || 1;\n        this.scale.x = i * e / this._texture.orig.width, this._width = e;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"height\", {\n      /** The height of the Text, setting this will actually modify the scale to achieve the value set. */\n      get: function() {\n        return this.updateText(!0), Math.abs(this.scale.y) * this._texture.orig.height;\n      },\n      set: function(e) {\n        this.updateText(!0);\n        var i = fa(this.scale.y) || 1;\n        this.scale.y = i * e / this._texture.orig.height, this._height = e;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"style\", {\n      /**\n       * Set the style of the text.\n       *\n       * Set up an event listener to listen for changes on the style object and mark the text as dirty.\n       */\n      get: function() {\n        return this._style;\n      },\n      set: function(e) {\n        e = e || {}, e instanceof Wo ? this._style = e : this._style = new Wo(e), this.localStyleID = -1, this.dirty = !0;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"text\", {\n      /** Set the copy for the text object. To split a line you can use '\\n'. */\n      get: function() {\n        return this._text;\n      },\n      set: function(e) {\n        e = String(e ?? \"\"), this._text !== e && (this._text = e, this.dirty = !0);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"resolution\", {\n      /**\n       * The resolution / device pixel ratio of the canvas.\n       *\n       * This is set to automatically match the renderer resolution by default, but can be overridden by setting manually.\n       * @default 1\n       */\n      get: function() {\n        return this._resolution;\n      },\n      set: function(e) {\n        this._autoResolution = !1, this._resolution !== e && (this._resolution = e, this.dirty = !0);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t.nextLineHeightBehavior = !1, t.experimentalLetterSpacing = !1, t;\n  }(ge)\n);\n/*!\n * @pixi/prepare - v6.5.9\n * Compiled Wed, 25 Jan 2023 05:01:45 UTC\n *\n * @pixi/prepare is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */\nQ.UPLOADS_PER_FRAME = 4;\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\nvar Sm = function(r, t) {\n  return Sm = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(e, i) {\n    e.__proto__ = i;\n  } || function(e, i) {\n    for (var n in i)\n      i.hasOwnProperty(n) && (e[n] = i[n]);\n  }, Sm(r, t);\n};\nfunction gI(r, t) {\n  Sm(r, t);\n  function e() {\n    this.constructor = r;\n  }\n  r.prototype = t === null ? Object.create(t) : (e.prototype = t.prototype, new e());\n}\nvar bI = (\n  /** @class */\n  function() {\n    function r(t) {\n      this.maxItemsPerFrame = t, this.itemsLeft = 0;\n    }\n    return r.prototype.beginFrame = function() {\n      this.itemsLeft = this.maxItemsPerFrame;\n    }, r.prototype.allowedToUpload = function() {\n      return this.itemsLeft-- > 0;\n    }, r;\n  }()\n);\nfunction xI(r, t) {\n  var e = !1;\n  if (r && r._textures && r._textures.length) {\n    for (var i = 0; i < r._textures.length; i++)\n      if (r._textures[i] instanceof lt) {\n        var n = r._textures[i].baseTexture;\n        t.indexOf(n) === -1 && (t.push(n), e = !0);\n      }\n  }\n  return e;\n}\nfunction wI(r, t) {\n  if (r.baseTexture instanceof It) {\n    var e = r.baseTexture;\n    return t.indexOf(e) === -1 && t.push(e), !0;\n  }\n  return !1;\n}\nfunction EI(r, t) {\n  if (r._texture && r._texture instanceof lt) {\n    var e = r._texture.baseTexture;\n    return t.indexOf(e) === -1 && t.push(e), !0;\n  }\n  return !1;\n}\nfunction TI(r, t) {\n  return t instanceof m_ ? (t.updateText(!0), !0) : !1;\n}\nfunction SI(r, t) {\n  if (t instanceof Wo) {\n    var e = t.toFontString();\n    return nn.measureFont(e), !0;\n  }\n  return !1;\n}\nfunction PI(r, t) {\n  if (r instanceof m_) {\n    t.indexOf(r.style) === -1 && t.push(r.style), t.indexOf(r) === -1 && t.push(r);\n    var e = r._texture.baseTexture;\n    return t.indexOf(e) === -1 && t.push(e), !0;\n  }\n  return !1;\n}\nfunction OI(r, t) {\n  return r instanceof Wo ? (t.indexOf(r) === -1 && t.push(r), !0) : !1;\n}\nvar II = (\n  /** @class */\n  function() {\n    function r(t) {\n      var e = this;\n      this.limiter = new bI(Q.UPLOADS_PER_FRAME), this.renderer = t, this.uploadHookHelper = null, this.queue = [], this.addHooks = [], this.uploadHooks = [], this.completes = [], this.ticking = !1, this.delayedTick = function() {\n        e.queue && e.prepareItems();\n      }, this.registerFindHook(PI), this.registerFindHook(OI), this.registerFindHook(xI), this.registerFindHook(wI), this.registerFindHook(EI), this.registerUploadHook(TI), this.registerUploadHook(SI);\n    }\n    return r.prototype.upload = function(t, e) {\n      var i = this;\n      return typeof t == \"function\" && (e = t, t = null), e && fi(\"6.5.0\", \"BasePrepare.upload callback is deprecated, use the return Promise instead.\"), new Promise(function(n) {\n        t && i.add(t);\n        var s = function() {\n          e == null || e(), n();\n        };\n        i.queue.length ? (i.completes.push(s), i.ticking || (i.ticking = !0, _e.system.addOnce(i.tick, i, Un.UTILITY))) : s();\n      });\n    }, r.prototype.tick = function() {\n      setTimeout(this.delayedTick, 0);\n    }, r.prototype.prepareItems = function() {\n      for (this.limiter.beginFrame(); this.queue.length && this.limiter.allowedToUpload(); ) {\n        var t = this.queue[0], e = !1;\n        if (t && !t._destroyed) {\n          for (var i = 0, n = this.uploadHooks.length; i < n; i++)\n            if (this.uploadHooks[i](this.uploadHookHelper, t)) {\n              this.queue.shift(), e = !0;\n              break;\n            }\n        }\n        e || this.queue.shift();\n      }\n      if (this.queue.length)\n        _e.system.addOnce(this.tick, this, Un.UTILITY);\n      else {\n        this.ticking = !1;\n        var s = this.completes.slice(0);\n        this.completes.length = 0;\n        for (var i = 0, n = s.length; i < n; i++)\n          s[i]();\n      }\n    }, r.prototype.registerFindHook = function(t) {\n      return t && this.addHooks.push(t), this;\n    }, r.prototype.registerUploadHook = function(t) {\n      return t && this.uploadHooks.push(t), this;\n    }, r.prototype.add = function(t) {\n      for (var e = 0, i = this.addHooks.length; e < i && !this.addHooks[e](t, this.queue); e++)\n        ;\n      if (t instanceof Jt)\n        for (var e = t.children.length - 1; e >= 0; e--)\n          this.add(t.children[e]);\n      return this;\n    }, r.prototype.destroy = function() {\n      this.ticking && _e.system.remove(this.tick, this), this.ticking = !1, this.addHooks = null, this.uploadHooks = null, this.renderer = null, this.completes = null, this.queue = null, this.limiter = null, this.uploadHookHelper = null;\n    }, r;\n  }()\n);\nfunction _b(r, t) {\n  return t instanceof It ? (t._glTextures[r.CONTEXT_UID] || r.texture.bind(t), !0) : !1;\n}\nfunction CI(r, t) {\n  if (!(t instanceof Ri))\n    return !1;\n  var e = t.geometry;\n  t.finishPoly(), e.updateBatches();\n  for (var i = e.batches, n = 0; n < i.length; n++) {\n    var s = i[n].style.texture;\n    s && _b(r, s.baseTexture);\n  }\n  return e.batchable || r.geometry.bind(e, t._resolveDirectShader(r)), !0;\n}\nfunction MI(r, t) {\n  return r instanceof Ri ? (t.push(r), !0) : !1;\n}\nvar RI = (\n  /** @class */\n  function(r) {\n    gI(t, r);\n    function t(e) {\n      var i = r.call(this, e) || this;\n      return i.uploadHookHelper = i.renderer, i.registerFindHook(MI), i.registerUploadHook(_b), i.registerUploadHook(CI), i;\n    }\n    return t.extension = {\n      name: \"prepare\",\n      type: Xt.RendererPlugin\n    }, t;\n  }(II)\n);\n/*!\n * @pixi/spritesheet - v6.5.9\n * Compiled Wed, 25 Jan 2023 05:01:45 UTC\n *\n * @pixi/spritesheet is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */\nvar kI = (\n  /** @class */\n  function() {\n    function r(t, e, i) {\n      i === void 0 && (i = null), this.linkedSheets = [], this._texture = t instanceof lt ? t : null, this.baseTexture = t instanceof It ? t : this._texture.baseTexture, this.textures = {}, this.animations = {}, this.data = e;\n      var n = this.baseTexture.resource;\n      this.resolution = this._updateResolution(i || (n ? n.url : null)), this._frames = this.data.frames, this._frameKeys = Object.keys(this._frames), this._batchIndex = 0, this._callback = null;\n    }\n    return r.prototype._updateResolution = function(t) {\n      t === void 0 && (t = null);\n      var e = this.data.meta.scale, i = Nf(t, null);\n      return i === null && (i = e !== void 0 ? parseFloat(e) : 1), i !== 1 && this.baseTexture.setResolution(i), i;\n    }, r.prototype.parse = function(t) {\n      var e = this;\n      return t && fi(\"6.5.0\", \"Spritesheet.parse callback is deprecated, use the return Promise instead.\"), new Promise(function(i) {\n        e._callback = function(n) {\n          t == null || t(n), i(n);\n        }, e._batchIndex = 0, e._frameKeys.length <= r.BATCH_SIZE ? (e._processFrames(0), e._processAnimations(), e._parseComplete()) : e._nextBatch();\n      });\n    }, r.prototype._processFrames = function(t) {\n      for (var e = t, i = r.BATCH_SIZE; e - t < i && e < this._frameKeys.length; ) {\n        var n = this._frameKeys[e], s = this._frames[n], o = s.frame;\n        if (o) {\n          var a = null, l = null, u = s.trimmed !== !1 && s.sourceSize ? s.sourceSize : s.frame, c = new gt(0, 0, Math.floor(u.w) / this.resolution, Math.floor(u.h) / this.resolution);\n          s.rotated ? a = new gt(Math.floor(o.x) / this.resolution, Math.floor(o.y) / this.resolution, Math.floor(o.h) / this.resolution, Math.floor(o.w) / this.resolution) : a = new gt(Math.floor(o.x) / this.resolution, Math.floor(o.y) / this.resolution, Math.floor(o.w) / this.resolution, Math.floor(o.h) / this.resolution), s.trimmed !== !1 && s.spriteSourceSize && (l = new gt(Math.floor(s.spriteSourceSize.x) / this.resolution, Math.floor(s.spriteSourceSize.y) / this.resolution, Math.floor(o.w) / this.resolution, Math.floor(o.h) / this.resolution)), this.textures[n] = new lt(this.baseTexture, a, c, l, s.rotated ? 2 : 0, s.anchor), lt.addToCache(this.textures[n], n);\n        }\n        e++;\n      }\n    }, r.prototype._processAnimations = function() {\n      var t = this.data.animations || {};\n      for (var e in t) {\n        this.animations[e] = [];\n        for (var i = 0; i < t[e].length; i++) {\n          var n = t[e][i];\n          this.animations[e].push(this.textures[n]);\n        }\n      }\n    }, r.prototype._parseComplete = function() {\n      var t = this._callback;\n      this._callback = null, this._batchIndex = 0, t.call(this, this.textures);\n    }, r.prototype._nextBatch = function() {\n      var t = this;\n      this._processFrames(this._batchIndex * r.BATCH_SIZE), this._batchIndex++, setTimeout(function() {\n        t._batchIndex * r.BATCH_SIZE < t._frameKeys.length ? t._nextBatch() : (t._processAnimations(), t._parseComplete());\n      }, 0);\n    }, r.prototype.destroy = function(t) {\n      var e;\n      t === void 0 && (t = !1);\n      for (var i in this.textures)\n        this.textures[i].destroy();\n      this._frames = null, this._frameKeys = null, this.data = null, this.textures = null, t && ((e = this._texture) === null || e === void 0 || e.destroy(), this.baseTexture.destroy()), this._texture = null, this.baseTexture = null, this.linkedSheets = [];\n    }, r.BATCH_SIZE = 1e3, r;\n  }()\n), NI = (\n  /** @class */\n  function() {\n    function r() {\n    }\n    return r.use = function(t, e) {\n      var i, n, s = this, o = t.name + \"_image\";\n      if (!t.data || t.type !== _t.TYPE.JSON || !t.data.frames || s.resources[o]) {\n        e();\n        return;\n      }\n      var a = (n = (i = t.data) === null || i === void 0 ? void 0 : i.meta) === null || n === void 0 ? void 0 : n.related_multi_packs;\n      if (Array.isArray(a))\n        for (var l = function(m) {\n          if (typeof m != \"string\")\n            return \"continue\";\n          var v = m.replace(\".json\", \"\"), y = ca.resolve(t.url.replace(s.baseUrl, \"\"), m);\n          if (s.resources[v] || Object.values(s.resources).some(function(w) {\n            return ca.format(ca.parse(w.url)) === y;\n          }))\n            return \"continue\";\n          var g = {\n            crossOrigin: t.crossOrigin,\n            loadType: _t.LOAD_TYPE.XHR,\n            xhrType: _t.XHR_RESPONSE_TYPE.JSON,\n            parentResource: t,\n            metadata: t.metadata\n          };\n          s.add(v, y, g);\n        }, u = 0, c = a; u < c.length; u++) {\n          var f = c[u];\n          l(f);\n        }\n      var d = {\n        crossOrigin: t.crossOrigin,\n        metadata: t.metadata.imageMetadata,\n        parentResource: t\n      }, p = r.getResourcePath(t, s.baseUrl);\n      s.add(o, p, d, function(v) {\n        if (v.error) {\n          e(v.error);\n          return;\n        }\n        var y = new kI(v.texture, t.data, t.url);\n        y.parse().then(function() {\n          t.spritesheet = y, t.textures = y.textures, e();\n        });\n      });\n    }, r.getResourcePath = function(t, e) {\n      return t.isDataUrl ? t.data.meta.image : ca.resolve(t.url.replace(e, \"\"), t.data.meta.image);\n    }, r.extension = Xt.Loader, r;\n  }()\n);\n/*!\n * @pixi/sprite-tiling - v6.5.9\n * Compiled Wed, 25 Jan 2023 05:01:45 UTC\n *\n * @pixi/sprite-tiling is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\nvar Pm = function(r, t) {\n  return Pm = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(e, i) {\n    e.__proto__ = i;\n  } || function(e, i) {\n    for (var n in i)\n      i.hasOwnProperty(n) && (e[n] = i[n]);\n  }, Pm(r, t);\n};\nfunction gb(r, t) {\n  Pm(r, t);\n  function e() {\n    this.constructor = r;\n  }\n  r.prototype = t === null ? Object.create(t) : (e.prototype = t.prototype, new e());\n}\nvar Uh = new oe();\n(function(r) {\n  gb(t, r);\n  function t(e, i, n) {\n    i === void 0 && (i = 100), n === void 0 && (n = 100);\n    var s = r.call(this, e) || this;\n    return s.tileTransform = new D0(), s._width = i, s._height = n, s.uvMatrix = s.texture.uvMatrix || new _v(e), s.pluginName = \"tilingSprite\", s.uvRespectAnchor = !1, s;\n  }\n  return Object.defineProperty(t.prototype, \"clampMargin\", {\n    /**\n     * Changes frame clamping in corresponding textureTransform, shortcut\n     * Change to -0.5 to add a pixel to the edge, recommended for transparent trimmed textures in atlas\n     * @default 0.5\n     * @member {number}\n     */\n    get: function() {\n      return this.uvMatrix.clampMargin;\n    },\n    set: function(e) {\n      this.uvMatrix.clampMargin = e, this.uvMatrix.update(!0);\n    },\n    enumerable: !1,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"tileScale\", {\n    /** The scaling of the image that is being tiled. */\n    get: function() {\n      return this.tileTransform.scale;\n    },\n    set: function(e) {\n      this.tileTransform.scale.copyFrom(e);\n    },\n    enumerable: !1,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"tilePosition\", {\n    /** The offset of the image that is being tiled. */\n    get: function() {\n      return this.tileTransform.position;\n    },\n    set: function(e) {\n      this.tileTransform.position.copyFrom(e);\n    },\n    enumerable: !1,\n    configurable: !0\n  }), t.prototype._onTextureUpdate = function() {\n    this.uvMatrix && (this.uvMatrix.texture = this._texture), this._cachedTint = 16777215;\n  }, t.prototype._render = function(e) {\n    var i = this._texture;\n    !i || !i.valid || (this.tileTransform.updateLocalTransform(), this.uvMatrix.update(), e.batch.setObjectRenderer(e.plugins[this.pluginName]), e.plugins[this.pluginName].render(this));\n  }, t.prototype._calculateBounds = function() {\n    var e = this._width * -this._anchor._x, i = this._height * -this._anchor._y, n = this._width * (1 - this._anchor._x), s = this._height * (1 - this._anchor._y);\n    this._bounds.addFrame(this.transform, e, i, n, s);\n  }, t.prototype.getLocalBounds = function(e) {\n    return this.children.length === 0 ? (this._bounds.minX = this._width * -this._anchor._x, this._bounds.minY = this._height * -this._anchor._y, this._bounds.maxX = this._width * (1 - this._anchor._x), this._bounds.maxY = this._height * (1 - this._anchor._y), e || (this._localBoundsRect || (this._localBoundsRect = new gt()), e = this._localBoundsRect), this._bounds.getRectangle(e)) : r.prototype.getLocalBounds.call(this, e);\n  }, t.prototype.containsPoint = function(e) {\n    this.worldTransform.applyInverse(e, Uh);\n    var i = this._width, n = this._height, s = -i * this.anchor._x;\n    if (Uh.x >= s && Uh.x < s + i) {\n      var o = -n * this.anchor._y;\n      if (Uh.y >= o && Uh.y < o + n)\n        return !0;\n    }\n    return !1;\n  }, t.prototype.destroy = function(e) {\n    r.prototype.destroy.call(this, e), this.tileTransform = null, this.uvMatrix = null;\n  }, t.from = function(e, i) {\n    var n = e instanceof lt ? e : lt.from(e, i);\n    return new t(n, i.width, i.height);\n  }, Object.defineProperty(t.prototype, \"width\", {\n    /** The width of the sprite, setting this will actually modify the scale to achieve the value set. */\n    get: function() {\n      return this._width;\n    },\n    set: function(e) {\n      this._width = e;\n    },\n    enumerable: !1,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"height\", {\n    /** The height of the TilingSprite, setting this will actually modify the scale to achieve the value set. */\n    get: function() {\n      return this._height;\n    },\n    set: function(e) {\n      this._height = e;\n    },\n    enumerable: !1,\n    configurable: !0\n  }), t;\n})(ge);\nvar LI = `#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n`, Ng = `#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n`, AI = `#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n`, DI = `#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n`, BI = `#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n`, Xc = new Be(), FI = (\n  /** @class */\n  function(r) {\n    gb(t, r);\n    function t(e) {\n      var i = r.call(this, e) || this;\n      return e.runners.contextChange.add(i), i.quad = new Yy(), i.state = ys.for2d(), i;\n    }\n    return t.prototype.contextChange = function() {\n      var e = this.renderer, i = { globals: e.globalUniforms };\n      this.simpleShader = Dn.from(Ng, LI, i), this.shader = e.context.webGLVersion > 1 ? Dn.from(DI, BI, i) : Dn.from(Ng, AI, i);\n    }, t.prototype.render = function(e) {\n      var i = this.renderer, n = this.quad, s = n.vertices;\n      s[0] = s[6] = e._width * -e.anchor.x, s[1] = s[3] = e._height * -e.anchor.y, s[2] = s[4] = e._width * (1 - e.anchor.x), s[5] = s[7] = e._height * (1 - e.anchor.y);\n      var o = e.uvRespectAnchor ? e.anchor.x : 0, a = e.uvRespectAnchor ? e.anchor.y : 0;\n      s = n.uvs, s[0] = s[6] = -o, s[1] = s[3] = -a, s[2] = s[4] = 1 - o, s[5] = s[7] = 1 - a, n.invalidate();\n      var l = e._texture, u = l.baseTexture, c = u.alphaMode > 0, f = e.tileTransform.localTransform, d = e.uvMatrix, p = u.isPowerOfTwo && l.frame.width === u.width && l.frame.height === u.height;\n      p && (u._glTextures[i.CONTEXT_UID] ? p = u.wrapMode !== Zr.CLAMP : u.wrapMode === Zr.CLAMP && (u.wrapMode = Zr.REPEAT));\n      var m = p ? this.simpleShader : this.shader, v = l.width, y = l.height, g = e._width, w = e._height;\n      Xc.set(f.a * v / g, f.b * v / w, f.c * y / g, f.d * y / w, f.tx / g, f.ty / w), Xc.invert(), p ? Xc.prepend(d.mapCoord) : (m.uniforms.uMapCoord = d.mapCoord.toArray(!0), m.uniforms.uClampFrame = d.uClampFrame, m.uniforms.uClampOffset = d.uClampOffset), m.uniforms.uTransform = Xc.toArray(!0), m.uniforms.uColor = k0(e.tint, e.worldAlpha, m.uniforms.uColor, c), m.uniforms.translationMatrix = e.transform.worldTransform.toArray(!0), m.uniforms.uSampler = l, i.shader.bind(m), i.geometry.bind(n), this.state.blendMode = R0(e.blendMode, c), i.state.set(this.state), i.geometry.draw(this.renderer.gl.TRIANGLES, 6, 0);\n    }, t.extension = {\n      name: \"tilingSprite\",\n      type: Xt.RendererPlugin\n    }, t;\n  }(bc)\n);\n/*!\n * @pixi/mesh - v6.5.9\n * Compiled Wed, 25 Jan 2023 05:01:45 UTC\n *\n * @pixi/mesh is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\nvar Om = function(r, t) {\n  return Om = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(e, i) {\n    e.__proto__ = i;\n  } || function(e, i) {\n    for (var n in i)\n      i.hasOwnProperty(n) && (e[n] = i[n]);\n  }, Om(r, t);\n};\nfunction y_(r, t) {\n  Om(r, t);\n  function e() {\n    this.constructor = r;\n  }\n  r.prototype = t === null ? Object.create(t) : (e.prototype = t.prototype, new e());\n}\nvar UI = (\n  /** @class */\n  function() {\n    function r(t, e) {\n      this.uvBuffer = t, this.uvMatrix = e, this.data = null, this._bufferUpdateId = -1, this._textureUpdateId = -1, this._updateID = 0;\n    }\n    return r.prototype.update = function(t) {\n      if (!(!t && this._bufferUpdateId === this.uvBuffer._updateID && this._textureUpdateId === this.uvMatrix._updateID)) {\n        this._bufferUpdateId = this.uvBuffer._updateID, this._textureUpdateId = this.uvMatrix._updateID;\n        var e = this.uvBuffer.data;\n        (!this.data || this.data.length !== e.length) && (this.data = new Float32Array(e.length)), this.uvMatrix.multiplyUvs(e, this.data), this._updateID++;\n      }\n    }, r;\n  }()\n), Qv = new oe(), Lg = new tf(), gl = (\n  /** @class */\n  function(r) {\n    y_(t, r);\n    function t(e, i, n, s) {\n      s === void 0 && (s = xr.TRIANGLES);\n      var o = r.call(this) || this;\n      return o.geometry = e, o.shader = i, o.state = n || ys.for2d(), o.drawMode = s, o.start = 0, o.size = 0, o.uvs = null, o.indices = null, o.vertexData = new Float32Array(1), o.vertexDirty = -1, o._transformID = -1, o._roundPixels = Q.ROUND_PIXELS, o.batchUvs = null, o;\n    }\n    return Object.defineProperty(t.prototype, \"geometry\", {\n      /**\n       * Includes vertex positions, face indices, normals, colors, UVs, and\n       * custom attributes within buffers, reducing the cost of passing all\n       * this data to the GPU. Can be shared between multiple Mesh objects.\n       */\n      get: function() {\n        return this._geometry;\n      },\n      set: function(e) {\n        this._geometry !== e && (this._geometry && (this._geometry.refCount--, this._geometry.refCount === 0 && this._geometry.dispose()), this._geometry = e, this._geometry && this._geometry.refCount++, this.vertexDirty = -1);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"uvBuffer\", {\n      /**\n       * To change mesh uv's, change its uvBuffer data and increment its _updateID.\n       * @readonly\n       */\n      get: function() {\n        return this.geometry.buffers[1];\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"verticesBuffer\", {\n      /**\n       * To change mesh vertices, change its uvBuffer data and increment its _updateID.\n       * Incrementing _updateID is optional because most of Mesh objects do it anyway.\n       * @readonly\n       */\n      get: function() {\n        return this.geometry.buffers[0];\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"material\", {\n      get: function() {\n        return this.shader;\n      },\n      /** Alias for {@link PIXI.Mesh#shader}. */\n      set: function(e) {\n        this.shader = e;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"blendMode\", {\n      get: function() {\n        return this.state.blendMode;\n      },\n      /**\n       * The blend mode to be applied to the Mesh. Apply a value of\n       * `PIXI.BLEND_MODES.NORMAL` to reset the blend mode.\n       * @default PIXI.BLEND_MODES.NORMAL;\n       */\n      set: function(e) {\n        this.state.blendMode = e;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"roundPixels\", {\n      get: function() {\n        return this._roundPixels;\n      },\n      /**\n       * If true PixiJS will Math.floor() x/y values when rendering, stopping pixel interpolation.\n       * Advantages can include sharper image quality (like text) and faster rendering on canvas.\n       * The main disadvantage is movement of objects may appear less smooth.\n       * To set the global default, change {@link PIXI.settings.ROUND_PIXELS}\n       * @default false\n       */\n      set: function(e) {\n        this._roundPixels !== e && (this._transformID = -1), this._roundPixels = e;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"tint\", {\n      /**\n       * The multiply tint applied to the Mesh. This is a hex value. A value of\n       * `0xFFFFFF` will remove any tint effect.\n       *\n       * Null for non-MeshMaterial shaders\n       * @default 0xFFFFFF\n       */\n      get: function() {\n        return \"tint\" in this.shader ? this.shader.tint : null;\n      },\n      set: function(e) {\n        this.shader.tint = e;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"texture\", {\n      /** The texture that the Mesh uses. Null for non-MeshMaterial shaders */\n      get: function() {\n        return \"texture\" in this.shader ? this.shader.texture : null;\n      },\n      set: function(e) {\n        this.shader.texture = e;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t.prototype._render = function(e) {\n      var i = this.geometry.buffers[0].data, n = this.shader;\n      n.batchable && this.drawMode === xr.TRIANGLES && i.length < t.BATCHABLE_SIZE * 2 ? this._renderToBatch(e) : this._renderDefault(e);\n    }, t.prototype._renderDefault = function(e) {\n      var i = this.shader;\n      i.alpha = this.worldAlpha, i.update && i.update(), e.batch.flush(), i.uniforms.translationMatrix = this.transform.worldTransform.toArray(!0), e.shader.bind(i), e.state.set(this.state), e.geometry.bind(this.geometry, i), e.geometry.draw(this.drawMode, this.size, this.start, this.geometry.instanceCount);\n    }, t.prototype._renderToBatch = function(e) {\n      var i = this.geometry, n = this.shader;\n      n.uvMatrix && (n.uvMatrix.update(), this.calculateUvs()), this.calculateVertices(), this.indices = i.indexBuffer.data, this._tintRGB = n._tintRGB, this._texture = n.texture;\n      var s = this.material.pluginName;\n      e.batch.setObjectRenderer(e.plugins[s]), e.plugins[s].render(this);\n    }, t.prototype.calculateVertices = function() {\n      var e = this.geometry, i = e.buffers[0], n = i.data, s = i._updateID;\n      if (!(s === this.vertexDirty && this._transformID === this.transform._worldID)) {\n        this._transformID = this.transform._worldID, this.vertexData.length !== n.length && (this.vertexData = new Float32Array(n.length));\n        for (var o = this.transform.worldTransform, a = o.a, l = o.b, u = o.c, c = o.d, f = o.tx, d = o.ty, p = this.vertexData, m = 0; m < p.length / 2; m++) {\n          var v = n[m * 2], y = n[m * 2 + 1];\n          p[m * 2] = a * v + u * y + f, p[m * 2 + 1] = l * v + c * y + d;\n        }\n        if (this._roundPixels)\n          for (var g = Q.RESOLUTION, m = 0; m < p.length; ++m)\n            p[m] = Math.round((p[m] * g | 0) / g);\n        this.vertexDirty = s;\n      }\n    }, t.prototype.calculateUvs = function() {\n      var e = this.geometry.buffers[1], i = this.shader;\n      i.uvMatrix.isSimple ? this.uvs = e.data : (this.batchUvs || (this.batchUvs = new UI(e, i.uvMatrix)), this.batchUvs.update(), this.uvs = this.batchUvs.data);\n    }, t.prototype._calculateBounds = function() {\n      this.calculateVertices(), this._bounds.addVertexData(this.vertexData, 0, this.vertexData.length);\n    }, t.prototype.containsPoint = function(e) {\n      if (!this.getBounds().contains(e.x, e.y))\n        return !1;\n      this.worldTransform.applyInverse(e, Qv);\n      for (var i = this.geometry.getBuffer(\"aVertexPosition\").data, n = Lg.points, s = this.geometry.getIndex().data, o = s.length, a = this.drawMode === 4 ? 3 : 1, l = 0; l + 2 < o; l += a) {\n        var u = s[l] * 2, c = s[l + 1] * 2, f = s[l + 2] * 2;\n        if (n[0] = i[u], n[1] = i[u + 1], n[2] = i[c], n[3] = i[c + 1], n[4] = i[f], n[5] = i[f + 1], Lg.contains(Qv.x, Qv.y))\n          return !0;\n      }\n      return !1;\n    }, t.prototype.destroy = function(e) {\n      r.prototype.destroy.call(this, e), this._cachedTexture && (this._cachedTexture.destroy(), this._cachedTexture = null), this.geometry = null, this.shader = null, this.state = null, this.uvs = null, this.indices = null, this.vertexData = null;\n    }, t.BATCHABLE_SIZE = 100, t;\n  }(Jt)\n), GI = `varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n`, jI = `attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n`, bl = (\n  /** @class */\n  function(r) {\n    y_(t, r);\n    function t(e, i) {\n      var n = this, s = {\n        uSampler: e,\n        alpha: 1,\n        uTextureMatrix: Be.IDENTITY,\n        uColor: new Float32Array([1, 1, 1, 1])\n      };\n      return i = Object.assign({\n        tint: 16777215,\n        alpha: 1,\n        pluginName: \"batch\"\n      }, i), i.uniforms && Object.assign(s, i.uniforms), n = r.call(this, i.program || Mh.from(jI, GI), s) || this, n._colorDirty = !1, n.uvMatrix = new _v(e), n.batchable = i.program === void 0, n.pluginName = i.pluginName, n.tint = i.tint, n.alpha = i.alpha, n;\n    }\n    return Object.defineProperty(t.prototype, \"texture\", {\n      /** Reference to the texture being rendered. */\n      get: function() {\n        return this.uniforms.uSampler;\n      },\n      set: function(e) {\n        this.uniforms.uSampler !== e && (!this.uniforms.uSampler.baseTexture.alphaMode != !e.baseTexture.alphaMode && (this._colorDirty = !0), this.uniforms.uSampler = e, this.uvMatrix.texture = e);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"alpha\", {\n      get: function() {\n        return this._alpha;\n      },\n      /**\n       * This gets automatically set by the object using this.\n       * @default 1\n       */\n      set: function(e) {\n        e !== this._alpha && (this._alpha = e, this._colorDirty = !0);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"tint\", {\n      get: function() {\n        return this._tint;\n      },\n      /**\n       * Multiply tint for the material.\n       * @default 0xFFFFFF\n       */\n      set: function(e) {\n        e !== this._tint && (this._tint = e, this._tintRGB = (e >> 16) + (e & 65280) + ((e & 255) << 16), this._colorDirty = !0);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t.prototype.update = function() {\n      if (this._colorDirty) {\n        this._colorDirty = !1;\n        var e = this.texture.baseTexture;\n        k0(this._tint, this._alpha, this.uniforms.uColor, e.alphaMode);\n      }\n      this.uvMatrix.update() && (this.uniforms.uTextureMatrix = this.uvMatrix.mapCoord);\n    }, t;\n  }(Dn)\n), gv = (\n  /** @class */\n  function(r) {\n    y_(t, r);\n    function t(e, i, n) {\n      var s = r.call(this) || this, o = new Me(e), a = new Me(i, !0), l = new Me(n, !0, !0);\n      return s.addAttribute(\"aVertexPosition\", o, 2, !1, ut.FLOAT).addAttribute(\"aTextureCoord\", a, 2, !1, ut.FLOAT).addIndex(l), s._updateId = -1, s;\n    }\n    return Object.defineProperty(t.prototype, \"vertexDirtyId\", {\n      /**\n       * If the vertex position is updated.\n       * @readonly\n       * @private\n       */\n      get: function() {\n        return this.buffers[0]._updateID;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t;\n  }(Ch)\n);\n/*!\n * @pixi/text-bitmap - v6.5.9\n * Compiled Wed, 25 Jan 2023 05:01:45 UTC\n *\n * @pixi/text-bitmap is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\nvar Im = function(r, t) {\n  return Im = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(e, i) {\n    e.__proto__ = i;\n  } || function(e, i) {\n    for (var n in i)\n      i.hasOwnProperty(n) && (e[n] = i[n]);\n  }, Im(r, t);\n};\nfunction HI(r, t) {\n  Im(r, t);\n  function e() {\n    this.constructor = r;\n  }\n  r.prototype = t === null ? Object.create(t) : (e.prototype = t.prototype, new e());\n}\nvar Hf = (\n  /** @class */\n  function() {\n    function r() {\n      this.info = [], this.common = [], this.page = [], this.char = [], this.kerning = [], this.distanceField = [];\n    }\n    return r;\n  }()\n), $I = (\n  /** @class */\n  function() {\n    function r() {\n    }\n    return r.test = function(t) {\n      return typeof t == \"string\" && t.indexOf(\"info face=\") === 0;\n    }, r.parse = function(t) {\n      var e = t.match(/^[a-z]+\\s+.+$/gm), i = {\n        info: [],\n        common: [],\n        page: [],\n        char: [],\n        chars: [],\n        kerning: [],\n        kernings: [],\n        distanceField: []\n      };\n      for (var n in e) {\n        var s = e[n].match(/^[a-z]+/gm)[0], o = e[n].match(/[a-zA-Z]+=([^\\s\"']+|\"([^\"]*)\")/gm), a = {};\n        for (var l in o) {\n          var u = o[l].split(\"=\"), c = u[0], f = u[1].replace(/\"/gm, \"\"), d = parseFloat(f), p = isNaN(d) ? f : d;\n          a[c] = p;\n        }\n        i[s].push(a);\n      }\n      var m = new Hf();\n      return i.info.forEach(function(v) {\n        return m.info.push({\n          face: v.face,\n          size: parseInt(v.size, 10)\n        });\n      }), i.common.forEach(function(v) {\n        return m.common.push({\n          lineHeight: parseInt(v.lineHeight, 10)\n        });\n      }), i.page.forEach(function(v) {\n        return m.page.push({\n          id: parseInt(v.id, 10),\n          file: v.file\n        });\n      }), i.char.forEach(function(v) {\n        return m.char.push({\n          id: parseInt(v.id, 10),\n          page: parseInt(v.page, 10),\n          x: parseInt(v.x, 10),\n          y: parseInt(v.y, 10),\n          width: parseInt(v.width, 10),\n          height: parseInt(v.height, 10),\n          xoffset: parseInt(v.xoffset, 10),\n          yoffset: parseInt(v.yoffset, 10),\n          xadvance: parseInt(v.xadvance, 10)\n        });\n      }), i.kerning.forEach(function(v) {\n        return m.kerning.push({\n          first: parseInt(v.first, 10),\n          second: parseInt(v.second, 10),\n          amount: parseInt(v.amount, 10)\n        });\n      }), i.distanceField.forEach(function(v) {\n        return m.distanceField.push({\n          distanceRange: parseInt(v.distanceRange, 10),\n          fieldType: v.fieldType\n        });\n      }), m;\n    }, r;\n  }()\n), Cm = (\n  /** @class */\n  function() {\n    function r() {\n    }\n    return r.test = function(t) {\n      return t instanceof XMLDocument && t.getElementsByTagName(\"page\").length && t.getElementsByTagName(\"info\")[0].getAttribute(\"face\") !== null;\n    }, r.parse = function(t) {\n      for (var e = new Hf(), i = t.getElementsByTagName(\"info\"), n = t.getElementsByTagName(\"common\"), s = t.getElementsByTagName(\"page\"), o = t.getElementsByTagName(\"char\"), a = t.getElementsByTagName(\"kerning\"), l = t.getElementsByTagName(\"distanceField\"), u = 0; u < i.length; u++)\n        e.info.push({\n          face: i[u].getAttribute(\"face\"),\n          size: parseInt(i[u].getAttribute(\"size\"), 10)\n        });\n      for (var u = 0; u < n.length; u++)\n        e.common.push({\n          lineHeight: parseInt(n[u].getAttribute(\"lineHeight\"), 10)\n        });\n      for (var u = 0; u < s.length; u++)\n        e.page.push({\n          id: parseInt(s[u].getAttribute(\"id\"), 10) || 0,\n          file: s[u].getAttribute(\"file\")\n        });\n      for (var u = 0; u < o.length; u++) {\n        var c = o[u];\n        e.char.push({\n          id: parseInt(c.getAttribute(\"id\"), 10),\n          page: parseInt(c.getAttribute(\"page\"), 10) || 0,\n          x: parseInt(c.getAttribute(\"x\"), 10),\n          y: parseInt(c.getAttribute(\"y\"), 10),\n          width: parseInt(c.getAttribute(\"width\"), 10),\n          height: parseInt(c.getAttribute(\"height\"), 10),\n          xoffset: parseInt(c.getAttribute(\"xoffset\"), 10),\n          yoffset: parseInt(c.getAttribute(\"yoffset\"), 10),\n          xadvance: parseInt(c.getAttribute(\"xadvance\"), 10)\n        });\n      }\n      for (var u = 0; u < a.length; u++)\n        e.kerning.push({\n          first: parseInt(a[u].getAttribute(\"first\"), 10),\n          second: parseInt(a[u].getAttribute(\"second\"), 10),\n          amount: parseInt(a[u].getAttribute(\"amount\"), 10)\n        });\n      for (var u = 0; u < l.length; u++)\n        e.distanceField.push({\n          fieldType: l[u].getAttribute(\"fieldType\"),\n          distanceRange: parseInt(l[u].getAttribute(\"distanceRange\"), 10)\n        });\n      return e;\n    }, r;\n  }()\n), zI = (\n  /** @class */\n  function() {\n    function r() {\n    }\n    return r.test = function(t) {\n      if (typeof t == \"string\" && t.indexOf(\"<font>\") > -1) {\n        var e = new globalThis.DOMParser().parseFromString(t, \"text/xml\");\n        return Cm.test(e);\n      }\n      return !1;\n    }, r.parse = function(t) {\n      var e = new globalThis.DOMParser().parseFromString(t, \"text/xml\");\n      return Cm.parse(e);\n    }, r;\n  }()\n), tm = [\n  $I,\n  Cm,\n  zI\n];\nfunction bb(r) {\n  for (var t = 0; t < tm.length; t++)\n    if (tm[t].test(r))\n      return tm[t];\n  return null;\n}\nfunction VI(r, t, e, i, n, s) {\n  var o = e.fill;\n  if (Array.isArray(o)) {\n    if (o.length === 1)\n      return o[0];\n  } else\n    return o;\n  var a, l = e.dropShadow ? e.dropShadowDistance : 0, u = e.padding || 0, c = r.width / i - l - u * 2, f = r.height / i - l - u * 2, d = o.slice(), p = e.fillGradientStops.slice();\n  if (!p.length)\n    for (var m = d.length + 1, v = 1; v < m; ++v)\n      p.push(v / m);\n  if (d.unshift(o[0]), p.unshift(0), d.push(o[o.length - 1]), p.push(1), e.fillGradientType === _l.LINEAR_VERTICAL) {\n    a = t.createLinearGradient(c / 2, u, c / 2, f + u);\n    for (var y = 0, g = s.fontProperties.fontSize + e.strokeThickness, w = g / f, v = 0; v < n.length; v++)\n      for (var T = s.lineHeight * v, P = 0; P < d.length; P++) {\n        var O = 0;\n        typeof p[P] == \"number\" ? O = p[P] : O = P / d.length;\n        var C = T / f + O * w, I = Math.max(y, C);\n        I = Math.min(I, 1), a.addColorStop(I, d[P]), y = I;\n      }\n  } else {\n    a = t.createLinearGradient(u, f / 2, c + u, f / 2);\n    for (var S = d.length + 1, M = 1, v = 0; v < d.length; v++) {\n      var N = void 0;\n      typeof p[v] == \"number\" ? N = p[v] : N = M / S, a.addColorStop(N, d[v]), M++;\n    }\n  }\n  return a;\n}\nfunction XI(r, t, e, i, n, s, o) {\n  var a = e.text, l = e.fontProperties;\n  t.translate(i, n), t.scale(s, s);\n  var u = o.strokeThickness / 2, c = -(o.strokeThickness / 2);\n  if (t.font = o.toFontString(), t.lineWidth = o.strokeThickness, t.textBaseline = o.textBaseline, t.lineJoin = o.lineJoin, t.miterLimit = o.miterLimit, t.fillStyle = VI(r, t, o, s, [a], e), t.strokeStyle = o.stroke, o.dropShadow) {\n    var f = o.dropShadowColor, d = wh(typeof f == \"number\" ? f : C0(f)), p = o.dropShadowBlur * s, m = o.dropShadowDistance * s;\n    t.shadowColor = \"rgba(\" + d[0] * 255 + \",\" + d[1] * 255 + \",\" + d[2] * 255 + \",\" + o.dropShadowAlpha + \")\", t.shadowBlur = p, t.shadowOffsetX = Math.cos(o.dropShadowAngle) * m, t.shadowOffsetY = Math.sin(o.dropShadowAngle) * m;\n  } else\n    t.shadowColor = \"black\", t.shadowBlur = 0, t.shadowOffsetX = 0, t.shadowOffsetY = 0;\n  o.stroke && o.strokeThickness && t.strokeText(a, u, c + e.lineHeight - l.descent), o.fill && t.fillText(a, u, c + e.lineHeight - l.descent), t.setTransform(1, 0, 0, 1, 0, 0), t.fillStyle = \"rgba(0, 0, 0, 0)\";\n}\nfunction xb(r) {\n  return Array.from ? Array.from(r) : r.split(\"\");\n}\nfunction WI(r) {\n  typeof r == \"string\" && (r = [r]);\n  for (var t = [], e = 0, i = r.length; e < i; e++) {\n    var n = r[e];\n    if (Array.isArray(n)) {\n      if (n.length !== 2)\n        throw new Error(\"[BitmapFont]: Invalid character range length, expecting 2 got \" + n.length + \".\");\n      var s = n[0].charCodeAt(0), o = n[1].charCodeAt(0);\n      if (o < s)\n        throw new Error(\"[BitmapFont]: Invalid character range.\");\n      for (var a = s, l = o; a <= l; a++)\n        t.push(String.fromCharCode(a));\n    } else\n      t.push.apply(t, xb(n));\n  }\n  if (t.length === 0)\n    throw new Error(\"[BitmapFont]: Empty set when resolving characters.\");\n  return t;\n}\nfunction rf(r) {\n  return r.codePointAt ? r.codePointAt(0) : r.charCodeAt(0);\n}\nvar $n = (\n  /** @class */\n  function() {\n    function r(t, e, i) {\n      var n, s, o = t.info[0], a = t.common[0], l = t.page[0], u = t.distanceField[0], c = Nf(l.file), f = {};\n      this._ownsTextures = i, this.font = o.face, this.size = o.size, this.lineHeight = a.lineHeight / c, this.chars = {}, this.pageTextures = f;\n      for (var d = 0; d < t.page.length; d++) {\n        var p = t.page[d], m = p.id, v = p.file;\n        f[m] = e instanceof Array ? e[d] : e[v], u != null && u.fieldType && u.fieldType !== \"none\" && (f[m].baseTexture.alphaMode = Tr.NO_PREMULTIPLIED_ALPHA, f[m].baseTexture.mipmap = Er.OFF);\n      }\n      for (var d = 0; d < t.char.length; d++) {\n        var y = t.char[d], m = y.id, g = y.page, w = t.char[d], T = w.x, P = w.y, O = w.width, C = w.height, I = w.xoffset, S = w.yoffset, M = w.xadvance;\n        T /= c, P /= c, O /= c, C /= c, I /= c, S /= c, M /= c;\n        var N = new gt(T + f[g].frame.x / c, P + f[g].frame.y / c, O, C);\n        this.chars[m] = {\n          xOffset: I,\n          yOffset: S,\n          xAdvance: M,\n          kerning: {},\n          texture: new lt(f[g].baseTexture, N),\n          page: g\n        };\n      }\n      for (var d = 0; d < t.kerning.length; d++) {\n        var D = t.kerning[d], z = D.first, q = D.second, it = D.amount;\n        z /= c, q /= c, it /= c, this.chars[q] && (this.chars[q].kerning[z] = it);\n      }\n      this.distanceFieldRange = u == null ? void 0 : u.distanceRange, this.distanceFieldType = (s = (n = u == null ? void 0 : u.fieldType) === null || n === void 0 ? void 0 : n.toLowerCase()) !== null && s !== void 0 ? s : \"none\";\n    }\n    return r.prototype.destroy = function() {\n      for (var t in this.chars)\n        this.chars[t].texture.destroy(), this.chars[t].texture = null;\n      for (var t in this.pageTextures)\n        this._ownsTextures && this.pageTextures[t].destroy(!0), this.pageTextures[t] = null;\n      this.chars = null, this.pageTextures = null;\n    }, r.install = function(t, e, i) {\n      var n;\n      if (t instanceof Hf)\n        n = t;\n      else {\n        var s = bb(t);\n        if (!s)\n          throw new Error(\"Unrecognized data format for font.\");\n        n = s.parse(t);\n      }\n      e instanceof lt && (e = [e]);\n      var o = new r(n, e, i);\n      return r.available[o.font] = o, o;\n    }, r.uninstall = function(t) {\n      var e = r.available[t];\n      if (!e)\n        throw new Error(\"No font found named '\" + t + \"'\");\n      e.destroy(), delete r.available[t];\n    }, r.from = function(t, e, i) {\n      if (!t)\n        throw new Error(\"[BitmapFont] Property `name` is required.\");\n      var n = Object.assign({}, r.defaultOptions, i), s = n.chars, o = n.padding, a = n.resolution, l = n.textureWidth, u = n.textureHeight, c = WI(s), f = e instanceof Wo ? e : new Wo(e), d = l, p = new Hf();\n      p.info[0] = {\n        face: f.fontFamily,\n        size: f.fontSize\n      }, p.common[0] = {\n        lineHeight: f.fontSize\n      };\n      for (var m = 0, v = 0, y, g, w, T = 0, P = [], O = 0; O < c.length; O++) {\n        y || (y = Q.ADAPTER.createCanvas(), y.width = l, y.height = u, g = y.getContext(\"2d\"), w = new It(y, { resolution: a }), P.push(new lt(w)), p.page.push({\n          id: P.length - 1,\n          file: \"\"\n        }));\n        var C = c[O], I = nn.measureText(C, f, !1, y), S = I.width, M = Math.ceil(I.height), N = Math.ceil((f.fontStyle === \"italic\" ? 2 : 1) * S);\n        if (v >= u - M * a) {\n          if (v === 0)\n            throw new Error(\"[BitmapFont] textureHeight \" + u + \"px is too small \" + (\"(fontFamily: '\" + f.fontFamily + \"', fontSize: \" + f.fontSize + \"px, char: '\" + C + \"')\"));\n          --O, y = null, g = null, w = null, v = 0, m = 0, T = 0;\n          continue;\n        }\n        if (T = Math.max(M + I.fontProperties.descent, T), N * a + m >= d) {\n          if (m === 0)\n            throw new Error(\"[BitmapFont] textureWidth \" + l + \"px is too small \" + (\"(fontFamily: '\" + f.fontFamily + \"', fontSize: \" + f.fontSize + \"px, char: '\" + C + \"')\"));\n          --O, v += T * a, v = Math.ceil(v), m = 0, T = 0;\n          continue;\n        }\n        XI(y, g, I, m, v, a, f);\n        var D = rf(I.text);\n        p.char.push({\n          id: D,\n          page: P.length - 1,\n          x: m / a,\n          y: v / a,\n          width: N,\n          height: M,\n          xoffset: 0,\n          yoffset: 0,\n          xadvance: Math.ceil(S - (f.dropShadow ? f.dropShadowDistance : 0) - (f.stroke ? f.strokeThickness : 0))\n        }), m += (N + 2 * o) * a, m = Math.ceil(m);\n      }\n      for (var O = 0, z = c.length; O < z; O++)\n        for (var q = c[O], it = 0; it < z; it++) {\n          var V = c[it], H = g.measureText(q).width, J = g.measureText(V).width, vt = g.measureText(q + V).width, tt = vt - (H + J);\n          tt && p.kerning.push({\n            first: rf(q),\n            second: rf(V),\n            amount: tt\n          });\n        }\n      var wt = new r(p, P, !0);\n      return r.available[t] !== void 0 && r.uninstall(t), r.available[t] = wt, wt;\n    }, r.ALPHA = [[\"a\", \"z\"], [\"A\", \"Z\"], \" \"], r.NUMERIC = [[\"0\", \"9\"]], r.ALPHANUMERIC = [[\"a\", \"z\"], [\"A\", \"Z\"], [\"0\", \"9\"], \" \"], r.ASCII = [[\" \", \"~\"]], r.defaultOptions = {\n      resolution: 1,\n      textureWidth: 512,\n      textureHeight: 512,\n      padding: 4,\n      chars: r.ALPHANUMERIC\n    }, r.available = {}, r;\n  }()\n), YI = `// Pixi texture info\\r\nvarying vec2 vTextureCoord;\\r\nuniform sampler2D uSampler;\\r\n\\r\n// Tint\\r\nuniform vec4 uColor;\\r\n\\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\\r\nuniform float uFWidth;\\r\n\\r\nvoid main(void) {\\r\n\\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\\r\n\\r\n  // MSDF\\r\n  float median = texColor.r + texColor.g + texColor.b -\\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\\r\n                  max(texColor.r, max(texColor.g, texColor.b));\\r\n  // SDF\\r\n  median = min(median, texColor.a);\\r\n\\r\n  float screenPxDistance = uFWidth * (median - 0.5);\\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\\r\n  if (median < 0.01) {\\r\n    alpha = 0.0;\\r\n  } else if (median > 0.99) {\\r\n    alpha = 1.0;\\r\n  }\\r\n\\r\n  // NPM Textures, NPM outputs\\r\n  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\\r\n\\r\n}\\r\n`, qI = `// Mesh material default fragment\\r\nattribute vec2 aVertexPosition;\\r\nattribute vec2 aTextureCoord;\\r\n\\r\nuniform mat3 projectionMatrix;\\r\nuniform mat3 translationMatrix;\\r\nuniform mat3 uTextureMatrix;\\r\n\\r\nvarying vec2 vTextureCoord;\\r\n\\r\nvoid main(void)\\r\n{\\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\r\n\\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\\r\n}\\r\n`, Ag = [], Dg = [], Bg = [];\n(function(r) {\n  HI(t, r);\n  function t(e, i) {\n    i === void 0 && (i = {});\n    var n = r.call(this) || this;\n    n._tint = 16777215;\n    var s = Object.assign({}, t.styleDefaults, i), o = s.align, a = s.tint, l = s.maxWidth, u = s.letterSpacing, c = s.fontName, f = s.fontSize;\n    if (!$n.available[c])\n      throw new Error('Missing BitmapFont \"' + c + '\"');\n    return n._activePagesMeshData = [], n._textWidth = 0, n._textHeight = 0, n._align = o, n._tint = a, n._font = void 0, n._fontName = c, n._fontSize = f, n.text = e, n._maxWidth = l, n._maxLineHeight = 0, n._letterSpacing = u, n._anchor = new da(function() {\n      n.dirty = !0;\n    }, n, 0, 0), n._roundPixels = Q.ROUND_PIXELS, n.dirty = !0, n._resolution = Q.RESOLUTION, n._autoResolution = !0, n._textureCache = {}, n;\n  }\n  return t.prototype.updateText = function() {\n    for (var e, i = $n.available[this._fontName], n = this.fontSize, s = n / i.size, o = new oe(), a = [], l = [], u = [], c = this._text.replace(/(?:\\r\\n|\\r)/g, `\n`) || \" \", f = xb(c), d = this._maxWidth * i.size / n, p = i.distanceFieldType === \"none\" ? Ag : Dg, m = null, v = 0, y = 0, g = 0, w = -1, T = 0, P = 0, O = 0, C = 0, I = 0; I < f.length; I++) {\n      var S = f[I], M = rf(S);\n      if (/(?:\\s)/.test(S) && (w = I, T = v, C++), S === \"\\r\" || S === `\n`) {\n        l.push(v), u.push(-1), y = Math.max(y, v), ++g, ++P, o.x = 0, o.y += i.lineHeight, m = null, C = 0;\n        continue;\n      }\n      var N = i.chars[M];\n      if (N) {\n        m && N.kerning[m] && (o.x += N.kerning[m]);\n        var D = Bg.pop() || {\n          texture: lt.EMPTY,\n          line: 0,\n          charCode: 0,\n          prevSpaces: 0,\n          position: new oe()\n        };\n        D.texture = N.texture, D.line = g, D.charCode = M, D.position.x = o.x + N.xOffset + this._letterSpacing / 2, D.position.y = o.y + N.yOffset, D.prevSpaces = C, a.push(D), v = D.position.x + Math.max(N.xAdvance - N.xOffset, N.texture.orig.width), o.x += N.xAdvance + this._letterSpacing, O = Math.max(O, N.yOffset + N.texture.height), m = M, w !== -1 && d > 0 && o.x > d && (++P, ya(a, 1 + w - P, 1 + I - w), I = w, w = -1, l.push(T), u.push(a.length > 0 ? a[a.length - 1].prevSpaces : 0), y = Math.max(y, T), g++, o.x = 0, o.y += i.lineHeight, m = null, C = 0);\n      }\n    }\n    var z = f[f.length - 1];\n    z !== \"\\r\" && z !== `\n` && (/(?:\\s)/.test(z) && (v = T), l.push(v), y = Math.max(y, v), u.push(-1));\n    for (var q = [], I = 0; I <= g; I++) {\n      var it = 0;\n      this._align === \"right\" ? it = y - l[I] : this._align === \"center\" ? it = (y - l[I]) / 2 : this._align === \"justify\" && (it = u[I] < 0 ? 0 : (y - l[I]) / u[I]), q.push(it);\n    }\n    var V = a.length, H = {}, J = [], vt = this._activePagesMeshData;\n    p.push.apply(p, vt);\n    for (var I = 0; I < V; I++) {\n      var tt = a[I].texture, wt = tt.baseTexture.uid;\n      if (!H[wt]) {\n        var rt = p.pop();\n        if (!rt) {\n          var be = new gv(), Wt = void 0, Et = void 0;\n          i.distanceFieldType === \"none\" ? (Wt = new bl(lt.EMPTY), Et = ot.NORMAL) : (Wt = new bl(lt.EMPTY, { program: Mh.from(qI, YI), uniforms: { uFWidth: 0 } }), Et = ot.NORMAL_NPM);\n          var Qt = new gl(be, Wt);\n          Qt.blendMode = Et, rt = {\n            index: 0,\n            indexCount: 0,\n            vertexCount: 0,\n            uvsCount: 0,\n            total: 0,\n            mesh: Qt,\n            vertices: null,\n            uvs: null,\n            indices: null\n          };\n        }\n        rt.index = 0, rt.indexCount = 0, rt.vertexCount = 0, rt.uvsCount = 0, rt.total = 0;\n        var k = this._textureCache;\n        k[wt] = k[wt] || new lt(tt.baseTexture), rt.mesh.texture = k[wt], rt.mesh.tint = this._tint, J.push(rt), H[wt] = rt;\n      }\n      H[wt].total++;\n    }\n    for (var I = 0; I < vt.length; I++)\n      J.indexOf(vt[I]) === -1 && this.removeChild(vt[I].mesh);\n    for (var I = 0; I < J.length; I++)\n      J[I].mesh.parent !== this && this.addChild(J[I].mesh);\n    this._activePagesMeshData = J;\n    for (var I in H) {\n      var rt = H[I], Yt = rt.total;\n      if (!(((e = rt.indices) === null || e === void 0 ? void 0 : e.length) > 6 * Yt) || rt.vertices.length < gl.BATCHABLE_SIZE * 2)\n        rt.vertices = new Float32Array(4 * 2 * Yt), rt.uvs = new Float32Array(4 * 2 * Yt), rt.indices = new Uint16Array(6 * Yt);\n      else\n        for (var at = rt.total, me = rt.vertices, Ft = at * 4 * 2; Ft < me.length; Ft++)\n          me[Ft] = 0;\n      rt.mesh.size = 6 * Yt;\n    }\n    for (var I = 0; I < V; I++) {\n      var S = a[I], Z = S.position.x + q[S.line] * (this._align === \"justify\" ? S.prevSpaces : 1);\n      this._roundPixels && (Z = Math.round(Z));\n      var xe = Z * s, ct = S.position.y * s, tt = S.texture, F = H[tt.baseTexture.uid], ht = tt.frame, xt = tt._uvs, U = F.index++;\n      F.indices[U * 6 + 0] = 0 + U * 4, F.indices[U * 6 + 1] = 1 + U * 4, F.indices[U * 6 + 2] = 2 + U * 4, F.indices[U * 6 + 3] = 0 + U * 4, F.indices[U * 6 + 4] = 2 + U * 4, F.indices[U * 6 + 5] = 3 + U * 4, F.vertices[U * 8 + 0] = xe, F.vertices[U * 8 + 1] = ct, F.vertices[U * 8 + 2] = xe + ht.width * s, F.vertices[U * 8 + 3] = ct, F.vertices[U * 8 + 4] = xe + ht.width * s, F.vertices[U * 8 + 5] = ct + ht.height * s, F.vertices[U * 8 + 6] = xe, F.vertices[U * 8 + 7] = ct + ht.height * s, F.uvs[U * 8 + 0] = xt.x0, F.uvs[U * 8 + 1] = xt.y0, F.uvs[U * 8 + 2] = xt.x1, F.uvs[U * 8 + 3] = xt.y1, F.uvs[U * 8 + 4] = xt.x2, F.uvs[U * 8 + 5] = xt.y2, F.uvs[U * 8 + 6] = xt.x3, F.uvs[U * 8 + 7] = xt.y3;\n    }\n    this._textWidth = y * s, this._textHeight = (o.y + i.lineHeight) * s;\n    for (var I in H) {\n      var rt = H[I];\n      if (this.anchor.x !== 0 || this.anchor.y !== 0)\n        for (var ke = 0, vi = this._textWidth * this.anchor.x, Ne = this._textHeight * this.anchor.y, Li = 0; Li < rt.total; Li++)\n          rt.vertices[ke++] -= vi, rt.vertices[ke++] -= Ne, rt.vertices[ke++] -= vi, rt.vertices[ke++] -= Ne, rt.vertices[ke++] -= vi, rt.vertices[ke++] -= Ne, rt.vertices[ke++] -= vi, rt.vertices[ke++] -= Ne;\n      this._maxLineHeight = O * s;\n      var Ai = rt.mesh.geometry.getBuffer(\"aVertexPosition\"), ri = rt.mesh.geometry.getBuffer(\"aTextureCoord\"), Ir = rt.mesh.geometry.getIndex();\n      Ai.data = rt.vertices, ri.data = rt.uvs, Ir.data = rt.indices, Ai.update(), ri.update(), Ir.update();\n    }\n    for (var I = 0; I < a.length; I++)\n      Bg.push(a[I]);\n    this._font = i, this.dirty = !1;\n  }, t.prototype.updateTransform = function() {\n    this.validate(), this.containerUpdateTransform();\n  }, t.prototype._render = function(e) {\n    this._autoResolution && this._resolution !== e.resolution && (this._resolution = e.resolution, this.dirty = !0);\n    var i = $n.available[this._fontName], n = i.distanceFieldRange, s = i.distanceFieldType, o = i.size;\n    if (s !== \"none\")\n      for (var a = this.worldTransform, l = a.a, u = a.b, c = a.c, f = a.d, d = Math.sqrt(l * l + u * u), p = Math.sqrt(c * c + f * f), m = (Math.abs(d) + Math.abs(p)) / 2, v = this.fontSize / o, y = 0, g = this._activePagesMeshData; y < g.length; y++) {\n        var w = g[y];\n        w.mesh.shader.uniforms.uFWidth = m * n * v * this._resolution;\n      }\n    r.prototype._render.call(this, e);\n  }, t.prototype.getLocalBounds = function() {\n    return this.validate(), r.prototype.getLocalBounds.call(this);\n  }, t.prototype.validate = function() {\n    var e = $n.available[this._fontName];\n    if (!e)\n      throw new Error('Missing BitmapFont \"' + this._fontName + '\"');\n    this._font !== e && (this.dirty = !0), this.dirty && this.updateText();\n  }, Object.defineProperty(t.prototype, \"tint\", {\n    /**\n     * The tint of the BitmapText object.\n     * @default 0xffffff\n     */\n    get: function() {\n      return this._tint;\n    },\n    set: function(e) {\n      if (this._tint !== e) {\n        this._tint = e;\n        for (var i = 0; i < this._activePagesMeshData.length; i++)\n          this._activePagesMeshData[i].mesh.tint = e;\n      }\n    },\n    enumerable: !1,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"align\", {\n    /**\n     * The alignment of the BitmapText object.\n     * @member {string}\n     * @default 'left'\n     */\n    get: function() {\n      return this._align;\n    },\n    set: function(e) {\n      this._align !== e && (this._align = e, this.dirty = !0);\n    },\n    enumerable: !1,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"fontName\", {\n    /** The name of the BitmapFont. */\n    get: function() {\n      return this._fontName;\n    },\n    set: function(e) {\n      if (!$n.available[e])\n        throw new Error('Missing BitmapFont \"' + e + '\"');\n      this._fontName !== e && (this._fontName = e, this.dirty = !0);\n    },\n    enumerable: !1,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"fontSize\", {\n    /** The size of the font to display. */\n    get: function() {\n      var e;\n      return (e = this._fontSize) !== null && e !== void 0 ? e : $n.available[this._fontName].size;\n    },\n    set: function(e) {\n      this._fontSize !== e && (this._fontSize = e, this.dirty = !0);\n    },\n    enumerable: !1,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"anchor\", {\n    /**\n     * The anchor sets the origin point of the text.\n     *\n     * The default is `(0,0)`, this means the text's origin is the top left.\n     *\n     * Setting the anchor to `(0.5,0.5)` means the text's origin is centered.\n     *\n     * Setting the anchor to `(1,1)` would mean the text's origin point will be the bottom right corner.\n     */\n    get: function() {\n      return this._anchor;\n    },\n    set: function(e) {\n      typeof e == \"number\" ? this._anchor.set(e) : this._anchor.copyFrom(e);\n    },\n    enumerable: !1,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"text\", {\n    /** The text of the BitmapText object. */\n    get: function() {\n      return this._text;\n    },\n    set: function(e) {\n      e = String(e ?? \"\"), this._text !== e && (this._text = e, this.dirty = !0);\n    },\n    enumerable: !1,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"maxWidth\", {\n    /**\n     * The max width of this bitmap text in pixels. If the text provided is longer than the\n     * value provided, line breaks will be automatically inserted in the last whitespace.\n     * Disable by setting the value to 0.\n     */\n    get: function() {\n      return this._maxWidth;\n    },\n    set: function(e) {\n      this._maxWidth !== e && (this._maxWidth = e, this.dirty = !0);\n    },\n    enumerable: !1,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"maxLineHeight\", {\n    /**\n     * The max line height. This is useful when trying to use the total height of the Text,\n     * i.e. when trying to vertically align.\n     * @readonly\n     */\n    get: function() {\n      return this.validate(), this._maxLineHeight;\n    },\n    enumerable: !1,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"textWidth\", {\n    /**\n     * The width of the overall text, different from fontSize,\n     * which is defined in the style object.\n     * @readonly\n     */\n    get: function() {\n      return this.validate(), this._textWidth;\n    },\n    enumerable: !1,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"letterSpacing\", {\n    /** Additional space between characters. */\n    get: function() {\n      return this._letterSpacing;\n    },\n    set: function(e) {\n      this._letterSpacing !== e && (this._letterSpacing = e, this.dirty = !0);\n    },\n    enumerable: !1,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"roundPixels\", {\n    /**\n     * If true PixiJS will Math.floor() x/y values when rendering, stopping pixel interpolation.\n     * Advantages can include sharper image quality (like text) and faster rendering on canvas.\n     * The main disadvantage is movement of objects may appear less smooth.\n     * To set the global default, change {@link PIXI.settings.ROUND_PIXELS}\n     * @default PIXI.settings.ROUND_PIXELS\n     */\n    get: function() {\n      return this._roundPixels;\n    },\n    set: function(e) {\n      e !== this._roundPixels && (this._roundPixels = e, this.dirty = !0);\n    },\n    enumerable: !1,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"textHeight\", {\n    /**\n     * The height of the overall text, different from fontSize,\n     * which is defined in the style object.\n     * @readonly\n     */\n    get: function() {\n      return this.validate(), this._textHeight;\n    },\n    enumerable: !1,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"resolution\", {\n    /**\n     * The resolution / device pixel ratio of the canvas.\n     *\n     * This is set to automatically match the renderer resolution by default, but can be overridden by setting manually.\n     * @default 1\n     */\n    get: function() {\n      return this._resolution;\n    },\n    set: function(e) {\n      this._autoResolution = !1, this._resolution !== e && (this._resolution = e, this.dirty = !0);\n    },\n    enumerable: !1,\n    configurable: !0\n  }), t.prototype.destroy = function(e) {\n    var i = this._textureCache, n = $n.available[this._fontName], s = n.distanceFieldType === \"none\" ? Ag : Dg;\n    s.push.apply(s, this._activePagesMeshData);\n    for (var o = 0, a = this._activePagesMeshData; o < a.length; o++) {\n      var l = a[o];\n      this.removeChild(l.mesh);\n    }\n    this._activePagesMeshData = [], s.filter(function(f) {\n      return i[f.mesh.texture.baseTexture.uid];\n    }).forEach(function(f) {\n      f.mesh.texture = lt.EMPTY;\n    });\n    for (var u in i) {\n      var c = i[u];\n      c.destroy(), delete i[u];\n    }\n    this._font = null, this._textureCache = null, r.prototype.destroy.call(this, e);\n  }, t.styleDefaults = {\n    align: \"left\",\n    tint: 16777215,\n    maxWidth: 0,\n    letterSpacing: 0\n  }, t;\n})(Jt);\nvar ZI = (\n  /** @class */\n  function() {\n    function r() {\n    }\n    return r.add = function() {\n      _t.setExtensionXhrType(\"fnt\", _t.XHR_RESPONSE_TYPE.TEXT);\n    }, r.use = function(t, e) {\n      var i = bb(t.data);\n      if (!i) {\n        e();\n        return;\n      }\n      for (var n = r.getBaseUrl(this, t), s = i.parse(t.data), o = {}, a = function(v) {\n        o[v.metadata.pageFile] = v.texture, Object.keys(o).length === s.page.length && (t.bitmapFont = $n.install(s, o, !0), e());\n      }, l = 0; l < s.page.length; ++l) {\n        var u = s.page[l].file, c = n + u, f = !1;\n        for (var d in this.resources) {\n          var p = this.resources[d];\n          if (p.url === c) {\n            p.metadata.pageFile = u, p.texture ? a(p) : p.onAfterMiddleware.add(a), f = !0;\n            break;\n          }\n        }\n        if (!f) {\n          var m = {\n            crossOrigin: t.crossOrigin,\n            loadType: _t.LOAD_TYPE.IMAGE,\n            metadata: Object.assign({ pageFile: u }, t.metadata.imageMetadata),\n            parentResource: t\n          };\n          this.add(c, m, a);\n        }\n      }\n    }, r.getBaseUrl = function(t, e) {\n      var i = e.isDataUrl ? \"\" : r.dirname(e.url);\n      return e.isDataUrl && (i === \".\" && (i = \"\"), t.baseUrl && i && t.baseUrl.charAt(t.baseUrl.length - 1) === \"/\" && (i += \"/\")), i = i.replace(t.baseUrl, \"\"), i && i.charAt(i.length - 1) !== \"/\" && (i += \"/\"), i;\n    }, r.dirname = function(t) {\n      var e = t.replace(/\\\\/g, \"/\").replace(/\\/$/, \"\").replace(/\\/[^\\/]*$/, \"\");\n      return e === t ? \".\" : e === \"\" ? \"/\" : e;\n    }, r.extension = Xt.Loader, r;\n  }()\n);\n/*!\n * @pixi/filter-alpha - v6.5.9\n * Compiled Wed, 25 Jan 2023 05:01:45 UTC\n *\n * @pixi/filter-alpha is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\nvar Mm = function(r, t) {\n  return Mm = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(e, i) {\n    e.__proto__ = i;\n  } || function(e, i) {\n    for (var n in i)\n      i.hasOwnProperty(n) && (e[n] = i[n]);\n  }, Mm(r, t);\n};\nfunction KI(r, t) {\n  Mm(r, t);\n  function e() {\n    this.constructor = r;\n  }\n  r.prototype = t === null ? Object.create(t) : (e.prototype = t.prototype, new e());\n}\nvar JI = `varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n`;\n(function(r) {\n  KI(t, r);\n  function t(e) {\n    e === void 0 && (e = 1);\n    var i = r.call(this, ob, JI, { uAlpha: 1 }) || this;\n    return i.alpha = e, i;\n  }\n  return Object.defineProperty(t.prototype, \"alpha\", {\n    /**\n     * Coefficient for alpha multiplication\n     * @default 1\n     */\n    get: function() {\n      return this.uniforms.uAlpha;\n    },\n    set: function(e) {\n      this.uniforms.uAlpha = e;\n    },\n    enumerable: !1,\n    configurable: !0\n  }), t;\n})(Sr);\n/*!\n * @pixi/filter-blur - v6.5.9\n * Compiled Wed, 25 Jan 2023 05:01:45 UTC\n *\n * @pixi/filter-blur is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\nvar Rm = function(r, t) {\n  return Rm = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(e, i) {\n    e.__proto__ = i;\n  } || function(e, i) {\n    for (var n in i)\n      i.hasOwnProperty(n) && (e[n] = i[n]);\n  }, Rm(r, t);\n};\nfunction wb(r, t) {\n  Rm(r, t);\n  function e() {\n    this.constructor = r;\n  }\n  r.prototype = t === null ? Object.create(t) : (e.prototype = t.prototype, new e());\n}\nvar QI = `\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }`;\nfunction tC(r, t) {\n  var e = Math.ceil(r / 2), i = QI, n = \"\", s;\n  t ? s = \"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);\" : s = \"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);\";\n  for (var o = 0; o < r; o++) {\n    var a = s.replace(\"%index%\", o.toString());\n    a = a.replace(\"%sampleIndex%\", o - (e - 1) + \".0\"), n += a, n += `\n`;\n  }\n  return i = i.replace(\"%blur%\", n), i = i.replace(\"%size%\", r.toString()), i;\n}\nvar eC = {\n  5: [0.153388, 0.221461, 0.250301],\n  7: [0.071303, 0.131514, 0.189879, 0.214607],\n  9: [0.028532, 0.067234, 0.124009, 0.179044, 0.20236],\n  11: [93e-4, 0.028002, 0.065984, 0.121703, 0.175713, 0.198596],\n  13: [2406e-6, 9255e-6, 0.027867, 0.065666, 0.121117, 0.174868, 0.197641],\n  15: [489e-6, 2403e-6, 9246e-6, 0.02784, 0.065602, 0.120999, 0.174697, 0.197448]\n}, iC = [\n  \"varying vec2 vBlurTexCoords[%size%];\",\n  \"uniform sampler2D uSampler;\",\n  \"void main(void)\",\n  \"{\",\n  \"    gl_FragColor = vec4(0.0);\",\n  \"    %blur%\",\n  \"}\"\n].join(`\n`);\nfunction rC(r) {\n  for (var t = eC[r], e = t.length, i = iC, n = \"\", s = \"gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;\", o, a = 0; a < r; a++) {\n    var l = s.replace(\"%index%\", a.toString());\n    o = a, a >= e && (o = r - a - 1), l = l.replace(\"%value%\", t[o].toString()), n += l, n += `\n`;\n  }\n  return i = i.replace(\"%blur%\", n), i = i.replace(\"%size%\", r.toString()), i;\n}\nvar Fg = (\n  /** @class */\n  function(r) {\n    wb(t, r);\n    function t(e, i, n, s, o) {\n      i === void 0 && (i = 8), n === void 0 && (n = 4), s === void 0 && (s = Q.FILTER_RESOLUTION), o === void 0 && (o = 5);\n      var a = this, l = tC(o, e), u = rC(o);\n      return a = r.call(\n        this,\n        // vertex shader\n        l,\n        // fragment shader\n        u\n      ) || this, a.horizontal = e, a.resolution = s, a._quality = 0, a.quality = n, a.blur = i, a;\n    }\n    return t.prototype.apply = function(e, i, n, s) {\n      if (n ? this.horizontal ? this.uniforms.strength = 1 / n.width * (n.width / i.width) : this.uniforms.strength = 1 / n.height * (n.height / i.height) : this.horizontal ? this.uniforms.strength = 1 / e.renderer.width * (e.renderer.width / i.width) : this.uniforms.strength = 1 / e.renderer.height * (e.renderer.height / i.height), this.uniforms.strength *= this.strength, this.uniforms.strength /= this.passes, this.passes === 1)\n        e.applyFilter(this, i, n, s);\n      else {\n        var o = e.getFilterTexture(), a = e.renderer, l = i, u = o;\n        this.state.blend = !1, e.applyFilter(this, l, u, _r.CLEAR);\n        for (var c = 1; c < this.passes - 1; c++) {\n          e.bindAndClear(l, _r.BLIT), this.uniforms.uSampler = u;\n          var f = u;\n          u = l, l = f, a.shader.bind(this), a.geometry.draw(5);\n        }\n        this.state.blend = !0, e.applyFilter(this, u, n, s), e.returnFilterTexture(o);\n      }\n    }, Object.defineProperty(t.prototype, \"blur\", {\n      /**\n       * Sets the strength of both the blur.\n       * @default 16\n       */\n      get: function() {\n        return this.strength;\n      },\n      set: function(e) {\n        this.padding = 1 + Math.abs(e) * 2, this.strength = e;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"quality\", {\n      /**\n       * Sets the quality of the blur by modifying the number of passes. More passes means higher\n       * quality bluring but the lower the performance.\n       * @default 4\n       */\n      get: function() {\n        return this._quality;\n      },\n      set: function(e) {\n        this._quality = e, this.passes = e;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t;\n  }(Sr)\n);\n(function(r) {\n  wb(t, r);\n  function t(e, i, n, s) {\n    e === void 0 && (e = 8), i === void 0 && (i = 4), n === void 0 && (n = Q.FILTER_RESOLUTION), s === void 0 && (s = 5);\n    var o = r.call(this) || this;\n    return o.blurXFilter = new Fg(!0, e, i, n, s), o.blurYFilter = new Fg(!1, e, i, n, s), o.resolution = n, o.quality = i, o.blur = e, o.repeatEdgePixels = !1, o;\n  }\n  return t.prototype.apply = function(e, i, n, s) {\n    var o = Math.abs(this.blurXFilter.strength), a = Math.abs(this.blurYFilter.strength);\n    if (o && a) {\n      var l = e.getFilterTexture();\n      this.blurXFilter.apply(e, i, l, _r.CLEAR), this.blurYFilter.apply(e, l, n, s), e.returnFilterTexture(l);\n    } else\n      a ? this.blurYFilter.apply(e, i, n, s) : this.blurXFilter.apply(e, i, n, s);\n  }, t.prototype.updatePadding = function() {\n    this._repeatEdgePixels ? this.padding = 0 : this.padding = Math.max(Math.abs(this.blurXFilter.strength), Math.abs(this.blurYFilter.strength)) * 2;\n  }, Object.defineProperty(t.prototype, \"blur\", {\n    /**\n     * Sets the strength of both the blurX and blurY properties simultaneously\n     * @default 2\n     */\n    get: function() {\n      return this.blurXFilter.blur;\n    },\n    set: function(e) {\n      this.blurXFilter.blur = this.blurYFilter.blur = e, this.updatePadding();\n    },\n    enumerable: !1,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"quality\", {\n    /**\n     * Sets the number of passes for blur. More passes means higher quality bluring.\n     * @default 1\n     */\n    get: function() {\n      return this.blurXFilter.quality;\n    },\n    set: function(e) {\n      this.blurXFilter.quality = this.blurYFilter.quality = e;\n    },\n    enumerable: !1,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"blurX\", {\n    /**\n     * Sets the strength of the blurX property\n     * @default 2\n     */\n    get: function() {\n      return this.blurXFilter.blur;\n    },\n    set: function(e) {\n      this.blurXFilter.blur = e, this.updatePadding();\n    },\n    enumerable: !1,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"blurY\", {\n    /**\n     * Sets the strength of the blurY property\n     * @default 2\n     */\n    get: function() {\n      return this.blurYFilter.blur;\n    },\n    set: function(e) {\n      this.blurYFilter.blur = e, this.updatePadding();\n    },\n    enumerable: !1,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"blendMode\", {\n    /**\n     * Sets the blendmode of the filter\n     * @default PIXI.BLEND_MODES.NORMAL\n     */\n    get: function() {\n      return this.blurYFilter.blendMode;\n    },\n    set: function(e) {\n      this.blurYFilter.blendMode = e;\n    },\n    enumerable: !1,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"repeatEdgePixels\", {\n    /**\n     * If set to true the edge of the target will be clamped\n     * @default false\n     */\n    get: function() {\n      return this._repeatEdgePixels;\n    },\n    set: function(e) {\n      this._repeatEdgePixels = e, this.updatePadding();\n    },\n    enumerable: !1,\n    configurable: !0\n  }), t;\n})(Sr);\n/*!\n * @pixi/filter-color-matrix - v6.5.9\n * Compiled Wed, 25 Jan 2023 05:01:45 UTC\n *\n * @pixi/filter-color-matrix is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\nvar km = function(r, t) {\n  return km = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(e, i) {\n    e.__proto__ = i;\n  } || function(e, i) {\n    for (var n in i)\n      i.hasOwnProperty(n) && (e[n] = i[n]);\n  }, km(r, t);\n};\nfunction nC(r, t) {\n  km(r, t);\n  function e() {\n    this.constructor = r;\n  }\n  r.prototype = t === null ? Object.create(t) : (e.prototype = t.prototype, new e());\n}\nvar sC = `varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n`, Ug = (\n  /** @class */\n  function(r) {\n    nC(t, r);\n    function t() {\n      var e = this, i = {\n        m: new Float32Array([\n          1,\n          0,\n          0,\n          0,\n          0,\n          0,\n          1,\n          0,\n          0,\n          0,\n          0,\n          0,\n          1,\n          0,\n          0,\n          0,\n          0,\n          0,\n          1,\n          0\n        ]),\n        uAlpha: 1\n      };\n      return e = r.call(this, c_, sC, i) || this, e.alpha = 1, e;\n    }\n    return t.prototype._loadMatrix = function(e, i) {\n      i === void 0 && (i = !1);\n      var n = e;\n      i && (this._multiply(n, this.uniforms.m, e), n = this._colorMatrix(n)), this.uniforms.m = n;\n    }, t.prototype._multiply = function(e, i, n) {\n      return e[0] = i[0] * n[0] + i[1] * n[5] + i[2] * n[10] + i[3] * n[15], e[1] = i[0] * n[1] + i[1] * n[6] + i[2] * n[11] + i[3] * n[16], e[2] = i[0] * n[2] + i[1] * n[7] + i[2] * n[12] + i[3] * n[17], e[3] = i[0] * n[3] + i[1] * n[8] + i[2] * n[13] + i[3] * n[18], e[4] = i[0] * n[4] + i[1] * n[9] + i[2] * n[14] + i[3] * n[19] + i[4], e[5] = i[5] * n[0] + i[6] * n[5] + i[7] * n[10] + i[8] * n[15], e[6] = i[5] * n[1] + i[6] * n[6] + i[7] * n[11] + i[8] * n[16], e[7] = i[5] * n[2] + i[6] * n[7] + i[7] * n[12] + i[8] * n[17], e[8] = i[5] * n[3] + i[6] * n[8] + i[7] * n[13] + i[8] * n[18], e[9] = i[5] * n[4] + i[6] * n[9] + i[7] * n[14] + i[8] * n[19] + i[9], e[10] = i[10] * n[0] + i[11] * n[5] + i[12] * n[10] + i[13] * n[15], e[11] = i[10] * n[1] + i[11] * n[6] + i[12] * n[11] + i[13] * n[16], e[12] = i[10] * n[2] + i[11] * n[7] + i[12] * n[12] + i[13] * n[17], e[13] = i[10] * n[3] + i[11] * n[8] + i[12] * n[13] + i[13] * n[18], e[14] = i[10] * n[4] + i[11] * n[9] + i[12] * n[14] + i[13] * n[19] + i[14], e[15] = i[15] * n[0] + i[16] * n[5] + i[17] * n[10] + i[18] * n[15], e[16] = i[15] * n[1] + i[16] * n[6] + i[17] * n[11] + i[18] * n[16], e[17] = i[15] * n[2] + i[16] * n[7] + i[17] * n[12] + i[18] * n[17], e[18] = i[15] * n[3] + i[16] * n[8] + i[17] * n[13] + i[18] * n[18], e[19] = i[15] * n[4] + i[16] * n[9] + i[17] * n[14] + i[18] * n[19] + i[19], e;\n    }, t.prototype._colorMatrix = function(e) {\n      var i = new Float32Array(e);\n      return i[4] /= 255, i[9] /= 255, i[14] /= 255, i[19] /= 255, i;\n    }, t.prototype.brightness = function(e, i) {\n      var n = [\n        e,\n        0,\n        0,\n        0,\n        0,\n        0,\n        e,\n        0,\n        0,\n        0,\n        0,\n        0,\n        e,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0\n      ];\n      this._loadMatrix(n, i);\n    }, t.prototype.tint = function(e, i) {\n      var n = e >> 16 & 255, s = e >> 8 & 255, o = e & 255, a = [\n        n / 255,\n        0,\n        0,\n        0,\n        0,\n        0,\n        s / 255,\n        0,\n        0,\n        0,\n        0,\n        0,\n        o / 255,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0\n      ];\n      this._loadMatrix(a, i);\n    }, t.prototype.greyscale = function(e, i) {\n      var n = [\n        e,\n        e,\n        e,\n        0,\n        0,\n        e,\n        e,\n        e,\n        0,\n        0,\n        e,\n        e,\n        e,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0\n      ];\n      this._loadMatrix(n, i);\n    }, t.prototype.blackAndWhite = function(e) {\n      var i = [\n        0.3,\n        0.6,\n        0.1,\n        0,\n        0,\n        0.3,\n        0.6,\n        0.1,\n        0,\n        0,\n        0.3,\n        0.6,\n        0.1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0\n      ];\n      this._loadMatrix(i, e);\n    }, t.prototype.hue = function(e, i) {\n      e = (e || 0) / 180 * Math.PI;\n      var n = Math.cos(e), s = Math.sin(e), o = Math.sqrt, a = 1 / 3, l = o(a), u = n + (1 - n) * a, c = a * (1 - n) - l * s, f = a * (1 - n) + l * s, d = a * (1 - n) + l * s, p = n + a * (1 - n), m = a * (1 - n) - l * s, v = a * (1 - n) - l * s, y = a * (1 - n) + l * s, g = n + a * (1 - n), w = [\n        u,\n        c,\n        f,\n        0,\n        0,\n        d,\n        p,\n        m,\n        0,\n        0,\n        v,\n        y,\n        g,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0\n      ];\n      this._loadMatrix(w, i);\n    }, t.prototype.contrast = function(e, i) {\n      var n = (e || 0) + 1, s = -0.5 * (n - 1), o = [\n        n,\n        0,\n        0,\n        0,\n        s,\n        0,\n        n,\n        0,\n        0,\n        s,\n        0,\n        0,\n        n,\n        0,\n        s,\n        0,\n        0,\n        0,\n        1,\n        0\n      ];\n      this._loadMatrix(o, i);\n    }, t.prototype.saturate = function(e, i) {\n      e === void 0 && (e = 0);\n      var n = e * 2 / 3 + 1, s = (n - 1) * -0.5, o = [\n        n,\n        s,\n        s,\n        0,\n        0,\n        s,\n        n,\n        s,\n        0,\n        0,\n        s,\n        s,\n        n,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0\n      ];\n      this._loadMatrix(o, i);\n    }, t.prototype.desaturate = function() {\n      this.saturate(-1);\n    }, t.prototype.negative = function(e) {\n      var i = [\n        -1,\n        0,\n        0,\n        1,\n        0,\n        0,\n        -1,\n        0,\n        1,\n        0,\n        0,\n        0,\n        -1,\n        1,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0\n      ];\n      this._loadMatrix(i, e);\n    }, t.prototype.sepia = function(e) {\n      var i = [\n        0.393,\n        0.7689999,\n        0.18899999,\n        0,\n        0,\n        0.349,\n        0.6859999,\n        0.16799999,\n        0,\n        0,\n        0.272,\n        0.5339999,\n        0.13099999,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0\n      ];\n      this._loadMatrix(i, e);\n    }, t.prototype.technicolor = function(e) {\n      var i = [\n        1.9125277891456083,\n        -0.8545344976951645,\n        -0.09155508482755585,\n        0,\n        11.793603434377337,\n        -0.3087833385928097,\n        1.7658908555458428,\n        -0.10601743074722245,\n        0,\n        -70.35205161461398,\n        -0.231103377548616,\n        -0.7501899197440212,\n        1.847597816108189,\n        0,\n        30.950940869491138,\n        0,\n        0,\n        0,\n        1,\n        0\n      ];\n      this._loadMatrix(i, e);\n    }, t.prototype.polaroid = function(e) {\n      var i = [\n        1.438,\n        -0.062,\n        -0.062,\n        0,\n        0,\n        -0.122,\n        1.378,\n        -0.122,\n        0,\n        0,\n        -0.016,\n        -0.016,\n        1.483,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0\n      ];\n      this._loadMatrix(i, e);\n    }, t.prototype.toBGR = function(e) {\n      var i = [\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0\n      ];\n      this._loadMatrix(i, e);\n    }, t.prototype.kodachrome = function(e) {\n      var i = [\n        1.1285582396593525,\n        -0.3967382283601348,\n        -0.03992559172921793,\n        0,\n        63.72958762196502,\n        -0.16404339962244616,\n        1.0835251566291304,\n        -0.05498805115633132,\n        0,\n        24.732407896706203,\n        -0.16786010706155763,\n        -0.5603416277695248,\n        1.6014850761964943,\n        0,\n        35.62982807460946,\n        0,\n        0,\n        0,\n        1,\n        0\n      ];\n      this._loadMatrix(i, e);\n    }, t.prototype.browni = function(e) {\n      var i = [\n        0.5997023498159715,\n        0.34553243048391263,\n        -0.2708298674538042,\n        0,\n        47.43192855600873,\n        -0.037703249837783157,\n        0.8609577587992641,\n        0.15059552388459913,\n        0,\n        -36.96841498319127,\n        0.24113635128153335,\n        -0.07441037908422492,\n        0.44972182064877153,\n        0,\n        -7.562075277591283,\n        0,\n        0,\n        0,\n        1,\n        0\n      ];\n      this._loadMatrix(i, e);\n    }, t.prototype.vintage = function(e) {\n      var i = [\n        0.6279345635605994,\n        0.3202183420819367,\n        -0.03965408211312453,\n        0,\n        9.651285835294123,\n        0.02578397704808868,\n        0.6441188644374771,\n        0.03259127616149294,\n        0,\n        7.462829176470591,\n        0.0466055556782719,\n        -0.0851232987247891,\n        0.5241648018700465,\n        0,\n        5.159190588235296,\n        0,\n        0,\n        0,\n        1,\n        0\n      ];\n      this._loadMatrix(i, e);\n    }, t.prototype.colorTone = function(e, i, n, s, o) {\n      e = e || 0.2, i = i || 0.15, n = n || 16770432, s = s || 3375104;\n      var a = (n >> 16 & 255) / 255, l = (n >> 8 & 255) / 255, u = (n & 255) / 255, c = (s >> 16 & 255) / 255, f = (s >> 8 & 255) / 255, d = (s & 255) / 255, p = [\n        0.3,\n        0.59,\n        0.11,\n        0,\n        0,\n        a,\n        l,\n        u,\n        e,\n        0,\n        c,\n        f,\n        d,\n        i,\n        0,\n        a - c,\n        l - f,\n        u - d,\n        0,\n        0\n      ];\n      this._loadMatrix(p, o);\n    }, t.prototype.night = function(e, i) {\n      e = e || 0.1;\n      var n = [\n        e * -2,\n        -e,\n        0,\n        0,\n        0,\n        -e,\n        0,\n        e,\n        0,\n        0,\n        0,\n        e,\n        e * 2,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0\n      ];\n      this._loadMatrix(n, i);\n    }, t.prototype.predator = function(e, i) {\n      var n = [\n        // row 1\n        11.224130630493164 * e,\n        -4.794486999511719 * e,\n        -2.8746118545532227 * e,\n        0 * e,\n        0.40342438220977783 * e,\n        // row 2\n        -3.6330697536468506 * e,\n        9.193157196044922 * e,\n        -2.951810836791992 * e,\n        0 * e,\n        -1.316135048866272 * e,\n        // row 3\n        -3.2184197902679443 * e,\n        -4.2375030517578125 * e,\n        7.476448059082031 * e,\n        0 * e,\n        0.8044459223747253 * e,\n        // row 4\n        0,\n        0,\n        0,\n        1,\n        0\n      ];\n      this._loadMatrix(n, i);\n    }, t.prototype.lsd = function(e) {\n      var i = [\n        2,\n        -0.4,\n        0.5,\n        0,\n        0,\n        -0.5,\n        2,\n        -0.4,\n        0,\n        0,\n        -0.4,\n        -0.5,\n        3,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0\n      ];\n      this._loadMatrix(i, e);\n    }, t.prototype.reset = function() {\n      var e = [\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0\n      ];\n      this._loadMatrix(e, !1);\n    }, Object.defineProperty(t.prototype, \"matrix\", {\n      /**\n       * The matrix of the color matrix filter\n       * @member {number[]}\n       * @default [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0]\n       */\n      get: function() {\n        return this.uniforms.m;\n      },\n      set: function(e) {\n        this.uniforms.m = e;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"alpha\", {\n      /**\n       * The opacity value to use when mixing the original and resultant colors.\n       *\n       * When the value is 0, the original color is used without modification.\n       * When the value is 1, the result color is used.\n       * When in the range (0, 1) the color is interpolated between the original and result by this amount.\n       * @default 1\n       */\n      get: function() {\n        return this.uniforms.uAlpha;\n      },\n      set: function(e) {\n        this.uniforms.uAlpha = e;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t;\n  }(Sr)\n);\nUg.prototype.grayscale = Ug.prototype.greyscale;\n/*!\n * @pixi/filter-displacement - v6.5.9\n * Compiled Wed, 25 Jan 2023 05:01:45 UTC\n *\n * @pixi/filter-displacement is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\nvar Nm = function(r, t) {\n  return Nm = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(e, i) {\n    e.__proto__ = i;\n  } || function(e, i) {\n    for (var n in i)\n      i.hasOwnProperty(n) && (e[n] = i[n]);\n  }, Nm(r, t);\n};\nfunction oC(r, t) {\n  Nm(r, t);\n  function e() {\n    this.constructor = r;\n  }\n  r.prototype = t === null ? Object.create(t) : (e.prototype = t.prototype, new e());\n}\nvar aC = `varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n`, hC = `attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n`;\n(function(r) {\n  oC(t, r);\n  function t(e, i) {\n    var n = this, s = new Be();\n    return e.renderable = !1, n = r.call(this, hC, aC, {\n      mapSampler: e._texture,\n      filterMatrix: s,\n      scale: { x: 1, y: 1 },\n      rotation: new Float32Array([1, 0, 0, 1])\n    }) || this, n.maskSprite = e, n.maskMatrix = s, i == null && (i = 20), n.scale = new oe(i, i), n;\n  }\n  return t.prototype.apply = function(e, i, n, s) {\n    this.uniforms.filterMatrix = e.calculateSpriteMatrix(this.maskMatrix, this.maskSprite), this.uniforms.scale.x = this.scale.x, this.uniforms.scale.y = this.scale.y;\n    var o = this.maskSprite.worldTransform, a = Math.sqrt(o.a * o.a + o.b * o.b), l = Math.sqrt(o.c * o.c + o.d * o.d);\n    a !== 0 && l !== 0 && (this.uniforms.rotation[0] = o.a / a, this.uniforms.rotation[1] = o.b / a, this.uniforms.rotation[2] = o.c / l, this.uniforms.rotation[3] = o.d / l), e.applyFilter(this, i, n, s);\n  }, Object.defineProperty(t.prototype, \"map\", {\n    /** The texture used for the displacement map. Must be power of 2 sized texture. */\n    get: function() {\n      return this.uniforms.mapSampler;\n    },\n    set: function(e) {\n      this.uniforms.mapSampler = e;\n    },\n    enumerable: !1,\n    configurable: !0\n  }), t;\n})(Sr);\n/*!\n * @pixi/filter-fxaa - v6.5.9\n * Compiled Wed, 25 Jan 2023 05:01:45 UTC\n *\n * @pixi/filter-fxaa is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\nvar Lm = function(r, t) {\n  return Lm = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(e, i) {\n    e.__proto__ = i;\n  } || function(e, i) {\n    for (var n in i)\n      i.hasOwnProperty(n) && (e[n] = i[n]);\n  }, Lm(r, t);\n};\nfunction lC(r, t) {\n  Lm(r, t);\n  function e() {\n    this.constructor = r;\n  }\n  r.prototype = t === null ? Object.create(t) : (e.prototype = t.prototype, new e());\n}\nvar uC = `\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n`, cC = `varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it's\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n`;\n(function(r) {\n  lC(t, r);\n  function t() {\n    return r.call(this, uC, cC) || this;\n  }\n  return t;\n})(Sr);\n/*!\n * @pixi/filter-noise - v6.5.9\n * Compiled Wed, 25 Jan 2023 05:01:45 UTC\n *\n * @pixi/filter-noise is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\nvar Am = function(r, t) {\n  return Am = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(e, i) {\n    e.__proto__ = i;\n  } || function(e, i) {\n    for (var n in i)\n      i.hasOwnProperty(n) && (e[n] = i[n]);\n  }, Am(r, t);\n};\nfunction fC(r, t) {\n  Am(r, t);\n  function e() {\n    this.constructor = r;\n  }\n  r.prototype = t === null ? Object.create(t) : (e.prototype = t.prototype, new e());\n}\nvar dC = `precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n`;\n(function(r) {\n  fC(t, r);\n  function t(e, i) {\n    e === void 0 && (e = 0.5), i === void 0 && (i = Math.random());\n    var n = r.call(this, c_, dC, {\n      uNoise: 0,\n      uSeed: 0\n    }) || this;\n    return n.noise = e, n.seed = i, n;\n  }\n  return Object.defineProperty(t.prototype, \"noise\", {\n    /**\n     * The amount of noise to apply, this value should be in the range (0, 1].\n     * @default 0.5\n     */\n    get: function() {\n      return this.uniforms.uNoise;\n    },\n    set: function(e) {\n      this.uniforms.uNoise = e;\n    },\n    enumerable: !1,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"seed\", {\n    /** A seed value to apply to the random noise generation. `Math.random()` is a good value to use. */\n    get: function() {\n      return this.uniforms.uSeed;\n    },\n    set: function(e) {\n      this.uniforms.uSeed = e;\n    },\n    enumerable: !1,\n    configurable: !0\n  }), t;\n})(Sr);\n/*!\n * @pixi/mixin-cache-as-bitmap - v6.5.9\n * Compiled Wed, 25 Jan 2023 05:01:45 UTC\n *\n * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */\nvar Eb = new Be();\nwe.prototype._cacheAsBitmap = !1;\nwe.prototype._cacheData = null;\nwe.prototype._cacheAsBitmapResolution = null;\nwe.prototype._cacheAsBitmapMultisample = le.NONE;\nvar pC = (\n  /** @class */\n  function() {\n    function r() {\n      this.textureCacheId = null, this.originalRender = null, this.originalRenderCanvas = null, this.originalCalculateBounds = null, this.originalGetLocalBounds = null, this.originalUpdateTransform = null, this.originalDestroy = null, this.originalMask = null, this.originalFilterArea = null, this.originalContainsPoint = null, this.sprite = null;\n    }\n    return r;\n  }()\n);\nObject.defineProperties(we.prototype, {\n  /**\n   * The resolution to use for cacheAsBitmap. By default this will use the renderer's resolution\n   * but can be overriden for performance. Lower values will reduce memory usage at the expense\n   * of render quality. A falsey value of `null` or `0` will default to the renderer's resolution.\n   * If `cacheAsBitmap` is set to `true`, this will re-render with the new resolution.\n   * @member {number} cacheAsBitmapResolution\n   * @memberof PIXI.DisplayObject#\n   * @default null\n   */\n  cacheAsBitmapResolution: {\n    get: function() {\n      return this._cacheAsBitmapResolution;\n    },\n    set: function(r) {\n      r !== this._cacheAsBitmapResolution && (this._cacheAsBitmapResolution = r, this.cacheAsBitmap && (this.cacheAsBitmap = !1, this.cacheAsBitmap = !0));\n    }\n  },\n  /**\n   * The number of samples to use for cacheAsBitmap. If set to `null`, the renderer's\n   * sample count is used.\n   * If `cacheAsBitmap` is set to `true`, this will re-render with the new number of samples.\n   * @member {number} cacheAsBitmapMultisample\n   * @memberof PIXI.DisplayObject#\n   * @default PIXI.MSAA_QUALITY.NONE\n   */\n  cacheAsBitmapMultisample: {\n    get: function() {\n      return this._cacheAsBitmapMultisample;\n    },\n    set: function(r) {\n      r !== this._cacheAsBitmapMultisample && (this._cacheAsBitmapMultisample = r, this.cacheAsBitmap && (this.cacheAsBitmap = !1, this.cacheAsBitmap = !0));\n    }\n  },\n  /**\n   * Set this to true if you want this display object to be cached as a bitmap.\n   * This basically takes a snap shot of the display object as it is at that moment. It can\n   * provide a performance benefit for complex static displayObjects.\n   * To remove simply set this property to `false`\n   *\n   * IMPORTANT GOTCHA - Make sure that all your textures are preloaded BEFORE setting this property to true\n   * as it will take a snapshot of what is currently there. If the textures have not loaded then they will not appear.\n   * @member {boolean}\n   * @memberof PIXI.DisplayObject#\n   */\n  cacheAsBitmap: {\n    get: function() {\n      return this._cacheAsBitmap;\n    },\n    set: function(r) {\n      if (this._cacheAsBitmap !== r) {\n        this._cacheAsBitmap = r;\n        var t;\n        r ? (this._cacheData || (this._cacheData = new pC()), t = this._cacheData, t.originalRender = this.render, t.originalRenderCanvas = this.renderCanvas, t.originalUpdateTransform = this.updateTransform, t.originalCalculateBounds = this.calculateBounds, t.originalGetLocalBounds = this.getLocalBounds, t.originalDestroy = this.destroy, t.originalContainsPoint = this.containsPoint, t.originalMask = this._mask, t.originalFilterArea = this.filterArea, this.render = this._renderCached, this.renderCanvas = this._renderCachedCanvas, this.destroy = this._cacheAsBitmapDestroy) : (t = this._cacheData, t.sprite && this._destroyCachedDisplayObject(), this.render = t.originalRender, this.renderCanvas = t.originalRenderCanvas, this.calculateBounds = t.originalCalculateBounds, this.getLocalBounds = t.originalGetLocalBounds, this.destroy = t.originalDestroy, this.updateTransform = t.originalUpdateTransform, this.containsPoint = t.originalContainsPoint, this._mask = t.originalMask, this.filterArea = t.originalFilterArea);\n      }\n    }\n  }\n});\nwe.prototype._renderCached = function(t) {\n  !this.visible || this.worldAlpha <= 0 || !this.renderable || (this._initCachedDisplayObject(t), this._cacheData.sprite.transform._worldID = this.transform._worldID, this._cacheData.sprite.worldAlpha = this.worldAlpha, this._cacheData.sprite._render(t));\n};\nwe.prototype._initCachedDisplayObject = function(t) {\n  var e;\n  if (!(this._cacheData && this._cacheData.sprite)) {\n    var i = this.alpha;\n    this.alpha = 1, t.batch.flush();\n    var n = this.getLocalBounds(null, !0).clone();\n    if (this.filters && this.filters.length) {\n      var s = this.filters[0].padding;\n      n.pad(s);\n    }\n    n.ceil(Q.RESOLUTION);\n    var o = t.renderTexture.current, a = t.renderTexture.sourceFrame.clone(), l = t.renderTexture.destinationFrame.clone(), u = t.projection.transform, c = qi.create({\n      width: n.width,\n      height: n.height,\n      resolution: this.cacheAsBitmapResolution || t.resolution,\n      multisample: (e = this.cacheAsBitmapMultisample) !== null && e !== void 0 ? e : t.multisample\n    }), f = \"cacheAsBitmap_\" + Vo();\n    this._cacheData.textureCacheId = f, It.addToCache(c.baseTexture, f), lt.addToCache(c, f);\n    var d = this.transform.localTransform.copyTo(Eb).invert().translate(-n.x, -n.y);\n    this.render = this._cacheData.originalRender, t.render(this, { renderTexture: c, clear: !0, transform: d, skipUpdateTransform: !1 }), t.framebuffer.blit(), t.projection.transform = u, t.renderTexture.bind(o, a, l), this.render = this._renderCached, this.updateTransform = this.displayObjectUpdateTransform, this.calculateBounds = this._calculateCachedBounds, this.getLocalBounds = this._getCachedLocalBounds, this._mask = null, this.filterArea = null, this.alpha = i;\n    var p = new ge(c);\n    p.transform.worldTransform = this.transform.worldTransform, p.anchor.x = -(n.x / n.width), p.anchor.y = -(n.y / n.height), p.alpha = i, p._bounds = this._bounds, this._cacheData.sprite = p, this.transform._parentID = -1, this.parent ? this.updateTransform() : (this.enableTempParent(), this.updateTransform(), this.disableTempParent(null)), this.containsPoint = p.containsPoint.bind(p);\n  }\n};\nwe.prototype._renderCachedCanvas = function(t) {\n  !this.visible || this.worldAlpha <= 0 || !this.renderable || (this._initCachedDisplayObjectCanvas(t), this._cacheData.sprite.worldAlpha = this.worldAlpha, this._cacheData.sprite._renderCanvas(t));\n};\nwe.prototype._initCachedDisplayObjectCanvas = function(t) {\n  if (!(this._cacheData && this._cacheData.sprite)) {\n    var e = this.getLocalBounds(null, !0), i = this.alpha;\n    this.alpha = 1;\n    var n = t.context, s = t._projTransform;\n    e.ceil(Q.RESOLUTION);\n    var o = qi.create({ width: e.width, height: e.height }), a = \"cacheAsBitmap_\" + Vo();\n    this._cacheData.textureCacheId = a, It.addToCache(o.baseTexture, a), lt.addToCache(o, a);\n    var l = Eb;\n    this.transform.localTransform.copyTo(l), l.invert(), l.tx -= e.x, l.ty -= e.y, this.renderCanvas = this._cacheData.originalRenderCanvas, t.render(this, { renderTexture: o, clear: !0, transform: l, skipUpdateTransform: !1 }), t.context = n, t._projTransform = s, this.renderCanvas = this._renderCachedCanvas, this.updateTransform = this.displayObjectUpdateTransform, this.calculateBounds = this._calculateCachedBounds, this.getLocalBounds = this._getCachedLocalBounds, this._mask = null, this.filterArea = null, this.alpha = i;\n    var u = new ge(o);\n    u.transform.worldTransform = this.transform.worldTransform, u.anchor.x = -(e.x / e.width), u.anchor.y = -(e.y / e.height), u.alpha = i, u._bounds = this._bounds, this._cacheData.sprite = u, this.transform._parentID = -1, this.parent ? this.updateTransform() : (this.parent = t._tempDisplayObjectParent, this.updateTransform(), this.parent = null), this.containsPoint = u.containsPoint.bind(u);\n  }\n};\nwe.prototype._calculateCachedBounds = function() {\n  this._bounds.clear(), this._cacheData.sprite.transform._worldID = this.transform._worldID, this._cacheData.sprite._calculateBounds(), this._bounds.updateID = this._boundsID;\n};\nwe.prototype._getCachedLocalBounds = function() {\n  return this._cacheData.sprite.getLocalBounds(null);\n};\nwe.prototype._destroyCachedDisplayObject = function() {\n  this._cacheData.sprite._texture.destroy(!0), this._cacheData.sprite = null, It.removeFromCache(this._cacheData.textureCacheId), lt.removeFromCache(this._cacheData.textureCacheId), this._cacheData.textureCacheId = null;\n};\nwe.prototype._cacheAsBitmapDestroy = function(t) {\n  this.cacheAsBitmap = !1, this.destroy(t);\n};\n/*!\n * @pixi/mixin-get-child-by-name - v6.5.9\n * Compiled Wed, 25 Jan 2023 05:01:45 UTC\n *\n * @pixi/mixin-get-child-by-name is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */\nwe.prototype.name = null;\nJt.prototype.getChildByName = function(t, e) {\n  for (var i = 0, n = this.children.length; i < n; i++)\n    if (this.children[i].name === t)\n      return this.children[i];\n  if (e)\n    for (var i = 0, n = this.children.length; i < n; i++) {\n      var s = this.children[i];\n      if (s.getChildByName) {\n        var o = s.getChildByName(t, !0);\n        if (o)\n          return o;\n      }\n    }\n  return null;\n};\n/*!\n * @pixi/mixin-get-global-position - v6.5.9\n * Compiled Wed, 25 Jan 2023 05:01:45 UTC\n *\n * @pixi/mixin-get-global-position is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */\nwe.prototype.getGlobalPosition = function(t, e) {\n  return t === void 0 && (t = new oe()), e === void 0 && (e = !1), this.parent ? this.parent.toGlobal(this.position, t, e) : (t.x = this.position.x, t.y = this.position.y), t;\n};\n/*!\n * @pixi/app - v6.5.9\n * Compiled Wed, 25 Jan 2023 05:01:45 UTC\n *\n * @pixi/app is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */\nvar vC = (\n  /** @class */\n  function() {\n    function r() {\n    }\n    return r.init = function(t) {\n      var e = this;\n      Object.defineProperty(\n        this,\n        \"resizeTo\",\n        /**\n         * The HTML element or window to automatically resize the\n         * renderer's view element to match width and height.\n         * @member {Window|HTMLElement}\n         * @name resizeTo\n         * @memberof PIXI.Application#\n         */\n        {\n          set: function(i) {\n            globalThis.removeEventListener(\"resize\", this.queueResize), this._resizeTo = i, i && (globalThis.addEventListener(\"resize\", this.queueResize), this.resize());\n          },\n          get: function() {\n            return this._resizeTo;\n          }\n        }\n      ), this.queueResize = function() {\n        e._resizeTo && (e.cancelResize(), e._resizeId = requestAnimationFrame(function() {\n          return e.resize();\n        }));\n      }, this.cancelResize = function() {\n        e._resizeId && (cancelAnimationFrame(e._resizeId), e._resizeId = null);\n      }, this.resize = function() {\n        if (e._resizeTo) {\n          e.cancelResize();\n          var i, n;\n          if (e._resizeTo === globalThis.window)\n            i = globalThis.innerWidth, n = globalThis.innerHeight;\n          else {\n            var s = e._resizeTo, o = s.clientWidth, a = s.clientHeight;\n            i = o, n = a;\n          }\n          e.renderer.resize(i, n);\n        }\n      }, this._resizeId = null, this._resizeTo = null, this.resizeTo = t.resizeTo || null;\n    }, r.destroy = function() {\n      globalThis.removeEventListener(\"resize\", this.queueResize), this.cancelResize(), this.cancelResize = null, this.queueResize = null, this.resizeTo = null, this.resize = null;\n    }, r.extension = Xt.Application, r;\n  }()\n), Tb = (\n  /** @class */\n  function() {\n    function r(t) {\n      var e = this;\n      this.stage = new Jt(), t = Object.assign({\n        forceCanvas: !1\n      }, t), this.renderer = u_(t), r._plugins.forEach(function(i) {\n        i.init.call(e, t);\n      });\n    }\n    return r.registerPlugin = function(t) {\n      fi(\"6.5.0\", \"Application.registerPlugin() is deprecated, use extensions.add()\"), Or.add({\n        type: Xt.Application,\n        ref: t\n      });\n    }, r.prototype.render = function() {\n      this.renderer.render(this.stage);\n    }, Object.defineProperty(r.prototype, \"view\", {\n      /**\n       * Reference to the renderer's canvas element.\n       * @member {HTMLCanvasElement}\n       * @readonly\n       */\n      get: function() {\n        return this.renderer.view;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(r.prototype, \"screen\", {\n      /**\n       * Reference to the renderer's screen rectangle. Its safe to use as `filterArea` or `hitArea` for the whole screen.\n       * @member {PIXI.Rectangle}\n       * @readonly\n       */\n      get: function() {\n        return this.renderer.screen;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), r.prototype.destroy = function(t, e) {\n      var i = this, n = r._plugins.slice(0);\n      n.reverse(), n.forEach(function(s) {\n        s.destroy.call(i);\n      }), this.stage.destroy(e), this.stage = null, this.renderer.destroy(t), this.renderer = null;\n    }, r._plugins = [], r;\n  }()\n);\nOr.handleByList(Xt.Application, Tb._plugins);\nOr.add(vC);\n/*!\n * @pixi/mesh-extras - v6.5.9\n * Compiled Wed, 25 Jan 2023 05:01:45 UTC\n *\n * @pixi/mesh-extras is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\nvar Dm = function(r, t) {\n  return Dm = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(e, i) {\n    e.__proto__ = i;\n  } || function(e, i) {\n    for (var n in i)\n      i.hasOwnProperty(n) && (e[n] = i[n]);\n  }, Dm(r, t);\n};\nfunction Rh(r, t) {\n  Dm(r, t);\n  function e() {\n    this.constructor = r;\n  }\n  r.prototype = t === null ? Object.create(t) : (e.prototype = t.prototype, new e());\n}\nvar mC = (\n  /** @class */\n  function(r) {\n    Rh(t, r);\n    function t(e, i, n, s) {\n      e === void 0 && (e = 100), i === void 0 && (i = 100), n === void 0 && (n = 10), s === void 0 && (s = 10);\n      var o = r.call(this) || this;\n      return o.segWidth = n, o.segHeight = s, o.width = e, o.height = i, o.build(), o;\n    }\n    return t.prototype.build = function() {\n      for (var e = this.segWidth * this.segHeight, i = [], n = [], s = [], o = this.segWidth - 1, a = this.segHeight - 1, l = this.width / o, u = this.height / a, c = 0; c < e; c++) {\n        var f = c % this.segWidth, d = c / this.segWidth | 0;\n        i.push(f * l, d * u), n.push(f / o, d / a);\n      }\n      for (var p = o * a, c = 0; c < p; c++) {\n        var m = c % o, v = c / o | 0, y = v * this.segWidth + m, g = v * this.segWidth + m + 1, w = (v + 1) * this.segWidth + m, T = (v + 1) * this.segWidth + m + 1;\n        s.push(y, g, w, g, T, w);\n      }\n      this.buffers[0].data = new Float32Array(i), this.buffers[1].data = new Float32Array(n), this.indexBuffer.data = new Uint16Array(s), this.buffers[0].update(), this.buffers[1].update(), this.indexBuffer.update();\n    }, t;\n  }(gv)\n), yC = (\n  /** @class */\n  function(r) {\n    Rh(t, r);\n    function t(e, i, n) {\n      e === void 0 && (e = 200), n === void 0 && (n = 0);\n      var s = r.call(this, new Float32Array(i.length * 4), new Float32Array(i.length * 4), new Uint16Array((i.length - 1) * 6)) || this;\n      return s.points = i, s._width = e, s.textureScale = n, s.build(), s;\n    }\n    return Object.defineProperty(t.prototype, \"width\", {\n      /**\n       * The width (i.e., thickness) of the rope.\n       * @readonly\n       */\n      get: function() {\n        return this._width;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t.prototype.build = function() {\n      var e = this.points;\n      if (e) {\n        var i = this.getBuffer(\"aVertexPosition\"), n = this.getBuffer(\"aTextureCoord\"), s = this.getIndex();\n        if (!(e.length < 1)) {\n          i.data.length / 4 !== e.length && (i.data = new Float32Array(e.length * 4), n.data = new Float32Array(e.length * 4), s.data = new Uint16Array((e.length - 1) * 6));\n          var o = n.data, a = s.data;\n          o[0] = 0, o[1] = 0, o[2] = 0, o[3] = 1;\n          for (var l = 0, u = e[0], c = this._width * this.textureScale, f = e.length, d = 0; d < f; d++) {\n            var p = d * 4;\n            if (this.textureScale > 0) {\n              var m = u.x - e[d].x, v = u.y - e[d].y, y = Math.sqrt(m * m + v * v);\n              u = e[d], l += y / c;\n            } else\n              l = d / (f - 1);\n            o[p] = l, o[p + 1] = 0, o[p + 2] = l, o[p + 3] = 1;\n          }\n          for (var g = 0, d = 0; d < f - 1; d++) {\n            var p = d * 2;\n            a[g++] = p, a[g++] = p + 1, a[g++] = p + 2, a[g++] = p + 2, a[g++] = p + 1, a[g++] = p + 3;\n          }\n          n.update(), s.update(), this.updateVertices();\n        }\n      }\n    }, t.prototype.updateVertices = function() {\n      var e = this.points;\n      if (!(e.length < 1)) {\n        for (var i = e[0], n, s = 0, o = 0, a = this.buffers[0].data, l = e.length, u = 0; u < l; u++) {\n          var c = e[u], f = u * 4;\n          u < e.length - 1 ? n = e[u + 1] : n = c, o = -(n.x - i.x), s = n.y - i.y;\n          var d = Math.sqrt(s * s + o * o), p = this.textureScale > 0 ? this.textureScale * this._width / 2 : this._width / 2;\n          s /= d, o /= d, s *= p, o *= p, a[f] = c.x + s, a[f + 1] = c.y + o, a[f + 2] = c.x - s, a[f + 3] = c.y - o, i = c;\n        }\n        this.buffers[0].update();\n      }\n    }, t.prototype.update = function() {\n      this.textureScale > 0 ? this.build() : this.updateVertices();\n    }, t;\n  }(gv)\n);\n(function(r) {\n  Rh(t, r);\n  function t(e, i, n) {\n    n === void 0 && (n = 0);\n    var s = this, o = new yC(e.height, i, n), a = new bl(e);\n    return n > 0 && (e.baseTexture.wrapMode = Zr.REPEAT), s = r.call(this, o, a) || this, s.autoUpdate = !0, s;\n  }\n  return t.prototype._render = function(e) {\n    var i = this.geometry;\n    (this.autoUpdate || i._width !== this.shader.texture.height) && (i._width = this.shader.texture.height, i.update()), r.prototype._render.call(this, e);\n  }, t;\n})(gl);\nvar _C = (\n  /** @class */\n  function(r) {\n    Rh(t, r);\n    function t(e, i, n) {\n      var s = this, o = new mC(e.width, e.height, i, n), a = new bl(lt.WHITE);\n      return s = r.call(this, o, a) || this, s.texture = e, s.autoResize = !0, s;\n    }\n    return t.prototype.textureUpdated = function() {\n      this._textureID = this.shader.texture._updateID;\n      var e = this.geometry, i = this.shader.texture, n = i.width, s = i.height;\n      this.autoResize && (e.width !== n || e.height !== s) && (e.width = this.shader.texture.width, e.height = this.shader.texture.height, e.build());\n    }, Object.defineProperty(t.prototype, \"texture\", {\n      get: function() {\n        return this.shader.texture;\n      },\n      set: function(e) {\n        this.shader.texture !== e && (this.shader.texture = e, this._textureID = -1, e.baseTexture.valid ? this.textureUpdated() : e.once(\"update\", this.textureUpdated, this));\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t.prototype._render = function(e) {\n      this._textureID !== this.shader.texture._updateID && this.textureUpdated(), r.prototype._render.call(this, e);\n    }, t.prototype.destroy = function(e) {\n      this.shader.texture.off(\"update\", this.textureUpdated, this), r.prototype.destroy.call(this, e);\n    }, t;\n  }(gl)\n);\n(function(r) {\n  Rh(t, r);\n  function t(e, i, n, s, o) {\n    e === void 0 && (e = lt.EMPTY);\n    var a = this, l = new gv(i, n, s);\n    l.getBuffer(\"aVertexPosition\").static = !1;\n    var u = new bl(e);\n    return a = r.call(this, l, u, null, o) || this, a.autoUpdate = !0, a;\n  }\n  return Object.defineProperty(t.prototype, \"vertices\", {\n    /**\n     * Collection of vertices data.\n     * @type {Float32Array}\n     */\n    get: function() {\n      return this.geometry.getBuffer(\"aVertexPosition\").data;\n    },\n    set: function(e) {\n      this.geometry.getBuffer(\"aVertexPosition\").data = e;\n    },\n    enumerable: !1,\n    configurable: !0\n  }), t.prototype._render = function(e) {\n    this.autoUpdate && this.geometry.getBuffer(\"aVertexPosition\").update(), r.prototype._render.call(this, e);\n  }, t;\n})(gl);\nvar Wc = 10;\n(function(r) {\n  Rh(t, r);\n  function t(e, i, n, s, o) {\n    i === void 0 && (i = Wc), n === void 0 && (n = Wc), s === void 0 && (s = Wc), o === void 0 && (o = Wc);\n    var a = r.call(this, lt.WHITE, 4, 4) || this;\n    return a._origWidth = e.orig.width, a._origHeight = e.orig.height, a._width = a._origWidth, a._height = a._origHeight, a._leftWidth = i, a._rightWidth = s, a._topHeight = n, a._bottomHeight = o, a.texture = e, a;\n  }\n  return t.prototype.textureUpdated = function() {\n    this._textureID = this.shader.texture._updateID, this._refresh();\n  }, Object.defineProperty(t.prototype, \"vertices\", {\n    get: function() {\n      return this.geometry.getBuffer(\"aVertexPosition\").data;\n    },\n    set: function(e) {\n      this.geometry.getBuffer(\"aVertexPosition\").data = e;\n    },\n    enumerable: !1,\n    configurable: !0\n  }), t.prototype.updateHorizontalVertices = function() {\n    var e = this.vertices, i = this._getMinScale();\n    e[9] = e[11] = e[13] = e[15] = this._topHeight * i, e[17] = e[19] = e[21] = e[23] = this._height - this._bottomHeight * i, e[25] = e[27] = e[29] = e[31] = this._height;\n  }, t.prototype.updateVerticalVertices = function() {\n    var e = this.vertices, i = this._getMinScale();\n    e[2] = e[10] = e[18] = e[26] = this._leftWidth * i, e[4] = e[12] = e[20] = e[28] = this._width - this._rightWidth * i, e[6] = e[14] = e[22] = e[30] = this._width;\n  }, t.prototype._getMinScale = function() {\n    var e = this._leftWidth + this._rightWidth, i = this._width > e ? 1 : this._width / e, n = this._topHeight + this._bottomHeight, s = this._height > n ? 1 : this._height / n, o = Math.min(i, s);\n    return o;\n  }, Object.defineProperty(t.prototype, \"width\", {\n    /** The width of the NineSlicePlane, setting this will actually modify the vertices and UV's of this plane. */\n    get: function() {\n      return this._width;\n    },\n    set: function(e) {\n      this._width = e, this._refresh();\n    },\n    enumerable: !1,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"height\", {\n    /** The height of the NineSlicePlane, setting this will actually modify the vertices and UV's of this plane. */\n    get: function() {\n      return this._height;\n    },\n    set: function(e) {\n      this._height = e, this._refresh();\n    },\n    enumerable: !1,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"leftWidth\", {\n    /** The width of the left column. */\n    get: function() {\n      return this._leftWidth;\n    },\n    set: function(e) {\n      this._leftWidth = e, this._refresh();\n    },\n    enumerable: !1,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"rightWidth\", {\n    /** The width of the right column. */\n    get: function() {\n      return this._rightWidth;\n    },\n    set: function(e) {\n      this._rightWidth = e, this._refresh();\n    },\n    enumerable: !1,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"topHeight\", {\n    /** The height of the top row. */\n    get: function() {\n      return this._topHeight;\n    },\n    set: function(e) {\n      this._topHeight = e, this._refresh();\n    },\n    enumerable: !1,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"bottomHeight\", {\n    /** The height of the bottom row. */\n    get: function() {\n      return this._bottomHeight;\n    },\n    set: function(e) {\n      this._bottomHeight = e, this._refresh();\n    },\n    enumerable: !1,\n    configurable: !0\n  }), t.prototype._refresh = function() {\n    var e = this.texture, i = this.geometry.buffers[1].data;\n    this._origWidth = e.orig.width, this._origHeight = e.orig.height;\n    var n = 1 / this._origWidth, s = 1 / this._origHeight;\n    i[0] = i[8] = i[16] = i[24] = 0, i[1] = i[3] = i[5] = i[7] = 0, i[6] = i[14] = i[22] = i[30] = 1, i[25] = i[27] = i[29] = i[31] = 1, i[2] = i[10] = i[18] = i[26] = n * this._leftWidth, i[4] = i[12] = i[20] = i[28] = 1 - n * this._rightWidth, i[9] = i[11] = i[13] = i[15] = s * this._topHeight, i[17] = i[19] = i[21] = i[23] = 1 - s * this._bottomHeight, this.updateHorizontalVertices(), this.updateVerticalVertices(), this.geometry.buffers[0].update(), this.geometry.buffers[1].update();\n  }, t;\n})(_C);\n/*!\n * @pixi/sprite-animated - v6.5.9\n * Compiled Wed, 25 Jan 2023 05:01:45 UTC\n *\n * @pixi/sprite-animated is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\nvar Bm = function(r, t) {\n  return Bm = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(e, i) {\n    e.__proto__ = i;\n  } || function(e, i) {\n    for (var n in i)\n      i.hasOwnProperty(n) && (e[n] = i[n]);\n  }, Bm(r, t);\n};\nfunction gC(r, t) {\n  Bm(r, t);\n  function e() {\n    this.constructor = r;\n  }\n  r.prototype = t === null ? Object.create(t) : (e.prototype = t.prototype, new e());\n}\nvar Gg = (\n  /** @class */\n  function(r) {\n    gC(t, r);\n    function t(e, i) {\n      i === void 0 && (i = !0);\n      var n = r.call(this, e[0] instanceof lt ? e[0] : e[0].texture) || this;\n      return n._textures = null, n._durations = null, n._autoUpdate = i, n._isConnectedToTicker = !1, n.animationSpeed = 1, n.loop = !0, n.updateAnchor = !1, n.onComplete = null, n.onFrameChange = null, n.onLoop = null, n._currentTime = 0, n._playing = !1, n._previousFrame = null, n.textures = e, n;\n    }\n    return t.prototype.stop = function() {\n      this._playing && (this._playing = !1, this._autoUpdate && this._isConnectedToTicker && (_e.shared.remove(this.update, this), this._isConnectedToTicker = !1));\n    }, t.prototype.play = function() {\n      this._playing || (this._playing = !0, this._autoUpdate && !this._isConnectedToTicker && (_e.shared.add(this.update, this, Un.HIGH), this._isConnectedToTicker = !0));\n    }, t.prototype.gotoAndStop = function(e) {\n      this.stop();\n      var i = this.currentFrame;\n      this._currentTime = e, i !== this.currentFrame && this.updateTexture();\n    }, t.prototype.gotoAndPlay = function(e) {\n      var i = this.currentFrame;\n      this._currentTime = e, i !== this.currentFrame && this.updateTexture(), this.play();\n    }, t.prototype.update = function(e) {\n      if (this._playing) {\n        var i = this.animationSpeed * e, n = this.currentFrame;\n        if (this._durations !== null) {\n          var s = this._currentTime % 1 * this._durations[this.currentFrame];\n          for (s += i / 60 * 1e3; s < 0; )\n            this._currentTime--, s += this._durations[this.currentFrame];\n          var o = Math.sign(this.animationSpeed * e);\n          for (this._currentTime = Math.floor(this._currentTime); s >= this._durations[this.currentFrame]; )\n            s -= this._durations[this.currentFrame] * o, this._currentTime += o;\n          this._currentTime += s / this._durations[this.currentFrame];\n        } else\n          this._currentTime += i;\n        this._currentTime < 0 && !this.loop ? (this.gotoAndStop(0), this.onComplete && this.onComplete()) : this._currentTime >= this._textures.length && !this.loop ? (this.gotoAndStop(this._textures.length - 1), this.onComplete && this.onComplete()) : n !== this.currentFrame && (this.loop && this.onLoop && (this.animationSpeed > 0 && this.currentFrame < n ? this.onLoop() : this.animationSpeed < 0 && this.currentFrame > n && this.onLoop()), this.updateTexture());\n      }\n    }, t.prototype.updateTexture = function() {\n      var e = this.currentFrame;\n      this._previousFrame !== e && (this._previousFrame = e, this._texture = this._textures[e], this._textureID = -1, this._textureTrimmedID = -1, this._cachedTint = 16777215, this.uvs = this._texture._uvs.uvsFloat32, this.updateAnchor && this._anchor.copyFrom(this._texture.defaultAnchor), this.onFrameChange && this.onFrameChange(this.currentFrame));\n    }, t.prototype.destroy = function(e) {\n      this.stop(), r.prototype.destroy.call(this, e), this.onComplete = null, this.onFrameChange = null, this.onLoop = null;\n    }, t.fromFrames = function(e) {\n      for (var i = [], n = 0; n < e.length; ++n)\n        i.push(lt.from(e[n]));\n      return new t(i);\n    }, t.fromImages = function(e) {\n      for (var i = [], n = 0; n < e.length; ++n)\n        i.push(lt.from(e[n]));\n      return new t(i);\n    }, Object.defineProperty(t.prototype, \"totalFrames\", {\n      /**\n       * The total number of frames in the AnimatedSprite. This is the same as number of textures\n       * assigned to the AnimatedSprite.\n       * @readonly\n       * @default 0\n       */\n      get: function() {\n        return this._textures.length;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"textures\", {\n      /** The array of textures used for this AnimatedSprite. */\n      get: function() {\n        return this._textures;\n      },\n      set: function(e) {\n        if (e[0] instanceof lt)\n          this._textures = e, this._durations = null;\n        else {\n          this._textures = [], this._durations = [];\n          for (var i = 0; i < e.length; i++)\n            this._textures.push(e[i].texture), this._durations.push(e[i].time);\n        }\n        this._previousFrame = null, this.gotoAndStop(0), this.updateTexture();\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"currentFrame\", {\n      /**\n       * The AnimatedSprites current frame index.\n       * @readonly\n       */\n      get: function() {\n        var e = Math.floor(this._currentTime) % this._textures.length;\n        return e < 0 && (e += this._textures.length), e;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"playing\", {\n      /**\n       * Indicates if the AnimatedSprite is currently playing.\n       * @readonly\n       */\n      get: function() {\n        return this._playing;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"autoUpdate\", {\n      /** Whether to use PIXI.Ticker.shared to auto update animation time. */\n      get: function() {\n        return this._autoUpdate;\n      },\n      set: function(e) {\n        e !== this._autoUpdate && (this._autoUpdate = e, !this._autoUpdate && this._isConnectedToTicker ? (_e.shared.remove(this.update, this), this._isConnectedToTicker = !1) : this._autoUpdate && !this._isConnectedToTicker && this._playing && (_e.shared.add(this.update, this), this._isConnectedToTicker = !0));\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t;\n  }(ge)\n);\n/*!\n * pixi.js - v6.5.9\n * Compiled Wed, 25 Jan 2023 05:01:45 UTC\n *\n * pixi.js is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */\nOr.add(\n  // Install renderer plugins\n  iO,\n  uO,\n  aO,\n  iI,\n  RI,\n  d_,\n  FI,\n  // Install loader plugins\n  ZI,\n  OO,\n  JO,\n  QO,\n  NI,\n  // Install application plugins\n  QS,\n  _O\n);\nvar Wn;\nclass Eh {\n  constructor() {\n    // リソースリーク対策\n    _(this, Wn, []);\n  }\n  add(t, e, i, n = {}) {\n    if (t instanceof It) {\n      switch (e) {\n        case \"loaded\":\n        case \"update\":\n        case \"error\":\n        case \"dispose\":\n          t.on(e, i, n), h(this, Wn).push(() => t.off(e, i, n));\n          break;\n      }\n      return;\n    }\n    if (t instanceof Ji) {\n      t.on(e, i, n), h(this, Wn).push(() => t.off(e, i, n));\n      return;\n    }\n    t.addEventListener(e, i, n), h(this, Wn).push(() => t.removeEventListener(e, i, { capture: n.capture ?? !1 }));\n  }\n  clear() {\n    for (const t of h(this, Wn))\n      t();\n    b(this, Wn, []);\n  }\n}\nWn = new WeakMap();\nvar ii = /* @__PURE__ */ ((r) => (r.DEFAULT = \"\", r.SP_GSM = \"png|jpg|jpeg|json|svg|webp|mp4|webm\", r.SCRIPT = \"sn|ssn\", r.FONT = \"woff2|woff|otf|ttf\", r.SOUND = \"mp3|m4a|ogg|aac|flac|wav\", r.HTML = \"htm|html\", r.CSS = \"css\", r.SN = \"sn\", r.PSD = \"psd\", r.TST_PNGPNG_ = \"png|png_\", r.TST_HH = \"hh\", r.TST_EEE = \"eee\", r.TST_GGG = \"ggg\", r.TST_PNGXML = \"png|xml\", r))(ii || {}), Tl, Sl, zf;\nclass bC {\n  constructor(t) {\n    B(this, \"oCfg\", {\n      save_ns: \"\",\n      // 扱うセーブデータを一意に識別するキーワード文字列\n      window: {\n        // アプリケーションウインドウサイズ\n        width: 300,\n        height: 300\n      },\n      book: {\n        // プロジェクトの詳細情報です\n        title: \"\",\n        //作品タイトル\n        creator: \"\",\n        //著作者。同人ならペンネーム\n        cre_url: \"\",\n        //著作者URL。ツイッターやメール、サイトなど\n        publisher: \"\",\n        //出版社。同人ならサークル名\n        pub_url: \"\",\n        //出版社URL。無ければ省略します\n        detail: \"\",\n        // 内容紹介。端的に記入\n        version: \"1.0\"\n      },\n      log: { max_len: 1024 },\n      // プレイヤーが読んだ文章を読み返せる履歴の長さ\n      init: {\n        bg_color: \"#000000\",\n        // 背景色\n        tagch_msecwait: 10,\n        // 通常文字表示待ち時間（未読／既読）\n        auto_msecpagewait: 3500,\n        // 自動文字表示、行クリック待ち時間（未読／既読）\n        escape: \"\"\n        // エスケープ文字\n      },\n      debug: {\n        devtool: !1,\n        token: !1,\n        tag: !1,\n        putCh: !1,\n        debugLog: !1,\n        baseTx: !1,\n        masume: !1,\n        // テキストレイヤ：ガイドマス目を表示するか\n        variable: !1\n      },\n      code: {},\n      // 暗号化しないフォルダ\n      debuger_token: \"\"\n      // デバッガとの接続トークン\n    });\n    B(this, \"userFnTail\", \"\");\n    // 4tst public\n    B(this, \"hPathFn2Exts\", {});\n    _(this, Tl, !1);\n    _(this, Sl, !1);\n    _(this, zf, /([^\\/\\s]+)\\.([^\\d]\\w+)/);\n    this.sys = t;\n  }\n  async load(t) {\n    var e, i, n, s;\n    if (this.oCfg.save_ns = (t == null ? void 0 : t.save_ns) ?? this.oCfg.save_ns, this.oCfg.window.width = Number(((e = t == null ? void 0 : t.window) == null ? void 0 : e.width) ?? this.oCfg.window.width), this.oCfg.window.height = Number(((i = t == null ? void 0 : t.window) == null ? void 0 : i.height) ?? this.oCfg.window.height), this.oCfg.book = { ...this.oCfg.book, ...t.book }, this.oCfg.log.max_len = ((s = (n = t.log) == null ? void 0 : n.max_len) == null ? void 0 : s.max_len) ?? this.oCfg.log.max_len, this.oCfg.init = { ...this.oCfg.init, ...t.init }, this.oCfg.debug = { ...this.oCfg.debug, ...t.debug }, this.oCfg.debuger_token = t.debuger_token, await this.sys.loadPath(this.hPathFn2Exts, this), b(this, Tl, this.matchPath(\n      \"^breakline$\",\n      \"png|jpg|jpeg|json|svg|webp|mp4|webm\"\n      /* SP_GSM */\n    ).length > 0), b(this, Sl, this.matchPath(\n      \"^breakpage$\",\n      \"png|jpg|jpeg|json|svg|webp|mp4|webm\"\n      /* SP_GSM */\n    ).length > 0), !!this.sys.crypto)\n      for (const o of Object.values(this.hPathFn2Exts))\n        for (const [a, l] of Object.entries(o)) {\n          if (a.slice(-10) !== \":RIPEMD160\")\n            continue;\n          const u = l.slice(l.lastIndexOf(\"/\") + 1), c = o[a.slice(0, -10)], d = await (await this.sys.fetch(c)).text(), p = this.sys.hash(d);\n          if (u !== p)\n            throw `ファイル改竄エラーです fn:${c}`;\n        }\n  }\n  get existsBreakline() {\n    return h(this, Tl);\n  }\n  get existsBreakpage() {\n    return h(this, Sl);\n  }\n  getNs() {\n    return `skynovel.${this.oCfg.save_ns} - `;\n  }\n  // 4 match 498 step(~1ms)  https://regex101.com/r/tpVgmI/1\n  searchPath(t, e = \"\") {\n    if (!t)\n      throw \"[searchPath] fnが空です\";\n    if (t.slice(0, 7) === \"http://\")\n      return t;\n    const i = t.match(h(this, zf));\n    let n = i ? i[1] : t;\n    const s = i ? i[2] : \"\";\n    if (this.userFnTail) {\n      const l = n + \"@@\" + this.userFnTail;\n      if (l in this.hPathFn2Exts) {\n        if (e === \"\")\n          n = l;\n        else\n          for (const u of Object.keys(this.hPathFn2Exts[l]))\n            if (`|${e}|`.indexOf(`|${u}|`) !== -1) {\n              n = l;\n              break;\n            }\n      }\n    }\n    const o = this.hPathFn2Exts[n];\n    if (!o)\n      throw `サーチパスに存在しないファイル【${t}】です`;\n    let a = \"\";\n    if (!s) {\n      const l = ci(o[\":cnt\"]);\n      if (e === \"\") {\n        if (l > 1)\n          throw `指定ファイル【${t}】が複数マッチします。サーチ対象拡張子群【${e}】で絞り込むか、ファイル名を個別にして下さい。`;\n        return t;\n      }\n      const u = `|${e}|`;\n      if (l > 1) {\n        let c = 0;\n        for (const f of Object.keys(o))\n          if (u.indexOf(`|${f}|`) !== -1 && ++c > 1)\n            throw `指定ファイル【${t}】が複数マッチします。サーチ対象拡張子群【${e}】で絞り込むか、ファイル名を個別にして下さい。`;\n      }\n      for (let c of Object.keys(o))\n        if (u.indexOf(`|${c}|`) > -1)\n          return o[c];\n      throw `サーチ対象拡張子群【${e}】にマッチするファイルがサーチパスに存在しません。探索ファイル名=【${t}】`;\n    }\n    if (e !== \"\" && `|${e}|`.indexOf(`|${s}|`) === -1)\n      throw `指定ファイルの拡張子【${s}】は、サーチ対象拡張子群【${e}】にマッチしません。探索ファイル名=【${t}】`;\n    if (a = o[s], !a)\n      throw `サーチパスに存在しない拡張子【${s}】です。探索ファイル名=【${t}】、サーチ対象拡張子群【${e}】`;\n    return a;\n  }\n  matchPath(t, e = \"\") {\n    const i = [], n = new RegExp(t), s = new RegExp(e);\n    for (const [o, a] of Object.entries(this.hPathFn2Exts)) {\n      if (o.search(n) === -1)\n        continue;\n      if (e === \"\") {\n        i.push(a);\n        continue;\n      }\n      const l = {};\n      let u = !1;\n      for (const c of Object.keys(a))\n        c.search(s) !== -1 && (l[c] = o, u = !0);\n      u && i.push(l);\n    }\n    return i;\n  }\n  addPath(t, e) {\n    const i = {};\n    for (const [n, s] of Object.entries(e))\n      i[n] = (n.at(0) === \":\" ? \"\" : this.sys.cur) + s;\n    this.hPathFn2Exts[t] = i;\n  }\n}\nTl = new WeakMap(), Sl = new WeakMap(), zf = new WeakMap();\nclass __ extends bC {\n  constructor(t) {\n    super(t), this.sys = t;\n  }\n  static async generate(t) {\n    const e = new __(t), i = t.cur + \"prj.json\", n = await (await t.fetch(i)).text(), s = JSON.parse(t.decStr(i, n));\n    return await e.load(s), e;\n  }\n  async load(t) {\n    await super.load(t), A.stageW = this.oCfg.window.width, A.stageH = this.oCfg.window.height, A.debugLog = this.oCfg.debug.debugLog;\n  }\n  searchPath(t, e = ii.DEFAULT) {\n    return t.slice(0, 11) === \"downloads:/\" ? this.sys.path_downloads + t.slice(11) : t.slice(0, 10) === \"userdata:/\" ? this.sys.path_userdata + \"storage/\" + t.slice(10) : super.searchPath(t, e);\n  }\n}\nconst Sb = /(?<name>[^\\s;\\]]+)/;\nfunction em(r) {\n  const t = Sb.exec(r.slice(1, -1)), e = t == null ? void 0 : t.groups;\n  if (!e)\n    throw `タグ記述【${r}】異常です(タグ解析)`;\n  const i = e.name;\n  return [i, r.slice(1 + i.length, -1)];\n}\nfunction nf(r) {\n  const t = Sb.exec(r.slice(1)), e = t == null ? void 0 : t.groups;\n  if (!e)\n    throw `タグ記述【${r}】異常です(タグ解析)`;\n  return e.name;\n}\nfunction xC(r) {\n  const t = r.replaceAll(\"==\", \"＝\").replaceAll(\"!=\", \"≠\").split(\"=\"), e = t.length;\n  if (e < 2 || e > 3)\n    throw \"「&計算」書式では「=」指定が一つか二つ必要です\";\n  if (t[1].at(0) === \"&\")\n    throw \"「&計算」書式では「&」指定が不要です\";\n  return {\n    name: t[0].replaceAll(\"＝\", \"==\").replaceAll(\"≠\", \"!=\"),\n    text: t[1].replaceAll(\"＝\", \"==\").replaceAll(\"≠\", \"!=\"),\n    cast: e === 3 ? t[2].trim() : void 0\n  };\n}\nvar As, Ds, Pl, Ol, Il, qe, Cl, ga, sf;\nclass wC {\n  constructor() {\n    _(this, ga);\n    _(this, As, void 0);\n    _(this, Ds, void 0);\n    _(this, Pl, new RegExp(\"\"));\n    _(this, Ol, \"\");\n    _(this, Il, \"\");\n    _(this, qe, void 0);\n    _(this, Cl, void 0);\n    this.setEscape(\"\");\n  }\n  setEscape(t) {\n    if (h(this, qe) && t in h(this, qe))\n      throw \"[エスケープ文字] char【\" + t + \"】が登録済みの括弧マクロまたは一文字マクロです\";\n    b(this, As, new RegExp(\n      (t ? `\\\\${t}\\\\S|` : \"\") + // エスケープシーケンス\n      `\\\\n+|\\\\t+|\\\\[let_ml\\\\s+[^\\\\]]+\\\\].+?(?=\\\\[endlet_ml[\\\\]\\\\s])|\\\\[(?:(?=([^\"'#;\\\\]]+))\\\\1|([\"'#]).*?\\\\2|;[^\\\\n]*)*?]|;[^\\\\n]*|&[^&\\\\n]+&|&&?[^&;\\\\n\\\\t]+|^\\\\*[^\\\\s\\\\[&;\\\\\\\\]+|[^\\\\n\\\\t\\\\[;${t ? `\\\\${t}` : \"\"}]+`,\n      // 本文\n      \"gs\"\n    )), b(this, Ds, new RegExp(`[\\\\w\\\\s;[\\\\]*=&｜《》${t ? `\\\\${t}` : \"\"}]`)), b(this, Cl, new RegExp(`[\\\\n\\\\t;\\\\[*&${t ? `\\\\${t}` : \"\"}]`));\n  }\n  // 括弧マクロの定義\n  bracket2macro(t, e, i, n) {\n    const { name: s, text: o } = t;\n    if (!s)\n      throw \"[bracket2macro] nameは必須です\";\n    if (!o)\n      throw \"[bracket2macro] textは必須です\";\n    const a = o.at(0);\n    if (!a)\n      throw \"[bracket2macro] textは必須です\";\n    if (o.length !== 2)\n      throw \"[bracket2macro] textは括弧の前後を示す二文字を指定してください\";\n    if (!(s in e))\n      throw `[bracket2macro] 未定義のタグ又はマクロ[${s}]です`;\n    h(this, qe) ?? b(this, qe, {});\n    const l = o.charAt(1);\n    if (a in h(this, qe))\n      throw \"[bracket2macro] text【\" + a + \"】が登録済みの括弧マクロまたは一文字マクロです\";\n    if (l in h(this, qe))\n      throw \"[bracket2macro] text【\" + l + \"】が登録済みの括弧マクロまたは一文字マクロです\";\n    if (h(this, Ds).test(a))\n      throw \"[bracket2macro] text【\" + a + \"】は括弧マクロに使用できない文字です\";\n    if (h(this, Ds).test(l))\n      throw \"[bracket2macro] text【\" + l + \"】は括弧マクロに使用できない文字です\";\n    h(this, qe)[l] = \"0\", h(this, qe)[a] = `[${s} text=`, this.addC2M(`\\\\${a}[^\\\\${l}]*\\\\${l}`, `\\\\${a}\\\\${l}`), x(this, ga, sf).call(this, i, n);\n  }\n  // 一文字マクロの定義\n  char2macro(t, e, i, n) {\n    const { char: s, name: o } = t;\n    if (!s)\n      throw \"[char2macro] charは必須です\";\n    if (h(this, qe) ?? b(this, qe, {}), s in h(this, qe))\n      throw \"[char2macro] char【\" + s + \"】が登録済みの括弧マクロまたは一文字マクロです\";\n    if (h(this, Ds).test(s))\n      throw \"[char2macro] char【\" + s + \"】は一文字マクロに使用できない文字です\";\n    if (!o)\n      throw \"[char2macro] nameは必須です\";\n    if (!(o in e))\n      throw `[char2macro] 未定義のタグ又はマクロ[${o}]です`;\n    h(this, qe)[s] = `[${o}]`, this.addC2M(`\\\\${s}`, `\\\\${s}`), x(this, ga, sf).call(this, i, n);\n  }\n  addC2M(t, e) {\n    b(this, Ol, h(this, Ol) + `${t}|`), b(this, Il, h(this, Il) + `${e}`), b(this, Pl, new RegExp(\n      `(${h(this, Ol)}[^${h(this, Il)}]+)`,\n      \"g\"\n    ));\n  }\n  resolveScript(t) {\n    var n;\n    const e = ((n = t.replaceAll(/(\\r\\n|\\r)/g, `\n`).match(h(this, As))) == null ? void 0 : n.flatMap((s) => {\n      if (!this.testTagLetml(s))\n        return s;\n      const o = /^([^\\]]+?])(.*)$/s.exec(s);\n      if (!o)\n        return s;\n      const [, a, l] = o;\n      return [a, l];\n    })) ?? [], i = { aToken: e, len: e.length, aLNum: [] };\n    return x(this, ga, sf).call(this, i), i;\n  }\n  testTagLetml(t) {\n    return /^\\[let_ml\\s/.test(t);\n  }\n  testTagEndLetml(t) {\n    return /^\\[endlet_ml\\s*]/.test(t);\n  }\n  analyzToken(t) {\n    return h(this, As).lastIndex = 0, h(this, As).exec(t);\n  }\n  testNoTxt(t) {\n    return h(this, Cl).test(t);\n  }\n  //4tst\n}\nAs = new WeakMap(), Ds = new WeakMap(), Pl = new WeakMap(), Ol = new WeakMap(), Il = new WeakMap(), qe = new WeakMap(), Cl = new WeakMap(), ga = new WeakSet(), sf = function(t, e = 0) {\n  if (h(this, qe)) {\n    for (let i = t.len - 1; i >= e; --i) {\n      const n = t.aToken[i];\n      if (this.testNoTxt(n.at(0) ?? `\n`))\n        continue;\n      const s = t.aLNum[i], o = n.match(h(this, Pl));\n      if (!o)\n        continue;\n      let a = 1;\n      for (let l = o.length - 1; l >= 0; --l) {\n        let u = o[l];\n        const c = h(this, qe)[u.at(0) ?? \" \"];\n        c && (u = c + (c.at(-1) === \"]\" ? \"\" : `'${u.slice(1, -1)}']`)), t.aToken.splice(i, a, u), t.aLNum.splice(i, a, s), a = 0;\n      }\n    }\n    t.len = t.aToken.length;\n  }\n};\nvar Ml, ba, of, Bs, xa;\nclass EC {\n  constructor() {\n    _(this, ba);\n    // 87 match 2725 step(0.5ms) PCRE2 https://regex101.com/r/aeN57J/1\n    /*\n    ;[^\\n]*\n    |\t(?<key>[^\\s=\"'#|;]+)\n    \t(?: \\s | ;[^\\n]*\\n)*\n    \t=\n    \t(?: \\s | ;[^\\n]*\\n)*\n    \t(?:\t(?<val> [^\\s\"'#|;]+)\n    \t|\t([\"'#]) (?<val2>.*?) \\3 )\n    \t(?: \\|\n    \t\t(?: (?<def> [^\\s\"'#;]+)\n    \t|\t([\"'#]) (?<def2>.*?) \\6 ) )?\n    |\t(?<literal>[^\\s;]+)\n    \t*/\n    _(this, Ml, /;[^\\n]*|(?<key>[^\\s=\"'#|;]+)(?:\\s|;[^\\n]*\\n)*=(?:\\s|;[^\\n]*\\n)*(?:(?<val>[^\\s\"'#|;]+)|([\"'#])(?<val2>.*?)\\3)(?:\\|(?:(?<def>[^\\s\"'#;]+)|([\"'#])(?<def2>.*?)\\6))?|(?<literal>[^\\s;]+)/g);\n    _(this, Bs, {});\n    _(this, xa, !1);\n  }\n  // 【属性 = 値 | 省略値】の分析\n  parse(t) {\n    b(this, Bs, {}), b(this, xa, !1);\n    for (const { groups: e } of t.matchAll(h(this, Ml))) {\n      const { key: i, val: n, val2: s, def: o, def2: a, literal: l } = e;\n      i ? h(this, Bs)[i] = {\n        val: n ?? s,\n        def: o ?? a\n      } : l && (l === \"*\" ? b(this, xa, !0) : h(this, Bs)[l] = { val: \"1\" });\n    }\n  }\n  // 属性と値の位置をまとめて返す\n  parseinDetail(t, e, i, n) {\n    const s = {}, o = t.slice(1 + e, -1);\n    for (const { groups: a, index: l, 0: u } of o.matchAll(h(this, Ml))) {\n      if (l === void 0)\n        continue;\n      const { key: c, val: f, val2: d, literal: p } = a;\n      if (p) {\n        if (p.at(-1) === \"=\") {\n          const w = p.length - 1, { ch: T } = x(this, ba, of).call(this, e, i, n, o, l + w);\n          s[p.slice(0, -1)] = {\n            k_ln: i,\n            k_ch: T - w,\n            v_ln: i,\n            v_ch: T + 1,\n            //\tv_ch: ch +1+lenNm +literal.length +1,\n            v_len: 0\n          };\n        }\n        continue;\n      }\n      if (!c)\n        continue;\n      const { ln: m, ch: v } = x(this, ba, of).call(this, e, i, n, o, l), { ln: y, ch: g } = x(this, ba, of).call(this, e, i, n, o, l + u.lastIndexOf(f ?? d) - (f ? 0 : 1));\n      s[c] = { k_ln: m, k_ch: v, v_ln: y, v_ch: g, v_len: f ? f.length : d.length + 2 };\n    }\n    return s;\n  }\n  get hPrm() {\n    return h(this, Bs);\n  }\n  get isKomeParam() {\n    return h(this, xa);\n  }\n}\nMl = new WeakMap(), ba = new WeakSet(), of = function(t, e, i, n, s) {\n  const a = n.slice(0, s).split(`\n`), l = a.length;\n  return {\n    ln: e + l - 1,\n    ch: l < 2 ? i + 1 + t + s : a.at(-1).length\n  };\n}, Bs = new WeakMap(), xa = new WeakMap();\nvar Pb = { exports: {} };\n(function(r, t) {\n  (function(e, i) {\n    r.exports = i();\n  })(typeof self < \"u\" ? self : Kc, function() {\n    return function(e) {\n      var i = {};\n      function n(s) {\n        if (i[s])\n          return i[s].exports;\n        var o = i[s] = { i: s, l: !1, exports: {} };\n        return e[s].call(o.exports, o, o.exports, n), o.l = !0, o.exports;\n      }\n      return n.m = e, n.c = i, n.d = function(s, o, a) {\n        n.o(s, o) || Object.defineProperty(s, o, { configurable: !1, enumerable: !0, get: a });\n      }, n.r = function(s) {\n        Object.defineProperty(s, \"__esModule\", { value: !0 });\n      }, n.n = function(s) {\n        var o = s && s.__esModule ? function() {\n          return s.default;\n        } : function() {\n          return s;\n        };\n        return n.d(o, \"a\", o), o;\n      }, n.o = function(s, o) {\n        return Object.prototype.hasOwnProperty.call(s, o);\n      }, n.p = \"\", n(n.s = 0);\n    }([function(e, i, n) {\n      function s(E) {\n        if (!(this instanceof s))\n          return new s(E);\n        this._ = E;\n      }\n      var o = s.prototype;\n      function a(E, R) {\n        for (var L = 0; L < E; L++)\n          R(L);\n      }\n      function l(E, R, L) {\n        return function(G, $) {\n          a($.length, function(X) {\n            G($[X], X, $);\n          });\n        }(function(G, $, X) {\n          R = E(R, G, $, X);\n        }, L), R;\n      }\n      function u(E, R) {\n        return l(function(L, G, $, X) {\n          return L.concat([E(G, $, X)]);\n        }, [], R);\n      }\n      function c(E, R) {\n        var L = { v: 0, buf: R };\n        return a(E, function() {\n          var G;\n          L = { v: L.v << 1 | (G = L.buf, G[0] >> 7), buf: function($) {\n            var X = l(function(Y, mt, te, Ye) {\n              return Y.concat(te === Ye.length - 1 ? Buffer.from([mt, 0]).readUInt16BE(0) : Ye.readUInt16BE(te));\n            }, [], $);\n            return Buffer.from(u(function(Y) {\n              return (Y << 1 & 65535) >> 8;\n            }, X));\n          }(L.buf) };\n        }), L;\n      }\n      function f() {\n        return typeof Buffer < \"u\";\n      }\n      function d() {\n        if (!f())\n          throw new Error(\"Buffer global does not exist; please use webpack if you need to parse Buffers in the browser.\");\n      }\n      function p(E) {\n        d();\n        var R = l(function(X, Y) {\n          return X + Y;\n        }, 0, E);\n        if (R % 8 != 0)\n          throw new Error(\"The bits [\" + E.join(\", \") + \"] add up to \" + R + \" which is not an even number of bytes; the total should be divisible by 8\");\n        var L, G = R / 8, $ = (L = function(X) {\n          return X > 48;\n        }, l(function(X, Y) {\n          return X || (L(Y) ? Y : X);\n        }, null, E));\n        if ($)\n          throw new Error($ + \" bit range requested exceeds 48 bit (6 byte) Number max.\");\n        return new s(function(X, Y) {\n          var mt = G + Y;\n          return mt > X.length ? S(Y, G.toString() + \" bytes\") : I(mt, l(function(te, Ye) {\n            var je = c(Ye, te.buf);\n            return { coll: te.coll.concat(je.v), buf: je.buf };\n          }, { coll: [], buf: X.slice(Y, mt) }, E).coll);\n        });\n      }\n      function m(E, R) {\n        return new s(function(L, G) {\n          return d(), G + R > L.length ? S(G, R + \" bytes for \" + E) : I(G + R, L.slice(G, G + R));\n        });\n      }\n      function v(E, R) {\n        if (typeof (L = R) != \"number\" || Math.floor(L) !== L || R < 0 || R > 6)\n          throw new Error(E + \" requires integer length in range [0, 6].\");\n        var L;\n      }\n      function y(E) {\n        return v(\"uintBE\", E), m(\"uintBE(\" + E + \")\", E).map(function(R) {\n          return R.readUIntBE(0, E);\n        });\n      }\n      function g(E) {\n        return v(\"uintLE\", E), m(\"uintLE(\" + E + \")\", E).map(function(R) {\n          return R.readUIntLE(0, E);\n        });\n      }\n      function w(E) {\n        return v(\"intBE\", E), m(\"intBE(\" + E + \")\", E).map(function(R) {\n          return R.readIntBE(0, E);\n        });\n      }\n      function T(E) {\n        return v(\"intLE\", E), m(\"intLE(\" + E + \")\", E).map(function(R) {\n          return R.readIntLE(0, E);\n        });\n      }\n      function P(E) {\n        return E instanceof s;\n      }\n      function O(E) {\n        return {}.toString.call(E) === \"[object Array]\";\n      }\n      function C(E) {\n        return f() && Buffer.isBuffer(E);\n      }\n      function I(E, R) {\n        return { status: !0, index: E, value: R, furthest: -1, expected: [] };\n      }\n      function S(E, R) {\n        return O(R) || (R = [R]), { status: !1, index: -1, value: null, furthest: E, expected: R };\n      }\n      function M(E, R) {\n        if (!R || E.furthest > R.furthest)\n          return E;\n        var L = E.furthest === R.furthest ? function(G, $) {\n          if (function() {\n            if (s._supportsSet !== void 0)\n              return s._supportsSet;\n            var on = typeof Set < \"u\";\n            return s._supportsSet = on, on;\n          }() && Array.from) {\n            for (var X = new Set(G), Y = 0; Y < $.length; Y++)\n              X.add($[Y]);\n            var mt = Array.from(X);\n            return mt.sort(), mt;\n          }\n          for (var te = {}, Ye = 0; Ye < G.length; Ye++)\n            te[G[Ye]] = !0;\n          for (var je = 0; je < $.length; je++)\n            te[$[je]] = !0;\n          var sn = [];\n          for (var yi in te)\n            ({}).hasOwnProperty.call(te, yi) && sn.push(yi);\n          return sn.sort(), sn;\n        }(E.expected, R.expected) : R.expected;\n        return { status: E.status, index: E.index, value: E.value, furthest: R.furthest, expected: L };\n      }\n      var N = {};\n      function D(E, R) {\n        if (C(E))\n          return { offset: R, line: -1, column: -1 };\n        E in N || (N[E] = {});\n        for (var L = N[E], G = 0, $ = 0, X = 0, Y = R; Y >= 0; ) {\n          if (Y in L) {\n            G = L[Y].line, X === 0 && (X = L[Y].lineStart);\n            break;\n          }\n          (E.charAt(Y) === `\n` || E.charAt(Y) === \"\\r\" && E.charAt(Y + 1) !== `\n`) && ($++, X === 0 && (X = Y + 1)), Y--;\n        }\n        var mt = G + $, te = R - X;\n        return L[R] = { line: mt, lineStart: X }, { offset: R, line: mt + 1, column: te + 1 };\n      }\n      function z(E) {\n        if (!P(E))\n          throw new Error(\"not a parser: \" + E);\n      }\n      function q(E, R) {\n        return typeof E == \"string\" ? E.charAt(R) : E[R];\n      }\n      function it(E) {\n        if (typeof E != \"number\")\n          throw new Error(\"not a number: \" + E);\n      }\n      function V(E) {\n        if (typeof E != \"function\")\n          throw new Error(\"not a function: \" + E);\n      }\n      function H(E) {\n        if (typeof E != \"string\")\n          throw new Error(\"not a string: \" + E);\n      }\n      var J = 2, vt = 3, tt = 8, wt = 5 * tt, rt = 4 * tt, be = \"  \";\n      function Wt(E, R) {\n        return new Array(R + 1).join(E);\n      }\n      function Et(E, R, L) {\n        var G = R - E.length;\n        return G <= 0 ? E : Wt(L, G) + E;\n      }\n      function Qt(E, R, L, G) {\n        return { from: E - R > 0 ? E - R : 0, to: E + L > G ? G : E + L };\n      }\n      function k(E, R) {\n        var L, G, $, X, Y, mt = R.index, te = mt.offset, Ye = 1;\n        if (te === E.length)\n          return \"Got the end of the input\";\n        if (C(E)) {\n          var je = te - te % tt, sn = te - je, yi = Qt(je, wt, rt + tt, E.length), on = u(function(Le) {\n            return u(function(Jo) {\n              return Et(Jo.toString(16), 2, \"0\");\n            }, Le);\n          }, function(Le, Jo) {\n            var Qo = Le.length, gs = [], ta = 0;\n            if (Qo <= Jo)\n              return [Le.slice()];\n            for (var ea = 0; ea < Qo; ea++)\n              gs[ta] || gs.push([]), gs[ta].push(Le[ea]), (ea + 1) % Jo == 0 && ta++;\n            return gs;\n          }(E.slice(yi.from, yi.to).toJSON().data, tt));\n          X = function(Le) {\n            return Le.from === 0 && Le.to === 1 ? { from: Le.from, to: Le.to } : { from: Le.from / tt, to: Math.floor(Le.to / tt) };\n          }(yi), G = je / tt, L = 3 * sn, sn >= 4 && (L += 1), Ye = 2, $ = u(function(Le) {\n            return Le.length <= 4 ? Le.join(\" \") : Le.slice(0, 4).join(\" \") + \"  \" + Le.slice(4).join(\" \");\n          }, on), (Y = (8 * (X.to > 0 ? X.to - 1 : X.to)).toString(16).length) < 2 && (Y = 2);\n        } else {\n          var Ko = E.split(/\\r\\n|[\\n\\r\\u2028\\u2029]/);\n          L = mt.column - 1, G = mt.line - 1, X = Qt(G, J, vt, Ko.length), $ = Ko.slice(X.from, X.to), Y = X.to.toString().length;\n        }\n        var rE = G - X.from;\n        return C(E) && (Y = (8 * (X.to > 0 ? X.to - 1 : X.to)).toString(16).length) < 2 && (Y = 2), l(function(Le, Jo, Qo) {\n          var gs, ta = Qo === rE, ea = ta ? \"> \" : be;\n          return gs = C(E) ? Et((8 * (X.from + Qo)).toString(16), Y, \"0\") : Et((X.from + Qo + 1).toString(), Y, \" \"), [].concat(Le, [ea + gs + \" | \" + Jo], ta ? [be + Wt(\" \", Y) + \" | \" + Et(\"\", L, \" \") + Wt(\"^\", Ye)] : []);\n        }, [], $).join(`\n`);\n      }\n      function Yt(E, R) {\n        return [`\n`, \"-- PARSING FAILED \" + Wt(\"-\", 50), `\n\n`, k(E, R), `\n\n`, (L = R.expected, L.length === 1 ? `Expected:\n\n` + L[0] : `Expected one of the following: \n\n` + L.join(\", \")), `\n`].join(\"\");\n        var L;\n      }\n      function at(E) {\n        return E.flags !== void 0 ? E.flags : [E.global ? \"g\" : \"\", E.ignoreCase ? \"i\" : \"\", E.multiline ? \"m\" : \"\", E.unicode ? \"u\" : \"\", E.sticky ? \"y\" : \"\"].join(\"\");\n      }\n      function me() {\n        for (var E = [].slice.call(arguments), R = E.length, L = 0; L < R; L += 1)\n          z(E[L]);\n        return s(function(G, $) {\n          for (var X, Y = new Array(R), mt = 0; mt < R; mt += 1) {\n            if (!(X = M(E[mt]._(G, $), X)).status)\n              return X;\n            Y[mt] = X.value, $ = X.index;\n          }\n          return M(I($, Y), X);\n        });\n      }\n      function Ft() {\n        var E = [].slice.call(arguments);\n        if (E.length === 0)\n          throw new Error(\"seqMap needs at least one argument\");\n        var R = E.pop();\n        return V(R), me.apply(null, E).map(function(L) {\n          return R.apply(null, L);\n        });\n      }\n      function Z() {\n        var E = [].slice.call(arguments), R = E.length;\n        if (R === 0)\n          return U(\"zero alternates\");\n        for (var L = 0; L < R; L += 1)\n          z(E[L]);\n        return s(function(G, $) {\n          for (var X, Y = 0; Y < E.length; Y += 1)\n            if ((X = M(E[Y]._(G, $), X)).status)\n              return X;\n          return X;\n        });\n      }\n      function xe(E, R) {\n        return ct(E, R).or(xt([]));\n      }\n      function ct(E, R) {\n        return z(E), z(R), Ft(E, R.then(E).many(), function(L, G) {\n          return [L].concat(G);\n        });\n      }\n      function F(E) {\n        H(E);\n        var R = \"'\" + E + \"'\";\n        return s(function(L, G) {\n          var $ = G + E.length, X = L.slice(G, $);\n          return X === E ? I($, X) : S(G, R);\n        });\n      }\n      function ht(E, R) {\n        (function($) {\n          if (!($ instanceof RegExp))\n            throw new Error(\"not a regexp: \" + $);\n          for (var X = at($), Y = 0; Y < X.length; Y++) {\n            var mt = X.charAt(Y);\n            if (mt !== \"i\" && mt !== \"m\" && mt !== \"u\" && mt !== \"s\")\n              throw new Error('unsupported regexp flag \"' + mt + '\": ' + $);\n          }\n        })(E), arguments.length >= 2 ? it(R) : R = 0;\n        var L = function($) {\n          return RegExp(\"^(?:\" + $.source + \")\", at($));\n        }(E), G = \"\" + E;\n        return s(function($, X) {\n          var Y = L.exec($.slice(X));\n          if (Y) {\n            if (0 <= R && R <= Y.length) {\n              var mt = Y[0], te = Y[R];\n              return I(X + mt.length, te);\n            }\n            return S(X, \"valid match group (0 to \" + Y.length + \") in \" + G);\n          }\n          return S(X, G);\n        });\n      }\n      function xt(E) {\n        return s(function(R, L) {\n          return I(L, E);\n        });\n      }\n      function U(E) {\n        return s(function(R, L) {\n          return S(L, E);\n        });\n      }\n      function ke(E) {\n        if (P(E))\n          return s(function(R, L) {\n            var G = E._(R, L);\n            return G.index = L, G.value = \"\", G;\n          });\n        if (typeof E == \"string\")\n          return ke(F(E));\n        if (E instanceof RegExp)\n          return ke(ht(E));\n        throw new Error(\"not a string, regexp, or parser: \" + E);\n      }\n      function vi(E) {\n        return z(E), s(function(R, L) {\n          var G = E._(R, L), $ = R.slice(L, G.index);\n          return G.status ? S(L, 'not \"' + $ + '\"') : I(L, null);\n        });\n      }\n      function Ne(E) {\n        return V(E), s(function(R, L) {\n          var G = q(R, L);\n          return L < R.length && E(G) ? I(L + 1, G) : S(L, \"a character/byte matching \" + E);\n        });\n      }\n      function Li(E, R) {\n        arguments.length < 2 && (R = E, E = void 0);\n        var L = s(function(G, $) {\n          return L._ = R()._, L._(G, $);\n        });\n        return E ? L.desc(E) : L;\n      }\n      function Ai() {\n        return U(\"fantasy-land/empty\");\n      }\n      o.parse = function(E) {\n        if (typeof E != \"string\" && !C(E))\n          throw new Error(\".parse must be called with a string or Buffer as its argument\");\n        var R, L = this.skip(ue)._(E, 0);\n        return R = L.status ? { status: !0, value: L.value } : { status: !1, index: D(E, L.furthest), expected: L.expected }, delete N[E], R;\n      }, o.tryParse = function(E) {\n        var R = this.parse(E);\n        if (R.status)\n          return R.value;\n        var L = Yt(E, R), G = new Error(L);\n        throw G.type = \"ParsimmonError\", G.result = R, G;\n      }, o.assert = function(E, R) {\n        return this.chain(function(L) {\n          return E(L) ? xt(L) : U(R);\n        });\n      }, o.or = function(E) {\n        return Z(this, E);\n      }, o.trim = function(E) {\n        return this.wrap(E, E);\n      }, o.wrap = function(E, R) {\n        return Ft(E, this, R, function(L, G) {\n          return G;\n        });\n      }, o.thru = function(E) {\n        return E(this);\n      }, o.then = function(E) {\n        return z(E), me(this, E).map(function(R) {\n          return R[1];\n        });\n      }, o.many = function() {\n        var E = this;\n        return s(function(R, L) {\n          for (var G = [], $ = void 0; ; ) {\n            if (!($ = M(E._(R, L), $)).status)\n              return M(I(L, G), $);\n            if (L === $.index)\n              throw new Error(\"infinite loop detected in .many() parser --- calling .many() on a parser which can accept zero characters is usually the cause\");\n            L = $.index, G.push($.value);\n          }\n        });\n      }, o.tieWith = function(E) {\n        return H(E), this.map(function(R) {\n          if (function($) {\n            if (!O($))\n              throw new Error(\"not an array: \" + $);\n          }(R), R.length) {\n            H(R[0]);\n            for (var L = R[0], G = 1; G < R.length; G++)\n              H(R[G]), L += E + R[G];\n            return L;\n          }\n          return \"\";\n        });\n      }, o.tie = function() {\n        return this.tieWith(\"\");\n      }, o.times = function(E, R) {\n        var L = this;\n        return arguments.length < 2 && (R = E), it(E), it(R), s(function(G, $) {\n          for (var X = [], Y = void 0, mt = void 0, te = 0; te < E; te += 1) {\n            if (mt = M(Y = L._(G, $), mt), !Y.status)\n              return mt;\n            $ = Y.index, X.push(Y.value);\n          }\n          for (; te < R && (mt = M(Y = L._(G, $), mt), Y.status); te += 1)\n            $ = Y.index, X.push(Y.value);\n          return M(I($, X), mt);\n        });\n      }, o.result = function(E) {\n        return this.map(function() {\n          return E;\n        });\n      }, o.atMost = function(E) {\n        return this.times(0, E);\n      }, o.atLeast = function(E) {\n        return Ft(this.times(E), this.many(), function(R, L) {\n          return R.concat(L);\n        });\n      }, o.map = function(E) {\n        V(E);\n        var R = this;\n        return s(function(L, G) {\n          var $ = R._(L, G);\n          return $.status ? M(I($.index, E($.value)), $) : $;\n        });\n      }, o.contramap = function(E) {\n        V(E);\n        var R = this;\n        return s(function(L, G) {\n          var $ = R.parse(E(L.slice(G)));\n          return $.status ? I(G + L.length, $.value) : $;\n        });\n      }, o.promap = function(E, R) {\n        return V(E), V(R), this.contramap(E).map(R);\n      }, o.skip = function(E) {\n        return me(this, E).map(function(R) {\n          return R[0];\n        });\n      }, o.mark = function() {\n        return Ft(ri, this, ri, function(E, R, L) {\n          return { start: E, value: R, end: L };\n        });\n      }, o.node = function(E) {\n        return Ft(ri, this, ri, function(R, L, G) {\n          return { name: E, value: L, start: R, end: G };\n        });\n      }, o.sepBy = function(E) {\n        return xe(this, E);\n      }, o.sepBy1 = function(E) {\n        return ct(this, E);\n      }, o.lookahead = function(E) {\n        return this.skip(ke(E));\n      }, o.notFollowedBy = function(E) {\n        return this.skip(vi(E));\n      }, o.desc = function(E) {\n        O(E) || (E = [E]);\n        var R = this;\n        return s(function(L, G) {\n          var $ = R._(L, G);\n          return $.status || ($.expected = E), $;\n        });\n      }, o.fallback = function(E) {\n        return this.or(xt(E));\n      }, o.ap = function(E) {\n        return Ft(E, this, function(R, L) {\n          return R(L);\n        });\n      }, o.chain = function(E) {\n        var R = this;\n        return s(function(L, G) {\n          var $ = R._(L, G);\n          return $.status ? M(E($.value)._(L, $.index), $) : $;\n        });\n      }, o.concat = o.or, o.empty = Ai, o.of = xt, o[\"fantasy-land/ap\"] = o.ap, o[\"fantasy-land/chain\"] = o.chain, o[\"fantasy-land/concat\"] = o.concat, o[\"fantasy-land/empty\"] = o.empty, o[\"fantasy-land/of\"] = o.of, o[\"fantasy-land/map\"] = o.map;\n      var ri = s(function(E, R) {\n        return I(R, D(E, R));\n      }), Ir = s(function(E, R) {\n        return R >= E.length ? S(R, \"any character/byte\") : I(R + 1, q(E, R));\n      }), Ee = s(function(E, R) {\n        return I(E.length, E.slice(R));\n      }), ue = s(function(E, R) {\n        return R < E.length ? S(R, \"EOF\") : I(R, null);\n      }), Ht = ht(/[0-9]/).desc(\"a digit\"), Ct = ht(/[0-9]*/).desc(\"optional digits\"), mi = ht(/[a-z]/i).desc(\"a letter\"), Qw = ht(/[a-z]*/i).desc(\"optional letters\"), tE = ht(/\\s*/).desc(\"optional whitespace\"), eE = ht(/\\s+/).desc(\"whitespace\"), R_ = F(\"\\r\"), k_ = F(`\n`), N_ = F(`\\r\n`), L_ = Z(N_, k_, R_).desc(\"newline\"), iE = Z(L_, ue);\n      s.all = Ee, s.alt = Z, s.any = Ir, s.cr = R_, s.createLanguage = function(E) {\n        var R = {};\n        for (var L in E)\n          ({}).hasOwnProperty.call(E, L) && function(G) {\n            R[G] = Li(function() {\n              return E[G](R);\n            });\n          }(L);\n        return R;\n      }, s.crlf = N_, s.custom = function(E) {\n        return s(E(I, S));\n      }, s.digit = Ht, s.digits = Ct, s.empty = Ai, s.end = iE, s.eof = ue, s.fail = U, s.formatError = Yt, s.index = ri, s.isParser = P, s.lazy = Li, s.letter = mi, s.letters = Qw, s.lf = k_, s.lookahead = ke, s.makeFailure = S, s.makeSuccess = I, s.newline = L_, s.noneOf = function(E) {\n        return Ne(function(R) {\n          return E.indexOf(R) < 0;\n        }).desc(\"none of '\" + E + \"'\");\n      }, s.notFollowedBy = vi, s.of = xt, s.oneOf = function(E) {\n        for (var R = E.split(\"\"), L = 0; L < R.length; L++)\n          R[L] = \"'\" + R[L] + \"'\";\n        return Ne(function(G) {\n          return E.indexOf(G) >= 0;\n        }).desc(R);\n      }, s.optWhitespace = tE, s.Parser = s, s.range = function(E, R) {\n        return Ne(function(L) {\n          return E <= L && L <= R;\n        }).desc(E + \"-\" + R);\n      }, s.regex = ht, s.regexp = ht, s.sepBy = xe, s.sepBy1 = ct, s.seq = me, s.seqMap = Ft, s.seqObj = function() {\n        for (var E, R = {}, L = 0, G = (E = arguments, Array.prototype.slice.call(E)), $ = G.length, X = 0; X < $; X += 1) {\n          var Y = G[X];\n          if (!P(Y)) {\n            if (O(Y) && Y.length === 2 && typeof Y[0] == \"string\" && P(Y[1])) {\n              var mt = Y[0];\n              if (Object.prototype.hasOwnProperty.call(R, mt))\n                throw new Error(\"seqObj: duplicate key \" + mt);\n              R[mt] = !0, L++;\n              continue;\n            }\n            throw new Error(\"seqObj arguments must be parsers or [string, parser] array pairs.\");\n          }\n        }\n        if (L === 0)\n          throw new Error(\"seqObj expects at least one named parser, found zero\");\n        return s(function(te, Ye) {\n          for (var je, sn = {}, yi = 0; yi < $; yi += 1) {\n            var on, Ko;\n            if (O(G[yi]) ? (on = G[yi][0], Ko = G[yi][1]) : (on = null, Ko = G[yi]), !(je = M(Ko._(te, Ye), je)).status)\n              return je;\n            on && (sn[on] = je.value), Ye = je.index;\n          }\n          return M(I(Ye, sn), je);\n        });\n      }, s.string = F, s.succeed = xt, s.takeWhile = function(E) {\n        return V(E), s(function(R, L) {\n          for (var G = L; G < R.length && E(q(R, G)); )\n            G++;\n          return I(G, R.slice(L, G));\n        });\n      }, s.test = Ne, s.whitespace = eE, s[\"fantasy-land/empty\"] = Ai, s[\"fantasy-land/of\"] = xt, s.Binary = { bitSeq: p, bitSeqObj: function(E) {\n        d();\n        var R = {}, L = 0, G = u(function(X) {\n          if (O(X)) {\n            var Y = X;\n            if (Y.length !== 2)\n              throw new Error(\"[\" + Y.join(\", \") + \"] should be length 2, got length \" + Y.length);\n            if (H(Y[0]), it(Y[1]), Object.prototype.hasOwnProperty.call(R, Y[0]))\n              throw new Error(\"duplicate key in bitSeqObj: \" + Y[0]);\n            return R[Y[0]] = !0, L++, Y;\n          }\n          return it(X), [null, X];\n        }, E);\n        if (L < 1)\n          throw new Error(\"bitSeqObj expects at least one named pair, got [\" + E.join(\", \") + \"]\");\n        var $ = u(function(X) {\n          return X[0];\n        }, G);\n        return p(u(function(X) {\n          return X[1];\n        }, G)).map(function(X) {\n          return l(function(Y, mt) {\n            return mt[0] !== null && (Y[mt[0]] = mt[1]), Y;\n          }, {}, u(function(Y, mt) {\n            return [Y, X[mt]];\n          }, $));\n        });\n      }, byte: function(E) {\n        if (d(), it(E), E > 255)\n          throw new Error(\"Value specified to byte constructor (\" + E + \"=0x\" + E.toString(16) + \") is larger in value than a single byte.\");\n        var R = (E > 15 ? \"0x\" : \"0x0\") + E.toString(16);\n        return s(function(L, G) {\n          var $ = q(L, G);\n          return $ === E ? I(G + 1, $) : S(G, R);\n        });\n      }, buffer: function(E) {\n        return m(\"buffer\", E).map(function(R) {\n          return Buffer.from(R);\n        });\n      }, encodedString: function(E, R) {\n        return m(\"string\", R).map(function(L) {\n          return L.toString(E);\n        });\n      }, uintBE: y, uint8BE: y(1), uint16BE: y(2), uint32BE: y(4), uintLE: g, uint8LE: g(1), uint16LE: g(2), uint32LE: g(4), intBE: w, int8BE: w(1), int16BE: w(2), int32BE: w(4), intLE: T, int8LE: T(1), int16LE: T(2), int32LE: T(4), floatBE: m(\"floatBE\", 4).map(function(E) {\n        return E.readFloatBE(0);\n      }), floatLE: m(\"floatLE\", 4).map(function(E) {\n        return E.readFloatLE(0);\n      }), doubleBE: m(\"doubleBE\", 8).map(function(E) {\n        return E.readDoubleBE(0);\n      }), doubleLE: m(\"doubleLE\", 8).map(function(E) {\n        return E.readDoubleLE(0);\n      }) }, e.exports = s;\n    }]);\n  });\n})(Pb);\nvar Bt = Pb.exports, Fs, ft, dt, rr, cn, Cs, Vf, Rl, Fm, Xf, Wf, Ob;\nconst C_ = class {\n  constructor(t, e = \"\\\\\") {\n    _(this, ft);\n    _(this, cn);\n    _(this, Rl);\n    _(this, Fs, null);\n    _(this, rr, {\n      \"!num!\": (t) => t.shift(),\n      \"!str!\": (t) => x(this, Rl, Fm).call(this, t.shift()),\n      \"!bool!\": (t) => t.shift(),\n      PostfixInc: (t) => {\n        throw Error(\"(PropParser)後置インクリメントは未サポートです\");\n      },\n      PostfixDec: (t) => {\n        throw Error(\"(PropParser)後置デクリメントは未サポートです\");\n      },\n      PrefixInc: (t) => {\n        throw Error(\"(PropParser)前置インクリメントは未サポートです\");\n      },\n      PrefixDec: (t) => {\n        throw Error(\"(PropParser)前置デクリメントは未サポートです\");\n      },\n      // 論理 NOT\n      \"!\": (t) => !h(this, rr).Boolean(t),\n      // チルダ演算子（ビット反転）\n      \"~\": (t) => ~Number(x(this, ft, dt).call(this, t.shift())),\n      //\t\tUnaryNegate:\ta=> - Number(this.#calc(a.shift())),\n      UnaryNegate: (t) => -h(this, rr).Number(t),\n      //\tUnaryplus:\t\ta=> this.#hFnc['Number'](a),\n      // 乗算、除算、剰余\n      \"**\": (t) => Number(x(this, ft, dt).call(this, t.shift())) ** Number(x(this, ft, dt).call(this, t.shift())),\n      \"*\": (t) => Number(x(this, ft, dt).call(this, t.shift())) * Number(x(this, ft, dt).call(this, t.shift())),\n      \"/\": (t) => Number(x(this, ft, dt).call(this, t.shift())) / Number(x(this, ft, dt).call(this, t.shift())),\n      \"¥\": (t) => Math.floor(h(this, rr)[\"/\"](t)),\n      \"%\": (t) => Number(x(this, ft, dt).call(this, t.shift())) % Number(x(this, ft, dt).call(this, t.shift())),\n      // 加算、減算、文字列の連結\n      \"+\": (t) => {\n        const e = x(this, ft, dt).call(this, t.shift()), i = x(this, ft, dt).call(this, t.shift());\n        return Object.prototype.toString.call(e) === \"[object String]\" || Object.prototype.toString.call(i) === \"[object String]\" ? String(e) + String(i) : Number(e) + Number(i);\n      },\n      \"-\": (t) => Number(x(this, ft, dt).call(this, t.shift())) - Number(x(this, ft, dt).call(this, t.shift())),\n      // 関数\n      int: (t) => ci(x(this, cn, Cs).call(this, t.shift())),\n      parseInt: (t) => ci(h(this, rr).Number(t)),\n      Number: (t) => {\n        const e = x(this, ft, dt).call(this, t.shift());\n        return Object.prototype.toString.call(e) === \"[object String]\" ? x(this, cn, Cs).call(this, h(this, Fs).parse(String(e)).value) : Number(e);\n      },\n      Boolean: (t) => {\n        const e = t.shift();\n        return e[0] === \"!bool!\" ? !!e[1] : !!x(this, ft, dt).call(this, e);\n      },\n      ceil: (t) => Math.ceil(x(this, cn, Cs).call(this, t.shift())),\n      floor: (t) => Math.floor(x(this, cn, Cs).call(this, t.shift())),\n      round: (t) => Math.round(x(this, cn, Cs).call(this, t.shift())),\n      isNaN: (t) => Number.isNaN(x(this, cn, Cs).call(this, t.shift())),\n      // ビットシフト\n      \"<<\": (t) => Number(x(this, ft, dt).call(this, t.shift())) << Number(x(this, ft, dt).call(this, t.shift())),\n      \">>\": (t) => Number(x(this, ft, dt).call(this, t.shift())) >> Number(x(this, ft, dt).call(this, t.shift())),\n      \">>>\": (t) => Number(x(this, ft, dt).call(this, t.shift())) >>> Number(x(this, ft, dt).call(this, t.shift())),\n      // 等値、非等値、厳密等価、厳密非等価\n      \"<\": (t) => Number(x(this, ft, dt).call(this, t.shift())) < Number(x(this, ft, dt).call(this, t.shift())),\n      \"<=\": (t) => Number(x(this, ft, dt).call(this, t.shift())) <= Number(x(this, ft, dt).call(this, t.shift())),\n      \">\": (t) => Number(x(this, ft, dt).call(this, t.shift())) > Number(x(this, ft, dt).call(this, t.shift())),\n      \">=\": (t) => Number(x(this, ft, dt).call(this, t.shift())) >= Number(x(this, ft, dt).call(this, t.shift())),\n      // 小なり、以下、大なり、以上\n      \"==\": (t) => {\n        const e = x(this, ft, dt).call(this, t.shift()), i = x(this, ft, dt).call(this, t.shift());\n        return e == null && i == null && (!e || !i) ? e == i : String(e) === String(i);\n      },\n      \"!=\": (t) => !h(this, rr)[\"==\"](t),\n      \"===\": (t) => {\n        const e = x(this, ft, dt).call(this, t.shift()), i = x(this, ft, dt).call(this, t.shift());\n        return Object.prototype.toString.call(e) != Object.prototype.toString.call(i) ? !1 : String(e) === String(i);\n      },\n      \"!==\": (t) => !h(this, rr)[\"===\"](t),\n      // ビット演算子\n      \"&\": (t) => Number(x(this, ft, dt).call(this, t.shift())) & Number(x(this, ft, dt).call(this, t.shift())),\n      \"^\": (t) => Number(x(this, ft, dt).call(this, t.shift())) ^ Number(x(this, ft, dt).call(this, t.shift())),\n      \"|\": (t) => Number(x(this, ft, dt).call(this, t.shift())) | Number(x(this, ft, dt).call(this, t.shift())),\n      // 論理 AND,OR\n      \"&&\": (t) => String(x(this, ft, dt).call(this, t.shift())) === \"true\" && String(x(this, ft, dt).call(this, t.shift())) === \"true\",\n      \"||\": (t) => String(x(this, ft, dt).call(this, t.shift())) === \"true\" || String(x(this, ft, dt).call(this, t.shift())) === \"true\",\n      // 条件\n      \"?\": (t) => {\n        const e = h(this, rr).Boolean(t), i = t.shift();\n        if (i[0] !== \":\")\n          throw Error(\"(PropParser)三項演算子の文法エラーです。: が見つかりません\");\n        return x(this, ft, dt).call(this, i[e ? 1 : 2]);\n      },\n      \":\": () => {\n        throw Error(\"(PropParser)三項演算子の文法エラーです。? が見つかりません\");\n      }\n    });\n    _(this, Vf, /(\\$((tmp|sys|save|mp):)?[^\\s!--\\/:-@[-^`{-~]+|\\#\\{[^\\}]+})/g);\n    B(this, \"getValAmpersand\", (t) => t.at(0) === \"&\" ? String(this.parse(t.slice(1))) : t);\n    this.val = t;\n    function i(w) {\n      const T = [];\n      for (const P of w)\n        T.push(\n          (typeof P == \"string\" ? Bt.string(P) : Bt.regex(P)).trim(Bt.optWhitespace)\n        );\n      return Bt.alt.apply(null, T);\n    }\n    function n(w) {\n      let P = Object.keys(w).sort().map(\n        (O) => (typeof w[O] == \"string\" ? Bt.string(w[O]) : Bt.regex(w[O])).trim(Bt.optWhitespace).result(O)\n      );\n      return Bt.alt.apply(null, P);\n    }\n    function s(w, T) {\n      const P = Bt.lazy(() => Bt.seq(w, P).or(T));\n      return P;\n    }\n    function o(w, T) {\n      return Bt.seqMap(T, w.many(), (P, O) => O.reduce((C, I) => [I, C], P));\n    }\n    function a(w, T) {\n      let P = Bt.lazy(\n        () => T.chain(\n          (O) => Bt.seq(\n            w,\n            Bt.of(O),\n            P\n          ).or(Bt.of(O))\n        )\n      );\n      return P;\n    }\n    function l(w, T) {\n      return Bt.seqMap(\n        T,\n        Bt.seq(w, T).many(),\n        (P, O) => O.reduce((C, I) => [I[0], C, I[1]], P)\n      );\n    }\n    const u = Bt.alt(\n      Bt.alt(\n        Bt.regex(/-?(0|[1-9][0-9]*)\\.[0-9]+/),\n        Bt.regex(/0x[0-9a-fA-F]+/)\n      ).map(Number),\n      Bt.alt(\n        Bt.regex(/-?(0|[1-9][0-9]*)/)\n      ).map((w) => ci(w))\n    ).map((w) => [\"!num!\", w]).desc(\"number\"), c = Bt.string(\"null\").map(() => [\"!str!\", null]), f = Bt.regex(/(true|false)/).map((w) => [\"!bool!\", w === \"true\"]).desc(\"boolean\"), d = Bt.regex(new RegExp(`(?:\"(?:\\\\${e}[\"'#\\\\n]|[^\"])*\"|'(?:\\\\${e}[\"'#\\\\n]|[^'])*'|\\\\#(?:\\\\${e}[\"'#\\\\n]|[^#])*\\\\#)`)).map((w) => [\"!str!\", w.slice(1, -1).replaceAll(e, \"\")]).desc(\"string\"), p = /\\[[^\\]]+\\]/g, m = Bt.regex(/-?(?:(?:tmp|sys|save|mp):)?[^\\s!-\\/:-@[-^`{-~]+(?:\\.[^\\s!-\\/:-@[-^`{-~]+|\\[[^\\]]+\\])*(?:@str)?/).map((w) => {\n      const T = String(w).replaceAll(\n        p,\n        (O) => \".\" + this.parse(O.slice(1, -1))\n      ), P = this.val.getVal(T);\n      return P == null ? [\"!str!\", P] : typeof P == \"boolean\" ? [\"!bool!\", P] : Object.prototype.toString.call(P) === \"[object String]\" ? [\"!str!\", String(P)] : [\"!num!\", Number(P)];\n    }).desc(\"string\"), v = Bt.lazy(\n      () => Bt.string(\"(\").then(h(this, Fs)).skip(Bt.string(\")\")).or(u).or(c).or(f).or(d).or(m)\n    ), g = [\n      // 演算子の優先順位 - JavaScript | MDN https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Operators/Operator_precedence\n      // 優先順位：18（メンバーへのアクセス、計算値によるメンバーへのアクセス）\n      // a.b  a[b]\n      { type: s, ops: i([/[A-Za-z_][A-Za-z0-9_]*(?=\\()/]) },\n      // 優先順位：16\n      { type: o, ops: n({ PostfixInc: \"++\" }) },\n      { type: o, ops: n({ PostfixDec: \"--\" }) },\n      // 【未サポート】後置インクリメント・デクリメント\n      // 優先順位：15\n      { type: s, ops: i([/!(?!=)|~/]) },\n      // 論理 NOT (!)、ビット単位 NOT (~)\n      { type: s, ops: n({ PrefixInc: \"++\" }) },\n      { type: s, ops: n({ PrefixDec: \"--\" }) },\n      // 【未サポート】前置インクリメント・デクリメント\n      //\t{type: PREFIX, ops: opeH({Unaryplus: /\\+(?!\\+)/})},\t// 単項プラス\n      { type: s, ops: n({ UnaryNegate: /-(?!-)/ }) },\n      // 単項マイナス\n      // 優先順位：14以下（並びに注意）\n      { type: a, ops: i([\"**\"]) },\n      { type: l, ops: i([\"*\", \"/\", \"¥\", \"%\"]) },\n      { type: l, ops: i([\"+\", \"-\"]) },\n      { type: l, ops: i([/>>>|<<|>>/]) },\n      { type: l, ops: i([/<=|<|>=|>/]) },\n      { type: l, ops: i([/===|!==|==|!=/]) },\n      { type: l, ops: i([/&(?!&)/]) },\n      { type: l, ops: i([\"^\"]) },\n      { type: l, ops: i([/\\|(?!\\|)/]) },\n      { type: l, ops: i([\"&&\"]) },\n      { type: l, ops: i([\"||\"]) },\n      { type: a, ops: i([\":\"]) },\n      { type: a, ops: i([\"?\"]) }\n    ].reduce(\n      (w, T) => T.type(T.ops, w),\n      v\n    );\n    b(this, Fs, g.trim(Bt.optWhitespace));\n  }\n  parse(t) {\n    const e = h(this, Fs).parse(t);\n    if (!e.status)\n      throw Error(\"(PropParser)文法エラー【\" + t + \"】\");\n    const i = e.value;\n    return i[0] === \"!str!\" ? x(this, Rl, Fm).call(this, i[1]) : x(this, ft, dt).call(this, i);\n  }\n  // 522 match 18413 step(~10ms) https://regex101.com/r/tmCKuE/1\n  // →これは改良しようがない。いい意味で改善の余地なし\n  static getValName(t) {\n    var a;\n    const e = h(this, Xf).exec(t.trim()), i = e == null ? void 0 : e.groups;\n    if (!i)\n      return null;\n    const { scope: n = \"tmp\", name: s, at: o = \"\" } = i;\n    return {\n      scope: n,\n      name: x(a = C_, Wf, Ob).call(a, s),\n      at: o\n    };\n  }\n};\nlet Ns = C_;\nFs = new WeakMap(), ft = new WeakSet(), dt = function(t) {\n  const e = t.shift();\n  if (e instanceof Array)\n    return x(this, ft, dt).call(this, e);\n  const i = h(this, rr)[e];\n  return i ? i(t) : Object(null);\n}, rr = new WeakMap(), cn = new WeakSet(), Cs = function(t) {\n  const e = x(this, ft, dt).call(this, t);\n  if (Object.prototype.toString.call(e) !== \"[object Number]\")\n    throw Error(\"(PropParser)引数【\" + e + \"】が数値ではありません\");\n  return Number(e);\n}, Vf = new WeakMap(), Rl = new WeakSet(), Fm = function(t) {\n  return t == null ? t : String(t).replaceAll(\n    h(this, Vf),\n    (e) => e.at(0) === \"$\" ? this.val.getVal(e.slice(1)) : this.parse(e.slice(2, -1))\n  );\n}, Xf = new WeakMap(), Wf = new WeakSet(), Ob = function(t) {\n  let e = 0, i = 0;\n  for (; ; ) {\n    if (e = t.indexOf('[\"'), e < 0) {\n      if (e = t.indexOf(\"['\"), e < 0)\n        break;\n      i = t.indexOf(\"']\", e + 2);\n    } else\n      i = t.indexOf('\"]', e + 2);\n    if (i < 0)\n      break;\n    t = t.slice(0, e) + \".\" + t.slice(e + 2, i) + t.slice(i + 2), e = i - 2;\n  }\n  return t;\n}, _(Ns, Wf), _(Ns, Xf, /^((?<scope>\\w+?):)?(?<name>[^\\s :@]+)(?<at>\\@str)?$/);\nvar nr, Us, wa, sr, kl, Yf, Ib, qf, Cb, Zf, Mb, Kf, Rb;\nconst Gt = class {\n  constructor(t, e, i) {\n    _(this, Yf);\n    _(this, qf);\n    // ログ出力\n    _(this, kl, !0);\n    this.sys = t, b(Gt, nr, i), b(Gt, Us, e), b(Gt, wa, e.title), Gt.myTrace = x(Gt, Zf, Mb), e.log = (n) => x(this, Yf, Ib).call(this, n), e.trace = (n) => x(this, qf, Cb).call(this, n), b(Gt, sr, document.createElement(\"span\")), h(Gt, sr).hidden = !0, h(Gt, sr).textContent = \"\", h(Gt, sr).style.cssText = `\tz-index: ${Number.MAX_SAFE_INTEGER};\n\t\t\tposition: absolute; left: 0; top: 0;\n\t\t\tcolor: black;\n\t\t\tbackground-color: rgba(255, 255, 255, 0.7);`, document.body.appendChild(h(Gt, sr));\n  }\n  destroy() {\n    b(Gt, wa, () => !1), document.body.removeChild(h(Gt, sr)), Gt.myTrace = Gt.trace_beforeNew;\n  }\n  // private禁止、galleryでエラーになる\n  static trace_beforeNew(t, e = \"E\") {\n    let i = `{${e}} ` + t, n = \"\";\n    switch (e) {\n      case \"D\":\n        n = `color:#${A.isDarkMode ? \"49F\" : \"05A\"};`;\n        break;\n      case \"W\":\n        n = \"color:#FF8800;\";\n        break;\n      case \"F\":\n        n = \"color:#BB0000;\";\n        break;\n      case \"ET\":\n        throw i;\n      case \"E\":\n        console.error(\"%c\" + i, \"color:#FF3300;\");\n        return;\n      default:\n        n = \"color:black;\", i = \" \" + i;\n    }\n    console.info(\"%c\" + i, n);\n  }\n};\nlet kt = Gt;\nnr = new WeakMap(), Us = new WeakMap(), wa = new WeakMap(), sr = new WeakMap(), kl = new WeakMap(), Yf = new WeakSet(), Ib = function(t) {\n  let e = \"\";\n  return h(this, kl) && (b(this, kl, !1), e = `== ${v0.description} ==\n`), this.sys.appendFile(\n    this.sys.path_downloads + \"log.txt\",\n    `${e}--- ${ul(\"-\", \"_\", \"\")} [fn:${h(Gt, nr).scriptFn} line:${h(Gt, nr).lineNum}] prj:${this.sys.cur}\n${t.text || `(text is ${t.text})`}\n`,\n    (i) => {\n      i && console.log(i);\n    }\n  ), !1;\n}, qf = new WeakSet(), Cb = function(t) {\n  return Gt.myTrace(t.text || `(text is ${t.text})`, \"I\"), !1;\n}, Zf = new WeakSet(), Mb = function(t, e = \"E\") {\n  var s, o;\n  let i = `{${e}} ` + Gt.strPos() + t;\n  x(s = Gt, Kf, Rb).call(s, i, e);\n  let n = \"\";\n  switch (e) {\n    case \"D\":\n      n = `color:#${A.isDarkMode ? \"49F\" : \"05A\"};`;\n      break;\n    case \"W\":\n      n = \"color:#F80;\";\n      break;\n    case \"F\":\n      n = \"color:#B00;\";\n      break;\n    case \"ET\":\n    case \"E\":\n      if (h(o = Gt, wa).call(o, { text: t }), h(this, Us).dump_lay({}), h(this, Us).dump_val({}), h(Gt, nr).dumpErrForeLine(), h(this, Us).dump_stack({}), e === \"ET\")\n        throw i;\n      console.error(\"%c\" + i, \"color:#F30;\");\n      return;\n    default:\n      n = \"\", i = \" \" + i;\n  }\n  console.info(\"%c\" + i, n);\n}, Kf = new WeakSet(), Rb = function(t, e) {\n  let i = \"\";\n  switch (e) {\n    case \"D\":\n      i = \"color:#05A;\";\n      break;\n    case \"W\":\n      i = \"color:#F80;\";\n      break;\n    case \"F\":\n      i = \"color:#B00;\";\n      break;\n    case \"ET\":\n    case \"E\":\n      i = \"color:#F30;\";\n      break;\n    default:\n      i = \"\";\n  }\n  h(Gt, sr).innerHTML += `<span style='${i}'>${t}</span><br/>`, h(Gt, sr).hidden = !1;\n}, _(kt, Zf), _(kt, Kf), _(kt, nr, void 0), _(kt, Us, void 0), _(kt, wa, void 0), _(kt, sr, void 0), B(kt, \"myTrace\", Gt.trace_beforeNew), B(kt, \"strPos\", () => h(Gt, nr) && h(Gt, nr).lineNum > 0 ? `(fn:${h(Gt, nr).scriptFn} line:${h(Gt, nr).lineNum}) ` : \"\");\nclass jg {\n  constructor() {\n    B(this, \"hAreas\", /* @__PURE__ */ Object.create(null));\n  }\n  clear() {\n    this.hAreas = {};\n  }\n  search(t) {\n    return Object.entries(this.hAreas).some(([e, i]) => t >= parseInt(e) && t <= i);\n  }\n  record(t) {\n    if (!this.search(t)) {\n      for (const [e, i] of Object.entries(this.hAreas))\n        if (i + 1 === t) {\n          String(t + 1) in this.hAreas ? (this.hAreas[e] = this.hAreas[t + 1], delete this.hAreas[t + 1]) : this.hAreas[e] = t;\n          return;\n        }\n      if (String(t + 1) in this.hAreas) {\n        this.hAreas[t] = this.hAreas[t + 1], delete this.hAreas[t + 1];\n        return;\n      }\n      this.hAreas[t] = t;\n    }\n  }\n  erase(t) {\n    if (this.search(t)) {\n      if (String(t) in this.hAreas) {\n        this.hAreas[t] > t && (this.hAreas[t + 1] = this.hAreas[t]), delete this.hAreas[t];\n        return;\n      }\n      for (const [e, i] of Object.entries(this.hAreas))\n        if (!(t < parseInt(e) || i < t)) {\n          if (this.hAreas[e] === t) {\n            this.hAreas[e] = t - 1;\n            return;\n          }\n          this.hAreas[t + 1] = i, this.hAreas[e] = t - 1;\n          return;\n        }\n    }\n  }\n  get count() {\n    return Object.keys(this.hAreas).length;\n  }\n  // 4tst\n  toString() {\n    let t = \",\";\n    for (const e of Object.keys(this.hAreas).map((i) => parseInt(i)).sort((i, n) => i - n))\n      t += e === this.hAreas[e] ? \",\" + e : \",\" + e + \"~\" + this.hAreas[e];\n    return t.slice(1);\n  }\n}\nvar Ae, Bi, ee, fn, Pe, bi, Mr, Nl, Jf, Ll, Um, Al, Dl, Qf, kb, td, Nb, Fi, Cr, ed, Lb, id, Ab, rd, Db, nd, Bb, sd, Fb, od, Ub, ad, Gb, hd, jb, Ea, hf, Bl, Gm, Fl, Gs, Ul, jm, ld, ud, Ta, Gl, Sa, lf, cd, Hb, fd, $b, jl, Hm, Hl, $m, dd, zb, pd, Vb, Pa, uf;\nconst va = class {\n  constructor(t, e) {\n    _(this, Ll);\n    //\t// しおり\n    // しおりの複写\n    _(this, Qf);\n    // しおりの消去\n    _(this, td);\n    //\t//\t変数操作\n    // 変数代入・演算\n    _(this, Fi);\n    // 絶対値\n    _(this, ed);\n    // 文字列から一字取りだし\n    _(this, id);\n    // 文字列で検索\n    _(this, rd);\n    // 文字列の長さ\n    _(this, nd);\n    // 正規表現で置換\n    _(this, sd);\n    // 四捨五入\n    _(this, od);\n    // 正規表現で検索\n    _(this, ad);\n    // 文字列から抜きだし\n    _(this, hd);\n    //\t// デバッグ・その他\n    // システム変数の全消去\n    _(this, Ea);\n    // ゲーム変数の全消去\n    _(this, Bl);\n    _(this, Ul);\n    _(this, Sa);\n    _(this, cd);\n    _(this, fd);\n    _(this, jl);\n    _(this, Hl);\n    _(this, dd);\n    _(this, pd);\n    _(this, Pa);\n    _(this, Ae, { sys: {}, save: {}, tmp: {}, mp: {} });\n    _(this, Bi, h(this, Ae).save);\n    _(this, ee, h(this, Ae).tmp);\n    _(this, fn, void 0);\n    _(this, Pe, { sys: {}, mark: {}, kidoku: {} });\n    _(this, bi, void 0);\n    _(this, Mr, {});\n    _(this, Nl, void 0);\n    _(this, Jf, {\n      auth: (t, e) => x(this, Ll, Um).call(this, e.hBreakpoint.aData),\n      var: (t, e) => h(this, fn).send2Dbg(e.ri, { v: h(this, Ae)[e.scope] ?? {} }),\n      set_var: (t, e) => {\n        try {\n          h(this, Fl).call(this, e.nm, e.val), h(this, fn).send2Dbg(e.ri, {});\n        } catch {\n        }\n      },\n      set_data_break: (t, e) => {\n        x(this, Ll, Um).call(this, e.a), h(this, fn).send2Dbg(e.ri, {});\n      },\n      disconnect: (t) => b(va, Gs, {})\n    });\n    _(this, Al, () => {\n    });\n    _(this, Dl, (t) => {\n    });\n    B(this, \"getMark\", (t) => h(this, Pe).mark[t]);\n    B(this, \"getAreaKidoku\", (t) => h(this, Mr)[t]);\n    _(this, Fl, (t, e, i = !0) => {\n      if (!t)\n        throw \"[変数に値セット] nameは必須です\";\n      if (e == null)\n        throw \"[変数に値セット] textは必須です（空文字はOK）\";\n      const n = Ns.getValName(t);\n      if (n === null)\n        throw \"[変数参照] name(\" + t + \")が変数名として異常です\";\n      const s = h(this, Ae)[n.scope];\n      if (!s)\n        throw \"[変数に値セット] scopeが異常【\" + n.scope + \"】です\";\n      const o = n.name;\n      if (o.slice(0, 6) === \"const.\" && o in s)\n        throw \"[変数に値セット] 変数【\" + o + \"】は書き換え不可です\";\n      this.setVal_Nochk(n.scope, o, e, i);\n    });\n    B(this, \"getVal\", (t, e) => {\n      if (!t)\n        throw \"[変数参照] nameは必須です\";\n      const i = Ns.getValName(t);\n      if (i === null)\n        throw \"[変数参照] name(\" + t + \")が変数名として異常です\";\n      const n = h(this, Ae)[i.scope];\n      if (!n)\n        throw \"[変数参照] scopeが異常【\" + i.scope + \"】です\";\n      const s = i.name;\n      let o = n[s];\n      if (!(s in n)) {\n        o = e;\n        let a = \"\";\n        const l = s.split(\".\"), u = l.length;\n        for (let c = 0; c < u; ++c, a += \".\") {\n          if (a += l[c], !(a in n))\n            continue;\n          let f = JSON.parse(n[a]);\n          if (Object.prototype.toString.call(f) !== \"[object Object]\") {\n            if (c + 1 === u) {\n              o = f;\n              break;\n            }\n            continue;\n          }\n          let d = c;\n          for (; ++d < u; ) {\n            if (!(l[d] in f)) {\n              o = e;\n              break;\n            }\n            if (f = f[l[d]], Object.prototype.toString.call(f) !== \"[object Object]\" || d + 1 === u) {\n              o = f;\n              break;\n            }\n          }\n          o instanceof Object && (o = JSON.stringify(o));\n          break;\n        }\n      }\n      return o instanceof Function && (o = o()), i.at === \"@str\" ? o : x(this, Ul, jm).call(this, o);\n    });\n    _(this, ld, /^-?[\\d\\.]+$/);\n    // 変数のダンプ\n    _(this, ud, () => {\n      const t = { tmp: {}, sys: {}, save: {}, mp: {} };\n      for (let e in t) {\n        const i = h(this, Ae)[e], n = t[e];\n        for (let [s, o] of Object.entries(i))\n          n[s] = Object.prototype.toString.call(o) === \"[object Function]\" ? o() : o;\n      }\n      return console.info(\"🥟 [dump_val]\", t), !1;\n    });\n    _(this, Ta, !1);\n    _(this, Gl, {\n      // sys\n      \"sys:sn.tagCh.doWait\": (t) => x(this, Sa, lf).call(this, t),\n      \"sys:sn.tagCh.doWait_Kidoku\": (t) => x(this, Sa, lf).call(this, t),\n      \"sys:sn.tagCh.msecWait\": (t) => x(this, cd, Hb).call(this, t),\n      \"sys:sn.tagCh.msecWait_Kidoku\": (t) => x(this, fd, $b).call(this, t),\n      \"sys:sn.tagCh.canskip\": (t) => x(this, Sa, lf).call(this, t),\n      \"sys:sn.auto.msecPageWait\": (t) => x(this, jl, Hm).call(this, t),\n      \"sys:sn.auto.msecPageWait_Kidoku\": (t) => x(this, jl, Hm).call(this, t),\n      \"sys:sn.auto.msecLineWait\": (t) => x(this, Hl, $m).call(this, t),\n      \"sys:sn.auto.msecLineWait_Kidoku\": (t) => x(this, Hl, $m).call(this, t),\n      // save\n      \"save:sn.doRecLog\": (t) => {\n        h(this, Dl).call(this, b(this, Ta, x(this, dd, zb).call(this, t)));\n      },\n      \"save:sn.userFnTail\": (t, e) => {\n        if (e.includes(\"@\"))\n          throw \"この変数では文字「@」は禁止です\";\n        this.cfg.userFnTail = e;\n      },\n      // tmp\n      \"tmp:sn.tagL.enabled\": (t) => x(this, pd, Vb).call(this, t),\n      \"tmp:sn.skip.all\": (t) => x(this, Pa, uf).call(this, t),\n      \"tmp:sn.skip.enabled\": (t) => x(this, Pa, uf).call(this, t),\n      \"tmp:sn.auto.enabled\": (t) => x(this, Pa, uf).call(this, t),\n      \"tmp:flash.desktop.NativeApplication.nativeApplication.systemIdleMode\": () => {\n      }\n    });\n    if (this.cfg = t, e.let = (s) => x(this, Fi, Cr).call(this, s), e.let_abs = (s) => x(this, ed, Lb).call(this, s), e.let_char_at = (s) => x(this, id, Ab).call(this, s), e.let_index_of = (s) => x(this, rd, Db).call(this, s), e.let_length = (s) => x(this, nd, Bb).call(this, s), e.let_replace = (s) => x(this, sd, Fb).call(this, s), e.let_round = (s) => x(this, od, Ub).call(this, s), e.let_search = (s) => x(this, ad, Gb).call(this, s), e.let_substr = (s) => x(this, hd, jb).call(this, s), e.clearsysvar = () => x(this, Ea, hf).call(this), e.clearvar = () => x(this, Bl, Gm).call(this), e.dump_val = () => h(this, ud).call(this), e.copybookmark = (s) => x(this, Qf, kb).call(this, s), e.erasebookmark = (s) => x(this, td, Nb).call(this, s), h(this, Bi)[\"sn.userFnTail\"] = \"\", this.defTmp(\"const.sn.bookmark.json\", () => {\n      const s = [];\n      for (const o of Object.keys(h(this, Pe).mark).sort()) {\n        const a = { ...h(this, Pe).mark[o].json };\n        a.place = o, s.push(a);\n      }\n      return JSON.stringify(s);\n    }), h(this, ee)[\"const.sn.isFirstBoot\"] = !0, h(this, ee)[\"sn.tagL.enabled\"] = !0, h(this, ee)[\"sn.skip.all\"] = !1, h(this, ee)[\"sn.skip.enabled\"] = !1, h(this, ee)[\"sn.auto.enabled\"] = !1, h(this, ee)[\"const.sn.last_page_text\"] = \"\", h(this, ee)[\"const.sn.last_page_plain_text\"] = \"\", h(this, ee)[\"const.sn.displayState\"] = !1, h(this, ee)[\"const.Date.getTime\"] = () => (/* @__PURE__ */ new Date()).getTime(), h(this, ee)[\"const.Date.getDateStr\"] = () => ul(), h(this, ee)[\"const.sn.platform\"] = JSON.stringify(v0), x(this, Ea, hf).call(this), x(this, Bl, Gm).call(this), h(this, ee)[\"const.sn.config.window.width\"] = t.oCfg.window.width, h(this, ee)[\"const.sn.config.window.height\"] = t.oCfg.window.height, h(this, ee)[\"const.sn.config.book.title\"] = t.oCfg.book.title, h(this, ee)[\"const.sn.config.book.version\"] = t.oCfg.book.version, h(this, ee)[\"const.sn.Math.PI\"] = Math.PI, typeof window > \"u\")\n      return;\n    const i = window, n = i.AudioContext ?? i.webkitAudioContext;\n    h(this, ee)[\"const.sn.needClick2Play\"] = () => new n().state === \"suspended\";\n  }\n  setSys(t) {\n    b(this, fn, t), t.initVal(h(this, Pe), h(this, ee), (e) => {\n      this.updateData(e), sessionStorage.clear();\n      const i = this.cfg.getNs();\n      b(this, Al, this.cfg.oCfg.debug.variable ? () => {\n        const s = {};\n        for (const [f, d] of Object.entries(h(this, bi)))\n          s[\"sys:\" + f] = d instanceof Function ? d() : d;\n        sessionStorage[i + \"sys\"] = JSON.stringify(s);\n        const o = {};\n        for (const [f, d] of Object.entries(h(this, Bi)))\n          o[\"save:\" + f] = d instanceof Function ? d() : d;\n        sessionStorage[i + \"save\"] = JSON.stringify(o);\n        const a = {};\n        for (const [f, d] of Object.entries(h(this, ee)))\n          a[f] = d instanceof Function ? d() : d;\n        sessionStorage[i + \"tmp\"] = JSON.stringify(a);\n        const l = {};\n        for (const [f, d] of Object.entries(h(this, Ae).mp))\n          l[f] = d instanceof Function ? d() : d;\n        sessionStorage[i + \"mp\"] = JSON.stringify(l);\n        const u = {};\n        for (const [f, d] of Object.entries(h(this, Pe).mark))\n          u[f] = d instanceof Function ? d() : d;\n        sessionStorage[i + \"mark\"] = JSON.stringify(u);\n        const c = {};\n        for (const [f, d] of Object.entries(h(this, Pe).kidoku))\n          c[f] = d instanceof Function ? d() : d;\n        sessionStorage[i + \"kidoku\"] = JSON.stringify(c), t.flush();\n      } : () => t.flush()), b(this, Nl, (s, o) => t.callHook(s, o)), t.addHook((s, o) => {\n        var a, l;\n        return (l = (a = h(this, Jf))[s]) == null ? void 0 : l.call(a, s, o);\n      });\n      const n = this.getVal(\"sys:sn.tagCh.msecWait\", -1);\n      (h(this, ee)[\"const.sn.isFirstBoot\"] || n === -1) && x(this, Ea, hf).call(this);\n    });\n  }\n  updateData(t) {\n    b(this, Pe, t), b(this, bi, h(this, Ae).sys = h(this, Pe).sys), b(this, Mr, {});\n    for (const [e, i] of Object.entries(h(this, Pe).kidoku)) {\n      const n = new jg();\n      n.hAreas = { ...i }, h(this, Mr)[e] = n;\n    }\n  }\n  flush() {\n    h(this, Al).call(this);\n  }\n  // 先にこのメソッドへの参照を配ってしまうので、中身を入れ替える\n  setDoRecProc(t) {\n    b(this, Dl, t);\n  }\n  defTmp(t, e) {\n    h(this, ee)[t] = e;\n  }\n  cloneMp() {\n    return { ...h(this, Ae).mp };\n  }\n  setMp(t) {\n    h(this, Ae).mp = t;\n  }\n  setMark(t, e) {\n    h(this, Pe).mark[t] = e, this.flush();\n  }\n  cloneSave() {\n    return { ...h(this, Ae).save };\n  }\n  mark2save(t) {\n    b(this, Bi, h(this, Ae).save = { ...t.hSave }), b(this, Ta, h(this, Bi)[\"sn.doRecLog\"] ?? !1);\n  }\n  // 既読系\n  loadScrWork(t) {\n    t in h(this, Mr) || (h(this, Mr)[t] = new jg());\n  }\n  saveKidoku() {\n    for (const [t, { hAreas: e }] of Object.entries(h(this, Mr)))\n      h(this, Pe).kidoku[t] = { ...e };\n    this.flush();\n  }\n  setVal_Nochk(t, e, i, n = !1) {\n    var a, l;\n    const s = h(this, Ae)[t];\n    n && (i = x(this, Ul, jm).call(this, i));\n    const o = t + \":\" + e;\n    if (o in h(va, Gs)) {\n      const u = s[e], c = i;\n      u != c && h(this, Nl).call(this, \"data_break\", {\n        dataId: o,\n        old_v: u,\n        new_v: c\n      });\n    }\n    s[e] = i, (l = (a = h(this, Gl))[o]) == null || l.call(a, e, i);\n  }\n  doRecLog() {\n    return h(this, Ta);\n  }\n  defValTrg(t, e) {\n    h(this, Gl)[t] = e;\n  }\n};\nlet af = va;\nAe = new WeakMap(), Bi = new WeakMap(), ee = new WeakMap(), fn = new WeakMap(), Pe = new WeakMap(), bi = new WeakMap(), Mr = new WeakMap(), Nl = new WeakMap(), Jf = new WeakMap(), Ll = new WeakSet(), Um = function(t) {\n  b(va, Gs, {});\n  for (const e of t)\n    h(va, Gs)[e.dataId] = 1;\n}, Al = new WeakMap(), Dl = new WeakMap(), Qf = new WeakSet(), kb = function(t) {\n  if (!(\"from\" in t))\n    throw \"fromは必須です\";\n  if (!(\"to\" in t))\n    throw \"toは必須です\";\n  const e = Number(t.from), i = Number(t.to);\n  if (e === i)\n    return !1;\n  if (!(e in h(this, Pe).mark))\n    throw `from:${e} のセーブデータは存在しません`;\n  return this.setMark(i, { ...h(this, Pe).mark[e] }), h(this, fn).copyBMFolder(e, i), !1;\n}, td = new WeakSet(), Nb = function(t) {\n  const { place: e } = t;\n  if (!e)\n    throw \"placeは必須です\";\n  return delete h(this, Pe).mark[e], this.flush(), h(this, fn).eraseBMFolder(e), !1;\n}, Fi = new WeakSet(), Cr = function(t) {\n  if (!t.name)\n    throw \"nameは必須です\";\n  let e = !0;\n  if (t.cast)\n    switch (t.cast) {\n      case \"num\":\n        j(t, \"text\", NaN);\n        break;\n      case \"int\":\n        t.text = String(ci(j(t, \"text\", NaN)));\n        break;\n      case \"uint\":\n        t.text = String(br(j(t, \"text\", NaN)));\n        break;\n      case \"bool\":\n        K(t, \"text\", !1);\n        break;\n      case \"str\":\n        e = !1;\n        break;\n      default:\n        throw \"cast【\" + t.cast + \"】は未定義です\";\n    }\n  return h(this, Fl).call(this, t.name, t.text, e), !1;\n}, ed = new WeakSet(), Lb = function(t) {\n  const e = j(t, \"text\", 0);\n  return t.text = String(e < 0 ? -e : e), x(this, Fi, Cr).call(this, t), !1;\n}, id = new WeakSet(), Ab = function(t) {\n  return t.text = (t.text ?? \"\").charAt(j(t, \"pos\", 0)), x(this, Fi, Cr).call(this, t), !1;\n}, rd = new WeakSet(), Db = function(t) {\n  const { val: e } = t;\n  if (!e)\n    throw \"valは必須です\";\n  const i = j(t, \"start\", 0);\n  return t.text = String((t.text ?? \"\").indexOf(e, i)), x(this, Fi, Cr).call(this, t), !1;\n}, nd = new WeakSet(), Bb = function(t) {\n  return t.text = String((t.text ?? \"\").length), x(this, Fi, Cr).call(this, t), !1;\n}, sd = new WeakSet(), Fb = function(t) {\n  if (!t.reg)\n    throw \"regは必須です\";\n  const { flags: e } = t, i = e ? new RegExp(t.reg, e) : new RegExp(t.reg);\n  return t.text = String(t.text ?? \"\").replace(i, String(t.val)), x(this, Fi, Cr).call(this, t), !1;\n}, od = new WeakSet(), Ub = function(t) {\n  const e = j(t, \"text\", 0);\n  return t.text = String(Math.round(e)), x(this, Fi, Cr).call(this, t), !1;\n}, ad = new WeakSet(), Gb = function(t) {\n  if (!t.reg)\n    throw \"regは必須です\";\n  const { flags: e } = t, i = e ? new RegExp(t.reg, e) : new RegExp(t.reg);\n  return t.text = String((t.text ?? \"\").search(i)), x(this, Fi, Cr).call(this, t), !1;\n}, hd = new WeakSet(), jb = function(t) {\n  const e = j(t, \"pos\", 0);\n  return t.text = t.len !== \"all\" ? (t.text ?? \"\").slice(e, e + ci(j(t, \"len\", 1))) : (t.text ?? \"\").slice(e), x(this, Fi, Cr).call(this, t), !1;\n}, Ea = new WeakSet(), hf = function() {\n  const t = b(this, bi, h(this, Ae).sys = h(this, Pe).sys = {});\n  typeof process < \"u\" || (this.setVal_Nochk(\"sys\", \"const.sn.window.x\", 0), this.setVal_Nochk(\"sys\", \"const.sn.window.y\", 0)), this.setVal_Nochk(\"sys\", \"sn.tagCh.doWait\", !0), this.setVal_Nochk(\"sys\", \"sn.tagCh.doWait_Kidoku\", !0), this.setVal_Nochk(\"sys\", \"sn.tagCh.msecWait\", this.cfg.oCfg.init.tagch_msecwait), this.setVal_Nochk(\"sys\", \"sn.tagCh.msecWait_Kidoku\", this.cfg.oCfg.init.tagch_msecwait), this.setVal_Nochk(\"sys\", \"sn.tagCh.canskip\", !0), this.setVal_Nochk(\"sys\", \"sn.skip.mode\", \"s\"), this.setVal_Nochk(\"sys\", \"sn.auto.msecPageWait\", j(t, \"sn.auto.msecPageWait\", this.cfg.oCfg.init.auto_msecpagewait ?? 3500)), this.setVal_Nochk(\"sys\", \"sn.auto.msecPageWait_Kidoku\", j(t, \"sn.auto.msecPageWait\", this.cfg.oCfg.init.auto_msecpagewait ?? 3500)), this.setVal_Nochk(\"sys\", \"sn.auto.msecLineWait\", 500), this.setVal_Nochk(\"sys\", \"sn.auto.msecLineWait_Kidoku\", 500), this.setVal_Nochk(\"sys\", \"const.sn.sound.BGM.volume\", 1), this.setVal_Nochk(\"sys\", \"const.sn.sound.SE.volume\", 1), this.setVal_Nochk(\"sys\", \"const.sn.sound.SYS.volume\", 1);\n  for (const [i, n] of Object.entries(h(this, Pe).kidoku))\n    n.hAreas = {}, h(this, Mr)[i].clear();\n  return this.setVal_Nochk(\"sys\", \"TextLayer.Back.Alpha\", 0.5), h(this, Ae).mark = h(this, Pe).mark = {}, this.setVal_Nochk(\"sys\", \"const.sn.save.place\", 1), this.flush(), !1;\n}, Bl = new WeakSet(), Gm = function() {\n  const t = h(this, Bi)[\"const.sn.mesLayer\"] ?? \"\", e = h(this, Bi)[\"sn.doRecLog\"] ?? !1, i = h(this, Bi)[\"const.sn.sLog\"] ?? \"[]\";\n  return b(this, Bi, h(this, Ae).save = {}), this.setVal_Nochk(\"save\", \"const.sn.mesLayer\", t), this.setVal_Nochk(\"save\", \"sn.doRecLog\", e), this.setVal_Nochk(\"save\", \"const.sn.sLog\", i), !1;\n}, Fl = new WeakMap(), Gs = new WeakMap(), Ul = new WeakSet(), jm = function(t) {\n  const e = t;\n  if (e === \"true\")\n    return !0;\n  if (e === \"false\")\n    return !1;\n  if (e === \"null\")\n    return null;\n  if (e !== \"undefined\")\n    return h(this, ld).test(e) ? parseFloat(e) : t;\n}, ld = new WeakMap(), ud = new WeakMap(), Ta = new WeakMap(), Gl = new WeakMap(), Sa = new WeakSet(), lf = function(t) {\n  K(h(this, bi), t, !0);\n}, cd = new WeakSet(), Hb = function(t) {\n  j(h(this, bi), t, 10), h(this, bi)[\"sn.tagCh.doWait\"];\n}, fd = new WeakSet(), $b = function(t) {\n  j(\n    h(this, bi),\n    t,\n    this.cfg.oCfg.init.tagch_msecwait === void 0 ? 10 : this.cfg.oCfg.init.tagch_msecwait\n  ), h(this, bi)[\"sn.tagCh.doWait_Kidoku\"];\n}, jl = new WeakSet(), Hm = function(t) {\n  j(\n    h(this, bi),\n    t,\n    this.cfg.oCfg.init.auto_msecpagewait === void 0 ? 3500 : this.cfg.oCfg.init.auto_msecpagewait\n  );\n}, Hl = new WeakSet(), $m = function(t) {\n  j(h(this, bi), t, 500);\n}, dd = new WeakSet(), zb = function(t) {\n  return K(h(this, Bi), t, !0);\n}, pd = new WeakSet(), Vb = function(t) {\n  K(h(this, ee), t, !0);\n}, Pa = new WeakSet(), uf = function(t) {\n  K(h(this, ee), t, !1);\n}, // reload 再生成 Main に受け渡すため static\n_(af, Gs, {});\nvar Ot = Object.freeze({\n  Linear: Object.freeze({\n    None: function(r) {\n      return r;\n    },\n    In: function(r) {\n      return this.None(r);\n    },\n    Out: function(r) {\n      return this.None(r);\n    },\n    InOut: function(r) {\n      return this.None(r);\n    }\n  }),\n  Quadratic: Object.freeze({\n    In: function(r) {\n      return r * r;\n    },\n    Out: function(r) {\n      return r * (2 - r);\n    },\n    InOut: function(r) {\n      return (r *= 2) < 1 ? 0.5 * r * r : -0.5 * (--r * (r - 2) - 1);\n    }\n  }),\n  Cubic: Object.freeze({\n    In: function(r) {\n      return r * r * r;\n    },\n    Out: function(r) {\n      return --r * r * r + 1;\n    },\n    InOut: function(r) {\n      return (r *= 2) < 1 ? 0.5 * r * r * r : 0.5 * ((r -= 2) * r * r + 2);\n    }\n  }),\n  Quartic: Object.freeze({\n    In: function(r) {\n      return r * r * r * r;\n    },\n    Out: function(r) {\n      return 1 - --r * r * r * r;\n    },\n    InOut: function(r) {\n      return (r *= 2) < 1 ? 0.5 * r * r * r * r : -0.5 * ((r -= 2) * r * r * r - 2);\n    }\n  }),\n  Quintic: Object.freeze({\n    In: function(r) {\n      return r * r * r * r * r;\n    },\n    Out: function(r) {\n      return --r * r * r * r * r + 1;\n    },\n    InOut: function(r) {\n      return (r *= 2) < 1 ? 0.5 * r * r * r * r * r : 0.5 * ((r -= 2) * r * r * r * r + 2);\n    }\n  }),\n  Sinusoidal: Object.freeze({\n    In: function(r) {\n      return 1 - Math.sin((1 - r) * Math.PI / 2);\n    },\n    Out: function(r) {\n      return Math.sin(r * Math.PI / 2);\n    },\n    InOut: function(r) {\n      return 0.5 * (1 - Math.sin(Math.PI * (0.5 - r)));\n    }\n  }),\n  Exponential: Object.freeze({\n    In: function(r) {\n      return r === 0 ? 0 : Math.pow(1024, r - 1);\n    },\n    Out: function(r) {\n      return r === 1 ? 1 : 1 - Math.pow(2, -10 * r);\n    },\n    InOut: function(r) {\n      return r === 0 ? 0 : r === 1 ? 1 : (r *= 2) < 1 ? 0.5 * Math.pow(1024, r - 1) : 0.5 * (-Math.pow(2, -10 * (r - 1)) + 2);\n    }\n  }),\n  Circular: Object.freeze({\n    In: function(r) {\n      return 1 - Math.sqrt(1 - r * r);\n    },\n    Out: function(r) {\n      return Math.sqrt(1 - --r * r);\n    },\n    InOut: function(r) {\n      return (r *= 2) < 1 ? -0.5 * (Math.sqrt(1 - r * r) - 1) : 0.5 * (Math.sqrt(1 - (r -= 2) * r) + 1);\n    }\n  }),\n  Elastic: Object.freeze({\n    In: function(r) {\n      return r === 0 ? 0 : r === 1 ? 1 : -Math.pow(2, 10 * (r - 1)) * Math.sin((r - 1.1) * 5 * Math.PI);\n    },\n    Out: function(r) {\n      return r === 0 ? 0 : r === 1 ? 1 : Math.pow(2, -10 * r) * Math.sin((r - 0.1) * 5 * Math.PI) + 1;\n    },\n    InOut: function(r) {\n      return r === 0 ? 0 : r === 1 ? 1 : (r *= 2, r < 1 ? -0.5 * Math.pow(2, 10 * (r - 1)) * Math.sin((r - 1.1) * 5 * Math.PI) : 0.5 * Math.pow(2, -10 * (r - 1)) * Math.sin((r - 1.1) * 5 * Math.PI) + 1);\n    }\n  }),\n  Back: Object.freeze({\n    In: function(r) {\n      var t = 1.70158;\n      return r === 1 ? 1 : r * r * ((t + 1) * r - t);\n    },\n    Out: function(r) {\n      var t = 1.70158;\n      return r === 0 ? 0 : --r * r * ((t + 1) * r + t) + 1;\n    },\n    InOut: function(r) {\n      var t = 2.5949095;\n      return (r *= 2) < 1 ? 0.5 * (r * r * ((t + 1) * r - t)) : 0.5 * ((r -= 2) * r * ((t + 1) * r + t) + 2);\n    }\n  }),\n  Bounce: Object.freeze({\n    In: function(r) {\n      return 1 - Ot.Bounce.Out(1 - r);\n    },\n    Out: function(r) {\n      return r < 1 / 2.75 ? 7.5625 * r * r : r < 2 / 2.75 ? 7.5625 * (r -= 1.5 / 2.75) * r + 0.75 : r < 2.5 / 2.75 ? 7.5625 * (r -= 2.25 / 2.75) * r + 0.9375 : 7.5625 * (r -= 2.625 / 2.75) * r + 0.984375;\n    },\n    InOut: function(r) {\n      return r < 0.5 ? Ot.Bounce.In(r * 2) * 0.5 : Ot.Bounce.Out(r * 2 - 1) * 0.5 + 0.5;\n    }\n  }),\n  generatePow: function(r) {\n    return r === void 0 && (r = 4), r = r < Number.EPSILON ? Number.EPSILON : r, r = r > 1e4 ? 1e4 : r, {\n      In: function(t) {\n        return Math.pow(t, r);\n      },\n      Out: function(t) {\n        return 1 - Math.pow(1 - t, r);\n      },\n      InOut: function(t) {\n        return t < 0.5 ? Math.pow(t * 2, r) / 2 : (1 - Math.pow(2 - t * 2, r)) / 2 + 0.5;\n      }\n    };\n  }\n}), $h = function() {\n  return performance.now();\n}, TC = (\n  /** @class */\n  function() {\n    function r() {\n      this._tweens = {}, this._tweensAddedDuringUpdate = {};\n    }\n    return r.prototype.getAll = function() {\n      var t = this;\n      return Object.keys(this._tweens).map(function(e) {\n        return t._tweens[e];\n      });\n    }, r.prototype.removeAll = function() {\n      this._tweens = {};\n    }, r.prototype.add = function(t) {\n      this._tweens[t.getId()] = t, this._tweensAddedDuringUpdate[t.getId()] = t;\n    }, r.prototype.remove = function(t) {\n      delete this._tweens[t.getId()], delete this._tweensAddedDuringUpdate[t.getId()];\n    }, r.prototype.update = function(t, e) {\n      t === void 0 && (t = $h()), e === void 0 && (e = !1);\n      var i = Object.keys(this._tweens);\n      if (i.length === 0)\n        return !1;\n      for (; i.length > 0; ) {\n        this._tweensAddedDuringUpdate = {};\n        for (var n = 0; n < i.length; n++) {\n          var s = this._tweens[i[n]], o = !e;\n          s && s.update(t, o) === !1 && !e && delete this._tweens[i[n]];\n        }\n        i = Object.keys(this._tweensAddedDuringUpdate);\n      }\n      return !0;\n    }, r;\n  }()\n), pa = {\n  Linear: function(r, t) {\n    var e = r.length - 1, i = e * t, n = Math.floor(i), s = pa.Utils.Linear;\n    return t < 0 ? s(r[0], r[1], i) : t > 1 ? s(r[e], r[e - 1], e - i) : s(r[n], r[n + 1 > e ? e : n + 1], i - n);\n  },\n  Bezier: function(r, t) {\n    for (var e = 0, i = r.length - 1, n = Math.pow, s = pa.Utils.Bernstein, o = 0; o <= i; o++)\n      e += n(1 - t, i - o) * n(t, o) * r[o] * s(i, o);\n    return e;\n  },\n  CatmullRom: function(r, t) {\n    var e = r.length - 1, i = e * t, n = Math.floor(i), s = pa.Utils.CatmullRom;\n    return r[0] === r[e] ? (t < 0 && (n = Math.floor(i = e * (1 + t))), s(r[(n - 1 + e) % e], r[n], r[(n + 1) % e], r[(n + 2) % e], i - n)) : t < 0 ? r[0] - (s(r[0], r[0], r[1], r[1], -i) - r[0]) : t > 1 ? r[e] - (s(r[e], r[e], r[e - 1], r[e - 1], i - e) - r[e]) : s(r[n ? n - 1 : 0], r[n], r[e < n + 1 ? e : n + 1], r[e < n + 2 ? e : n + 2], i - n);\n  },\n  Utils: {\n    Linear: function(r, t, e) {\n      return (t - r) * e + r;\n    },\n    Bernstein: function(r, t) {\n      var e = pa.Utils.Factorial;\n      return e(r) / e(t) / e(r - t);\n    },\n    Factorial: function() {\n      var r = [1];\n      return function(t) {\n        var e = 1;\n        if (r[t])\n          return r[t];\n        for (var i = t; i > 1; i--)\n          e *= i;\n        return r[t] = e, e;\n      };\n    }(),\n    CatmullRom: function(r, t, e, i, n) {\n      var s = (e - r) * 0.5, o = (i - t) * 0.5, a = n * n, l = n * a;\n      return (2 * t - 2 * e + s + o) * l + (-3 * t + 3 * e - 2 * s - o) * a + s * n + t;\n    }\n  }\n}, SC = (\n  /** @class */\n  function() {\n    function r() {\n    }\n    return r.nextId = function() {\n      return r._nextId++;\n    }, r._nextId = 0, r;\n  }()\n), zm = new TC(), Xr = (\n  /** @class */\n  function() {\n    function r(t, e) {\n      e === void 0 && (e = zm), this._object = t, this._group = e, this._isPaused = !1, this._pauseStart = 0, this._valuesStart = {}, this._valuesEnd = {}, this._valuesStartRepeat = {}, this._duration = 1e3, this._isDynamic = !1, this._initialRepeat = 0, this._repeat = 0, this._yoyo = !1, this._isPlaying = !1, this._reversed = !1, this._delayTime = 0, this._startTime = 0, this._easingFunction = Ot.Linear.None, this._interpolationFunction = pa.Linear, this._chainedTweens = [], this._onStartCallbackFired = !1, this._onEveryStartCallbackFired = !1, this._id = SC.nextId(), this._isChainStopped = !1, this._propertiesAreSetUp = !1, this._goToEnd = !1;\n    }\n    return r.prototype.getId = function() {\n      return this._id;\n    }, r.prototype.isPlaying = function() {\n      return this._isPlaying;\n    }, r.prototype.isPaused = function() {\n      return this._isPaused;\n    }, r.prototype.to = function(t, e) {\n      if (e === void 0 && (e = 1e3), this._isPlaying)\n        throw new Error(\"Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.\");\n      return this._valuesEnd = t, this._propertiesAreSetUp = !1, this._duration = e, this;\n    }, r.prototype.duration = function(t) {\n      return t === void 0 && (t = 1e3), this._duration = t, this;\n    }, r.prototype.dynamic = function(t) {\n      return t === void 0 && (t = !1), this._isDynamic = t, this;\n    }, r.prototype.start = function(t, e) {\n      if (t === void 0 && (t = $h()), e === void 0 && (e = !1), this._isPlaying)\n        return this;\n      if (this._group && this._group.add(this), this._repeat = this._initialRepeat, this._reversed) {\n        this._reversed = !1;\n        for (var i in this._valuesStartRepeat)\n          this._swapEndStartRepeatValues(i), this._valuesStart[i] = this._valuesStartRepeat[i];\n      }\n      if (this._isPlaying = !0, this._isPaused = !1, this._onStartCallbackFired = !1, this._onEveryStartCallbackFired = !1, this._isChainStopped = !1, this._startTime = t, this._startTime += this._delayTime, !this._propertiesAreSetUp || e) {\n        if (this._propertiesAreSetUp = !0, !this._isDynamic) {\n          var n = {};\n          for (var s in this._valuesEnd)\n            n[s] = this._valuesEnd[s];\n          this._valuesEnd = n;\n        }\n        this._setupProperties(this._object, this._valuesStart, this._valuesEnd, this._valuesStartRepeat, e);\n      }\n      return this;\n    }, r.prototype.startFromCurrentValues = function(t) {\n      return this.start(t, !0);\n    }, r.prototype._setupProperties = function(t, e, i, n, s) {\n      for (var o in i) {\n        var a = t[o], l = Array.isArray(a), u = l ? \"array\" : typeof a, c = !l && Array.isArray(i[o]);\n        if (!(u === \"undefined\" || u === \"function\")) {\n          if (c) {\n            var f = i[o];\n            if (f.length === 0)\n              continue;\n            for (var d = [a], p = 0, m = f.length; p < m; p += 1) {\n              var v = this._handleRelativeValue(a, f[p]);\n              if (isNaN(v)) {\n                c = !1, console.warn(\"Found invalid interpolation list. Skipping.\");\n                break;\n              }\n              d.push(v);\n            }\n            c && (i[o] = d);\n          }\n          if ((u === \"object\" || l) && a && !c) {\n            e[o] = l ? [] : {};\n            var y = a;\n            for (var g in y)\n              e[o][g] = y[g];\n            n[o] = l ? [] : {};\n            var f = i[o];\n            if (!this._isDynamic) {\n              var w = {};\n              for (var g in f)\n                w[g] = f[g];\n              i[o] = f = w;\n            }\n            this._setupProperties(y, e[o], f, n[o], s);\n          } else\n            (typeof e[o] > \"u\" || s) && (e[o] = a), l || (e[o] *= 1), c ? n[o] = i[o].slice().reverse() : n[o] = e[o] || 0;\n        }\n      }\n    }, r.prototype.stop = function() {\n      return this._isChainStopped || (this._isChainStopped = !0, this.stopChainedTweens()), this._isPlaying ? (this._group && this._group.remove(this), this._isPlaying = !1, this._isPaused = !1, this._onStopCallback && this._onStopCallback(this._object), this) : this;\n    }, r.prototype.end = function() {\n      return this._goToEnd = !0, this.update(1 / 0), this;\n    }, r.prototype.pause = function(t) {\n      return t === void 0 && (t = $h()), this._isPaused || !this._isPlaying ? this : (this._isPaused = !0, this._pauseStart = t, this._group && this._group.remove(this), this);\n    }, r.prototype.resume = function(t) {\n      return t === void 0 && (t = $h()), !this._isPaused || !this._isPlaying ? this : (this._isPaused = !1, this._startTime += t - this._pauseStart, this._pauseStart = 0, this._group && this._group.add(this), this);\n    }, r.prototype.stopChainedTweens = function() {\n      for (var t = 0, e = this._chainedTweens.length; t < e; t++)\n        this._chainedTweens[t].stop();\n      return this;\n    }, r.prototype.group = function(t) {\n      return t === void 0 && (t = zm), this._group = t, this;\n    }, r.prototype.delay = function(t) {\n      return t === void 0 && (t = 0), this._delayTime = t, this;\n    }, r.prototype.repeat = function(t) {\n      return t === void 0 && (t = 0), this._initialRepeat = t, this._repeat = t, this;\n    }, r.prototype.repeatDelay = function(t) {\n      return this._repeatDelayTime = t, this;\n    }, r.prototype.yoyo = function(t) {\n      return t === void 0 && (t = !1), this._yoyo = t, this;\n    }, r.prototype.easing = function(t) {\n      return t === void 0 && (t = Ot.Linear.None), this._easingFunction = t, this;\n    }, r.prototype.interpolation = function(t) {\n      return t === void 0 && (t = pa.Linear), this._interpolationFunction = t, this;\n    }, r.prototype.chain = function() {\n      for (var t = [], e = 0; e < arguments.length; e++)\n        t[e] = arguments[e];\n      return this._chainedTweens = t, this;\n    }, r.prototype.onStart = function(t) {\n      return this._onStartCallback = t, this;\n    }, r.prototype.onEveryStart = function(t) {\n      return this._onEveryStartCallback = t, this;\n    }, r.prototype.onUpdate = function(t) {\n      return this._onUpdateCallback = t, this;\n    }, r.prototype.onRepeat = function(t) {\n      return this._onRepeatCallback = t, this;\n    }, r.prototype.onComplete = function(t) {\n      return this._onCompleteCallback = t, this;\n    }, r.prototype.onStop = function(t) {\n      return this._onStopCallback = t, this;\n    }, r.prototype.update = function(t, e) {\n      if (t === void 0 && (t = $h()), e === void 0 && (e = !0), this._isPaused)\n        return !0;\n      var i, n, s = this._startTime + this._duration;\n      if (!this._goToEnd && !this._isPlaying) {\n        if (t > s)\n          return !1;\n        e && this.start(t, !0);\n      }\n      if (this._goToEnd = !1, t < this._startTime)\n        return !0;\n      this._onStartCallbackFired === !1 && (this._onStartCallback && this._onStartCallback(this._object), this._onStartCallbackFired = !0), this._onEveryStartCallbackFired === !1 && (this._onEveryStartCallback && this._onEveryStartCallback(this._object), this._onEveryStartCallbackFired = !0), n = (t - this._startTime) / this._duration, n = this._duration === 0 || n > 1 ? 1 : n;\n      var o = this._easingFunction(n);\n      if (this._updateProperties(this._object, this._valuesStart, this._valuesEnd, o), this._onUpdateCallback && this._onUpdateCallback(this._object, n), n === 1)\n        if (this._repeat > 0) {\n          isFinite(this._repeat) && this._repeat--;\n          for (i in this._valuesStartRepeat)\n            !this._yoyo && typeof this._valuesEnd[i] == \"string\" && (this._valuesStartRepeat[i] = // eslint-disable-next-line\n            // @ts-ignore FIXME?\n            this._valuesStartRepeat[i] + parseFloat(this._valuesEnd[i])), this._yoyo && this._swapEndStartRepeatValues(i), this._valuesStart[i] = this._valuesStartRepeat[i];\n          return this._yoyo && (this._reversed = !this._reversed), this._repeatDelayTime !== void 0 ? this._startTime = t + this._repeatDelayTime : this._startTime = t + this._delayTime, this._onRepeatCallback && this._onRepeatCallback(this._object), this._onEveryStartCallbackFired = !1, !0;\n        } else {\n          this._onCompleteCallback && this._onCompleteCallback(this._object);\n          for (var a = 0, l = this._chainedTweens.length; a < l; a++)\n            this._chainedTweens[a].start(this._startTime + this._duration, !1);\n          return this._isPlaying = !1, !1;\n        }\n      return !0;\n    }, r.prototype._updateProperties = function(t, e, i, n) {\n      for (var s in i)\n        if (e[s] !== void 0) {\n          var o = e[s] || 0, a = i[s], l = Array.isArray(t[s]), u = Array.isArray(a), c = !l && u;\n          c ? t[s] = this._interpolationFunction(a, n) : typeof a == \"object\" && a ? this._updateProperties(t[s], o, a, n) : (a = this._handleRelativeValue(o, a), typeof a == \"number\" && (t[s] = o + (a - o) * n));\n        }\n    }, r.prototype._handleRelativeValue = function(t, e) {\n      return typeof e != \"string\" ? e : e.charAt(0) === \"+\" || e.charAt(0) === \"-\" ? t + parseFloat(e) : parseFloat(e);\n    }, r.prototype._swapEndStartRepeatValues = function(t) {\n      var e = this._valuesStartRepeat[t], i = this._valuesEnd[t];\n      typeof i == \"string\" ? this._valuesStartRepeat[t] = this._valuesStartRepeat[t] + parseFloat(i) : this._valuesStartRepeat[t] = this._valuesEnd[t], this._valuesEnd[t] = e;\n    }, r;\n  }()\n), tn = zm;\ntn.getAll.bind(tn);\nvar PC = tn.removeAll.bind(tn);\ntn.add.bind(tn);\nvar OC = tn.remove.bind(tn), IC = tn.update.bind(tn), $l;\nconst vd = class {\n  static ease(t) {\n    if (!t)\n      return (e) => Ot.Linear.None(e);\n    if (!(t in h(vd, $l)))\n      throw \"異常なease指定です\";\n    return h(vd, $l)[t];\n  }\n};\nlet Bn = vd;\n$l = new WeakMap(), _(Bn, $l, {\n  \"Back.In\": (t) => Ot.Back.In(t),\n  \"Back.InOut\": (t) => Ot.Back.InOut(t),\n  \"Back.Out\": (t) => Ot.Back.Out(t),\n  \"Bounce.In\": (t) => Ot.Bounce.In(t),\n  \"Bounce.InOut\": (t) => Ot.Bounce.InOut(t),\n  \"Bounce.Out\": (t) => Ot.Bounce.Out(t),\n  \"Circular.In\": (t) => Ot.Circular.In(t),\n  \"Circular.InOut\": (t) => Ot.Circular.InOut(t),\n  \"Circular.Out\": (t) => Ot.Circular.Out(t),\n  \"Cubic.In\": (t) => Ot.Cubic.In(t),\n  \"Cubic.InOut\": (t) => Ot.Cubic.InOut(t),\n  \"Cubic.Out\": (t) => Ot.Cubic.Out(t),\n  \"Elastic.In\": (t) => Ot.Elastic.In(t),\n  \"Elastic.InOut\": (t) => Ot.Elastic.InOut(t),\n  \"Elastic.Out\": (t) => Ot.Elastic.Out(t),\n  \"Exponential.In\": (t) => Ot.Exponential.In(t),\n  \"Exponential.InOut\": (t) => Ot.Exponential.InOut(t),\n  \"Exponential.Out\": (t) => Ot.Exponential.Out(t),\n  \"Linear.None\": (t) => Ot.Linear.None(t),\n  \"Quadratic.In\": (t) => Ot.Quadratic.In(t),\n  \"Quadratic.InOut\": (t) => Ot.Quadratic.InOut(t),\n  \"Quadratic.Out\": (t) => Ot.Quadratic.Out(t),\n  \"Quartic.In\": (t) => Ot.Quartic.In(t),\n  \"Quartic.InOut\": (t) => Ot.Quartic.InOut(t),\n  \"Quartic.Out\": (t) => Ot.Quartic.Out(t),\n  \"Quintic.In\": (t) => Ot.Quintic.In(t),\n  \"Quintic.InOut\": (t) => Ot.Quintic.InOut(t),\n  \"Quintic.Out\": (t) => Ot.Quintic.Out(t),\n  \"Sinusoidal.In\": (t) => Ot.Sinusoidal.In(t),\n  \"Sinusoidal.InOut\": (t) => Ot.Sinusoidal.InOut(t),\n  \"Sinusoidal.Out\": (t) => Ot.Sinusoidal.Out(t)\n});\n/*!\n * @pixi/sound - v4.3.2\n * https://github.com/pixijs/pixi-sound\n * Compiled Fri, 03 Mar 2023 14:55:09 UTC\n *\n * @pixi/sound is licensed under the MIT license.\n * http://www.opensource.org/licenses/mit-license\n */\nvar Xb;\nfunction fe() {\n  return Xb;\n}\nvar Wb = function(r, t) {\n  return (Wb = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(e, i) {\n    e.__proto__ = i;\n  } || function(e, i) {\n    for (var n in i)\n      Object.prototype.hasOwnProperty.call(i, n) && (e[n] = i[n]);\n  })(r, t);\n};\nfunction Oi(r, t) {\n  if (typeof t != \"function\" && t !== null)\n    throw new TypeError(\"Class extends value \" + String(t) + \" is not a constructor or null\");\n  function e() {\n    this.constructor = r;\n  }\n  Wb(r, t), r.prototype = t === null ? Object.create(t) : (e.prototype = t.prototype, new e());\n}\nvar Yo = function() {\n  return (Yo = Object.assign || function(r) {\n    for (var t, e = 1, i = arguments.length; e < i; e++)\n      for (var n in t = arguments[e])\n        Object.prototype.hasOwnProperty.call(t, n) && (r[n] = t[n]);\n    return r;\n  }).apply(this, arguments);\n}, g_ = [\"mp3\", \"ogg\", \"oga\", \"opus\", \"mpeg\", \"wav\", \"m4a\", \"aiff\", \"wma\", \"mid\", \"caf\"], bv = {};\nfunction Yb(r) {\n  var t = Yo({ m4a: \"audio/mp4\", oga: \"audio/ogg\", opus: 'audio/ogg; codecs=\"opus\"', caf: 'audio/x-caf; codecs=\"opus\"' }, r || {}), e = document.createElement(\"audio\"), i = {}, n = /^no$/;\n  g_.forEach(function(s) {\n    var o = e.canPlayType(\"audio/\".concat(s)).replace(n, \"\"), a = t[s] ? e.canPlayType(t[s]).replace(n, \"\") : \"\";\n    i[s] = !!o || !!a;\n  }), Object.assign(bv, i);\n}\nYb();\nvar CC = /\\.(\\{([^\\}]+)\\})(\\?.*)?$/;\nfunction b_(r) {\n  var t = CC, e = typeof r == \"string\" ? r : r.url;\n  if (!t.test(e))\n    return e;\n  for (var i = t.exec(e), n = i[2].split(\",\"), s = n[n.length - 1], o = 0, a = n.length; o < a; o++) {\n    var l = n[o];\n    if (bv[l]) {\n      s = l;\n      break;\n    }\n  }\n  var u = e.replace(i[1], s);\n  if (typeof r != \"string\") {\n    var c = r;\n    c.extension = s, c.url = u;\n  }\n  return u;\n}\nvar im = g_.filter(function(r) {\n  return bv[r];\n}), Vm = function() {\n  function r() {\n  }\n  return r.add = function() {\n    r.setLegacy(fe().useLegacy);\n  }, r.setLegacy = function(t) {\n    t ? im.forEach(function(e) {\n      _t.setExtensionXhrType(e, _t.XHR_RESPONSE_TYPE.DEFAULT), _t.setExtensionLoadType(e, _t.LOAD_TYPE.AUDIO);\n    }) : im.forEach(function(e) {\n      _t.setExtensionXhrType(e, _t.XHR_RESPONSE_TYPE.BUFFER), _t.setExtensionLoadType(e, _t.LOAD_TYPE.XHR);\n    });\n  }, r.pre = function(t, e) {\n    b_(t), e();\n  }, r.use = function(t, e) {\n    t.data && im.indexOf(t.extension) > -1 ? t.sound = fe().add(t.name, { loaded: e, preload: !0, url: t.url, source: t.data }) : e();\n  }, r.extension = \"loader\", r;\n}(), MC = 0, RC = function(r) {\n  function t(e) {\n    var i = r.call(this) || this;\n    return i.id = MC++, i.init(e), i;\n  }\n  return Oi(t, r), t.prototype.set = function(e, i) {\n    if (this[e] === void 0)\n      throw new Error(\"Property with name \".concat(e, \" does not exist.\"));\n    switch (e) {\n      case \"speed\":\n        this.speed = i;\n        break;\n      case \"volume\":\n        this.volume = i;\n        break;\n      case \"paused\":\n        this.paused = i;\n        break;\n      case \"loop\":\n        this.loop = i;\n        break;\n      case \"muted\":\n        this.muted = i;\n    }\n    return this;\n  }, Object.defineProperty(t.prototype, \"progress\", { get: function() {\n    return this._source.currentTime / this._duration;\n  }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, \"paused\", { get: function() {\n    return this._paused;\n  }, set: function(e) {\n    this._paused = e, this.refreshPaused();\n  }, enumerable: !1, configurable: !0 }), t.prototype._onPlay = function() {\n    this._playing = !0;\n  }, t.prototype._onPause = function() {\n    this._playing = !1;\n  }, t.prototype.init = function(e) {\n    this._playing = !1, this._duration = e.source.duration;\n    var i = this._source = e.source.cloneNode(!1);\n    i.src = e.parent.url, i.onplay = this._onPlay.bind(this), i.onpause = this._onPause.bind(this), e.context.on(\"refresh\", this.refresh, this), e.context.on(\"refreshPaused\", this.refreshPaused, this), this._media = e;\n  }, t.prototype._internalStop = function() {\n    this._source && this._playing && (this._source.onended = null, this._source.pause());\n  }, t.prototype.stop = function() {\n    this._internalStop(), this._source && this.emit(\"stop\");\n  }, Object.defineProperty(t.prototype, \"speed\", { get: function() {\n    return this._speed;\n  }, set: function(e) {\n    this._speed = e, this.refresh();\n  }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, \"volume\", { get: function() {\n    return this._volume;\n  }, set: function(e) {\n    this._volume = e, this.refresh();\n  }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, \"loop\", { get: function() {\n    return this._loop;\n  }, set: function(e) {\n    this._loop = e, this.refresh();\n  }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, \"muted\", { get: function() {\n    return this._muted;\n  }, set: function(e) {\n    this._muted = e, this.refresh();\n  }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, \"filters\", { get: function() {\n    return null;\n  }, set: function(e) {\n  }, enumerable: !1, configurable: !0 }), t.prototype.refresh = function() {\n    var e = this._media.context, i = this._media.parent;\n    this._source.loop = this._loop || i.loop;\n    var n = e.volume * (e.muted ? 0 : 1), s = i.volume * (i.muted ? 0 : 1), o = this._volume * (this._muted ? 0 : 1);\n    this._source.volume = o * n * s, this._source.playbackRate = this._speed * e.speed * i.speed;\n  }, t.prototype.refreshPaused = function() {\n    var e = this._media.context, i = this._media.parent, n = this._paused || i.paused || e.paused;\n    n !== this._pausedReal && (this._pausedReal = n, n ? (this._internalStop(), this.emit(\"paused\")) : (this.emit(\"resumed\"), this.play({ start: this._source.currentTime, end: this._end, volume: this._volume, speed: this._speed, loop: this._loop })), this.emit(\"pause\", n));\n  }, t.prototype.play = function(e) {\n    var i = this, n = e.start, s = e.end, o = e.speed, a = e.loop, l = e.volume, u = e.muted;\n    this._speed = o, this._volume = l, this._loop = !!a, this._muted = u, this.refresh(), this.loop && s !== null && (this.loop = !1), this._start = n, this._end = s || this._duration, this._start = Math.max(0, this._start - t.PADDING), this._end = Math.min(this._end + t.PADDING, this._duration), this._source.onloadedmetadata = function() {\n      i._source && (i._source.currentTime = n, i._source.onloadedmetadata = null, i.emit(\"progress\", n, i._duration), _e.shared.add(i._onUpdate, i));\n    }, this._source.onended = this._onComplete.bind(this), this._source.play(), this.emit(\"start\");\n  }, t.prototype._onUpdate = function() {\n    this.emit(\"progress\", this.progress, this._duration), this._source.currentTime >= this._end && !this._source.loop && this._onComplete();\n  }, t.prototype._onComplete = function() {\n    _e.shared.remove(this._onUpdate, this), this._internalStop(), this.emit(\"progress\", 1, this._duration), this.emit(\"end\", this);\n  }, t.prototype.destroy = function() {\n    _e.shared.remove(this._onUpdate, this), this.removeAllListeners();\n    var e = this._source;\n    e && (e.onended = null, e.onplay = null, e.onpause = null, this._internalStop()), this._source = null, this._speed = 1, this._volume = 1, this._loop = !1, this._end = null, this._start = 0, this._duration = 0, this._playing = !1, this._pausedReal = !1, this._paused = !1, this._muted = !1, this._media && (this._media.context.off(\"refresh\", this.refresh, this), this._media.context.off(\"refreshPaused\", this.refreshPaused, this), this._media = null);\n  }, t.prototype.toString = function() {\n    return \"[HTMLAudioInstance id=\".concat(this.id, \"]\");\n  }, t.PADDING = 0.1, t;\n}(Ji), kC = function(r) {\n  function t() {\n    return r !== null && r.apply(this, arguments) || this;\n  }\n  return Oi(t, r), t.prototype.init = function(e) {\n    this.parent = e, this._source = e.options.source || new Audio(), e.url && (this._source.src = e.url);\n  }, t.prototype.create = function() {\n    return new RC(this);\n  }, Object.defineProperty(t.prototype, \"isPlayable\", { get: function() {\n    return !!this._source && this._source.readyState === 4;\n  }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, \"duration\", { get: function() {\n    return this._source.duration;\n  }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, \"context\", { get: function() {\n    return this.parent.context;\n  }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, \"filters\", { get: function() {\n    return null;\n  }, set: function(e) {\n  }, enumerable: !1, configurable: !0 }), t.prototype.destroy = function() {\n    this.removeAllListeners(), this.parent = null, this._source && (this._source.src = \"\", this._source.load(), this._source = null);\n  }, Object.defineProperty(t.prototype, \"source\", { get: function() {\n    return this._source;\n  }, enumerable: !1, configurable: !0 }), t.prototype.load = function(e) {\n    var i = this._source, n = this.parent;\n    if (i.readyState !== 4)\n      if (n.url) {\n        i.src = n.url;\n        var s = function() {\n          l(), n.isLoaded = !0;\n          var c = n.autoPlayStart();\n          e && e(null, n, c);\n        }, o = function() {\n          l(), e && e(new Error(\"Sound loading has been aborted\"));\n        }, a = function() {\n          l();\n          var c = \"Failed to load audio element (code: \".concat(i.error.code, \")\");\n          e && e(new Error(c));\n        }, l = function() {\n          i.removeEventListener(\"canplaythrough\", s), i.removeEventListener(\"load\", s), i.removeEventListener(\"abort\", o), i.removeEventListener(\"error\", a);\n        };\n        i.addEventListener(\"canplaythrough\", s, !1), i.addEventListener(\"load\", s, !1), i.addEventListener(\"abort\", o, !1), i.addEventListener(\"error\", a, !1), i.load();\n      } else\n        e(new Error(\"sound.url or sound.source must be set\"));\n    else {\n      n.isLoaded = !0;\n      var u = n.autoPlayStart();\n      e && setTimeout(function() {\n        e(null, n, u);\n      }, 0);\n    }\n  }, t;\n}(Ji), NC = function() {\n  function r(t, e) {\n    this.parent = t, Object.assign(this, e), this.duration = this.end - this.start;\n  }\n  return r.prototype.play = function(t) {\n    return this.parent.play({ complete: t, speed: this.speed || this.parent.speed, end: this.end, start: this.start, loop: this.loop });\n  }, r.prototype.destroy = function() {\n    this.parent = null;\n  }, r;\n}(), Di = function() {\n  function r() {\n  }\n  return r.setParamValue = function(t, e) {\n    if (t.setValueAtTime) {\n      var i = fe().context;\n      t.setValueAtTime(e, i.audioContext.currentTime);\n    } else\n      t.value = e;\n    return e;\n  }, r;\n}(), LC = 0, AC = function(r) {\n  function t(e) {\n    var i = r.call(this) || this;\n    return i.id = LC++, i._media = null, i._paused = !1, i._muted = !1, i._elapsed = 0, i.init(e), i;\n  }\n  return Oi(t, r), t.prototype.set = function(e, i) {\n    if (this[e] === void 0)\n      throw new Error(\"Property with name \".concat(e, \" does not exist.\"));\n    switch (e) {\n      case \"speed\":\n        this.speed = i;\n        break;\n      case \"volume\":\n        this.volume = i;\n        break;\n      case \"muted\":\n        this.muted = i;\n        break;\n      case \"loop\":\n        this.loop = i;\n        break;\n      case \"paused\":\n        this.paused = i;\n    }\n    return this;\n  }, t.prototype.stop = function() {\n    this._source && (this._internalStop(), this.emit(\"stop\"));\n  }, Object.defineProperty(t.prototype, \"speed\", { get: function() {\n    return this._speed;\n  }, set: function(e) {\n    this._speed = e, this.refresh(), this._update(!0);\n  }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, \"volume\", { get: function() {\n    return this._volume;\n  }, set: function(e) {\n    this._volume = e, this.refresh();\n  }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, \"muted\", { get: function() {\n    return this._muted;\n  }, set: function(e) {\n    this._muted = e, this.refresh();\n  }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, \"loop\", { get: function() {\n    return this._loop;\n  }, set: function(e) {\n    this._loop = e, this.refresh();\n  }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, \"filters\", { get: function() {\n    return this._filters;\n  }, set: function(e) {\n    var i;\n    this._filters && ((i = this._filters) === null || i === void 0 || i.filter(function(n) {\n      return n;\n    }).forEach(function(n) {\n      return n.disconnect();\n    }), this._filters = null, this._source.connect(this._gain)), this._filters = e != null && e.length ? e.slice(0) : null, this.refresh();\n  }, enumerable: !1, configurable: !0 }), t.prototype.refresh = function() {\n    if (this._source) {\n      var e = this._media.context, i = this._media.parent;\n      this._source.loop = this._loop || i.loop;\n      var n = e.volume * (e.muted ? 0 : 1), s = i.volume * (i.muted ? 0 : 1), o = this._volume * (this._muted ? 0 : 1);\n      Di.setParamValue(this._gain.gain, o * s * n), Di.setParamValue(this._source.playbackRate, this._speed * i.speed * e.speed), this.applyFilters();\n    }\n  }, t.prototype.applyFilters = function() {\n    var e;\n    if (!((e = this._filters) === null || e === void 0) && e.length) {\n      this._source.disconnect();\n      var i = this._source;\n      this._filters.forEach(function(n) {\n        i.connect(n.destination), i = n;\n      }), i.connect(this._gain);\n    }\n  }, t.prototype.refreshPaused = function() {\n    var e = this._media.context, i = this._media.parent, n = this._paused || i.paused || e.paused;\n    n !== this._pausedReal && (this._pausedReal = n, n ? (this._internalStop(), this.emit(\"paused\")) : (this.emit(\"resumed\"), this.play({ start: this._elapsed % this._duration, end: this._end, speed: this._speed, loop: this._loop, volume: this._volume })), this.emit(\"pause\", n));\n  }, t.prototype.play = function(e) {\n    var i = e.start, n = e.end, s = e.speed, o = e.loop, a = e.volume, l = e.muted, u = e.filters;\n    this._paused = !1;\n    var c = this._media.nodes.cloneBufferSource(), f = c.source, d = c.gain;\n    this._source = f, this._gain = d, this._speed = s, this._volume = a, this._loop = !!o, this._muted = l, this._filters = u, this.refresh();\n    var p = this._source.buffer.duration;\n    this._duration = p, this._end = n, this._lastUpdate = this._now(), this._elapsed = i, this._source.onended = this._onComplete.bind(this), this._loop ? (this._source.loopEnd = n, this._source.loopStart = i, this._source.start(0, i)) : n ? this._source.start(0, i, n - i) : this._source.start(0, i), this.emit(\"start\"), this._update(!0), this.enableTicker(!0);\n  }, t.prototype.enableTicker = function(e) {\n    _e.shared.remove(this._updateListener, this), e && _e.shared.add(this._updateListener, this);\n  }, Object.defineProperty(t.prototype, \"progress\", { get: function() {\n    return this._progress;\n  }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, \"paused\", { get: function() {\n    return this._paused;\n  }, set: function(e) {\n    this._paused = e, this.refreshPaused();\n  }, enumerable: !1, configurable: !0 }), t.prototype.destroy = function() {\n    var e;\n    this.removeAllListeners(), this._internalStop(), this._gain && (this._gain.disconnect(), this._gain = null), this._media && (this._media.context.events.off(\"refresh\", this.refresh, this), this._media.context.events.off(\"refreshPaused\", this.refreshPaused, this), this._media = null), (e = this._filters) === null || e === void 0 || e.forEach(function(i) {\n      return i.disconnect();\n    }), this._filters = null, this._end = null, this._speed = 1, this._volume = 1, this._loop = !1, this._elapsed = 0, this._duration = 0, this._paused = !1, this._muted = !1, this._pausedReal = !1;\n  }, t.prototype.toString = function() {\n    return \"[WebAudioInstance id=\".concat(this.id, \"]\");\n  }, t.prototype._now = function() {\n    return this._media.context.audioContext.currentTime;\n  }, t.prototype._updateListener = function() {\n    this._update();\n  }, t.prototype._update = function(e) {\n    if (e === void 0 && (e = !1), this._source) {\n      var i = this._now(), n = i - this._lastUpdate;\n      if (n > 0 || e) {\n        var s = this._source.playbackRate.value;\n        this._elapsed += n * s, this._lastUpdate = i;\n        var o = this._duration, a = void 0;\n        if (this._source.loopStart) {\n          var l = this._source.loopEnd - this._source.loopStart;\n          a = (this._source.loopStart + this._elapsed % l) / o;\n        } else\n          a = this._elapsed % o / o;\n        this._progress = a, this.emit(\"progress\", this._progress, o);\n      }\n    }\n  }, t.prototype.init = function(e) {\n    this._media = e, e.context.events.on(\"refresh\", this.refresh, this), e.context.events.on(\"refreshPaused\", this.refreshPaused, this);\n  }, t.prototype._internalStop = function() {\n    if (this._source) {\n      this.enableTicker(!1), this._source.onended = null, this._source.stop(0), this._source.disconnect();\n      try {\n        this._source.buffer = null;\n      } catch {\n      }\n      this._source = null;\n    }\n  }, t.prototype._onComplete = function() {\n    if (this._source) {\n      this.enableTicker(!1), this._source.onended = null, this._source.disconnect();\n      try {\n        this._source.buffer = null;\n      } catch {\n      }\n    }\n    this._source = null, this._progress = 1, this.emit(\"progress\", 1, this._duration), this.emit(\"end\", this);\n  }, t;\n}(Ji), qb = function() {\n  function r(t, e) {\n    this._output = e, this._input = t;\n  }\n  return Object.defineProperty(r.prototype, \"destination\", { get: function() {\n    return this._input;\n  }, enumerable: !1, configurable: !0 }), Object.defineProperty(r.prototype, \"filters\", { get: function() {\n    return this._filters;\n  }, set: function(t) {\n    var e = this;\n    if (this._filters && (this._filters.forEach(function(n) {\n      n && n.disconnect();\n    }), this._filters = null, this._input.connect(this._output)), t && t.length) {\n      this._filters = t.slice(0), this._input.disconnect();\n      var i = null;\n      t.forEach(function(n) {\n        i === null ? e._input.connect(n.destination) : i.connect(n.destination), i = n;\n      }), i.connect(this._output);\n    }\n  }, enumerable: !1, configurable: !0 }), r.prototype.destroy = function() {\n    this.filters = null, this._input = null, this._output = null;\n  }, r;\n}(), DC = function(r) {\n  function t(e) {\n    var i = this, n = e.audioContext, s = n.createBufferSource(), o = n.createGain(), a = n.createAnalyser();\n    return s.connect(a), a.connect(o), o.connect(e.destination), (i = r.call(this, a, o) || this).context = e, i.bufferSource = s, i.gain = o, i.analyser = a, i;\n  }\n  return Oi(t, r), Object.defineProperty(t.prototype, \"script\", { get: function() {\n    return this._script || (this._script = this.context.audioContext.createScriptProcessor(t.BUFFER_SIZE), this._script.connect(this.context.destination)), this._script;\n  }, enumerable: !1, configurable: !0 }), t.prototype.destroy = function() {\n    r.prototype.destroy.call(this), this.bufferSource.disconnect(), this._script && this._script.disconnect(), this.gain.disconnect(), this.analyser.disconnect(), this.bufferSource = null, this._script = null, this.gain = null, this.analyser = null, this.context = null;\n  }, t.prototype.cloneBufferSource = function() {\n    var e = this.bufferSource, i = this.context.audioContext.createBufferSource();\n    i.buffer = e.buffer, Di.setParamValue(i.playbackRate, e.playbackRate.value), i.loop = e.loop;\n    var n = this.context.audioContext.createGain();\n    return i.connect(n), n.connect(this.destination), { source: i, gain: n };\n  }, Object.defineProperty(t.prototype, \"bufferSize\", { get: function() {\n    return this.script.bufferSize;\n  }, enumerable: !1, configurable: !0 }), t.BUFFER_SIZE = 0, t;\n}(qb), Xm = function() {\n  function r() {\n  }\n  return r.prototype.init = function(t) {\n    this.parent = t, this._nodes = new DC(this.context), this._source = this._nodes.bufferSource, this.source = t.options.source;\n  }, r.prototype.destroy = function() {\n    this.parent = null, this._nodes.destroy(), this._nodes = null;\n    try {\n      this._source.buffer = null;\n    } catch {\n    }\n    this._source = null, this.source = null;\n  }, r.prototype.create = function() {\n    return new AC(this);\n  }, Object.defineProperty(r.prototype, \"context\", { get: function() {\n    return this.parent.context;\n  }, enumerable: !1, configurable: !0 }), Object.defineProperty(r.prototype, \"isPlayable\", { get: function() {\n    return !!this._source && !!this._source.buffer;\n  }, enumerable: !1, configurable: !0 }), Object.defineProperty(r.prototype, \"filters\", { get: function() {\n    return this._nodes.filters;\n  }, set: function(t) {\n    this._nodes.filters = t;\n  }, enumerable: !1, configurable: !0 }), Object.defineProperty(r.prototype, \"duration\", { get: function() {\n    return this._source.buffer.duration;\n  }, enumerable: !1, configurable: !0 }), Object.defineProperty(r.prototype, \"buffer\", { get: function() {\n    return this._source.buffer;\n  }, set: function(t) {\n    this._source.buffer = t;\n  }, enumerable: !1, configurable: !0 }), Object.defineProperty(r.prototype, \"nodes\", { get: function() {\n    return this._nodes;\n  }, enumerable: !1, configurable: !0 }), r.prototype.load = function(t) {\n    this.source ? this._decode(this.source, t) : this.parent.url ? this._loadUrl(t) : t && t(new Error(\"sound.url or sound.source must be set\"));\n  }, r.prototype._loadUrl = function(t) {\n    var e = this, i = new XMLHttpRequest(), n = this.parent.url;\n    i.open(\"GET\", n, !0), i.responseType = \"arraybuffer\", i.onload = function() {\n      e.source = i.response, e._decode(i.response, t);\n    }, i.send();\n  }, r.prototype._decode = function(t, e) {\n    var i = this, n = function(s, o) {\n      if (s)\n        e && e(s);\n      else {\n        i.parent.isLoaded = !0, i.buffer = o;\n        var a = i.parent.autoPlayStart();\n        e && e(null, i.parent, a);\n      }\n    };\n    t instanceof AudioBuffer ? n(null, t) : this.parent.context.decode(t, n);\n  }, r;\n}(), _a = function() {\n  function r(t, e) {\n    this.media = t, this.options = e, this._instances = [], this._sprites = {}, this.media.init(this);\n    var i = e.complete;\n    this._autoPlayOptions = i ? { complete: i } : null, this.isLoaded = !1, this.isPlaying = !1, this.autoPlay = e.autoPlay, this.singleInstance = e.singleInstance, this.preload = e.preload || this.autoPlay, this.url = e.url, this.speed = e.speed, this.volume = e.volume, this.loop = e.loop, e.sprites && this.addSprites(e.sprites), this.preload && this._preload(e.loaded);\n  }\n  return r.from = function(t) {\n    var e = {};\n    return typeof t == \"string\" ? e.url = t : t instanceof ArrayBuffer || t instanceof AudioBuffer || t instanceof HTMLAudioElement ? e.source = t : e = t, (e = Yo({ autoPlay: !1, singleInstance: !1, url: null, source: null, preload: !1, volume: 1, speed: 1, complete: null, loaded: null, loop: !1 }, e)).url && (e.url = b_(e.url)), Object.freeze(e), new r(fe().useLegacy ? new kC() : new Xm(), e);\n  }, Object.defineProperty(r.prototype, \"context\", { get: function() {\n    return fe().context;\n  }, enumerable: !1, configurable: !0 }), r.prototype.pause = function() {\n    return this.isPlaying = !1, this.paused = !0, this;\n  }, r.prototype.resume = function() {\n    return this.isPlaying = this._instances.length > 0, this.paused = !1, this;\n  }, Object.defineProperty(r.prototype, \"paused\", { get: function() {\n    return this._paused;\n  }, set: function(t) {\n    this._paused = t, this.refreshPaused();\n  }, enumerable: !1, configurable: !0 }), Object.defineProperty(r.prototype, \"speed\", { get: function() {\n    return this._speed;\n  }, set: function(t) {\n    this._speed = t, this.refresh();\n  }, enumerable: !1, configurable: !0 }), Object.defineProperty(r.prototype, \"filters\", { get: function() {\n    return this.media.filters;\n  }, set: function(t) {\n    this.media.filters = t;\n  }, enumerable: !1, configurable: !0 }), r.prototype.addSprites = function(t, e) {\n    if (typeof t == \"object\") {\n      var i = {};\n      for (var n in t)\n        i[n] = this.addSprites(n, t[n]);\n      return i;\n    }\n    var s = new NC(this, e);\n    return this._sprites[t] = s, s;\n  }, r.prototype.destroy = function() {\n    this._removeInstances(), this.removeSprites(), this.media.destroy(), this.media = null, this._sprites = null, this._instances = null;\n  }, r.prototype.removeSprites = function(t) {\n    if (t) {\n      var e = this._sprites[t];\n      e !== void 0 && (e.destroy(), delete this._sprites[t]);\n    } else\n      for (var i in this._sprites)\n        this.removeSprites(i);\n    return this;\n  }, Object.defineProperty(r.prototype, \"isPlayable\", { get: function() {\n    return this.isLoaded && this.media && this.media.isPlayable;\n  }, enumerable: !1, configurable: !0 }), r.prototype.stop = function() {\n    if (!this.isPlayable)\n      return this.autoPlay = !1, this._autoPlayOptions = null, this;\n    this.isPlaying = !1;\n    for (var t = this._instances.length - 1; t >= 0; t--)\n      this._instances[t].stop();\n    return this;\n  }, r.prototype.play = function(t, e) {\n    var i, n = this;\n    if (typeof t == \"string\" ? i = { sprite: o = t, loop: this.loop, complete: e } : typeof t == \"function\" ? (i = {}).complete = t : i = t, (i = Yo({ complete: null, loaded: null, sprite: null, end: null, start: 0, volume: 1, speed: 1, muted: !1, loop: !1 }, i || {})).sprite) {\n      var s = i.sprite, o = this._sprites[s];\n      i.start = o.start + (i.start || 0), i.end = o.end, i.speed = o.speed || 1, i.loop = o.loop || i.loop, delete i.sprite;\n    }\n    if (i.offset && (i.start = i.offset), !this.isLoaded)\n      return new Promise(function(l, u) {\n        n.autoPlay = !0, n._autoPlayOptions = i, n._preload(function(c, f, d) {\n          c ? u(c) : (i.loaded && i.loaded(c, f, d), l(d));\n        });\n      });\n    (this.singleInstance || i.singleInstance) && this._removeInstances();\n    var a = this._createInstance();\n    return this._instances.push(a), this.isPlaying = !0, a.once(\"end\", function() {\n      i.complete && i.complete(n), n._onComplete(a);\n    }), a.once(\"stop\", function() {\n      n._onComplete(a);\n    }), a.play(i), a;\n  }, r.prototype.refresh = function() {\n    for (var t = this._instances.length, e = 0; e < t; e++)\n      this._instances[e].refresh();\n  }, r.prototype.refreshPaused = function() {\n    for (var t = this._instances.length, e = 0; e < t; e++)\n      this._instances[e].refreshPaused();\n  }, Object.defineProperty(r.prototype, \"volume\", { get: function() {\n    return this._volume;\n  }, set: function(t) {\n    this._volume = t, this.refresh();\n  }, enumerable: !1, configurable: !0 }), Object.defineProperty(r.prototype, \"muted\", { get: function() {\n    return this._muted;\n  }, set: function(t) {\n    this._muted = t, this.refresh();\n  }, enumerable: !1, configurable: !0 }), Object.defineProperty(r.prototype, \"loop\", { get: function() {\n    return this._loop;\n  }, set: function(t) {\n    this._loop = t, this.refresh();\n  }, enumerable: !1, configurable: !0 }), r.prototype._preload = function(t) {\n    this.media.load(t);\n  }, Object.defineProperty(r.prototype, \"instances\", { get: function() {\n    return this._instances;\n  }, enumerable: !1, configurable: !0 }), Object.defineProperty(r.prototype, \"sprites\", { get: function() {\n    return this._sprites;\n  }, enumerable: !1, configurable: !0 }), Object.defineProperty(r.prototype, \"duration\", { get: function() {\n    return this.media.duration;\n  }, enumerable: !1, configurable: !0 }), r.prototype.autoPlayStart = function() {\n    var t;\n    return this.autoPlay && (t = this.play(this._autoPlayOptions)), t;\n  }, r.prototype._removeInstances = function() {\n    for (var t = this._instances.length - 1; t >= 0; t--)\n      this._poolInstance(this._instances[t]);\n    this._instances.length = 0;\n  }, r.prototype._onComplete = function(t) {\n    if (this._instances) {\n      var e = this._instances.indexOf(t);\n      e > -1 && this._instances.splice(e, 1), this.isPlaying = this._instances.length > 0;\n    }\n    this._poolInstance(t);\n  }, r.prototype._createInstance = function() {\n    if (r._pool.length > 0) {\n      var t = r._pool.pop();\n      return t.init(this.media), t;\n    }\n    return this.media.create();\n  }, r.prototype._poolInstance = function(t) {\n    t.destroy(), r._pool.indexOf(t) < 0 && r._pool.push(t);\n  }, r._pool = [], r;\n}(), BC = function(r) {\n  function t() {\n    var e = r !== null && r.apply(this, arguments) || this;\n    return e.speed = 1, e.muted = !1, e.volume = 1, e.paused = !1, e;\n  }\n  return Oi(t, r), t.prototype.refresh = function() {\n    this.emit(\"refresh\");\n  }, t.prototype.refreshPaused = function() {\n    this.emit(\"refreshPaused\");\n  }, Object.defineProperty(t.prototype, \"filters\", { get: function() {\n    return null;\n  }, set: function(e) {\n  }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, \"audioContext\", { get: function() {\n    return null;\n  }, enumerable: !1, configurable: !0 }), t.prototype.toggleMute = function() {\n    return this.muted = !this.muted, this.refresh(), this.muted;\n  }, t.prototype.togglePause = function() {\n    return this.paused = !this.paused, this.refreshPaused(), this.paused;\n  }, t.prototype.destroy = function() {\n    this.removeAllListeners();\n  }, t;\n}(Ji), Hg = function(r) {\n  function t() {\n    var e = this, i = window, n = new t.AudioContext(), s = n.createDynamicsCompressor(), o = n.createAnalyser();\n    return o.connect(s), s.connect(n.destination), (e = r.call(this, o, s) || this)._ctx = n, e._offlineCtx = new t.OfflineAudioContext(1, 2, i.OfflineAudioContext ? Math.max(8e3, Math.min(96e3, n.sampleRate)) : 44100), e._unlocked = !1, e.compressor = s, e.analyser = o, e.events = new Ji(), e.volume = 1, e.speed = 1, e.muted = !1, e.paused = !1, n.state !== \"running\" && (e._unlock(), e._unlock = e._unlock.bind(e), document.addEventListener(\"mousedown\", e._unlock, !0), document.addEventListener(\"touchstart\", e._unlock, !0), document.addEventListener(\"touchend\", e._unlock, !0)), e;\n  }\n  return Oi(t, r), t.prototype._unlock = function() {\n    this._unlocked || (this.playEmptySound(), this._ctx.state === \"running\" && (document.removeEventListener(\"mousedown\", this._unlock, !0), document.removeEventListener(\"touchend\", this._unlock, !0), document.removeEventListener(\"touchstart\", this._unlock, !0), this._unlocked = !0));\n  }, t.prototype.playEmptySound = function() {\n    var e = this._ctx.createBufferSource();\n    e.buffer = this._ctx.createBuffer(1, 1, 22050), e.connect(this._ctx.destination), e.start(0, 0, 0), e.context.state === \"suspended\" && e.context.resume();\n  }, Object.defineProperty(t, \"AudioContext\", { get: function() {\n    var e = window;\n    return e.AudioContext || e.webkitAudioContext || null;\n  }, enumerable: !1, configurable: !0 }), Object.defineProperty(t, \"OfflineAudioContext\", { get: function() {\n    var e = window;\n    return e.OfflineAudioContext || e.webkitOfflineAudioContext || null;\n  }, enumerable: !1, configurable: !0 }), t.prototype.destroy = function() {\n    r.prototype.destroy.call(this);\n    var e = this._ctx;\n    e.close !== void 0 && e.close(), this.events.removeAllListeners(), this.analyser.disconnect(), this.compressor.disconnect(), this.analyser = null, this.compressor = null, this.events = null, this._offlineCtx = null, this._ctx = null;\n  }, Object.defineProperty(t.prototype, \"audioContext\", { get: function() {\n    return this._ctx;\n  }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, \"offlineContext\", { get: function() {\n    return this._offlineCtx;\n  }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, \"paused\", { get: function() {\n    return this._paused;\n  }, set: function(e) {\n    e && this._ctx.state === \"running\" ? this._ctx.suspend() : e || this._ctx.state !== \"suspended\" || this._ctx.resume(), this._paused = e;\n  }, enumerable: !1, configurable: !0 }), t.prototype.refresh = function() {\n    this.events.emit(\"refresh\");\n  }, t.prototype.refreshPaused = function() {\n    this.events.emit(\"refreshPaused\");\n  }, t.prototype.toggleMute = function() {\n    return this.muted = !this.muted, this.refresh(), this.muted;\n  }, t.prototype.togglePause = function() {\n    return this.paused = !this.paused, this.refreshPaused(), this._paused;\n  }, t.prototype.decode = function(e, i) {\n    var n = function(o) {\n      i(new Error((o == null ? void 0 : o.message) || \"Unable to decode file\"));\n    }, s = this._offlineCtx.decodeAudioData(e, function(o) {\n      i(null, o);\n    }, n);\n    s && s.catch(n);\n  }, t;\n}(qb), FC = function() {\n  function r() {\n    this.init();\n  }\n  return r.prototype.init = function() {\n    return this.supported && (this._webAudioContext = new Hg()), this._htmlAudioContext = new BC(), this._sounds = {}, this.useLegacy = !this.supported, this;\n  }, Object.defineProperty(r.prototype, \"context\", { get: function() {\n    return this._context;\n  }, enumerable: !1, configurable: !0 }), Object.defineProperty(r.prototype, \"filtersAll\", { get: function() {\n    return this.useLegacy ? [] : this._context.filters;\n  }, set: function(t) {\n    this.useLegacy || (this._context.filters = t);\n  }, enumerable: !1, configurable: !0 }), Object.defineProperty(r.prototype, \"supported\", { get: function() {\n    return Hg.AudioContext !== null;\n  }, enumerable: !1, configurable: !0 }), r.prototype.add = function(t, e) {\n    if (typeof t == \"object\") {\n      var i = {};\n      for (var n in t) {\n        var s = this._getOptions(t[n], e);\n        i[n] = this.add(n, s);\n      }\n      return i;\n    }\n    if (e instanceof _a)\n      return this._sounds[t] = e, e;\n    var o = this._getOptions(e), a = _a.from(o);\n    return this._sounds[t] = a, a;\n  }, r.prototype._getOptions = function(t, e) {\n    var i;\n    return i = typeof t == \"string\" ? { url: t } : t instanceof ArrayBuffer || t instanceof AudioBuffer || t instanceof HTMLAudioElement ? { source: t } : t, i = Yo(Yo({}, i), e || {});\n  }, Object.defineProperty(r.prototype, \"useLegacy\", { get: function() {\n    return this._useLegacy;\n  }, set: function(t) {\n    Vm.setLegacy(t), this._useLegacy = t, this._context = !t && this.supported ? this._webAudioContext : this._htmlAudioContext;\n  }, enumerable: !1, configurable: !0 }), r.prototype.remove = function(t) {\n    return this.exists(t, !0), this._sounds[t].destroy(), delete this._sounds[t], this;\n  }, Object.defineProperty(r.prototype, \"volumeAll\", { get: function() {\n    return this._context.volume;\n  }, set: function(t) {\n    this._context.volume = t, this._context.refresh();\n  }, enumerable: !1, configurable: !0 }), Object.defineProperty(r.prototype, \"speedAll\", { get: function() {\n    return this._context.speed;\n  }, set: function(t) {\n    this._context.speed = t, this._context.refresh();\n  }, enumerable: !1, configurable: !0 }), r.prototype.togglePauseAll = function() {\n    return this._context.togglePause();\n  }, r.prototype.pauseAll = function() {\n    return this._context.paused = !0, this._context.refreshPaused(), this;\n  }, r.prototype.resumeAll = function() {\n    return this._context.paused = !1, this._context.refreshPaused(), this;\n  }, r.prototype.toggleMuteAll = function() {\n    return this._context.toggleMute();\n  }, r.prototype.muteAll = function() {\n    return this._context.muted = !0, this._context.refresh(), this;\n  }, r.prototype.unmuteAll = function() {\n    return this._context.muted = !1, this._context.refresh(), this;\n  }, r.prototype.removeAll = function() {\n    for (var t in this._sounds)\n      this._sounds[t].destroy(), delete this._sounds[t];\n    return this;\n  }, r.prototype.stopAll = function() {\n    for (var t in this._sounds)\n      this._sounds[t].stop();\n    return this;\n  }, r.prototype.exists = function(t, e) {\n    return !!this._sounds[t];\n  }, r.prototype.find = function(t) {\n    return this.exists(t, !0), this._sounds[t];\n  }, r.prototype.play = function(t, e) {\n    return this.find(t).play(e);\n  }, r.prototype.stop = function(t) {\n    return this.find(t).stop();\n  }, r.prototype.pause = function(t) {\n    return this.find(t).pause();\n  }, r.prototype.resume = function(t) {\n    return this.find(t).resume();\n  }, r.prototype.volume = function(t, e) {\n    var i = this.find(t);\n    return e !== void 0 && (i.volume = e), i.volume;\n  }, r.prototype.speed = function(t, e) {\n    var i = this.find(t);\n    return e !== void 0 && (i.speed = e), i.speed;\n  }, r.prototype.duration = function(t) {\n    return this.find(t).duration;\n  }, r.prototype.close = function() {\n    return this.removeAll(), this._sounds = null, this._webAudioContext && (this._webAudioContext.destroy(), this._webAudioContext = null), this._htmlAudioContext && (this._htmlAudioContext.destroy(), this._htmlAudioContext = null), this._context = null, this;\n  }, r;\n}(), jn = function() {\n  function r(t, e) {\n    this.init(t, e);\n  }\n  return r.prototype.init = function(t, e) {\n    this.destination = t, this.source = e || t;\n  }, r.prototype.connect = function(t) {\n    this.source.connect(t);\n  }, r.prototype.disconnect = function() {\n    this.source.disconnect();\n  }, r.prototype.destroy = function() {\n    this.disconnect(), this.destination = null, this.source = null;\n  }, r;\n}(), rm = { __proto__: null, Filter: jn, EqualizerFilter: function(r) {\n  function t(e, i, n, s, o, a, l, u, c, f) {\n    e === void 0 && (e = 0), i === void 0 && (i = 0), n === void 0 && (n = 0), s === void 0 && (s = 0), o === void 0 && (o = 0), a === void 0 && (a = 0), l === void 0 && (l = 0), u === void 0 && (u = 0), c === void 0 && (c = 0), f === void 0 && (f = 0);\n    var d = this;\n    if (!fe().useLegacy) {\n      var p = [{ f: t.F32, type: \"lowshelf\", gain: e }, { f: t.F64, type: \"peaking\", gain: i }, { f: t.F125, type: \"peaking\", gain: n }, { f: t.F250, type: \"peaking\", gain: s }, { f: t.F500, type: \"peaking\", gain: o }, { f: t.F1K, type: \"peaking\", gain: a }, { f: t.F2K, type: \"peaking\", gain: l }, { f: t.F4K, type: \"peaking\", gain: u }, { f: t.F8K, type: \"peaking\", gain: c }, { f: t.F16K, type: \"highshelf\", gain: f }].map(function(y) {\n        var g = fe().context.audioContext.createBiquadFilter();\n        return g.type = y.type, Di.setParamValue(g.Q, 1), g.frequency.value = y.f, Di.setParamValue(g.gain, y.gain), g;\n      });\n      (d = r.call(this, p[0], p[p.length - 1]) || this).bands = p, d.bandsMap = {};\n      for (var m = 0; m < d.bands.length; m++) {\n        var v = d.bands[m];\n        m > 0 && d.bands[m - 1].connect(v), d.bandsMap[v.frequency.value] = v;\n      }\n      return d;\n    }\n    d = r.call(this, null) || this;\n  }\n  return Oi(t, r), t.prototype.setGain = function(e, i) {\n    if (i === void 0 && (i = 0), !this.bandsMap[e])\n      throw new Error(\"No band found for frequency \".concat(e));\n    Di.setParamValue(this.bandsMap[e].gain, i);\n  }, t.prototype.getGain = function(e) {\n    if (!this.bandsMap[e])\n      throw new Error(\"No band found for frequency \".concat(e));\n    return this.bandsMap[e].gain.value;\n  }, Object.defineProperty(t.prototype, \"f32\", { get: function() {\n    return this.getGain(t.F32);\n  }, set: function(e) {\n    this.setGain(t.F32, e);\n  }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, \"f64\", { get: function() {\n    return this.getGain(t.F64);\n  }, set: function(e) {\n    this.setGain(t.F64, e);\n  }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, \"f125\", { get: function() {\n    return this.getGain(t.F125);\n  }, set: function(e) {\n    this.setGain(t.F125, e);\n  }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, \"f250\", { get: function() {\n    return this.getGain(t.F250);\n  }, set: function(e) {\n    this.setGain(t.F250, e);\n  }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, \"f500\", { get: function() {\n    return this.getGain(t.F500);\n  }, set: function(e) {\n    this.setGain(t.F500, e);\n  }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, \"f1k\", { get: function() {\n    return this.getGain(t.F1K);\n  }, set: function(e) {\n    this.setGain(t.F1K, e);\n  }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, \"f2k\", { get: function() {\n    return this.getGain(t.F2K);\n  }, set: function(e) {\n    this.setGain(t.F2K, e);\n  }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, \"f4k\", { get: function() {\n    return this.getGain(t.F4K);\n  }, set: function(e) {\n    this.setGain(t.F4K, e);\n  }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, \"f8k\", { get: function() {\n    return this.getGain(t.F8K);\n  }, set: function(e) {\n    this.setGain(t.F8K, e);\n  }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, \"f16k\", { get: function() {\n    return this.getGain(t.F16K);\n  }, set: function(e) {\n    this.setGain(t.F16K, e);\n  }, enumerable: !1, configurable: !0 }), t.prototype.reset = function() {\n    this.bands.forEach(function(e) {\n      Di.setParamValue(e.gain, 0);\n    });\n  }, t.prototype.destroy = function() {\n    this.bands.forEach(function(e) {\n      e.disconnect();\n    }), this.bands = null, this.bandsMap = null;\n  }, t.F32 = 32, t.F64 = 64, t.F125 = 125, t.F250 = 250, t.F500 = 500, t.F1K = 1e3, t.F2K = 2e3, t.F4K = 4e3, t.F8K = 8e3, t.F16K = 16e3, t;\n}(jn), DistortionFilter: function(r) {\n  function t(e) {\n    e === void 0 && (e = 0);\n    var i = this;\n    if (!fe().useLegacy) {\n      var n = fe().context.audioContext.createWaveShaper();\n      return (i = r.call(this, n) || this)._distortion = n, i.amount = e, i;\n    }\n    i = r.call(this, null) || this;\n  }\n  return Oi(t, r), Object.defineProperty(t.prototype, \"amount\", { get: function() {\n    return this._amount;\n  }, set: function(e) {\n    this._amount = e;\n    for (var i, n = 1e3 * e, s = 44100, o = new Float32Array(s), a = Math.PI / 180, l = 0; l < s; ++l)\n      i = 2 * l / s - 1, o[l] = (3 + n) * i * 20 * a / (Math.PI + n * Math.abs(i));\n    this._distortion.curve = o, this._distortion.oversample = \"4x\";\n  }, enumerable: !1, configurable: !0 }), t.prototype.destroy = function() {\n    this._distortion = null, r.prototype.destroy.call(this);\n  }, t;\n}(jn), StereoFilter: function(r) {\n  function t(e) {\n    e === void 0 && (e = 0);\n    var i = this;\n    if (!fe().useLegacy) {\n      var n, s, o, a = fe().context.audioContext;\n      return a.createStereoPanner ? o = n = a.createStereoPanner() : ((s = a.createPanner()).panningModel = \"equalpower\", o = s), (i = r.call(this, o) || this)._stereo = n, i._panner = s, i.pan = e, i;\n    }\n    i = r.call(this, null) || this;\n  }\n  return Oi(t, r), Object.defineProperty(t.prototype, \"pan\", { get: function() {\n    return this._pan;\n  }, set: function(e) {\n    this._pan = e, this._stereo ? Di.setParamValue(this._stereo.pan, e) : this._panner.setPosition(e, 0, 1 - Math.abs(e));\n  }, enumerable: !1, configurable: !0 }), t.prototype.destroy = function() {\n    r.prototype.destroy.call(this), this._stereo = null, this._panner = null;\n  }, t;\n}(jn), ReverbFilter: function(r) {\n  function t(e, i, n) {\n    e === void 0 && (e = 3), i === void 0 && (i = 2), n === void 0 && (n = !1);\n    var s = this;\n    if (!fe().useLegacy)\n      return (s = r.call(this, null) || this)._seconds = s._clamp(e, 1, 50), s._decay = s._clamp(i, 0, 100), s._reverse = n, s._rebuild(), s;\n    s = r.call(this, null) || this;\n  }\n  return Oi(t, r), t.prototype._clamp = function(e, i, n) {\n    return Math.min(n, Math.max(i, e));\n  }, Object.defineProperty(t.prototype, \"seconds\", { get: function() {\n    return this._seconds;\n  }, set: function(e) {\n    this._seconds = this._clamp(e, 1, 50), this._rebuild();\n  }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, \"decay\", { get: function() {\n    return this._decay;\n  }, set: function(e) {\n    this._decay = this._clamp(e, 0, 100), this._rebuild();\n  }, enumerable: !1, configurable: !0 }), Object.defineProperty(t.prototype, \"reverse\", { get: function() {\n    return this._reverse;\n  }, set: function(e) {\n    this._reverse = e, this._rebuild();\n  }, enumerable: !1, configurable: !0 }), t.prototype._rebuild = function() {\n    for (var e, i = fe().context.audioContext, n = i.sampleRate, s = n * this._seconds, o = i.createBuffer(2, s, n), a = o.getChannelData(0), l = o.getChannelData(1), u = 0; u < s; u++)\n      e = this._reverse ? s - u : u, a[u] = (2 * Math.random() - 1) * Math.pow(1 - e / s, this._decay), l[u] = (2 * Math.random() - 1) * Math.pow(1 - e / s, this._decay);\n    var c = fe().context.audioContext.createConvolver();\n    c.buffer = o, this.init(c);\n  }, t;\n}(jn), MonoFilter: function(r) {\n  function t() {\n    var e = this;\n    if (!fe().useLegacy) {\n      var i = fe().context.audioContext, n = i.createChannelSplitter(), s = i.createChannelMerger();\n      return s.connect(n), (e = r.call(this, s, n) || this)._merger = s, e;\n    }\n    e = r.call(this, null) || this;\n  }\n  return Oi(t, r), t.prototype.destroy = function() {\n    this._merger.disconnect(), this._merger = null, r.prototype.destroy.call(this);\n  }, t;\n}(jn), StreamFilter: function(r) {\n  function t() {\n    var e = this;\n    if (!fe().useLegacy) {\n      var i = fe().context.audioContext, n = i.createMediaStreamDestination(), s = i.createMediaStreamSource(n.stream);\n      return (e = r.call(this, n, s) || this)._stream = n.stream, e;\n    }\n    e = r.call(this, null) || this;\n  }\n  return Oi(t, r), Object.defineProperty(t.prototype, \"stream\", { get: function() {\n    return this._stream;\n  }, enumerable: !1, configurable: !0 }), t.prototype.destroy = function() {\n    this._stream = null, r.prototype.destroy.call(this);\n  }, t;\n}(jn), TelephoneFilter: function(r) {\n  function t() {\n    if (!fe().useLegacy) {\n      var e = fe().context.audioContext, i = e.createBiquadFilter(), n = e.createBiquadFilter(), s = e.createBiquadFilter(), o = e.createBiquadFilter();\n      return i.type = \"lowpass\", Di.setParamValue(i.frequency, 2e3), n.type = \"lowpass\", Di.setParamValue(n.frequency, 2e3), s.type = \"highpass\", Di.setParamValue(s.frequency, 500), o.type = \"highpass\", Di.setParamValue(o.frequency, 500), i.connect(n), n.connect(s), s.connect(o), r.call(this, i, o) || this;\n    }\n    r.call(this, null);\n  }\n  return Oi(t, r), t;\n}(jn) }, $g = 0, UC = { __proto__: null, playOnce: function(r, t) {\n  var e = \"alias\".concat($g++);\n  return fe().add(e, { url: r, preload: !0, autoPlay: !0, loaded: function(i) {\n    i && (fe().remove(e), t && t(i));\n  }, complete: function() {\n    fe().remove(e), t && t(null);\n  } }), e;\n}, get PLAY_ID() {\n  return $g;\n}, render: function(r, t) {\n  var e = document.createElement(\"canvas\");\n  t = Yo({ width: 512, height: 128, fill: \"black\" }, t || {}), e.width = t.width, e.height = t.height;\n  var i = It.from(e);\n  if (!(r.media instanceof Xm))\n    return i;\n  var n = r.media, s = e.getContext(\"2d\");\n  s.fillStyle = t.fill;\n  for (var o = n.buffer.getChannelData(0), a = Math.ceil(o.length / t.width), l = t.height / 2, u = 0; u < t.width; u++) {\n    for (var c = 1, f = -1, d = 0; d < a; d++) {\n      var p = o[u * a + d];\n      p < c && (c = p), p > f && (f = p);\n    }\n    s.fillRect(u, (1 + c) * l, 1, Math.max(1, (f - c) * l));\n  }\n  return i;\n}, resolveUrl: b_, sineTone: function(r, t) {\n  r === void 0 && (r = 200), t === void 0 && (t = 1);\n  var e = _a.from({ singleInstance: !0 });\n  if (!(e.media instanceof Xm))\n    return e;\n  for (var i = e.media, n = e.context.audioContext.createBuffer(1, 48e3 * t, 48e3), s = n.getChannelData(0), o = 0; o < s.length; o++) {\n    var a = r * (o / n.sampleRate) * Math.PI;\n    s[o] = 2 * Math.sin(a);\n  }\n  return i.buffer = n, e.isLoaded = !0, e;\n}, validateFormats: Yb, supported: bv, extensions: g_ }, sl = function(r) {\n  return Xb = r, r;\n}(new FC());\n\"extensions\" in YP ? Or.add(Vm) : Ii.registerPlugin(Vm);\nlet zg, jt, ir, Vg;\nvar We, ye, Oa, zl, Vl, Wm;\nconst Se = class {\n  constructor() {\n    _(this, Vl);\n    _(this, ye, void 0);\n    _(this, zl, () => {\n      sl.volumeAll = Number(jt.getVal(\"sys:sn.sound.global_volume\", 1)), b(this, zl, () => {\n      });\n    });\n    B(this, \"ws\", (t, e) => h(this, ye).stt.ws(h(this, ye), t, e));\n    B(this, \"wf\", (t, e) => h(this, ye).stt.wf(h(this, ye), t, e));\n    B(this, \"stopfadese\", (t) => h(this, ye).stt.stopfadese(h(this, ye), t));\n  }\n  static init(t, e, i, n) {\n    b(Se, We, {}), zg = t, jt = e, ir = i, Vg = n;\n  }\n  static delLoopPlay(t) {\n    delete h(Se, We)[t];\n    const e = \"const.sn.sound.\" + t + \".\";\n    jt.setVal_Nochk(\"save\", e + \"fn\", \"\"), jt.setVal_Nochk(\"save\", \"const.sn.loopPlaying\", JSON.stringify(h(Se, We))), jt.flush();\n  }\n  static getVol(t, e) {\n    const i = j(t, \"volume\", e);\n    return i < 0 ? 0 : i > 1 ? 1 : i;\n  }\n  static xchgbuf(t) {\n    const { buf: e = \"SE\", buf2: i = \"SE\" } = t;\n    if (e === i)\n      return;\n    const n = \"const.sn.sound.\" + e + \".\", s = Number(jt.getVal(\"save:\" + n + \"volume\")), o = String(jt.getVal(\"save:\" + n + \"fn\")), a = \"const.sn.sound.\" + i + \".\", l = Number(jt.getVal(\"save:\" + a + \"volume\")), u = String(jt.getVal(\"save:\" + a + \"fn\"));\n    jt.setVal_Nochk(\"save\", n + \"volume\", l), jt.setVal_Nochk(\"save\", a + \"volume\", s), jt.setVal_Nochk(\"save\", n + \"fn\", u), jt.setVal_Nochk(\"save\", a + \"fn\", o), e in h(Se, We) != i in h(Se, We) && (e in h(Se, We) ? (delete h(Se, We)[e], h(Se, We)[i] = 0) : (delete h(Se, We)[i], h(Se, We)[e] = 0), jt.setVal_Nochk(\"save\", \"const.sn.loopPlaying\", JSON.stringify(h(Se, We)))), jt.flush();\n  }\n  init(t) {\n    const { buf: e = \"SE\", fn: i = \"\" } = t, n = j(t, \"start_ms\", 0), s = j(t, \"end_ms\", h(Se, Oa)), o = j(t, \"ret_ms\", 0), a = j(t, \"pan\", 0), l = j(t, \"speed\", 1);\n    if (n < 0)\n      throw `[playse] start_ms:${n} が負の値です`;\n    if (o < 0)\n      throw `[playse] ret_ms:${o} が負の値です`;\n    if (0 < s) {\n      if (s <= n)\n        throw `[playse] start_ms:${n} >= end_ms:${s} は異常値です`;\n      if (s <= o)\n        throw `[playse] ret_ms:${o} >= end_ms:${s} は異常値です`;\n    }\n    const u = \"const.sn.sound.\" + e + \".\";\n    jt.setVal_Nochk(\"save\", u + \"fn\", i);\n    const c = Se.getVol(t, 1);\n    jt.setVal_Nochk(\"save\", u + \"volume\", c);\n    const f = c * Number(jt.getVal(\"sys:\" + u + \"volume\", 1)), d = K(t, \"loop\", !1);\n    d ? (h(Se, We)[e] = 0, jt.setVal_Nochk(\"save\", \"const.sn.loopPlaying\", JSON.stringify(h(Se, We)))) : Se.delLoopPlay(e), jt.setVal_Nochk(\"save\", u + \"start_ms\", n), jt.setVal_Nochk(\"save\", u + \"end_ms\", s), jt.setVal_Nochk(\"save\", u + \"ret_ms\", o), jt.setVal_Nochk(\"tmp\", u + \"playing\", !0), jt.flush();\n    const p = sl.find(i);\n    b(this, ye, {\n      fn: i,\n      stt: p ? new xl() : new GC(),\n      snd: p,\n      loop: d,\n      start_ms: n,\n      end_ms: s,\n      ret_ms: 0,\n      pan: a\n    });\n    const m = {\n      loop: d,\n      speed: l,\n      volume: f,\n      loaded: (g, w) => {\n        if (g) {\n          ir.errScript(`Sound ロード失敗ですa fn:${i} ${g}`, !1);\n          return;\n        }\n        w && (h(this, ye).snd = w, h(this, ye).stt.onLoad(h(this, ye)), a !== 0 && (w.filters = [new rm.StereoFilter(a)]));\n      }\n    };\n    let v = \"\";\n    if (0 < n || s < h(Se, Oa)) {\n      v = `${i};${n};${s};${o}`;\n      const g = (m.sprites ?? (m.sprites = {}))[v] = {\n        start: n / 1e3,\n        end: s / 1e3\n      };\n      m.preload = !0;\n      const w = m.loaded;\n      m.loaded = (T, P) => {\n        w(T, P);\n        const O = P, C = O.duration;\n        g.end < 0 && (g.end += C, O.removeSprites(v), O.addSprites(v, g)), g.end <= g.start && ir.errScript(`[playse] end_ms:${s}(${g.end * 1e3}) >= start_ms:${n} は異常値です`), g.end * 1e3 <= o && ir.errScript(`[playse] end_ms:${s}(${g.end * 1e3}) <= ret_ms:${o} は異常値です`), C <= g.start && ir.errScript(`[playse] 音声ファイル再生時間:${C * 1e3} <= start_ms:${n} は異常値です`), s !== h(Se, Oa) && C <= g.end && ir.errScript(`[playse] 音声ファイル再生時間:${C * 1e3} <= end_ms:${s} は異常値です`), O.play(v, (I) => {\n          var S;\n          (S = m.complete) == null || S.call(m, I), d || h(this, ye).stt.onPlayEnd();\n        });\n      };\n    } else\n      m.autoPlay = !0;\n    if (d ? o !== 0 && (m.loop = !1, m.complete = async (g) => {\n      const w = g.duration, T = o / 1e3, P = s / 1e3;\n      w <= T && ir.errScript(`[playse] 音声ファイル再生時間:${w * 1e3} <=  ret_ms:${o} は異常値です`), await g.play({\n        // 一周目はループなし、なのでキャッシュされてる\n        ...m,\n        start: T,\n        end: P < 0 ? P + w : P,\n        // 負の値は末尾から\n        //\tspeed,\t\t// 重複\n        loop: !0,\n        //\tvolume,\t\t// 重複\n        //-\tmuted?: boolean;\n        filters: a !== 0 ? [new rm.StereoFilter(a)] : []\n        //-\tcomplete?: CompleteCallback;\n        //-\tloaded?: LoadedCallback;\n        //-\tsingleInstance?: boolean;\n      });\n    }) : m.complete = () => {\n      Ym(h(this, ye), e), h(this, ye).stt.onPlayEnd();\n    }, h(this, zl).call(this), p) {\n      if (p.volume = f, v)\n        x(this, Vl, Wm).call(this, i, m);\n      else if (p.isPlayable) {\n        const g = p.options.source;\n        !(g instanceof ArrayBuffer) || g.byteLength === 0 ? p.play(m) : h(this, ye).snd = _a.from({\n          ...m,\n          url: p.options.url,\n          source: g\n        }), p.filters = [new rm.StereoFilter(a)];\n      }\n      return !1;\n    }\n    const y = K(t, \"join\", !0);\n    if (y) {\n      const g = m.loaded;\n      m.loaded = (w, T) => {\n        g(w, T), ir.resume();\n      };\n    }\n    return x(this, Vl, Wm).call(this, i, m), y;\n  }\n  stopse(t) {\n    const { buf: e = \"SE\" } = t;\n    Ym(h(this, ye), e), h(this, ye).stt.stopse(h(this, ye));\n  }\n  fade(t, e) {\n    h(this, ye).stt.fade(h(this, ye), t, e);\n  }\n};\nlet qr = Se;\nWe = new WeakMap(), ye = new WeakMap(), Oa = new WeakMap(), zl = new WeakMap(), Vl = new WeakSet(), Wm = function(t, e) {\n  const i = zg.searchPath(t, ii.SOUND);\n  if (i.slice(-4) !== \".bin\") {\n    e.url = i, _a.from(e);\n    return;\n  }\n  new Ii().add({ name: t, url: i, xhrType: _t.XHR_RESPONSE_TYPE.BUFFER }).use((n, s) => {\n    Vg.dec(n.extension, n.data).then((o) => {\n      n.data = o, s == null || s();\n    }).catch((o) => ir.errScript(`Sound ロード失敗ですc fn:${n.name} ${o}`, !1));\n  }).load((n, s) => {\n    var o;\n    e.source = (o = s[t]) == null ? void 0 : o.data, _a.from(e);\n  });\n}, _(qr, We, {}), _(qr, Oa, 999e3);\nfunction Ym(r, t) {\n  if (r.loop)\n    qr.delLoopPlay(t);\n  else {\n    const e = \"const.sn.sound.\" + t + \".\";\n    jt.setVal_Nochk(\"tmp\", e + \"playing\", !1), jt.flush();\n  }\n}\nfunction ol(r) {\n  r.stop().end();\n}\nclass GC {\n  constructor() {\n    B(this, \"ws\", () => !1);\n    // ok\n    B(this, \"wf\", () => !1);\n  }\n  onLoad(t) {\n    t.stt = new xl();\n  }\n  stopse(t) {\n    t.stt = new Ho(t, !1);\n  }\n  onPlayEnd() {\n  }\n  // ok\n  fade() {\n  }\n  // ok\n  compFade() {\n  }\n  // ok\n  stopfadese() {\n  }\n  // ok\n}\nclass xl {\n  constructor() {\n    B(this, \"wf\", () => !1);\n  }\n  onLoad() {\n  }\n  // ok\n  stopse(t) {\n    t.stt = new Ho(t);\n  }\n  ws(t, e, i) {\n    if (t.loop)\n      return !1;\n    const { buf: n = \"SE\" } = e;\n    return i.waitEvent(\n      () => {\n        Ym(t, n), t.stt.onPlayEnd(), t.stt.stopse(t);\n      },\n      // 順番固定\n      K(e, \"canskip\", !1),\n      K(e, \"global\", !1)\n    ) ? (t.stt = new jC(), !0) : !1;\n  }\n  onPlayEnd() {\n  }\n  // ok\n  fade(t, e, i) {\n    const { buf: n = \"SE\" } = e, o = \"const.sn.sound.\" + n + \".\" + \"volume\", a = qr.getVol(e, NaN);\n    jt.setVal_Nochk(\"save\", o, a);\n    const l = a * Number(jt.getVal(\"sys:\" + o, 1)), u = K(e, \"stop\", a === 0);\n    u && qr.delLoopPlay(n), jt.flush();\n    const c = j(e, \"time\", NaN), f = j(e, \"delay\", 0);\n    if (c === 0 && f === 0 || jt.getVal(\"tmp:sn.skip.enabled\") || i.isSkippingByKeyDown()) {\n      t.snd.volume = l, t.stt = u ? new Ho(t) : new xl();\n      return;\n    }\n    const d = j(e, \"repeat\", 1), p = new Xr(t.snd).to({ volume: l }, c).delay(f).easing(Bn.ease(e.ease)).repeat(d > 0 ? d - 1 : 1 / 0).yoyo(K(e, \"yoyo\", !1)).onComplete(() => {\n      OC(p), t.stt.compFade(), t.stt = u ? new Ho(t) : new xl();\n    }).start();\n    t.stt = new HC(p);\n  }\n  // ok\n  compFade() {\n  }\n  // ok\n  stopfadese() {\n  }\n  // ok\n}\nclass jC {\n  constructor() {\n    B(this, \"ws\", () => !1);\n    // ok\n    B(this, \"wf\", () => !1);\n  }\n  onLoad() {\n  }\n  // ok\n  stopse(t) {\n    t.stt = new Ho(t);\n  }\n  // ok\n  onPlayEnd() {\n    ir.resume();\n  }\n  fade() {\n  }\n  // ok\n  compFade() {\n  }\n  // ok\n  stopfadese() {\n  }\n  // ok\n}\nclass HC {\n  constructor(t) {\n    // 順番厳守\n    B(this, \"ws\", () => !1);\n    // ok\n    B(this, \"stopfadese\", () => ol(this.tw));\n    this.tw = t;\n  }\n  onLoad() {\n  }\n  // ok\n  stopse(t) {\n    ol(this.tw), t.stt = new Ho(t);\n  }\n  // ok ?\n  onPlayEnd() {\n  }\n  // ok\n  fade() {\n  }\n  // ok\n  wf(t, e, i) {\n    return i.waitEvent(\n      () => ol(this.tw),\n      K(e, \"canskip\", !0),\n      K(e, \"global\", !1)\n    ) ? (t.stt = new $C(this.tw), !0) : !1;\n  }\n  compFade() {\n  }\n}\nclass $C {\n  constructor(t) {\n    B(this, \"ws\", () => !1);\n    // ok\n    B(this, \"wf\", () => !1);\n    B(this, \"stopfadese\", () => ol(this.tw));\n    this.tw = t;\n  }\n  onLoad() {\n  }\n  // ok\n  stopse(t) {\n    ol(this.tw), t.stt = new Ho(t);\n  }\n  // ok\n  onPlayEnd() {\n  }\n  // ok\n  fade() {\n  }\n  // ok\n  compFade() {\n    ir.resume();\n  }\n}\nclass Ho {\n  constructor(t, e = !0) {\n    // ok\n    B(this, \"ws\", () => !1);\n    // ok\n    B(this, \"wf\", () => !1);\n    e && t.snd.stop();\n  }\n  onLoad() {\n  }\n  // ok\n  stopse() {\n  }\n  // ok\n  onPlayEnd() {\n  }\n  // ok\n  fade() {\n  }\n  // ok\n  compFade() {\n  }\n  // ok\n  stopfadese() {\n  }\n  // ok\n}\nvar Ze, Xl, Yn, md, Zb, yd, Kb, _d, Jb, gd, Qb, Wl, qm, js, zh, Yl, Zm, Ia, cf, ql, Km, bd, tx, Hs, Vh, xd, ex, Zl, Jm, Kl, Qm, wd, ix, Jl, ty, Ed, rx;\nclass zC {\n  constructor(t, e, i, n, s) {\n    // 音量設定（独自拡張）\n    _(this, md);\n    _(this, yd);\n    // BGM/効果音のフェードアウト（loadから使うのでマクロ化禁止）\n    _(this, _d);\n    // 効果音のフェードアウト（loadから使うのでマクロ化禁止）\n    _(this, gd);\n    // BGMのフェード（loadから使うのでマクロ化禁止）\n    _(this, Wl);\n    // 効果音のフェード\n    _(this, js);\n    // BGM の演奏\n    _(this, Yl);\n    // 効果音の再生\n    _(this, Ia);\n    // 全効果音再生の停止\n    _(this, ql);\n    // BGM 演奏の停止（loadから使うのでマクロ化禁止）\n    _(this, bd);\n    // 効果音再生の停止\n    _(this, Hs);\n    // BGM フェードの終了待ち\n    _(this, xd);\n    // 効果音フェードの終了待ち\n    _(this, Zl);\n    // 音声フェードの停止\n    _(this, Kl);\n    // BGM 再生の終了待ち\n    _(this, wd);\n    // 効果音再生の終了待ち\n    _(this, Jl);\n    // 再生トラックの交換\n    _(this, Ed);\n    _(this, Ze, {});\n    _(this, Xl, {});\n    _(this, Yn, void 0);\n    this.cfg = t, this.val = i, this.main = n, this.sys = s, e.volume = (o) => x(this, md, Zb).call(this, o), e.fadebgm = (o) => x(this, Wl, qm).call(this, o), e.fadeoutbgm = (o) => x(this, _d, Jb).call(this, o), e.fadeoutse = (o) => x(this, gd, Qb).call(this, o), e.fadese = (o) => x(this, js, zh).call(this, o), e.playbgm = (o) => x(this, Yl, Zm).call(this, o), e.playse = (o) => x(this, Ia, cf).call(this, o), e.stop_allse = () => x(this, ql, Km).call(this), e.stopbgm = (o) => x(this, bd, tx).call(this, o), e.stopse = (o) => x(this, Hs, Vh).call(this, o), e.wb = (o) => x(this, xd, ex).call(this, o), e.wf = (o) => x(this, Zl, Jm).call(this, o), e.stopfadese = (o) => x(this, Kl, Qm).call(this, o), e.wl = (o) => x(this, wd, ix).call(this, o), e.ws = (o) => x(this, Jl, ty).call(this, o), e.xchgbuf = (o) => x(this, Ed, rx).call(this, o), i.setVal_Nochk(\"save\", \"const.sn.loopPlaying\", \"{}\"), i.setVal_Nochk(\"tmp\", \"const.sn.sound.codecs\", JSON.stringify(UC.supported)), qr.init(t, i, n, s);\n  }\n  setEvtMng(t) {\n    b(this, Yn, t);\n  }\n  setNoticeChgVolume(t, e) {\n    this.val.defValTrg(\"sys:sn.sound.global_volume\", (i, n) => t(sl.volumeAll = Number(n))), this.val.defValTrg(\"sys:sn.sound.movie_volume\", (i, n) => e(Number(n))), this.val.setVal_Nochk(\"sys\", \"sn.sound.global_volume\", this.val.getVal(\"sys:sn.sound.global_volume\", 1)), this.val.setVal_Nochk(\"sys\", \"sn.sound.movie_volume\", this.val.getVal(\"sys:sn.sound.movie_volume\", 1));\n  }\n  clearCache() {\n    sl.removeAll();\n  }\n  // しおりの読込（BGM状態復元）\n  playLoopFromSaveObj() {\n    x(this, ql, Km).call(this);\n    const t = String(this.val.getVal(\"save:const.sn.loopPlaying\", \"{}\"));\n    if (t === \"{}\")\n      return;\n    b(this, Xl, JSON.parse(t));\n    const e = Object.keys(h(this, Xl)).map((i) => () => {\n      const n = \"save:const.sn.sound.\" + i + \".\";\n      if (this.val.getVal(n + \"start_ms\") === void 0)\n        return;\n      const s = {\n        fn: String(this.val.getVal(n + \"fn\")),\n        buf: i,\n        join: !1,\n        loop: !0,\n        volume: Number(this.val.getVal(n + \"volume\")),\n        start_ms: Number(this.val.getVal(n + \"start_ms\")),\n        end_ms: Number(this.val.getVal(n + \"end_ms\")),\n        ret_ms: Number(this.val.getVal(n + \"ret_ms\"))\n      };\n      s.buf === \"BGM\" ? x(this, Yl, Zm).call(this, s) : x(this, Ia, cf).call(this, s);\n    });\n    for (const i of e)\n      i();\n  }\n}\nZe = new WeakMap(), Xl = new WeakMap(), Yn = new WeakMap(), md = new WeakSet(), Zb = function(t) {\n  const { buf: e = \"SE\" } = t, i = \"const.sn.sound.\" + e + \".volume\", n = x(this, yd, Kb).call(this, t, 1);\n  return Number(this.val.getVal(\"sys:\" + i)) === n ? !1 : (this.val.setVal_Nochk(\"sys\", i, n), this.val.flush(), t.time = 0, t.volume = Number(this.val.getVal(\"save:\" + i)), x(this, js, zh).call(this, t));\n}, yd = new WeakSet(), Kb = function(t, e) {\n  const i = j(t, \"volume\", e);\n  return i < 0 ? 0 : i > 1 ? 1 : i;\n}, _d = new WeakSet(), Jb = function(t) {\n  return t.volume = 0, x(this, Wl, qm).call(this, t);\n}, gd = new WeakSet(), Qb = function(t) {\n  return t.volume = 0, x(this, js, zh).call(this, t);\n}, Wl = new WeakSet(), qm = function(t) {\n  return t.buf = \"BGM\", x(this, js, zh).call(this, t);\n}, js = new WeakSet(), zh = function(t) {\n  var i;\n  const { buf: e = \"SE\" } = t;\n  return x(this, Kl, Qm).call(this, t), (i = h(this, Ze)[e]) == null || i.fade(t, h(this, Yn)), !1;\n}, Yl = new WeakSet(), Zm = function(t) {\n  return t.buf = \"BGM\", t.canskip = !1, K(t, \"loop\", !0), x(this, Ia, cf).call(this, t);\n}, Ia = new WeakSet(), cf = function(t) {\n  const { buf: e = \"SE\", fn: i } = t;\n  if (x(this, Hs, Vh).call(this, { buf: e }), !i)\n    throw `[playse] fnは必須です buf:${e}`;\n  return K(t, \"canskip\", !0) && h(this, Yn).isSkippingByKeyDown() ? !1 : (h(this, Ze)[e] = new qr()).init(t);\n}, ql = new WeakSet(), Km = function() {\n  for (const t of Object.keys(h(this, Ze)))\n    x(this, Hs, Vh).call(this, { buf: t });\n  return b(this, Ze, {}), sl.stopAll(), !1;\n}, bd = new WeakSet(), tx = function(t) {\n  return t.buf = \"BGM\", x(this, Hs, Vh).call(this, t);\n}, Hs = new WeakSet(), Vh = function(t) {\n  var i;\n  const { buf: e = \"SE\" } = t;\n  return (i = h(this, Ze)[e]) == null || i.stopse(t), !1;\n}, xd = new WeakSet(), ex = function(t) {\n  return t.buf = \"BGM\", x(this, Zl, Jm).call(this, t);\n}, Zl = new WeakSet(), Jm = function(t) {\n  var i;\n  const { buf: e = \"SE\" } = t;\n  return (i = h(this, Ze)[e]) == null ? void 0 : i.wf(t, h(this, Yn));\n}, Kl = new WeakSet(), Qm = function(t) {\n  var i;\n  const { buf: e = \"SE\" } = t;\n  return (i = h(this, Ze)[e]) == null || i.stopfadese(t), !1;\n}, wd = new WeakSet(), ix = function(t) {\n  return t.buf = \"BGM\", x(this, Jl, ty).call(this, t);\n}, Jl = new WeakSet(), ty = function(t) {\n  var i;\n  const { buf: e = \"SE\" } = t;\n  return (i = h(this, Ze)[e]) == null ? void 0 : i.ws(t, h(this, Yn));\n}, Ed = new WeakSet(), rx = function(t) {\n  const { buf: e = \"SE\", buf2: i = \"SE\" } = t;\n  return e === i || ([h(this, Ze)[e], h(this, Ze)[i]] = [h(this, Ze)[i], h(this, Ze)[e]], qr.xchgbuf(t)), !1;\n};\nvar qt;\nconst M_ = class {\n  constructor(t, e, i, n, s, o, a, l) {\n    _(this, qt, void 0);\n    B(this, \"lay\", (t) => this.getPage(t).lay(t));\n    B(this, \"getPage\", (t) => M_.argChk_page(t, \"fore\") !== \"back\" ? h(this, qt).fore : h(this, qt).back);\n    this.cls = e, this.hArg = s, this.sys = o, this.val = a, this.ret = l;\n    const u = o.hFactoryCls[e];\n    if (!u)\n      throw `属性 class【${e}】が不正です`;\n    const c = u(), f = u();\n    c.layname = f.layname = t;\n    const d = s[\":id_tag\"] = `layer:${t} cls:${e} page:`;\n    c.spLay.name = c.name = d + \"A\", c.spLay.name = f.name = d + \"B\", i.addChild(c.spLay), n.addChild(f.spLay), K(s, \"visible\", !0), K(s, \"visible\", !0), l.isWait = c.lay(s) || f.lay(s), b(this, qt, { fore: c, back: f });\n    const p = `const.sn.lay.${t}`;\n    a.setVal_Nochk(\"tmp\", p, !0), a.defTmp(p + \".fore.alpha\", () => h(this, qt).fore.alpha), a.defTmp(p + \".back.alpha\", () => h(this, qt).back.alpha), a.defTmp(p + \".fore.height\", () => h(this, qt).fore.height), a.defTmp(p + \".back.height\", () => h(this, qt).back.height), a.defTmp(p + \".fore.visible\", () => h(this, qt).fore.spLay.visible), a.defTmp(p + \".back.visible\", () => h(this, qt).back.spLay.visible), a.defTmp(p + \".fore.width\", () => h(this, qt).fore.width), a.defTmp(p + \".back.width\", () => h(this, qt).back.width), a.defTmp(p + \".fore.x\", () => h(this, qt).fore.x), a.defTmp(p + \".back.x\", () => h(this, qt).back.x), a.defTmp(p + \".fore.y\", () => h(this, qt).fore.y), a.defTmp(p + \".back.y\", () => h(this, qt).back.y);\n  }\n  destroy() {\n    h(this, qt).fore.destroy(), h(this, qt).back.destroy();\n  }\n  static argChk_page(t, e) {\n    const i = t.page ?? e;\n    if (i === \"fore\" || i === \"back\")\n      return t.page = i;\n    throw Error(\"属性 page【\" + i + \"】が不正です\");\n  }\n  get fore() {\n    return h(this, qt).fore;\n  }\n  get back() {\n    return h(this, qt).back;\n  }\n  transPage(t) {\n    [h(this, qt).back, h(this, qt).fore] = [h(this, qt).fore, h(this, qt).back], h(this, qt).back.copy(h(this, qt).fore, t);\n  }\n};\nlet al = M_;\nqt = new WeakMap();\nvar Td, Sd;\nconst un = class {\n  constructor() {\n    B(this, \"layname\", \"\");\n    B(this, \"name_\", \"\");\n    B(this, \"spLay\", new ge(lt.EMPTY));\n  }\n  set name(t) {\n    this.name_ = t;\n  }\n  get name() {\n    return this.name_;\n  }\n  // tsy用\n  get alpha() {\n    return this.spLay.alpha;\n  }\n  set alpha(t) {\n    this.spLay.alpha = t;\n  }\n  get height() {\n    return this.spLay.height;\n  }\n  get rotation() {\n    return this.spLay.angle;\n  }\n  set rotation(t) {\n    this.spLay.angle = t;\n  }\n  get scale_x() {\n    return this.spLay.scale.x;\n  }\n  set scale_x(t) {\n    this.spLay.scale.x = t;\n  }\n  get scale_y() {\n    return this.spLay.scale.y;\n  }\n  set scale_y(t) {\n    this.spLay.scale.y = t;\n  }\n  get width() {\n    return this.spLay.width;\n  }\n  get x() {\n    return this.spLay.x;\n  }\n  set x(t) {\n    this.procSetX(t), this.spLay.x = t;\n  }\n  procSetX(t) {\n  }\n  // set を override できないので\n  get y() {\n    return this.spLay.y;\n  }\n  set y(t) {\n    this.procSetY(t), this.spLay.y = t;\n  }\n  procSetY(t) {\n  }\n  // set を override できないので\n  destroy() {\n  }\n  lay(t) {\n    return \"alpha\" in t && (this.spLay.alpha = j(t, \"alpha\", 1)), un.setBlendmode(this.spLay, t), (\"pivot_x\" in t || \"pivot_y\" in t) && this.spLay.pivot.set(\n      j(t, \"pivot_x\", this.spLay.pivot.x),\n      j(t, \"pivot_y\", this.spLay.pivot.y)\n    ), \"rotation\" in t && (this.spLay.angle = j(t, \"rotation\", 0)), (\"scale_x\" in t || \"scale_y\" in t) && this.spLay.scale.set(\n      j(t, \"scale_x\", this.spLay.scale.x),\n      j(t, \"scale_y\", this.spLay.scale.y)\n    ), \"visible\" in t && (this.spLay.visible = K(t, \"visible\", !0)), !1;\n  }\n  static setBlendmodeParentOnly(t, e) {\n    const { blendmode: i } = e;\n    if (!i)\n      return;\n    const n = un.getBlendmodeNum(i);\n    t instanceof ge && (t.blendMode = n);\n  }\n  static setBlendmode(t, e) {\n    const { blendmode: i } = e;\n    if (!i)\n      return;\n    const n = un.getBlendmodeNum(i);\n    t instanceof ge && (t.blendMode = n);\n    for (const s of t.children)\n      s instanceof ge && (s.blendMode = n);\n  }\n  static getBlendmodeNum(t) {\n    if (!t)\n      return ot.NORMAL;\n    const e = h(un, Td)[t];\n    if (e !== void 0)\n      return e;\n    throw `${t} はサポートされない blendmode です`;\n  }\n  static getNum2Blendmode(t) {\n    return h(un, Sd)[t] ?? \"normal\";\n  }\n  // アニメ・動画があるか\n  get containMovement() {\n    return !1;\n  }\n  renderStart() {\n  }\n  renderEnd() {\n  }\n  clearLay(t) {\n    this.spLay.alpha = 1, this.spLay.blendMode = ot.NORMAL, this.spLay.pivot.set(0, 0), this.spLay.angle = 0, this.spLay.scale.set(1, 1), K(t, \"filter\", !1) && (this.spLay.filters = []);\n  }\n  copy(t, e) {\n    const i = this.name_;\n    this.playback(t.record(), e), this.name = i;\n  }\n  record() {\n    return {\n      name: this.name_,\n      idx: this.spLay.parent.getChildIndex(this.spLay),\n      alpha: this.spLay.alpha,\n      blendMode: this.spLay.blendMode,\n      rotation: this.spLay.angle,\n      scale_x: this.spLay.scale.x,\n      scale_y: this.spLay.scale.y,\n      pivot_x: this.spLay.pivot.x,\n      pivot_y: this.spLay.pivot.y,\n      x: this.spLay.x,\n      y: this.spLay.y,\n      visible: this.spLay.visible\n    };\n  }\n  playback(t, e) {\n    this.name = t.name, this.clearLay({ filter: \"true\" }), this.spLay.alpha = t.alpha, this.spLay.blendMode = t.blendMode, this.spLay.angle = t.rotation, this.spLay.scale.set(t.scale_x, t.scale_y), this.spLay.pivot.set(t.pivot_x, t.pivot_y), this.spLay.position.set(t.x, t.y), this.spLay.visible = t.visible;\n  }\n  snapshot(t, e) {\n    t.render(this.spLay, { clear: !1 }), e();\n  }\n  snapshot_end() {\n  }\n  makeDesignCast(t) {\n  }\n  makeDesignCastChildren(t) {\n  }\n  showDesignCast() {\n  }\n  showDesignCastChildren() {\n  }\n  cvsResize() {\n  }\n  cvsResizeChildren() {\n  }\n  dump() {\n    return ` \"idx\":${this.spLay.parent.getChildIndex(this.spLay)}, \"visible\":\"${this.spLay.visible}\", \"left\":${this.spLay.x}, \"top\":${this.spLay.y}, \"alpha\":${this.spLay.alpha}, \"rotation\":${this.spLay.angle}, \"name\":\"${this.name_}\", \"scale_x\":${this.spLay.scale.x}, \"scale_y\":${this.spLay.scale.y}`;\n  }\n  static setXY(t, e, i, n = !1, s = !1) {\n    if (e.pos) {\n      un.setXYByPos(t, e.pos, i);\n      return;\n    }\n    const o = t.getBounds(), a = i.scale.x < 0 ? -i.scale.x : i.scale.x, l = a === 1 ? o.width : o.width * a, u = i.scale.y < 0 ? -i.scale.y : i.scale.y, c = u === 1 ? o.height : o.height * u;\n    let f = i.x;\n    \"left\" in e ? (f = j(e, \"left\", 0), f > -1 && f < 1 && (f *= A.stageW)) : \"center\" in e ? (f = j(e, \"center\", 0), f > -1 && f < 1 && (f *= A.stageW), f = f - (s ? l / 3 : l) / 2) : \"right\" in e ? (f = j(e, \"right\", 0), f > -1 && f < 1 && (f *= A.stageW), f = f - (s ? l / 3 : l)) : \"s_right\" in e && (f = j(e, \"s_right\", 0), f > -1 && f < 1 && (f *= A.stageW), f = A.stageW - f - (s ? l / 3 : l)), i.x = ci(i.scale.x < 0 ? f + (s ? l / 3 : l) : f);\n    let d = i.y;\n    \"top\" in e ? (d = j(e, \"top\", 0), d > -1 && d < 1 && (d *= A.stageH)) : \"middle\" in e ? (d = j(e, \"middle\", 0), d > -1 && d < 1 && (d *= A.stageH), d = d - c / 2) : \"bottom\" in e ? (d = j(e, \"bottom\", 0), d > -1 && d < 1 && (d *= A.stageH), d = d - c) : \"s_bottom\" in e && (d = j(e, \"s_bottom\", 0), d > -1 && d < 1 && (d *= A.stageH), d = A.stageH - d - c), i.y = ci(i.scale.y < 0 ? d + c : d), n && !(\"left\" in e) && !(\"center\" in e) && !(\"right\" in e) && !(\"s_right\" in e) && !(\"top\" in e) && !(\"middle\" in e) && !(\"bottom\" in e) && !(\"s_bottom\" in e) && un.setXYByPos(t, \"c\", i);\n  }\n  static setXYByPos(t, e, i) {\n    if (e === \"stay\")\n      return;\n    if (t === void 0)\n      throw \"setXYByPos base === undefined\";\n    if (i === void 0)\n      throw \"setXYByPos result === undefined\";\n    const n = t.getBounds(), s = i.scale.x < 0 ? -i.scale.x : i.scale.x, o = s === 1 ? n.width : n.width * s, a = i.scale.y < 0 ? -i.scale.y : i.scale.y, l = a === 1 ? n.height : n.height * a;\n    let u = 0;\n    !e || e === \"c\" ? u = A.stageW * 0.5 : e === \"r\" ? u = A.stageW - o * 0.5 : e === \"l\" ? u = o * 0.5 : u = ci(e), i.x = ci(u - o * 0.5), i.y = A.stageH - l, i.scale.x < 0 && (i.x += o), i.scale.y < 0 && (i.y += l);\n  }\n  static setXYCenter(t) {\n    const e = t.getBounds();\n    t.x = (A.stageW - e.width) * 0.5, t.y = (A.stageH - e.height) * 0.5;\n  }\n};\nlet ui = un;\nTd = new WeakMap(), Sd = new WeakMap(), _(ui, Td, {\n  normal: ot.NORMAL,\n  add: ot.ADD,\n  multiply: ot.MULTIPLY,\n  screen: ot.SCREEN\n  /*\n  \t\t'overlay'\t\t: BLEND_MODES.OVERLAY,\n  \t\t'darken'\t\t: BLEND_MODES.DARKEN,\n  \t\t'lighten'\t\t: BLEND_MODES.LIGHTEN,\n  \t\t'color_dodge'\t: BLEND_MODES.COLOR_DODGE,\n  \t\t'color_burn'\t: BLEND_MODES.COLOR_BURN,\n  \t\t'hard_light'\t: BLEND_MODES.HARD_LIGHT,\n  \t\t'soft_light'\t: BLEND_MODES.SOFT_LIGHT,\n  \t\t'difference'\t: BLEND_MODES.DIFFERENCE,\n  \t\t'exclusion'\t\t: BLEND_MODES.EXCLUSION,\n  \t\t'hue'\t\t\t: BLEND_MODES.HUE,\n  \t\t'saturation'\t: BLEND_MODES.SATURATION,\n  \t\t'color'\t\t\t: BLEND_MODES.COLOR,\n  \t\t'luminosity'\t: BLEND_MODES.LUMINOSITY,\n  \n  \t\t'normal_npm'\t: BLEND_MODES.NORMAL_NPM,\n  \t\t'add_npm'\t\t: BLEND_MODES.ADD_NPM,\n  \t\t'screen_npm'\t: BLEND_MODES.SCREEN_NPM,\n  \t\t'none'\t\t\t: BLEND_MODES.NONE,\n  \t\t'src_in'\t\t: BLEND_MODES.SRC_IN,\n  \t\t'src_out'\t\t: BLEND_MODES.SRC_OUT,\n  \t\t'src_atop'\t\t: BLEND_MODES.SRC_ATOP,\n  \t\t'dst_over'\t\t: BLEND_MODES.DST_OVER,\n  \t\t'dst_in'\t\t: BLEND_MODES.DST_IN,\n  \t\t'dst_out'\t\t: BLEND_MODES.DST_OUT,\n  \t\t'dst_atop'\t\t: BLEND_MODES.DST_ATOP,\n  \t\t'subtract'\t\t: BLEND_MODES.SUBTRACT,\n  \t\t'src_over'\t\t: BLEND_MODES.SRC_OVER,\n  \t\t'erase'\t\t\t: BLEND_MODES.ERASE,\n  \t\t'xor'\t\t\t: BLEND_MODES.XOR,\n  */\n}), _(ui, Sd, {\n  0: \"normal\",\n  1: \"add\",\n  2: \"multiply\",\n  3: \"screen\"\n});\nclass Th {\n  constructor(t, e = !1) {\n    B(this, \"hArg\", {});\n    this.bg_col = t, this.isLay = e;\n  }\n  static init(t, e, i, n, s, o, a) {\n  }\n  static cvsResizeDesign() {\n  }\n  destroy() {\n  }\n  gethArg() {\n    return this.hArg;\n  }\n  sethArg(t) {\n    this.hArg = t;\n  }\n  setOther(t) {\n  }\n  adopt(t) {\n  }\n  static enterMode() {\n  }\n  static allHide() {\n  }\n  set visible(t) {\n  }\n  static leaveMode() {\n  }\n  cvsResize() {\n  }\n  make() {\n  }\n  static replaceToken(t) {\n  }\n}\nclass VC extends Th {\n  constructor(t, e) {\n    super(\"#29e\", !0);\n  }\n  setSp(t) {\n  }\n}\nclass XC extends Th {\n  constructor(t, e) {\n    super(\"#29e\", !0);\n  }\n}\nclass WC extends Th {\n  constructor(t) {\n    super(\"#9e2\");\n  }\n}\nclass nx extends Th {\n  constructor(t, e) {\n    super(\"#e92\"), this.btn = t, this.hArg = e;\n  }\n}\nclass YC extends nx {\n  constructor(t, e, i) {\n    super(t, e);\n  }\n}\nclass qC extends nx {\n  constructor(t, e) {\n    super(t, e);\n  }\n  setSp(t) {\n  }\n}\nvar Pd, qn, dn, $s, zs, Rr, Ca, Vs, Ql, Ma, kr, pn, vn, Zn, tu, eu, iu, Od, sx, Id, ox, ru, ey, Cd, ax, Ra, ff, ka, or, Na, Md, Xs, nu;\nconst nt = class extends ui {\n  constructor() {\n    super();\n    _(this, kr, new VC(this.spLay, this));\n    _(this, pn, \"\");\n    _(this, vn, \"\");\n    _(this, Zn, \"\");\n    B(this, \"lay\", (e) => this.laySub(e, (i) => {\n      i && h(nt, dn).resume();\n    }));\n    _(this, tu, 0);\n    _(this, eu, 0);\n    _(this, ka, void 0);\n    _(this, or, void 0);\n    _(this, Na, () => {\n    });\n    B(this, \"record\", () => ({\n      ...super.record(),\n      sBkFn: h(this, vn),\n      sBkFace: h(this, Zn),\n      idc_hArg: h(this, kr).gethArg()\n    }));\n    //showDesignCastChildren() {}\n    B(this, \"dump\", () => super.dump() + `, \"pic\":\"${h(this, pn)}\"`);\n    A.isDbg && (this.setSp = (e) => h(this, kr).setSp(e), this.cvsResize = () => {\n      super.cvsResize(), h(this, kr).cvsResize();\n    });\n  }\n  static init(e, i, n, s, o, a) {\n    b(nt, dn, e), b(nt, $s, i), b(nt, zs, n), b(nt, Rr, s), b(nt, Ca, a);\n    const l = () => {\n      const u = h(nt, Vs) * h(nt, Ql);\n      for (const c of Object.values(nt.hFn2VElm))\n        c.volume = u;\n    };\n    o.setNoticeChgVolume(\n      (u) => {\n        b(nt, Vs, u), l();\n      },\n      (u) => {\n        b(nt, Ql, u), l();\n      }\n    ), h(nt, Rr).crypto && b(nt, iu, x(nt, Id, ox));\n  }\n  static setEvtMng(e) {\n    b(nt, Ma, e);\n  }\n  static destroy() {\n    h(nt, Pd).clear(), b(nt, qn, {}), nt.hFn2ResAniSpr = {}, nt.hFn2VElm = {};\n  }\n  setSp(e) {\n  }\n  laySub(e, i) {\n    var l;\n    x(l = nt, Ra, ff).call(l, h(this, vn));\n    const { fn: n, face: s = \"\" } = e;\n    if (h(this, kr).sethArg(e), !n)\n      return super.lay(e), this.spLay.children.length > 0 && this.setPos(e), b(this, vn, \"\"), b(this, pn, b(this, Zn, s)), i(!1), !1;\n    const o = \"fn\" in e, a = \"face\" in e;\n    return this.clearLay({ filter: \"true\" }), o && b(this, vn, n), a && b(this, Zn, s), super.lay(e), e.dx = 0, e.dy = 0, nt.csv2Sprites(\n      b(this, pn, n + (s ? \",\" + s : \"\")),\n      this.spLay,\n      (u) => {\n        (\"width\" in e || \"height\" in e) && (u.width = j(e, \"width\", 0), u.height = j(e, \"height\", 0)), b(this, tu, u.width), b(this, eu, u.height), ui.setXY(u, e, this.spLay, !0), this.setSp(u);\n      },\n      (u) => {\n        ui.setBlendmodeParentOnly(this.spLay, e), i(u);\n      }\n    );\n  }\n  get width() {\n    return h(this, tu);\n  }\n  get height() {\n    return h(this, eu);\n  }\n  //\tstatic #ldrHFn: {[name: string]: 1} = {};\n  static csv2Sprites(e, i, n, s = () => {\n  }) {\n    let o = !1;\n    if (e.slice(0, 5) === \"data:\") {\n      const c = () => {\n        const f = ge.from(e);\n        i == null || i.addChild(f), n(f), s(o);\n      };\n      return e in li ? c() : (o = !0, new Ii().add(e, e).load(c)), o;\n    }\n    const a = [], l = new Ii();\n    e.split(\",\").forEach((c, f) => {\n      if (!c)\n        throw \"face属性に空要素が含まれます\";\n      const { dx: d, dy: p, blendmode: m, fn: v } = h(nt, qn)[c] || {\n        fn: c,\n        dx: 0,\n        dy: 0,\n        blendmode: ot.NORMAL\n      }, y = f === 0 ? n : (T) => {\n        T.x = d, T.y = p, T.blendMode = m;\n      };\n      if (a.push({ fn: v, fnc: y }), v in nt.hFn2ResAniSpr || v in li || v in Ii.shared.resources)\n        return;\n      o = !0;\n      const g = h(nt, $s).searchPath(v, ii.SP_GSM), w = h(this, Rr).crypto ? { xhrType: g.slice(-5) === \".json\" ? _t.XHR_RESPONSE_TYPE.TEXT : _t.XHR_RESPONSE_TYPE.BUFFER } : {};\n      l.add({ ...w, name: v, url: g });\n    });\n    const u = (c) => {\n      var f;\n      for (const { fn: d, fnc: p } of a) {\n        const m = x(f = nt, Cd, ax).call(f, d, c);\n        m.name = d, i == null || i.addChild(m), p(m);\n      }\n      s(o);\n    };\n    return o ? l.use((c, f) => {\n      h(this, Rr).dec(c.extension, c.data).then((d) => {\n        var p;\n        return h(p = nt, iu).call(p, d, c, () => f == null ? void 0 : f());\n      }).catch((d) => h(this, dn).errScript(`Graphic ロード失敗です fn:${c.name} ${d}`, !1));\n    }).load((c, f) => u(f)) : u({}), o;\n  }\n  static wv(e) {\n    var o;\n    const { fn: i } = e;\n    if (!i)\n      throw \"fnは必須です\";\n    const n = nt.hFn2VElm[i];\n    if (!n || n.loop)\n      return !1;\n    if (h(this, Ca).getVal(\"tmp:sn.skip.enabled\") || h(this, Ma).isSkippingByKeyDown() || n.ended)\n      return x(o = nt, Ra, ff).call(o, i), !1;\n    const s = () => {\n      var a;\n      x(a = nt, Ra, ff).call(a, i), h(this, dn).resume();\n    };\n    return n.addEventListener(\"ended\", s, { once: !0, passive: !0 }), h(nt, Ma).waitEvent(\n      () => {\n        n.removeEventListener(\"ended\", s), s();\n      },\n      K(e, \"canskip\", !0),\n      K(e, \"global\", !1)\n    );\n  }\n  renderStart() {\n    b(this, ka, qi.create({\n      width: A.stageW,\n      height: A.stageH\n    })), b(this, or, new ge(h(this, ka))), h(this, or).visible = !1, this.spLay.addChildAt(h(this, or), 0), h(this, or).position.set(-this.spLay.x, -this.spLay.y);\n    let e = () => {\n      const i = this.spLay.alpha;\n      this.spLay.alpha = 1;\n      for (const n of this.spLay.children)\n        n.visible = !0;\n      h(this, or).visible = !1, h(nt, zs).renderer.render(this.spLay, { renderTexture: h(this, ka) }), this.spLay.alpha = i;\n      for (const n of this.spLay.children)\n        n.visible = !1;\n    };\n    if (!this.containMovement) {\n      let i = e;\n      e = () => {\n        e = () => {\n        }, i();\n      };\n    }\n    b(this, Na, () => {\n      e(), h(this, or).visible = !0;\n    }), h(nt, zs).ticker.add(h(this, Na));\n  }\n  renderEnd() {\n    h(nt, zs).ticker.remove(h(this, Na)), this.spLay.removeChild(h(this, or));\n    for (const e of this.spLay.children)\n      e.visible = !0;\n    h(this, or).destroy(!0);\n  }\n  // https://regex101.com/r/ZUnoFq/1\n  static loadPic2Img(e, i, n) {\n    const s = e.replace(h(nt, Md), \"\"), o = e === s ? \"\" : e.slice(s.length), a = h(this, nu)[e];\n    if (a) {\n      i.src = a;\n      return;\n    }\n    const l = h(this, Xs)[e];\n    if (l) {\n      l.push(i);\n      return;\n    }\n    h(this, Xs)[e] = [i];\n    const u = h(nt, $s).searchPath(s, ii.SP_GSM), c = new Ii().add({ name: e, url: u, xhrType: _t.XHR_RESPONSE_TYPE.BUFFER });\n    h(nt, Rr).crypto && nm(u) === \"bin\" && c.use((f, d) => {\n      h(nt, Rr).dec(f.extension, f.data).then((p) => {\n        if (f.extension !== \"bin\") {\n          d == null || d();\n          return;\n        }\n        f.data = p, p instanceof HTMLImageElement && (f.type = _t.TYPE.IMAGE), d == null || d();\n      }).catch((p) => h(nt, dn).errScript(`GrpLayer loadPic ロード失敗です fn:${f.name} ${p}`, !1));\n    }), c.load((f, d) => {\n      for (const [p, { data: { src: m } }] of Object.entries(d)) {\n        const v = h(this, nu)[p] = m + (m.slice(0, 5) === \"blob:\" ? \"\" : o);\n        for (const y of h(this, Xs)[p])\n          y.src = v, n && (y.onload = () => n(y));\n        delete h(this, Xs)[p];\n      }\n    });\n  }\n  setPos(e) {\n    ui.setXY(\n      this.spLay.children.length === 0 ? this.spLay : this.spLay.children[0],\n      e,\n      this.spLay,\n      !0\n    );\n  }\n  static add_face(e) {\n    const { name: i } = e;\n    if (!i)\n      throw \"nameは必須です\";\n    if (i in h(nt, qn))\n      throw \"一つのname（\" + i + \"）に対して同じ画像を複数割り当てられません\";\n    const { fn: n = i } = e;\n    return h(nt, qn)[i] = {\n      fn: n,\n      dx: j(e, \"dx\", 0),\n      dy: j(e, \"dy\", 0),\n      blendmode: ui.getBlendmodeNum(e.blendmode || \"\")\n    }, !1;\n  }\n  static clearFace2Name() {\n    b(nt, qn, {});\n  }\n  // アニメ・動画を含むか\n  get containMovement() {\n    if (h(this, pn) === \"\")\n      return !1;\n    const e = this.spLay.children;\n    return h(this, pn).split(\",\").some(\n      (i, n) => e[n] instanceof Gg || nt.hFn2VElm[i]\n    );\n  }\n  clearLay(e) {\n    super.clearLay(e);\n    for (const i of this.spLay.removeChildren())\n      i.destroy();\n    b(this, vn, \"\"), b(this, Zn, \"\"), b(this, pn, \"\");\n  }\n  playback(e, i) {\n    if (super.playback(e, i), e.sBkFn === \"\" && e.sBkFace === \"\") {\n      b(this, vn, e.sBkFn), b(this, Zn, e.sBkFace), h(this, kr).sethArg(e.idc_hArg);\n      return;\n    }\n    i.push(new Promise((n) => this.laySub(\n      { fn: e.sBkFn, face: e.sBkFace, left: e.x, top: e.y, alpha: e.alpha, blendmode: ui.getNum2Blendmode(e.blendMode), rotation: e.rotation, scale_x: e.scale_x, scale_y: e.scale_y },\n      (s) => {\n        this.spLay.position.set(e.x, e.y), n();\n      }\n      // Layer.setXY()の後に再度移動\n    )));\n  }\n  makeDesignCast(e) {\n    this.spLay.visible && e(h(this, kr));\n  }\n  //makeDesignCastChildren(_gdc: IMakeDesignCast) {}\n  cvsResize() {\n    super.cvsResize();\n  }\n  showDesignCast() {\n    h(this, kr).visible = !0;\n  }\n};\nlet Rt = nt;\nPd = new WeakMap(), qn = new WeakMap(), dn = new WeakMap(), $s = new WeakMap(), zs = new WeakMap(), Rr = new WeakMap(), Ca = new WeakMap(), Vs = new WeakMap(), Ql = new WeakMap(), Ma = new WeakMap(), kr = new WeakMap(), pn = new WeakMap(), vn = new WeakMap(), Zn = new WeakMap(), tu = new WeakMap(), eu = new WeakMap(), iu = new WeakMap(), Od = new WeakSet(), sx = function(e) {\n  const i = /([^\\d]+)\\d+\\.(\\w+)/.exec(e[0]);\n  if (!i)\n    return [];\n  const n = i[1].length, s = -i[2].length - 1;\n  return e.sort(\n    (o, a) => ci(o.slice(n, s)) > ci(a.slice(n, s)) ? 1 : -1\n  );\n}, Id = new WeakSet(), ox = function(e, i, n) {\n  var u;\n  if (i.data = e, i.extension === \"bin\" && (e instanceof HTMLImageElement ? (i.texture = lt.fromLoader(e, i.url, i.name), i.type = _t.TYPE.IMAGE) : e instanceof HTMLVideoElement && (e.volume = h(nt, Vs), nt.hFn2VElm[i.name] = x(u = nt, ru, ey).call(u, e), i.type = _t.TYPE.VIDEO)), i.extension !== \"json\") {\n    n();\n    return;\n  }\n  if (typeof e != \"string\") {\n    n();\n    return;\n  }\n  const { meta: s, frames: o } = i.data = JSON.parse(e);\n  if (i.type = _t.TYPE.JSON, !(s != null && s.image)) {\n    n();\n    return;\n  }\n  const a = Qc(s.image), l = h(nt, $s).searchPath(a, ii.SP_GSM);\n  new Ii().use((c, f) => {\n    h(this, Rr).dec(c.extension, c.data).then((d) => {\n      c.data = d, d instanceof HTMLImageElement && (c.type = _t.TYPE.IMAGE, URL.revokeObjectURL(d.src)), f == null || f();\n    }).catch((d) => h(this, dn).errScript(`Graphic ロード失敗です dec2res4Cripto fn:${c.name} ${d}`, !1));\n  }).add({ name: a, url: l, xhrType: _t.XHR_RESPONSE_TYPE.BUFFER }).load((c, f) => {\n    for (const { data: d } of Object.values(c.resources)) {\n      const { baseTexture: p } = lt.from(d), m = Object.values(o);\n      nt.hFn2ResAniSpr[i.name] = {\n        aTex: m.map(({ frame: { x: v, y, w: g, h: w } }) => new lt(\n          p,\n          new gt(v, y, g, w)\n        )),\n        meta: s\n      };\n    }\n    n();\n  });\n}, ru = new WeakSet(), ey = function(e) {\n  return h(nt, Ca).getVal(\"const.sn.needClick2Play\") && (kt.trace_beforeNew(`[lay系] ${kt.strPos()}未クリック状態で動画を自動再生します。音声はミュートされます`, \"W\"), e.muted = !0), e.setAttribute(\"playsinline\", \"\"), e;\n}, Cd = new WeakSet(), ax = function(e, i) {\n  const n = nt.hFn2ResAniSpr[e];\n  if (n) {\n    const s = new Gg(n.aTex);\n    return s.animationSpeed = n.meta.animationSpeed ?? 1, s.play(), s;\n  }\n  return e in li ? ge.from(e) : e in nt.hFn2VElm ? ge.from(nt.hFn2VElm[e]) : e in i ? new ge(i[e].texture) : new ge();\n}, Ra = new WeakSet(), ff = function(e) {\n  const i = nt.hFn2VElm[e];\n  i && (delete nt.hFn2VElm[e], i.pause(), i.currentTime = i.duration);\n}, ka = new WeakMap(), or = new WeakMap(), Na = new WeakMap(), Md = new WeakMap(), Xs = new WeakMap(), nu = new WeakMap(), _(Rt, Od), _(Rt, Id), _(Rt, ru), _(Rt, Cd), _(Rt, Ra), _(Rt, Pd, new Eh()), _(Rt, qn, {}), _(Rt, dn, void 0), _(Rt, $s, void 0), _(Rt, zs, void 0), _(Rt, Rr, void 0), _(Rt, Ca, void 0), _(Rt, Vs, 1), _(Rt, Ql, 1), _(Rt, Ma, void 0), B(Rt, \"hFn2ResAniSpr\", {}), _(Rt, iu, (e, i, n) => {\n  var s, o;\n  switch (i.type) {\n    case _t.TYPE.JSON:\n      const a = i.spritesheet._frameKeys;\n      x(s = nt, Od, sx).call(s, a), nt.hFn2ResAniSpr[i.name] = {\n        aTex: a.map((u) => lt.from(u)),\n        meta: i.data.meta\n      };\n      break;\n    case _t.TYPE.VIDEO:\n      const l = i.data;\n      l.volume = h(nt, Vs), nt.hFn2VElm[i.name] = x(o = nt, ru, ey).call(o, l);\n  }\n  n();\n}), B(Rt, \"hFn2VElm\", {}), _(Rt, Md, /\\?([^?]+)$/), _(Rt, Xs, {}), _(Rt, nu, {});\nvar La, su, Ws, Tt, Nr, mn, Rd, xi, Kn, st, Ui, Ke, Je, Aa, df, ar, yn, ou, Da, kd, hx, Ys, Ba, Jn, qs, Zs, Ks, Fa, au, Qn, hu, iy, _n, lu, gn, Lr, Ua, uu, ry, ts, Js, cu, ny, ni;\nconst pt = class extends Jt {\n  constructor(e, i, n) {\n    super();\n    _(this, Aa);\n    _(this, kd);\n    _(this, hu);\n    // 「g」などで下が欠ける問題対策\n    _(this, uu);\n    _(this, cu);\n    _(this, Tt, document.createElement(\"span\"));\n    // サンプリング元\n    _(this, Nr, new Jt());\n    // サンプリング先\n    _(this, mn, new Ri());\n    _(this, xi, new XC(this.spLay, this));\n    _(this, Kn, new WC(this));\n    _(this, st, {\n      fontsize: 24,\n      $width: 0,\n      // レイヤサイズであり、背景色（画像）サイズ\n      $height: 0,\n      pad_left: 0,\n      // paddingLeft（レイヤサイズの内側のスペーサー）\n      pad_right: 0,\n      // paddingRight\n      pad_top: 0,\n      // paddingTop\n      pad_bottom: 0\n      // paddingBottom\n    });\n    _(this, Ui, !1);\n    _(this, Ke, 0);\n    _(this, Je, 0);\n    _(this, ar, 0);\n    _(this, yn, !1);\n    _(this, ou, 0);\n    _(this, Da, 0);\n    _(this, Ys, void 0);\n    // 文字にかけるフィルター\n    _(this, Ba, []);\n    _(this, Jn, []);\n    _(this, qs, 0);\n    _(this, Qn, () => !1);\n    _(this, Ua, 0);\n    _(this, ts, \"Quadratic.Out\");\n    _(this, Js, \"Quadratic.Out\");\n    _(this, ni, void 0);\n    this.spLay = e, this.canFocus = i, this.sys = n, h(this, Tt).classList.add(\"sn_tx\"), h(this, Tt).style.position = \"absolute\", h(pt, su).view.parentElement.appendChild(h(this, Tt)), this.addChild(h(this, Nr)), this.addChild(h(this, mn)), h(this, mn).name = \"grpDbgMasume\", h(this, xi).adopt(h(this, Kn));\n  }\n  static init(e, i) {\n    b(pt, La, e), b(pt, su, i), b(pt, Zs, /[、。，．）］｝〉」』】〕”〟ぁぃぅぇぉっゃゅょゎァィゥェォッャュョヮヵヶ！？!?‼⁉・ーゝゞヽヾ々]/), b(pt, Ks, /[［（｛〈「『【〔“〝]/), b(pt, Fa, /[─‥…]/);\n  }\n  static setEvtMng(e) {\n    b(pt, Ws, e);\n  }\n  static destroy() {\n    b(pt, _n, /* @__PURE__ */ Object.create(null)), b(pt, gn, /* @__PURE__ */ Object.create(null)), b(pt, Lr, new Jt());\n  }\n  lay(e) {\n    const i = h(this, Tt).style;\n    if (\"style\" in e)\n      if (e.style) {\n        const n = document.createElement(\"span\");\n        n.style.cssText = e.style;\n        const s = n.style.length;\n        for (let o = 0; o < s; ++o) {\n          const a = n.style[o];\n          if (a in h(pt, Rd)) {\n            kt.myTrace(`${a}は指定できません`, \"W\");\n            continue;\n          }\n          i[a] = n.style[a];\n        }\n        !n.style.opacity && \"alpha\" in e && (i.opacity = String(this.spLay.alpha));\n      } else\n        h(this, Tt).style.cssText = \"\";\n    else\n      \"alpha\" in e && (i.opacity = String(this.spLay.alpha));\n    if (\"width\" in e && (i.width = (e.width ?? \"0\") + \"px\"), \"height\" in e && (i.height = (e.height ?? \"0\") + \"px\"), \"pl\" in e && (i.paddingLeft = (e.pl ?? \"0\") + \"px\"), \"pr\" in e && (i.paddingRight = (e.pr ?? \"0\") + \"px\"), \"pt\" in e && (i.paddingTop = (e.pt ?? \"0\") + \"px\"), \"pb\" in e && (i.paddingBottom = (e.pb ?? \"0\") + \"px\"), \"kinsoku_sol\" in e && b(pt, Zs, new RegExp(`[${e.kinsoku_sol}]`)), \"kinsoku_eol\" in e && b(pt, Ks, new RegExp(`[${e.kinsoku_eol}]`)), \"kinsoku_dns\" in e && b(pt, Fa, new RegExp(`[${e.kinsoku_dns}]`)), x(this, Aa, df).call(this), h(this, xi).sethArg(e), b(this, ar, this.spLay.position.x), i.transformOrigin = `${this.spLay.pivot.x}px ${this.spLay.pivot.y}px`, this.cvsResize(), i.display = this.spLay.visible ? \"inline\" : \"none\", i.textShadow = e.filter ?? i.textShadow ?? \"\", b(this, Ui, K(e, \"break_fixed\", h(this, Ui))), b(this, Ke, j(e, \"break_fixed_left\", h(this, Ke))), b(this, Je, j(e, \"break_fixed_top\", h(this, Je))), \":redraw\" in e && h(this, qs) > 0) {\n      const n = [\n        h(this, Tt).innerHTML.replaceAll(/(animation-delay: )\\d+ms/g, \"$10ms\"),\n        `<span class='sn_ch' data-add='{\"ch_in_style\":\"default\"}'>　</span>`\n      ];\n      x(this, cu, ny).call(this), this.goTxt(n, !0);\n    }\n  }\n  cvsResize() {\n    const e = h(this, Tt).style, i = this.sys.cvsScale;\n    e.left = `${this.sys.ofsLeft4elm + h(this, ar) * i}px`, e.top = `${this.sys.ofsTop4elm + this.spLay.position.y * i}px`, e.transform = `rotate(${this.spLay.angle}deg) scale(${this.spLay.scale.x * i}, ${this.spLay.scale.y * i})`, h(this, xi).cvsResize(), h(this, Kn).cvsResize();\n  }\n  get tategaki() {\n    return h(this, yn);\n  }\n  get infTL() {\n    return h(this, st);\n  }\n  get getWidth() {\n    return h(this, st).$width;\n  }\n  get getHeight() {\n    return h(this, st).$height;\n  }\n  setSize(e, i) {\n    h(this, st).$width = e, h(this, st).$height = i, h(this, Tt).style.width = h(this, st).$width + \"px\", h(this, Tt).style.height = h(this, st).$height + \"px\";\n  }\n  goTxt(e, i) {\n    var T, P, O, C;\n    h(pt, Lr).visible = !1;\n    let n = h(this, Jn).length, s = \"\";\n    if (n === 0) {\n      if (h(pt, La).oCfg.debug.masume && (A.debugLog && console.log(`🍌 masume ${this.name} v:${this.visible} l:${this.x} t:${this.y} a:${this.alpha} pl:${h(this, st).pad_left} pr:${h(this, st).pad_right} pt:${h(this, st).pad_top} pb:${h(this, st).pad_bottom} w:${h(this, st).$width} h:${h(this, st).$height}`), h(this, mn).clear().beginFill(3407616, 0.2).lineStyle(1, 3407616, 1).drawRect(-h(this, st).pad_left, -h(this, st).pad_top, h(this, st).$width, h(this, st).$height).endFill().beginFill(13311, 0.2).lineStyle(2, 13311, 1).drawRect(\n        0,\n        0,\n        h(this, st).$width - h(this, st).pad_left - h(this, st).pad_right,\n        h(this, st).$height - h(this, st).pad_top - h(this, st).pad_bottom\n      ).endFill()), h(this, Tt).innerHTML = [...e].join(\"\").replaceAll(/[\\n\\t]/g, \"\") + h(pt, au), !h(this, Ui)) {\n        const I = globalThis.getComputedStyle(h(this, Tt)), S = parseFloat(I.fontSize);\n        h(this, yn) ? (b(this, Ke, (h(this, st).$width - h(this, st).pad_left - h(this, st).pad_right - S * 1.5) * this.sys.cvsScale), b(this, Je, 0)) : (b(this, Ke, 0), b(this, Je, S / 2 * this.sys.cvsScale));\n      }\n    } else\n      s = h(this, Tt).innerHTML, h(this, Tt).querySelectorAll(\":scope > br\").forEach((I) => h(this, Tt).removeChild(I)), h(this, Tt).insertAdjacentHTML(\n        \"beforeend\",\n        e.slice(h(this, qs)).join(\"\").replaceAll(/[\\n\\t]/g, \"\") + h(pt, au)\n        // 末尾改行削除挙動対策\n      ), --n, (T = h(this, Tt).querySelector(\".sn_ch_last\")) == null || T.remove();\n    b(this, qs, e.length);\n    const o = this.sys.cvsScale, a = h(this, Tt).getBoundingClientRect(), l = a.left + h(this, st).pad_left, u = a.top + h(this, st).pad_top;\n    let c;\n    if (o === 1)\n      c = (I, S) => new gt(\n        I.left - l,\n        I.top - u,\n        I.width,\n        I.height + (\"gjqy\".includes(S) ? h(this, Ua) : 0)\n      );\n    else {\n      const I = this.sys.ofsPadLeft_Dom2PIXI + a.left * (1 - o), S = this.sys.ofsPadTop_Dom2PIXI + a.top * (1 - o);\n      c = (M, N) => new gt(\n        (M.left - I) / o - l,\n        (M.top - S) / o - u,\n        M.width / o,\n        (M.height + (\"gjqy\".includes(N) ? h(this, Ua) : 0)) / o\n      );\n    }\n    let f = 0, d = 2, p = !1;\n    do {\n      const I = b(this, Jn, x(this, uu, ry).call(this, h(this, Tt), c));\n      if (f = I.length, !p && (f < 2 || n === f)) {\n        n > 0 && n === f && (h(this, Tt).innerHTML = s.replaceAll('class=\"sn_ch\"', 'class=\"sn_ch sn_ch_in_default\"'));\n        break;\n      }\n      p = !0;\n      let S = -1 / 0;\n      for (; d < f; ++d) {\n        const M = I[d];\n        if (M.elm.tagName === \"RT\")\n          continue;\n        const N = this.tategaki ? M.rect.y : M.rect.x;\n        if (S <= N || ((O = (P = M.elm.previousElementSibling) == null ? void 0 : P.children[0]) == null ? void 0 : O.tagName) === \"BR\") {\n          S = N, h(this, Ui) || (b(this, Ke, M.rect.x), b(this, Je, M.rect.y));\n          continue;\n        }\n        let D = d - 1;\n        for (; I[D].elm.tagName === \"RT\"; )\n          --D;\n        const z = I[D], q = z.ch;\n        if (!h(this, Ui)) {\n          b(this, Ke, z.rect.x), b(this, Je, z.rect.y);\n          const J = globalThis.getComputedStyle(z.elm), vt = parseFloat(J.fontSize);\n          h(this, yn) ? b(this, Je, h(this, Je) + vt) : b(this, Ke, h(this, Ke) + vt);\n        }\n        S = -1 / 0;\n        const it = d;\n        if (h(pt, Fa).test(q) && q === M.ch)\n          d = D;\n        else {\n          if (h(pt, Ks).test(q))\n            d = D;\n          else if (h(pt, Zs).test(M.ch))\n            for (d = D + 1; d > 0 && h(pt, Zs).test(I[--d].ch); )\n              ;\n          else {\n            ++d;\n            continue;\n          }\n          for (d = D + 1; d > 0 && h(pt, Ks).test(I[--d].ch); )\n            ;\n        }\n        const V = I[d].elm.parentElement, H = document.createElement(\"br\");\n        if (V.classList.contains(\"sn_tx\"))\n          V.insertBefore(H, I[d].elm);\n        else {\n          const J = V.parentElement;\n          J.classList.contains(\"sn_ch\") ? J.parentElement.insertBefore(H, J) : J.insertBefore(H, V);\n        }\n        d += 2, d < it && (d = it), f = -1;\n        break;\n      }\n    } while (f < 0);\n    const m = A.debugLog ? (I, S) => console.log(`🍌 masume ch:${I.ch} x:${S.x} y:${S.y} w:${S.width} h:${S.height}`) : () => {\n    }, v = h(pt, La).oCfg.debug.masume ? (I, S) => {\n      m(I, S), h(this, mn).beginFill(6737151, 0.5).lineStyle(2, 16724736, 1).drawRect(S.x, S.y, S.width, S.height).endFill();\n    } : () => {\n    }, y = Bn.ease(h(this, ts));\n    for (let I = n; I < f; ++I) {\n      const S = h(this, Jn)[I], M = S.rect, N = JSON.parse(S.elm.dataset.arg ?? '{\"delay\": 0}'), D = JSON.parse(S.elm.dataset.add ?? \"{}\"), z = h(pt, _n)[D.ch_in_style];\n      if (v(S, M), S.elm.dataset.cmd === \"grp\") {\n        const q = new Jt();\n        h(this, Nr).addChild(q), Rt.csv2Sprites(N.pic, q, (it) => {\n          x(this, hu, iy).call(this, q, N, D, M, y, z ?? {}), q.parent || q.removeChild(it);\n        });\n      }\n      if (S.elm.dataset.lnk) {\n        const q = S.elm.parentElement.closest(\"[data-arg]\"), it = JSON.parse(q.dataset.arg ?? \"{}\");\n        it.key = `lnk=[${I}] ` + this.name;\n        const V = new ge();\n        x(this, hu, iy).call(this, V, it, D, M, y, z ?? {});\n        const H = it.style ?? \"\", J = H + (it.style_hover ?? \"\"), vt = H + (it.style_clicked ?? \"\"), tt = it.r_style ?? \"\", wt = tt + (it.r_style_hover ?? \"\"), rt = tt + (it.r_style_clicked ?? \"\"), be = q.querySelectorAll(\"rt\");\n        be.forEach((k) => k.dataset.st_r_bk = k.style.cssText);\n        const Wt = q.style.cssText, Et = (k, Yt) => {\n          q.style.cssText = Wt + k, be.forEach((at) => at.style.cssText = at.dataset.st_r_bk + Yt);\n        };\n        K(it, \"enabled\", !0) ? h(pt, Ws).button(\n          it,\n          V,\n          () => Et(H, tt),\n          () => this.canFocus() ? (Et(J, wt), !0) : !1,\n          () => Et(vt, rt)\n        ) : Et(\n          H + (it.style_disable ?? \"color: gray;\"),\n          tt + (it.r_style_disable ?? \"color: gray;\")\n        ), h(this, Nr).addChild(V);\n      }\n    }\n    const g = h(this, Tt).querySelectorAll(\"span.sn_ch\");\n    b(this, Qn, () => (b(this, Qn, () => !1), g.forEach((I) => I.className = I.className.replaceAll(/ go_ch_in_[^\\s\"]+/g, \"\")), h(pt, Lr).position.set(\n      h(this, Ke),\n      h(this, Je)\n    ), h(pt, Lr).visible = !0, h(pt, Ws).noticeCompTxt(), !0)), g.forEach((I) => I.className = I.className.replaceAll(/sn_ch_in_([^\\s\"]+)/g, \"go_ch_in_$1\")), n > 0 && ++n;\n    let w;\n    for (let I = f - 2; I >= 0; --I) {\n      const { elm: S } = h(this, Jn)[I];\n      if (S.tagName === \"SPAN\") {\n        w = ((C = S.parentElement) == null ? void 0 : C.tagName) === \"RUBY\" ? S.parentElement.parentElement ?? S : S;\n        break;\n      }\n    }\n    if (!w || i || n === f) {\n      h(this, Qn).call(this);\n      return;\n    }\n    w.addEventListener(\"animationend\", h(this, Qn), { once: !0, passive: !0 });\n  }\n  skipChIn() {\n    let e = h(this, Qn).call(this);\n    for (const i of h(this, Ba))\n      i.tw && (i.tw.stop().end(), e = !0);\n    return b(this, Ba, []), e;\n  }\n  static initChStyle() {\n    b(pt, _n, /* @__PURE__ */ Object.create(null)), b(pt, gn, /* @__PURE__ */ Object.create(null));\n  }\n  static getChInStyle(e) {\n    return h(pt, _n)[e];\n  }\n  static ch_in_style(e) {\n    const { name: i } = e;\n    if (!i)\n      throw \"nameは必須です\";\n    if (h(pt, lu).test(i))\n      throw `name【${i}】に使えない文字が含まれます`;\n    if (i in h(pt, _n))\n      throw `name【${i}】はすでにあります`;\n    const n = String(e.x ?? \"=0\"), s = String(e.y ?? \"=0\");\n    return h(pt, _n)[i] = {\n      wait: j(e, \"wait\", 500),\n      // アニメ・FI時間\n      alpha: j(e, \"alpha\", 0),\n      x: n,\n      // 初期x値\n      y: s,\n      // [tsy]と同様に絶対・相対指定可能\n      // {x:500}\t\t\tX位置を500に\n      // {x:'=500'}\t\t現在のX位置に+500加算した位置\n      // {x:'=-500'}\t\t現在のX位置に-500加算した位置\n      // {x:'250,500'}\t+250から＋500までの間でランダムな値をX位置に\n      // {x:'=250,500'}\t+250から＋500までの間でランダムな値を現在のX位置に加算\n      nx: parseFloat(n.at(0) === \"=\" ? n.slice(1) : n),\n      ny: parseFloat(s.at(0) === \"=\" ? s.slice(1) : s),\n      scale_x: j(e, \"scale_x\", 1),\n      scale_y: j(e, \"scale_y\", 1),\n      rotate: j(e, \"rotate\", 0),\n      join: K(e, \"join\", !0),\n      // 文字を順番に出すか（true）同時か（false）\n      ease: e.ease ?? \"ease-out\"\n    };\n  }\n  static getChOutStyle(e) {\n    return h(pt, gn)[e];\n  }\n  static ch_out_style(e) {\n    const { name: i } = e;\n    if (!i)\n      throw \"nameは必須です\";\n    if (h(pt, lu).test(i))\n      throw `name【${i}】に使えない文字が含まれます`;\n    if (i in h(pt, gn))\n      throw `name【${i}】はすでにあります`;\n    const n = String(e.x ?? \"=0\"), s = String(e.y ?? \"=0\");\n    return h(pt, gn)[i] = {\n      wait: j(e, \"wait\", 500),\n      // アニメ・FI時間\n      alpha: j(e, \"alpha\", 0),\n      x: n,\n      // 初期x値\n      y: s,\n      // [tsy]と同様に絶対・相対指定可能\n      // {x:500}\t\t\tX位置を500に\n      // {x:'=500'}\t\t現在のX位置に+500加算した位置\n      // {x:'=-500'}\t\t現在のX位置に-500加算した位置\n      // {x:'250,500'}\t+250から＋500までの間でランダムな値をX位置に\n      // {x:'=250,500'}\t+250から＋500までの間でランダムな値を現在のX位置に加算\n      nx: parseFloat(n.at(0) === \"=\" ? n.slice(1) : n),\n      ny: parseFloat(s.at(0) === \"=\" ? s.slice(1) : s),\n      scale_x: j(e, \"scale_x\", 1),\n      scale_y: j(e, \"scale_y\", 1),\n      rotate: j(e, \"rotate\", 0),\n      join: K(e, \"join\", !1),\n      // 文字を順番に出すか（true）同時か（false）\n      ease: e.ease ?? \"ease-out\"\n    };\n  }\n  dispBreak(e) {\n    const i = h(pt, Lr);\n    i.visible = !1, this.addChild(i), Rt.csv2Sprites(e, i, (n) => {\n      i.parent || i.removeChild(n);\n    });\n  }\n  static delBreak() {\n    const e = h(pt, Lr);\n    e.parent && (e.parent.removeChild(e), e.removeChildren()), b(pt, Lr, new Jt());\n  }\n  reNew() {\n    var i;\n    x(this, cu, ny).call(this);\n    const e = new pt(this.spLay, () => this.canFocus(), this.sys);\n    return b(e, st, h(this, st)), h(e, Tt).style.cssText = h(this, Tt).style.cssText, b(e, ar, h(this, ar)), e.name = this.name, x(i = e, Aa, df).call(i), h(e, xi).sethArg(h(this, xi).gethArg()), b(e, Ys, h(this, Ys)), b(e, ts, h(this, ts)), b(e, Js, h(this, Js)), b(e, Ui, h(this, Ui)), b(e, Ke, h(this, Ke)), b(e, Je, h(this, Je)), this.destroy(), e;\n  }\n  record() {\n    return {\n      infTL: h(this, st),\n      cssText: h(this, Tt).style.cssText,\n      left: h(this, ar),\n      idc_hArg: h(this, xi).gethArg(),\n      ch_filter: h(this, Ys),\n      fi_easing: h(this, ts),\n      fo_easing: h(this, Js),\n      break_fixed: h(this, Ui),\n      break_fixed_left: h(this, Ke),\n      break_fixed_top: h(this, Je)\n    };\n  }\n  playback(e) {\n    b(this, st, e.infTL), this.position.set(h(this, st).pad_left, h(this, st).pad_top), h(this, Tt).style.cssText = e.cssText, b(this, ar, e.left), x(this, Aa, df).call(this), h(this, xi).sethArg(e.idc_hArg), b(this, Ys, e.ch_filter), b(this, ts, e.fi_easing), b(this, Js, e.fo_easing), b(this, Ui, e.break_fixed ?? !1), b(this, Ke, e.break_fixed_left ?? 0), b(this, Je, e.break_fixed_top ?? 0);\n  }\n  snapshot(e, i) {\n    x(this, kd, hx).call(this, (n) => {\n      b(this, ni, new ge(n)), h(this, yn) && (h(this, ni).x += A.stageW - (h(this, ar) + h(this, st).$width)), h(this, ni).y -= h(this, Da), h(this, ni).texture.frame = new gt(\n        0,\n        0,\n        Math.min(h(this, ni).width, h(this, st).$width - h(this, ar)),\n        Math.min(h(this, ni).height, h(this, st).$height)\n      ), h(this, Nr).addChild(h(this, ni)), e.render(h(this, ni), { clear: !1 }), i();\n    }, !1);\n  }\n  snapshot_end() {\n    h(this, ni) && (h(this, Nr).removeChild(h(this, ni)), b(this, ni, void 0));\n  }\n  makeDesignCast(e) {\n    e(h(this, xi));\n    const i = h(this, xi).gethArg();\n    h(this, Kn).sethArg({ ...i, \":id_dc\": i[\":id_tag\"] + \"_pad\" }), e(h(this, Kn));\n  }\n  showDesignCast() {\n    h(this, xi).visible = !0, h(this, Kn).visible = !0;\n  }\n  dump() {\n    const e = [], i = h(this, Tt).style, n = i.length;\n    for (let s = 0; s < n; ++s) {\n      const o = i[s];\n      e.push(`\"${o}\":\"${i[o].replaceAll(/([\"\\\\])/g, \"\\\\$1\")}\"`);\n    }\n    return `\"txt\":\"${h(this, Tt).textContent.replaceAll(/([\"\\\\])/g, \"\\\\$1\")}\", \"style\":{${e.join(\",\")}}`;\n  }\n  destroy() {\n    pt.delBreak(), h(this, Tt).parentElement.removeChild(h(this, Tt)), this.removeChild(h(this, Nr)), this.removeChild(h(this, mn)), super.destroy();\n  }\n};\nlet he = pt;\nLa = new WeakMap(), su = new WeakMap(), Ws = new WeakMap(), Tt = new WeakMap(), Nr = new WeakMap(), mn = new WeakMap(), Rd = new WeakMap(), xi = new WeakMap(), Kn = new WeakMap(), st = new WeakMap(), Ui = new WeakMap(), Ke = new WeakMap(), Je = new WeakMap(), Aa = new WeakSet(), df = function() {\n  const e = h(this, Tt).style, i = parseFloat(e.fontSize || \"0\");\n  h(this, st).fontsize = i, h(this, st).pad_left = parseFloat(e.paddingLeft || \"0\"), h(this, st).pad_right = parseFloat(e.paddingRight || \"0\"), h(this, st).pad_top = parseFloat(e.paddingTop || \"0\"), h(this, st).pad_bottom = parseFloat(e.paddingBottom || \"0\"), h(this, st).$width = parseFloat(e.width || \"0\"), h(this, st).$height = parseFloat(e.height || \"0\"), this.position.set(h(this, st).pad_left, h(this, st).pad_top), b(this, yn, e.writingMode === \"vertical-rl\"), b(this, ou, 0), b(this, Da, 0);\n  const n = e.lineHeight ?? \"0\";\n  b(this, Ua, h(this, yn) ? 0 : (n.slice(-2) === \"px\" ? parseFloat(n) : i * parseFloat(n) - i) / 2);\n}, ar = new WeakMap(), yn = new WeakMap(), ou = new WeakMap(), Da = new WeakMap(), kd = new WeakSet(), hx = function(e, i = !0) {\n  const n = {\n    escape: (y) => y.replaceAll(/([.*+?^${}()|\\[\\]\\/\\\\])/g, \"\\\\$1\"),\n    mimeType: (y) => {\n      const g = u(y).toLowerCase();\n      return s()[g] || \"\";\n    },\n    dataAsUrl: p,\n    isDataUrl: c,\n    resolveUrl: f,\n    getAndEncode: d,\n    asArray: (y) => {\n      const g = [], w = y.length;\n      for (let T = 0; T < w; ++T)\n        g.push(y[T]);\n      return g;\n    }\n  };\n  function s() {\n    const y = \"application/font-woff\", g = \"image/jpeg\";\n    return {\n      woff: y,\n      woff2: y,\n      ttf: \"application/font-truetype\",\n      eot: \"application/vnd.ms-fontobject\",\n      png: \"image/png\",\n      jpg: g,\n      jpeg: g,\n      gif: \"image/gif\",\n      tiff: \"image/tiff\",\n      svg: \"image/svg+xml\"\n    };\n  }\n  const o = m(), a = v();\n  function l(y) {\n    return a.resolveAll().then((g) => {\n      const w = document.createElement(\"style\");\n      return y.appendChild(w), w.appendChild(document.createTextNode(g)), y;\n    });\n  }\n  function u(y) {\n    const g = /\\.([^\\.\\/]*?)$/g.exec(y);\n    return (g == null ? void 0 : g[1]) ?? \"\";\n  }\n  function c(y) {\n    return y.search(/^(data:)/) !== -1;\n  }\n  function f(y, g) {\n    const w = document.implementation.createHTMLDocument(), T = w.createElement(\"base\");\n    w.head.appendChild(T);\n    const P = w.createElement(\"a\");\n    return w.body.appendChild(P), T.href = g, P.href = y, P.href;\n  }\n  function d(y) {\n    let g = 3e4;\n    return new Promise(function(w) {\n      const T = new XMLHttpRequest();\n      T.onreadystatechange = P, T.ontimeout = O, T.responseType = \"blob\", T.timeout = g, T.open(\"GET\", y, !0), T.send();\n      function P() {\n        if (T.readyState !== 4)\n          return;\n        if (T.status !== 200) {\n          C(\"cannot fetch resource: \" + y + \", status: \" + T.status);\n          return;\n        }\n        const I = new FileReader();\n        I.onloadend = function() {\n          const S = I.result.toString().split(/,/)[1];\n          w(S);\n        }, I.readAsDataURL(T.response);\n      }\n      function O() {\n        C(\"timeout of \" + g + \"ms occured while fetching resource: \" + y);\n      }\n      function C(I) {\n        console.error(I), w(\"\");\n      }\n    });\n  }\n  function p(y, g) {\n    return \"data:\" + g + \";base64,\" + y;\n  }\n  function m() {\n    const y = /url\\(['\"]?([^'\"]+?)['\"]?\\)/g;\n    return {\n      inlineAll: P,\n      shouldProcess: g\n    };\n    function g(O) {\n      return O.search(y) !== -1;\n    }\n    function w(O) {\n      const C = [];\n      let I;\n      for (; I = y.exec(O); )\n        C.push(I[1]);\n      return C.filter(function(S) {\n        return !n.isDataUrl(S);\n      });\n    }\n    function T(O, C, I, S) {\n      return Promise.resolve(C).then((N) => I ? n.resolveUrl(N, I) : N).then(S || n.getAndEncode).then((N) => n.dataAsUrl(N, n.mimeType(C))).then((N) => O.replace(M(C), \"$1\" + N + \"$3\"));\n      function M(N) {\n        return new RegExp(`(url\\\\(['\"]?)(` + n.escape(N) + `)(['\"]?\\\\))`, \"g\");\n      }\n    }\n    function P(O, C, I) {\n      if (S())\n        return Promise.resolve(O);\n      return Promise.resolve(O).then(w).then((M) => {\n        let N = Promise.resolve(O);\n        for (const D of M)\n          N = N.then((z) => T(z, D, C, I));\n        return N;\n      });\n      function S() {\n        return !g(O);\n      }\n    }\n  }\n  function v() {\n    return {\n      resolveAll: y,\n      impl: { readAll: g }\n    };\n    function y() {\n      return g().then((w) => Promise.allSettled(\n        w.map((T) => T.resolve())\n      )).then((w) => w.join(`\n`));\n    }\n    function g() {\n      return Promise.resolve(n.asArray(document.styleSheets)).then(T).then(w).then((O) => O.map(P));\n      function w(O) {\n        return O.filter((C) => C.type === CSSRule.FONT_FACE_RULE).filter((C) => o.shouldProcess(C.style.getPropertyValue(\"src\")));\n      }\n      function T(O) {\n        const C = [];\n        for (const I of O)\n          try {\n            if (I.href)\n              continue;\n            n.asArray(I.cssRules || []).forEach(C.push.bind(C));\n          } catch (S) {\n            console.error(\"Error while reading CSS rules from \" + I.href, S.toString());\n          }\n        return C;\n      }\n      function P(O) {\n        return {\n          resolve: function() {\n            const I = (O.parentStyleSheet || {}).href;\n            return o.inlineAll(O.cssText, I);\n          },\n          src: function() {\n            return O.style.getPropertyValue(\"src\");\n          }\n        };\n      }\n    }\n  }\n  Promise.resolve(h(this, Tt)).then((y) => {\n    const g = y.cloneNode(!0);\n    return g.style.padding = \"0px\", g.style.paddingRight = h(this, ou) + \"px\", g.style.paddingTop = h(this, Da) + \"px\", g.style.left = \"0px\", g.style.top = \"0px\", g.style.width = h(this, st).$width - h(this, st).pad_left - h(this, st).pad_right + \"px\", g.style.height = h(this, st).$height - h(this, st).pad_top - h(this, st).pad_bottom + \"px\", h(this, Tt).hidden = i, g;\n  }).then(l).then((y) => {\n    y.setAttribute(\"xmlns\", \"http://www.w3.org/1999/xhtml\");\n    const g = new Image();\n    return g.src = `data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"${h(this, st).$width}px\" height=\"${h(this, st).$height}px\"><foreignObject x=\"0\" y=\"0\" width=\"100%\" height=\"100%\">${new XMLSerializer().serializeToString(y).replaceAll(\"#\", \"%23\").replaceAll(`\n`, \"%0A\")}</foreignObject></svg>`, new Promise((w) => g.onload = () => w(g));\n  }).then((y) => new Promise((g) => setTimeout(() => g(y), 100))).then((y) => {\n    const g = document.createElement(\"canvas\");\n    g.width = h(this, st).$width, g.height = h(this, st).$height, g.getContext(\"2d\").drawImage(y, 0, 0), g.toBlob((w) => {\n      if (!w)\n        return;\n      const T = URL.createObjectURL(w);\n      lt.from(T).once(\"update\", (P) => {\n        e(P), URL.revokeObjectURL(T);\n      });\n    });\n  }).catch((y) => kt.myTrace(`goTxt() = ${y}`));\n}, Ys = new WeakMap(), Ba = new WeakMap(), Jn = new WeakMap(), qs = new WeakMap(), Zs = new WeakMap(), Ks = new WeakMap(), Fa = new WeakMap(), au = new WeakMap(), Qn = new WeakMap(), hu = new WeakSet(), iy = function(e, i, n, s, o, a) {\n  e.alpha = 0, i.x && (s.x = i.x.at(0) === \"=\" ? s.x + parseInt(i.x.slice(1)) : parseInt(i.x)), i.y && (s.y = i.y.at(0) === \"=\" ? s.y + parseInt(i.y.slice(1)) : parseInt(i.y)), i.width && (s.width = parseInt(i.width)), i.height && (s.height = parseInt(i.height)), i.wait && (a.wait = parseInt(i.wait)), e.width = s.width, e.height = s.height, a.x ? e.position.set(\n    a.x.at(0) === \"=\" ? s.x + e.width * a.nx : a.nx,\n    a.y.at(0) === \"=\" ? s.y + e.height * a.ny : a.ny\n  ) : e.position.set(s.x, s.y);\n  const l = {\n    sp: e,\n    tw: new Xr(e).to({ alpha: 1, x: s.x, y: s.y, width: s.width, height: s.height, angle: 0 }, a.wait ?? 0).easing(o).delay((n.wait ?? 0) + (i.delay ?? 0)).onComplete(() => {\n      l.tw = void 0;\n    }).start()\n  };\n  h(this, Ba).push(l);\n}, _n = new WeakMap(), lu = new WeakMap(), gn = new WeakMap(), Lr = new WeakMap(), Ua = new WeakMap(), uu = new WeakSet(), ry = function(e, i) {\n  const n = [];\n  if (e.nodeType !== e.TEXT_NODE)\n    return Array.from(e.childNodes).map((l) => x(this, uu, ry).call(this, l, i)).flat();\n  const s = e.ownerDocument.createRange();\n  s.selectNodeContents(e);\n  let o = 0;\n  const a = s.endOffset;\n  for (; o < a; ) {\n    s.setStart(e, o), s.setEnd(e, ++o);\n    const l = s.toString();\n    n.push({\n      ch: l,\n      rect: i(s.getBoundingClientRect(), l),\n      elm: s.startContainer.parentElement\n    });\n  }\n  return s.detach(), n;\n}, ts = new WeakMap(), Js = new WeakMap(), cu = new WeakSet(), ny = function() {\n  var o;\n  h(this, mn).clear(), b(this, Jn, []), b(this, qs, 0), this.skipChIn();\n  const e = h(this, Tt).cloneNode(!0);\n  e.textContent = \"\";\n  const i = h(this, Tt);\n  i.parentElement.insertBefore(e, i);\n  let n = 0;\n  i.querySelectorAll(\"span.sn_ch\").forEach((a) => {\n    var c, f, d;\n    const l = JSON.parse(\n      (a == null ? void 0 : a.dataset.add) ?? // 通常文字\n      ((c = a == null ? void 0 : a.children[0]) == null ? void 0 : c.getAttribute(\"data-add\")) ?? // ルビ\n      ((d = (f = a == null ? void 0 : a.children[0]) == null ? void 0 : f.children[0]) == null ? void 0 : d.getAttribute(\"data-add\")) ?? \"{}\"\n      // 縦中横\n    );\n    if (!l.ch_out_style)\n      return;\n    const u = h(pt, gn)[l.ch_out_style];\n    if (u) {\n      if (u.wait === 0) {\n        a.style.display = \"none\";\n        return;\n      }\n      n += u.wait, u.join || (a.style.animationDelay = \"0ms\"), a.classList.add(`go_ch_out_${l.ch_out_style}`);\n    }\n  });\n  const s = () => {\n    i.parentElement.removeChild(i);\n    for (const a of h(this, Nr).removeChildren())\n      a instanceof Jt && h(pt, Ws).unButton(a), a.destroy();\n  };\n  n === 0 ? (h(this, Tt).textContent = \"\", s()) : (o = i.lastElementChild) == null || o.addEventListener(\"animationend\", s, { once: !0, passive: !0 }), b(this, Tt, e);\n}, ni = new WeakMap(), _(he, La, void 0), _(he, su, void 0), _(he, Ws, void 0), _(he, Rd, {\n  \"background-color\": 0,\n  \"border-bottom-width\": 0,\n  \"border-left-width\": 0,\n  \"border-right-width\": 0,\n  \"border-top-width\": 0,\n  \"margin-bottom\": 0,\n  \"margin-left\": 0,\n  \"margin-right\": 0,\n  \"margin-top\": 0\n}), _(he, Zs, void 0), _(he, Ks, void 0), _(he, Fa, void 0), _(he, au, \"<span class='sn_ch sn_ch_last'>　</span>\"), _(he, _n, /* @__PURE__ */ Object.create(null)), _(he, lu, /[\\s\\.,]/), _(he, gn, /* @__PURE__ */ Object.create(null)), _(he, Lr, new Jt());\nvar Qs, Ar, fu;\nconst Vn = class {\n  constructor() {\n    _(this, Ar, () => {\n    });\n  }\n  static setting(t) {\n    t.sesame && b(Vn, Qs, t.sesame);\n  }\n  static getSesame() {\n    return h(Vn, Qs);\n  }\n  static destroy() {\n    b(Vn, Qs, \"ヽ\");\n  }\n  init(t) {\n    b(this, Ar, t);\n  }\n  static setEscape(t) {\n    b(Vn, fu, new RegExp(\n      `${t ? `(?<ce>\\\\${t}\\\\S)|` : \"\"}｜(?<str>[^《\\\\n]+)《(?<ruby>[^》\\\\n]+)》|(?:(?<kan>[⺀-⿟々〇〻㐀-鿿豈-﫿]+[ぁ-ヿ]*|[^　｜《》\\\\n])《(?<kan_ruby>[^》\\\\n]+)》)|(?<txt>[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[^｜《》]+?|.)`,\n      \"gs\"\n    ));\n  }\n  putTxt(t) {\n    for (const { groups: e } of t.matchAll(h(Vn, fu))) {\n      const { ruby: i, kan_ruby: n, kan: s, ce: o, txt: a = \"\", str: l } = e;\n      if (i) {\n        this.putTxtRb(decodeURIComponent(l), i);\n        continue;\n      }\n      if (n) {\n        this.putTxtRb(s, n);\n        continue;\n      }\n      if (o) {\n        h(this, Ar).call(this, o.slice(1), \"\");\n        continue;\n      }\n      for (const u of Array.from(a))\n        h(this, Ar).call(this, u, \"\");\n    }\n  }\n  putTxtRb(t, e) {\n    if (/^\\w+｜{\"/.test(e)) {\n      h(this, Ar).call(this, t, e);\n      return;\n    }\n    const i = Array.from(t), n = i.length;\n    if (/^\\*.?$/.test(e)) {\n      const l = \"center｜\" + (e === \"*\" ? h(Vn, Qs) : e.charAt(1));\n      for (let u = 0; u < n; ++u)\n        h(this, Ar).call(this, i[u], l);\n      return;\n    }\n    if (n === 1 || e.indexOf(\" \") === -1) {\n      h(this, Ar).call(this, t, decodeURIComponent(e));\n      return;\n    }\n    const s = e.split(\" \"), o = s.length, a = o > n ? o : n;\n    for (let l = 0; l < a; ++l)\n      h(this, Ar).call(this, l < n ? i[l] : \"\", l < o ? decodeURIComponent(s[l]) : \"\");\n  }\n};\nlet vs = Vn;\nQs = new WeakMap(), Ar = new WeakMap(), fu = new WeakMap(), _(vs, Qs, \"ヽ\"), /*\n\t\t★Unicodeで「漢字」の正規表現 – ものかの http://tama-san.com/kanji-regex/\n\t\t2E80..2FDF CJK部首補助＋康熙部首\n\t\t3005 々（漢字の踊り字）\n\t\t3007 〇（漢数字のゼロ）\n\t\t303B 〻（漢字の踊り字）\n\t\t3400..4DBF CJK統合漢字拡張A\n\t\t4E00..9FFF CJK統合漢字\n\t\tF900..FAFF CJK互換漢字\n\t\t20000..2FFFF CJK統合漢字拡張B〜F＋CJK互換漢字追加＋念のためU+2FFFFまで\n\n\t\t[\\x{2E80}-\\x{2FDF}々〇〻\\x{3400}-\\x{4DBF}\\x{4E00}-\\x{9FFF}\\x{F900}-\\x{FAFF}\\x{20000}-\\x{2FFFF}]\n\t\t[\\u2E80-\\u2FDF々〇〻\\u3400-\\u4DBF\\u4E00-\\u9FFF\\uF900-\\uFAFF\\u20000-\\u2FFFF]\n\t\t[⺀-⿟々〇〻㐀-䶿一-鿿豈-﫿\\u20000-\\u2FFFF]\t\t// 含まれない文字がある\n\t\t[⺀-⿟々〇〻㐀-鿿豈-﫿\\u20000-\\u2FFFF]\t\t\t// ヽ--30FD が変に引っかかる。多分\\u2000-\\u2FFF解釈\n\t\t\\\\u{20000}-\\\\u{2FFFF}\t// 五桁だとエラー\n\n\t\t【2022/10/03】ruby正規表現のUnicode プロパティ(とPOSIX文字クラス) - Qiita https://qiita.com/Takayuki_Nakano/items/8d38beaddb84b488d683\n\t\t\t> このHiraganaプロパティ、長音記号は含まれていません。\n\t\t\t> \\p{Han}…簡体字や繁体字、韓国語の漢字…ベトナム語の漢字にもマッチ\n\t\t\n\t\t・Unicode文字一覧表 - instant tools https://tools.m-bsys.com/ex/unicode_table.php\n*/\n_(vs, fu, void 0);\nvar du, pu, hr, bn, Nt, Nd, lx, Ga, ja, Ld, ux;\nconst ks = class extends Jt {\n  constructor(e, i, n, s) {\n    var d;\n    super();\n    _(this, Nd);\n    _(this, Ld);\n    B(this, \"getBtnBounds\", () => h(this, hr));\n    // 文字ボタンは背景画像を含まない位置指定なので、その当たり判定用\n    _(this, hr, new gt());\n    _(this, bn, void 0);\n    _(this, Nt, void 0);\n    B(this, \"normal\", () => {\n    });\n    _(this, Ga, () => !1);\n    _(this, ja, () => {\n    });\n    if (this.hArg = e, this.evtMng = i, this.resolve = n, this.canFocus = s, A.isDbg && (this.makeDesignCast = (p) => p(h(this, bn)), this.cvsResize = () => h(this, bn).cvsResize()), b(this, Nt, {\n      type: \"pic\",\n      enabled: K(e, \"enabled\", !0),\n      x: this.x = br(e.left ?? 0),\n      y: this.y = br(e.top ?? 0),\n      rotation: this.angle = j(e, \"rotation\", this.angle),\n      // flash : rotation is in degrees.\n      // pixijs: rotation is in radians, angle is in degrees.\n      pivot_x: this.pivot.x = j(e, \"pivot_x\", this.pivot.x),\n      pivot_y: this.pivot.y = j(e, \"pivot_y\", this.pivot.y),\n      scale_x: this.scale.x = j(e, \"scale_x\", this.scale.x),\n      scale_y: this.scale.y = j(e, \"scale_y\", this.scale.y),\n      alpha: 1,\n      text: \"\",\n      b_pic: \"\",\n      width: 0,\n      height: 0\n    }), this.getBtnBounds = () => (h(this, hr).x = h(this, Nt).x, h(this, hr).y = h(this, Nt).y, h(this, hr)), h(this, Nt).enabled && i.button(this.hArg, this, () => this.normal(), () => h(this, Ga).call(this), () => h(this, ja).call(this)), e.pic) {\n      h(this, Nt).type = \"pic\", b(this, bn, new qC(this, e)), Rt.csv2Sprites(\n        e.pic,\n        this,\n        (p) => {\n          x(this, Ld, ux).call(this, p), h(this, hr).width = p.width * h(this, Nt).scale_x, h(this, hr).height = p.height * h(this, Nt).scale_y;\n        },\n        (p) => n\n      );\n      return;\n    }\n    if (!e.text)\n      throw \"textまたはpic属性は必須です\";\n    const o = j(e, \"height\", 30), a = new Wo({\n      align: \"center\",\n      dropShadow: !0,\n      dropShadowAlpha: 0.7,\n      dropShadowColor: \"white\",\n      dropShadowBlur: 7,\n      dropShadowDistance: 0,\n      fill: h(this, Nt).enabled ? \"black\" : \"gray\",\n      fontFamily: ks.fontFamily,\n      fontSize: o,\n      padding: 5\n    });\n    if (e.style)\n      try {\n        const p = JSON.parse(e.style);\n        for (const [m, v] of Object.entries(p))\n          a[m] = v;\n      } catch (p) {\n        throw new Error(Jc(e, \"style\", p.message));\n      }\n    const l = new m_(e.text ?? \"\", a);\n    l.alpha = j(e, \"alpha\", l.alpha), l.width = j(e, \"width\", 100), l.height = e.height = o, this.setText = (p) => l.text = p, h(this, Nt).type = \"text\", b(this, Nt, { ...h(this, Nt), ...a }), h(this, Nt).alpha = l.alpha, h(this, Nt).text = l.text, h(this, Nt).width = l.width, h(this, Nt).height = l.height, b(this, bn, new YC(this, e, l));\n    let u = !1;\n    if (h(this, Nt).width = this.width, h(this, Nt).height = this.height, e.b_pic && (h(this, Nt).b_pic = e.b_pic, u = Rt.csv2Sprites(\n      e.b_pic,\n      this,\n      (p) => {\n        x(this, Nd, lx).call(this, p, l), h(this, Nt).width = this.width, h(this, Nt).height = this.height;\n      },\n      (p) => {\n        ui.setBlendmode(this, e), p && n();\n      }\n    )), l.name = JSON.stringify(h(this, Nt)), this.addChild(l), h(this, hr).width = l.width, h(this, hr).height = l.height, e.b_pic || ui.setBlendmode(this, e), h(d = ks, du).call(d, this, l), !h(this, Nt).enabled) {\n      u || n();\n      return;\n    }\n    const c = a.clone();\n    if (e.style_hover)\n      try {\n        const p = JSON.parse(e.style_hover);\n        for (const [m, v] of Object.entries(p))\n          c[m] = v;\n      } catch (p) {\n        throw new Error(Jc(e, \"style_hover\", p.message));\n      }\n    else\n      c.fill = \"white\";\n    const f = c.clone();\n    if (e.style_clicked)\n      try {\n        const p = JSON.parse(e.style_clicked);\n        for (const [m, v] of Object.entries(p))\n          f[m] = v;\n      } catch (p) {\n        throw new Error(Jc(e, \"style_clicked\", p.message));\n      }\n    else\n      f.dropShadow = !1;\n    this.normal = () => l.style = a, b(this, Ga, () => s() ? (l.style = c, !0) : !1), b(this, ja, () => l.style = f), u || n();\n  }\n  static init(e) {\n    e.oCfg.debug.masume && (b(ks, du, (i, n) => i.addChild(\n      new Ri().beginFill(8926088, 0.2).lineStyle(1, 8926088, 1).drawRect(n.x, n.y, n.width, n.height).endFill()\n    )), b(ks, pu, (i, n, s, o) => i.addChild(\n      new Ri().beginFill(8926088, 0.2).lineStyle(1, 8926088, 1).drawRect(n.x, n.y, s, o).endFill()\n    )));\n  }\n  setText(e) {\n  }\n  destroy(e) {\n    this.evtMng.unButton(this), super.destroy();\n  }\n  makeDesignCast(e) {\n  }\n  showDesignCast() {\n    h(this, bn).visible = !0;\n  }\n  cvsResize() {\n  }\n};\nlet gr = ks;\ndu = new WeakMap(), pu = new WeakMap(), hr = new WeakMap(), bn = new WeakMap(), Nt = new WeakMap(), Nd = new WeakSet(), lx = function(e, i) {\n  this.setChildIndex(e, 0), e.alpha = i.alpha, e.setTransform(\n    i.x,\n    i.y,\n    1,\n    1,\n    i.rotation,\n    0,\n    0,\n    (e.width - i.width) / 2,\n    (e.height - i.height) / 2\n  ), e.name = i.name;\n}, Ga = new WeakMap(), ja = new WeakMap(), Ld = new WeakSet(), ux = function(e) {\n  var f;\n  h(this, Nt).alpha = e.alpha = j(this.hArg, \"alpha\", e.alpha), h(this, bn).setSp(e);\n  const i = e.width / 3, n = h(this, Nt).enabled ? i : e.width, s = e.height, o = e.texture.baseTexture, a = new lt(o, new gt(0, 0, i, s)), l = new lt(o, new gt(i, 0, i, s)), u = new lt(o, new gt(i * 2, 0, i, s)), c = () => e.texture = a;\n  h(this, Nt).enabled && c(), this.normal = c, b(this, Ga, () => this.canFocus() ? (e.texture = u, !0) : !1), b(this, ja, () => e.texture = l), \"width\" in this.hArg ? (h(this, Nt).width = br(this.hArg.width), this.scale.x *= h(this, Nt).width / n) : h(this, Nt).width = n, \"height\" in this.hArg ? (h(this, Nt).height = br(this.hArg.height), this.scale.y *= h(this, Nt).height / s) : h(this, Nt).height = s, e.name = JSON.stringify(h(this, Nt)), h(f = ks, pu).call(f, this, e, n, s);\n}, B(gr, \"fontFamily\", \"'Hiragino Sans', 'Hiragino Kaku Gothic ProN', '游ゴシック Medium', meiryo, sans-serif\"), _(gr, du, (e, i) => {\n}), _(gr, pu, (e, i, n, s) => {\n});\nvar Ha, lr, vu, $a, mu, sy, yu, oy, _u, to, gu, xn, eo, Ad, cx, wn, Gi, ur, zt, Dr, Mt, bu, Br, Dd, si, io, Xh, ro, za, no, Wh, Va, xu, ay, wu, hy, so, oo, Xa, Eu, Wa, es, oi, Bd, fx, wi, Tu, Ya, pf, En, Ms, Fr, cr, ji, Hi, Su, ly, qa, vf, Pu, uy, ao, ho;\nconst yt = class extends ui {\n  constructor() {\n    super();\n    _(this, io);\n    _(this, no);\n    _(this, xu);\n    _(this, wu);\n    _(this, Bd);\n    _(this, Ya);\n    _(this, En);\n    _(this, Su);\n    _(this, qa);\n    _(this, Pu);\n    // バック\n    _(this, wn, 0);\n    _(this, Gi, 0);\n    _(this, ur, !1);\n    _(this, zt, void 0);\n    _(this, Dr, \"\");\n    // 背景画像無し（＝単色塗り）\n    // 文字表示\n    _(this, Mt, new he(this.spLay, () => this.canFocus(), h(yt, gu)));\n    _(this, bu, new vs());\n    _(this, Br, document.createElement(\"span\"));\n    _(this, si, new Jt());\n    _(this, ro, \"\");\n    _(this, za, !0);\n    _(this, Va, \"\");\n    _(this, so, \"\");\n    _(this, oo, (e) => \"\");\n    _(this, Xa, \"\");\n    _(this, Eu, new RegExp(\"[　]\"));\n    B(this, \"isCur\", !1);\n    _(this, es, () => \"\");\n    _(this, oi, \"\");\n    _(this, wi, !1);\n    _(this, Tu, (e, i) => {\n      var u, c, f;\n      h(yt, Ha).oCfg.debug.putCh && console.log(`🖊 文字表示 text:\\`${e}\\` ruby:\\`${i}\\` name:\\`${this.name_}\\``);\n      const n = i.split(\"｜\");\n      let s = \"\";\n      const [o, ...a] = n, l = a.join(\"｜\");\n      switch (n.length) {\n        case 1:\n          if (b(this, wi, !0), e === `\n`) {\n            h(this, cr) ? (b(this, cr, !1), s = \"<ruby>　<rt>　</rt></ruby><br/>\") : s = \"<br/>\";\n            break;\n          }\n          h(this, cr) && (b(this, cr, !1), i === \"\" && (i = \"　\")), s = x(this, Ya, pf).call(this, e, i, h(this, oi));\n          break;\n        default:\n          switch (o) {\n            case \"start\":\n            case \"left\":\n            case \"center\":\n            case \"right\":\n            case \"justify\":\n            case \"121\":\n            case \"even\":\n            case \"1ruby\":\n              b(this, cr, !1), b(this, wi, !0), s = x(this, Ya, pf).call(this, e, l, o);\n              break;\n            case \"gotxt\":\n              x(this, qa, vf).call(this), h(this, wi) ? (this.isCur && h(yt, $a).recText(\n                h(this, ji).join(\"\").replace(/^<ruby>　<rt>　<\\/rt><\\/ruby>(<br\\/>)+/, \"\").replaceAll(/style='(anim\\S+ \\S+?;\\s*)+/g, \"style='\").replaceAll(/( style=''| data-(add|arg|cmd)='.+?'|\\n+|\\t+)/g, \"\").replaceAll(/class='sn_ch .+?'/g, \"class='sn_ch'\").replaceAll(\"display: none;\", \"\").replaceAll(\"class='offrec'\", \"style='display: none;'\")\n                // 囲んだ領域は履歴で非表示\n              ), h(this, Mt).goTxt(h(this, ji), h(this, Fr) === 0), b(this, wi, !1), b(this, Fr, 0)) : this.isCur && h(yt, to).noticeCompTxt();\n              return;\n            case \"add\":\n              {\n                const d = JSON.parse(l), { style: p = \"\", wait: m = null } = d, { cl: v, sty: y } = x(this, En, Ms).call(this, !0, m);\n                h(this, ji).push(`<span${v} style='${y} display: inline; ${p}'>`), delete d.style, x(this, Su, ly).call(this, d);\n              }\n              return;\n            case \"add_close\":\n              h(this, ji).push(\"</span>\"), x(this, qa, vf).call(this);\n              return;\n            case \"grp\":\n              b(this, wi, !0);\n              {\n                const d = JSON.parse(l);\n                if (d.id ?? (d.id = h(this, ji).length), d.id === \"break\") {\n                  h(this, Mt).dispBreak(d.pic);\n                  return;\n                }\n                b(this, cr, !1), d.delay = h(this, Fr), d.r ?? (d.r = \"\"), d.style ?? (d.style = \"\"), d.r_style ?? (d.r_style = \"\");\n                const { cl: p, sty: m, lnk: v } = x(this, En, Ms).call(this, !0, d.wait);\n                s = `<span${p} style='${m} ${d.style}'><ruby><span data-cmd='grp' data-arg='${JSON.stringify(d)}'${v} style='${m} display: inline;'>　</span><rt${v}${this.mkStyle_r_align(\n                  \"　\",\n                  d.r,\n                  h(this, oi),\n                  h(this, Br).style.cssText + (((u = h(this, Hi).at(-1)) == null ? void 0 : u.o.r_style) ?? \"\") + d.r_style\n                )}>${d.r}</rt></ruby></span>`;\n              }\n              break;\n            case \"tcy\":\n              b(this, cr, !1), b(this, wi, !0);\n              {\n                const { t: d, r: p = \"\", wait: m = null, style: v = \"\", r_style: y = \"\" } = JSON.parse(l);\n                h(yt, lr).doRecLog() && (b(this, ao, h(this, ao) + (e + (i ? `《${i}》` : \"\"))), b(this, ho, h(this, ho) + d));\n                const g = A.isSafari ? p.replaceAll(/[A-Za-z0-9]/g, (O) => String.fromCharCode(O.charCodeAt(0) + 65248)) : p, { cl: w, sty: T, lnk: P } = x(this, En, Ms).call(this, !0, m);\n                s = `<span${w} style='${T}${h(this, oo).call(this, d)} ${v}'><ruby><span${P} style='${T} display: inline;\ntext-combine-upright: all;\n-webkit-text-combine: horizontal;'>${d}</span><rt${P}${this.mkStyle_r_align(\n                  d,\n                  g,\n                  h(this, oi),\n                  h(this, Br).style.cssText + (((c = h(this, Hi).at(-1)) == null ? void 0 : c.o.r_style) ?? \"\") + y\n                )}>${g}</rt></ruby></span>`;\n              }\n              break;\n            case \"del\":\n              he.delBreak();\n              return;\n            case \"span\":\n              b(this, wi, !0), x(this, Pu, uy).call(this, JSON.parse(l));\n              return;\n            case \"link\":\n              b(this, wi, !0);\n              {\n                const d = JSON.parse(l);\n                d[\":link\"] = \" data-lnk='@'\";\n                const { cl: p, sty: m, curpos: v } = x(this, En, Ms).call(this, !1, d.wait);\n                h(this, ji).push(`<span${p} style='${m} display: inline; ${d.style ?? \"\"}' ${v} data-arg='${l}'>`), delete d.style, x(this, Pu, uy).call(this, d);\n              }\n              return;\n            case \"endlink\":\n              b(this, wi, !0), h(this, ji).push(\"</span>\"), x(this, qa, vf).call(this);\n              return;\n            default:\n              b(this, wi, !0), s = x(this, Ya, pf).call(this, e, i, h(this, oi));\n          }\n          break;\n      }\n      h(this, ji).push(h(f = yt, Wa).call(f, s));\n    });\n    _(this, Fr, 0);\n    _(this, cr, !0);\n    _(this, ji, []);\n    _(this, Hi, []);\n    B(this, \"click\", () => !this.spLay.interactiveChildren || !this.spLay.visible ? !1 : h(this, Mt).skipChIn());\n    _(this, ao, \"\");\n    _(this, ho, \"\");\n    B(this, \"addButton\", (e) => new Promise((i) => {\n      e.key = `btn=[${h(this, si).children.length}] ` + this.name_, e[\":id_tag\"] = e.key.slice(0, -7), K(e, \"hint_tate\", h(this, Mt).tategaki);\n      const n = new gr(e, h(yt, to), () => i(), () => this.canFocus());\n      n.name = JSON.stringify(e).replaceAll('\"', \"'\"), h(this, si).addChild(n);\n    }));\n    B(this, \"record\", () => ({\n      ...super.record(),\n      enabled: this.enabled,\n      r_cssText: h(this, Br).style.cssText,\n      r_align: h(this, oi),\n      // バック\n      b_do: h(this, zt) === void 0 ? void 0 : h(this, zt) instanceof ge ? \"Sprite\" : \"Graphics\",\n      b_pic: h(this, Dr),\n      b_color: h(this, wn),\n      b_alpha: h(this, Gi),\n      b_alpha_isfixed: h(this, ur),\n      ffs: h(this, so),\n      txs: h(this, Mt).record(),\n      strNoFFS: h(this, Xa),\n      btns: h(this, si).children.map((e) => e.name)\n    }));\n    this.spLay.addChild(h(this, Mt)), h(this, bu).init(h(this, Tu)), this.spLay.addChild(h(this, si)), h(this, si).name = \"cntBtn\";\n    const e = 16;\n    this.lay({ style: `width: ${A.stageW}px; height: ${A.stageH}px; font-family: 'Hiragino Sans', 'Hiragino Kaku Gothic ProN', '游ゴシック Medium', meiryo, sans-serif; color: white; font-size: 24px; line-height: 1.5; padding: ${e}px;`, in_style: \"default\", out_style: \"default\", back_clear: \"true\" });\n  }\n  static init(e, i, n, s, o, a) {\n    var l, u;\n    b(yt, Ha, e), he.init(e, a), b(yt, lr, n), b(yt, $a, s), b(yt, vu, o), n.setDoRecProc(yt.chgDoRec), i.autowc = (c) => {\n      var f;\n      return x(f = yt, Ad, cx).call(f, c);\n    }, i.autowc({ enabled: !1, text: \"\", time: 0 }), i.ch_in_style = (c) => {\n      var f;\n      return x(f = yt, mu, sy).call(f, c);\n    }, i.ch_out_style = (c) => {\n      var f;\n      return x(f = yt, yu, oy).call(f, c);\n    }, he.initChStyle(), lE(), rl(\n      e.matchPath(\".+\", ii.FONT).flatMap((c) => Object.values(c).map((f) => `\n@font-face {\n\tfont-family: '${f}';\n\tsrc: url('${h(this, Ha).searchPath(f, ii.FONT)}');\n}\n`)).join(\"\") + `\n.sn_tx {\n\tpointer-events: none;\n\tuser-select: none;\n\t-webkit-touch-callout: none;\n\tbox-sizing: border-box;\n}\n.sn_ch {\n\tposition: relative;\n\tdisplay: inline-block;\n}\n`\n      // 「sn_ch」と「sn_ch_in_〜」の中身が重複しているが、これは必須\n    ), x(l = yt, mu, sy).call(l, {\n      name: \"default\",\n      wait: 500,\n      alpha: 0,\n      x: \"=0.3\",\n      y: \"=0\",\n      scale_x: 1,\n      scale_y: 1,\n      rotate: 0,\n      join: !0,\n      ease: \"ease-out\"\n    }), x(u = yt, yu, oy).call(u, {\n      name: \"default\",\n      wait: 0,\n      alpha: 0,\n      x: \"=0\",\n      y: \"=0\",\n      scale_x: 1,\n      scale_y: 1,\n      rotate: 0,\n      join: !1,\n      ease: \"ease-out\"\n    });\n  }\n  static setEvtMng(e, i, n) {\n    b(yt, _u, e), b(yt, to, i), b(yt, gu, n), he.setEvtMng(i);\n  }\n  destroy() {\n    h(this, zt) && (this.spLay.removeChild(h(this, zt)).destroy(), b(this, zt, void 0)), this.clearText(), h(this, Mt).destroy();\n  }\n  static destroy() {\n    b(yt, xn, !1), b(yt, eo, {}), b(yt, Wa, (e) => e);\n  }\n  set name(e) {\n    this.name_ = e, h(this, Mt).name = e;\n  }\n  get name() {\n    return this.name_;\n  }\n  // getは継承しないらしい\n  cvsResize() {\n    h(this, Mt).cvsResize();\n  }\n  cvsResizeChildren() {\n    for (const e of h(this, si).children)\n      e.cvsResize();\n  }\n  procSetX(e) {\n    h(this, Mt).lay({ x: e });\n  }\n  procSetY(e) {\n    h(this, Mt).lay({ y: e });\n  }\n  lay(e) {\n    if (super.lay(e), ui.setXY(this.spLay, e, this.spLay), e[\":id_tag\"] = this.name_.slice(0, -7), vs.setting(e), x(this, wu, hy).call(this, e), h(this, Mt).lay(e), \"r_align\" in e && b(this, oi, e.r_align ?? \"\"), b(this, es, A.isSafari ? h(this, Mt).tategaki ? (i, n) => `text-align: start; height: ${n}em; padding-top: ${i}; padding-bottom: ${i};` : (i, n) => `text-align: start; width: ${n}em; padding-left: ${i}; padding-right: ${i};` : h(this, Mt).tategaki ? (i) => `text-align: justify; text-align-last: justify; padding-top: ${i}; padding-bottom: ${i};` : (i) => `text-align: justify; text-align-last: justify; padding-left: ${i}; padding-right: ${i};`), A.isFirefox && (this.mkStyle_r_align = x(this, Bd, fx)), \"r_style\" in e)\n      if (e.r_style) {\n        const i = document.createElement(\"span\");\n        i.style.cssText = e.r_style;\n        const n = i.style.length, s = h(this, Br).style;\n        for (let o = 0; o < n; ++o) {\n          const a = i.style[o];\n          if (a in h(yt, Dd)) {\n            kt.myTrace(`${a}は指定できません`, \"W\");\n            continue;\n          }\n          s[a] = i.style[a];\n        }\n      } else\n        h(this, Br).style.cssText = \"\";\n    if (\"alpha\" in e)\n      for (const i of h(this, si).children)\n        i.alpha = this.spLay.alpha;\n    return x(this, io, Xh).call(this, e), x(this, no, Wh).call(this, e), x(this, xu, ay).call(this, e, (i) => {\n      i && h(yt, _u).resume();\n    });\n  }\n  get width() {\n    return h(this, Mt).getWidth;\n  }\n  get height() {\n    return h(this, Mt).getHeight;\n  }\n  chgBackAlpha(e) {\n    const i = h(this, ur) ? h(this, Gi) : e * h(this, Gi);\n    h(this, zt) instanceof Ri && (h(this, zt) && (this.spLay.removeChild(h(this, zt)), h(this, zt).destroy()), this.spLay.addChildAt(\n      b(this, zt, new Ri()).beginFill(h(this, wn)).lineStyle(void 0).drawRect(0, 0, h(this, Mt).getWidth, h(this, Mt).getHeight).endFill(),\n      0\n    ), h(this, zt).name = \"back(color)\"), h(this, zt) && (h(this, zt).visible = i > 0, h(this, zt).alpha = i);\n  }\n  // Safariが全体に「font-feature-settings」した後、特定文字の「font-feature-settings: initial;」を受け付けてくれないのでわざわざ一つずつ指定\n  static chgDoRec(e) {\n    b(yt, Wa, e ? (i) => i : (i) => `<span class='offrec'>${i}</span>`);\n  }\n  mkStyle_r_align(e, i, n, s = \"\") {\n    if (!n)\n      return ` style='${s}'`;\n    const o = e.length * 2;\n    if (o - i.length < 0)\n      return ` style='text-align: ${n}; ${s}'`;\n    let a = \"\";\n    switch (n) {\n      case \"justify\":\n        a = h(this, es).call(this, \"0\", o);\n        break;\n      case \"121\":\n        a = h(this, es).call(this, `calc(${(o - i.length) / (i.length * 2)}em)`, o);\n        break;\n      case \"even\":\n        a = h(this, es).call(this, `calc(${(o - i.length) / (i.length + 1)}em)`, o);\n        break;\n      case \"1ruby\":\n        a = h(this, es).call(this, \"1em\", o);\n        break;\n      default:\n        a = `text-align: ${n};`;\n    }\n    return ` style='${a} ${s}'`;\n  }\n  tagCh(e) {\n    h(this, bu).putTxt(e);\n  }\n  clearText() {\n    this.spLay.addChild(b(this, Mt, h(this, Mt).reNew())), b(this, Fr, 0), b(this, cr, !0), b(this, ji, []), b(this, ao, \"\"), b(this, ho, \"\"), h(yt, $a).recPagebreak();\n  }\n  get pageText() {\n    return h(this, ao).replace(\"《　》\", \"\");\n  }\n  get pagePlainText() {\n    return h(this, ho);\n  }\n  get enabled() {\n    return this.spLay.interactiveChildren;\n  }\n  set enabled(e) {\n    this.spLay.interactiveChildren = e;\n  }\n  canFocus() {\n    var e;\n    return (this.spLay.interactiveChildren ?? !1) && this.spLay.visible && h(e = yt, vu).call(e, this);\n  }\n  clearLay(e) {\n    super.clearLay(e), this.clearText();\n    for (const i of h(this, si).removeChildren())\n      i.destroy();\n  }\n  playback(e, i) {\n    super.playback(e, i), this.enabled = e.enabled, h(this, Br).style.cssText = e.r_cssText, b(this, oi, e.r_align), this.cvsResize(), x(this, wu, hy).call(this, e), h(this, Mt).playback(e.txs), b(this, Gi, e.b_alpha), b(this, ur, e.b_alpha_isfixed), i.push(new Promise((s) => {\n      const o = e.b_do ? e.b_do === \"Sprite\" ? { b_pic: e.b_pic } : { b_color: e.b_color } : { b_pic: \"\" };\n      o.b_alpha = e.b_alpha, o.b_alpha_isfixed = e.b_alpha_isfixed, x(this, xu, ay).call(this, o, (a) => {\n        a && s();\n      }) || s();\n    }));\n    const n = e.btns;\n    i = i.concat(n.map((s) => this.addButton(JSON.parse(s.replaceAll(\"'\", '\"')))));\n  }\n  snapshot(e, i) {\n    e.render(this.spLay, { clear: !1 }), h(this, Mt).snapshot(e, i);\n  }\n  snapshot_end() {\n    h(this, Mt).snapshot_end();\n  }\n  makeDesignCast(e) {\n    this.spLay.visible && h(this, Mt).makeDesignCast(e);\n  }\n  makeDesignCastChildren(e) {\n    if (this.spLay.visible)\n      for (const i of h(this, si).children)\n        i.makeDesignCast(e);\n  }\n  showDesignCast() {\n    h(this, Mt).showDesignCast();\n  }\n  showDesignCastChildren() {\n    for (const e of h(this, si).children)\n      e.showDesignCast();\n  }\n  dump() {\n    return h(this, Tu).call(this, \"\", \"gotxt｜\"), super.dump() + `, \"enabled\":\"${this.enabled}\", ${h(this, Mt).dump()}, \"b_pic\":\"${h(this, Dr)}\", \"b_color\":\"${h(this, wn)}\", \"b_alpha\":${h(this, Gi)}, \"b_alpha_isfixed\":\"${h(this, ur)}\", \"width\":${h(this, Mt).getWidth}, \"height\":${h(this, Mt).getHeight}, \"pixi_obj\":[${this.spLay.children.map((e) => `{\"class\":\"${e instanceof ge ? \"Sprite\" : e instanceof Ri ? \"Graphics\" : e instanceof Jt ? \"Container\" : \"?\"}\", \"name\":\"${e.name}\", \"alpha\":${e.alpha}, \"x\":${e.x}, \"y\":${e.y}, \"visible\":\"${e.visible}\"}`).join(\",\")}], \"button\":[${h(this, si).children.map((e) => e.children[0].name ?? \"{}\").join(\",\")}]`;\n  }\n};\nlet re = yt;\nHa = new WeakMap(), lr = new WeakMap(), vu = new WeakMap(), $a = new WeakMap(), mu = new WeakSet(), sy = function(e) {\n  const i = he.ch_in_style(e), n = i.x.at(0) === \"=\" ? `${i.nx * 100}%` : `${i.nx}px`, s = i.y.at(0) === \"=\" ? `${i.ny * 100}%` : `${i.ny}px`, { name: o } = e;\n  return rl(`\n.sn_ch_in_${o} {\n\tposition: relative;\n\tdisplay: inline-block;\n}\n.go_ch_in_${o} {\n\topacity: ${i.alpha};\n\tposition: relative;\n\tdisplay: inline-block;\n\tanimation: sn_ch_in_${o} ${i.wait}ms ${i.ease} 0s both;\n}\n@keyframes sn_ch_in_${o} {\n\tfrom {transform: rotate(${i.rotate}deg) scale(${i.scale_x}, ${i.scale_y}) translate(${n}, ${s});}\n\tto {opacity: 1; transform: none;}\n}\n`), !1;\n}, yu = new WeakSet(), oy = function(e) {\n  const i = he.ch_out_style(e), n = i.x.at(0) === \"=\" ? `${i.nx * 100}%` : `${i.nx}px`, s = i.y.at(0) === \"=\" ? `${i.ny * 100}%` : `${i.ny}px`, { name: o } = e;\n  return rl(`\n.go_ch_out_${o} {\n\tposition: relative;\n\tdisplay: inline-block;\n\tanimation: go_ch_out_${o} ${i.wait}ms ${i.ease} 0s both;\n}\n@keyframes go_ch_out_${o} {\n\tto {\n\t\topacity: ${i.alpha};\n\t\ttransform: rotate(${i.rotate}deg) scale(${i.scale_x}, ${i.scale_y}) translate(${n}, ${s});\n\t}\n`), !1;\n}, _u = new WeakMap(), to = new WeakMap(), gu = new WeakMap(), xn = new WeakMap(), eo = new WeakMap(), Ad = new WeakSet(), cx = function(e) {\n  b(yt, xn, K(e, \"enabled\", h(yt, xn))), h(yt, lr).setVal_Nochk(\"save\", \"const.sn.autowc.enabled\", h(yt, xn));\n  const { text: i } = e;\n  if (\"text\" in e != \"time\" in e)\n    throw \"[autowc] textとtimeは同時指定必須です\";\n  if (h(yt, lr).setVal_Nochk(\"save\", \"const.sn.autowc.text\", i), !i)\n    return h(yt, lr).setVal_Nochk(\"save\", \"const.sn.autowc.time\", \"\"), !1;\n  const n = i.length;\n  if (h(yt, xn) && n === 0)\n    throw '[autowc] enabled === false かつ text === \"\" は許されません';\n  const s = String(e.time).split(\",\");\n  if (s.length !== n)\n    throw \"[autowc] text文字数とtimeに記述された待ち時間（コンマ区切り）は同数にして下さい\";\n  return b(yt, eo, {}), s.forEach((o, a) => h(yt, eo)[i[a]] = br(o)), h(yt, lr).setVal_Nochk(\"save\", \"const.sn.autowc.time\", e.time), !1;\n}, wn = new WeakMap(), Gi = new WeakMap(), ur = new WeakMap(), zt = new WeakMap(), Dr = new WeakMap(), Mt = new WeakMap(), bu = new WeakMap(), Br = new WeakMap(), Dd = new WeakMap(), si = new WeakMap(), io = new WeakSet(), Xh = function(e) {\n  const { in_style: i } = e;\n  if (!i)\n    return;\n  const n = he.getChInStyle(i);\n  if (!n)\n    throw `存在しないin_style【${i}】です`;\n  b(this, ro, i), b(this, za, n.join);\n}, ro = new WeakMap(), za = new WeakMap(), no = new WeakSet(), Wh = function(e) {\n  const { out_style: i } = e;\n  if (!i)\n    return;\n  if (!he.getChOutStyle(i))\n    throw `存在しないout_style【${i}】です`;\n  b(this, Va, i);\n}, Va = new WeakMap(), xu = new WeakSet(), ay = function(e, i) {\n  if (\"back_clear\" in e)\n    return K(e, \"back_clear\", !1) && (b(this, wn, 0), b(this, Gi, 0), b(this, ur, !1), b(this, Dr, \"\")), i(!1), !1;\n  b(this, Gi, j(e, \"b_alpha\", h(this, Gi))), b(this, ur, K(e, \"b_alpha_isfixed\", h(this, ur)));\n  const n = (h(this, ur) ? 1 : Number(h(yt, lr).getVal(\"sys:TextLayer.Back.Alpha\"))) * h(this, Gi);\n  if (e.b_pic) {\n    if (h(this, Dr) !== e.b_pic)\n      return b(this, Dr, e.b_pic), h(this, zt) && (this.spLay.removeChild(h(this, zt)), h(this, zt).destroy()), Rt.csv2Sprites(h(this, Dr), this.spLay, (s) => {\n        b(this, zt, s), s.name = \"back(pic)\", s.visible = n > 0, s.alpha = n, h(this, Mt).setSize(s.width, s.height), this.spLay.setChildIndex(s, 0), i(!0);\n      });\n  } else\n    \"b_color\" in e && (b(this, wn, _0(e, \"b_color\", 0)), h(this, zt) && (this.spLay.removeChild(h(this, zt)), h(this, zt).destroy()), b(this, Dr, \"\"), this.spLay.addChildAt(\n      b(this, zt, new Ri()).beginFill(h(this, wn)).lineStyle(void 0).drawRect(0, 0, h(this, Mt).getWidth, h(this, Mt).getHeight).endFill(),\n      0\n    ), h(this, zt).name = \"back(color)\");\n  return h(this, zt) && (h(this, zt).visible = n > 0, h(this, zt).alpha = n), i(!1), !1;\n}, wu = new WeakSet(), hy = function(e) {\n  \"noffs\" in e && (b(this, Xa, e.noffs ?? \"\"), b(this, Eu, new RegExp(`[　${h(this, Xa)}]`))), \"ffs\" in e && (h(this, so) ?? b(this, so, \"\"), b(this, oo, h(this, so) === \"\" ? () => \"\" : (i) => h(this, Eu).test(i) ? \"\" : ` font-feature-settings: ${h(this, so)};`));\n}, so = new WeakMap(), oo = new WeakMap(), Xa = new WeakMap(), Eu = new WeakMap(), Wa = new WeakMap(), es = new WeakMap(), oi = new WeakMap(), Bd = new WeakSet(), fx = function(e, i, n, s = \"\") {\n  if (!n)\n    return ` style='${s}'`;\n  const o = e.length * 2;\n  if (o - i.length < 0)\n    return ` style='text-align: ${n}; ${s}'`;\n  let a = \"\";\n  switch (n) {\n    case \"left\":\n      a = \"ruby-align: start;\";\n      break;\n    case \"center\":\n      a = \"ruby-align: center;\";\n      break;\n    case \"right\":\n      a = \"ruby-align: start;\";\n      break;\n    case \"justify\":\n      a = \"ruby-align: space-between;\";\n      break;\n    case \"121\":\n      a = \"ruby-align: space-around;\";\n      break;\n    case \"even\":\n      const l = (o - i.length) / (i.length + 1);\n      a = \"ruby-align: space-between; \" + (h(this, Mt).tategaki ? `padding-top: ${l}em; padding-bottom: ${l}em;` : `padding-left: ${l}em; padding-right: ${l}em;`);\n      break;\n    case \"1ruby\":\n      a = \"ruby-align: space-between; \" + (h(this, Mt).tategaki ? \"padding-top: 1em; padding-bottom: 1em;\" : \"padding-left: 1em; padding-right: 1em;\");\n      break;\n    default:\n      a = `text-align: ${n};`;\n  }\n  return ` style='${a} ${s}'`;\n}, wi = new WeakMap(), Tu = new WeakMap(), Ya = new WeakSet(), pf = function(e, i, n) {\n  var u;\n  const s = e === \" \" ? \"&nbsp;\" : e;\n  h(yt, lr).doRecLog() && (b(this, ao, h(this, ao) + (s + (i ? `《${i}》` : \"\"))), e !== \" \" && b(this, ho, h(this, ho) + e));\n  const { cl: o, sty: a, lnk: l } = x(this, En, Ms).call(this, !0, null, e);\n  return i ? `<span${o} style='${a} ${h(this, oo).call(this, e)}'><ruby>${// 文字個別に出現させるため以下にも ${cl} が必要\n  Array.from(e).map((c, f) => `<span${o}${l} style='${f > 0 ? x(this, En, Ms).call(this, !0, null, e).sty : a} display: inline;'>${c === \" \" ? \"&nbsp;\" : c}</span>`).join(\"\")}<rt${l}${this.mkStyle_r_align(\n    e,\n    i,\n    n,\n    h(this, Br).style.cssText + (((u = h(this, Hi).at(-1)) == null ? void 0 : u.o.r_style) ?? \"\")\n  )}>${i}</rt></ruby></span>` : `<span${o} style='${a} ${h(this, oo).call(this, e)}'${l}>${s}</span>`;\n}, En = new WeakSet(), Ms = function(e, i, n = `\n`) {\n  var a, l, u;\n  const s = h(this, za) ? i ?? ((a = h(this, Hi).at(0)) == null ? void 0 : a.o.wait) ?? (h(yt, xn) ? h(yt, eo)[n.at(0) ?? \"\"] ?? 0 : Ls.msecChWait) : 0;\n  h(yt, to).isSkippingByKeyDown() ? b(this, Fr, 0) : e && h(this, za) && b(this, Fr, h(this, Fr) + Number(s));\n  const o = `data-add='{\"ch_in_style\":\"${h(this, ro)}\", \"ch_out_style\":\"${h(this, Va)}\"}'`;\n  return {\n    cl: ` class='sn_ch${s > 0 ? ` sn_ch_in_${h(this, ro)}` : \"\"}'`,\n    // TxtStage.goTxt()はこれ単位で文字出現させる\n    sty: `animation-delay: ${h(this, Fr)}ms;${((l = h(this, Hi).at(-1)) == null ? void 0 : l.o.style) ?? \"\"}`,\n    // TxtStage.goTxt()はこれ単位で文字出現させる\n    lnk: (((u = h(this, Hi).at(0)) == null ? void 0 : u.o[\":link\"]) ?? \"\") + \" \" + o,\n    curpos: o\n  };\n}, Fr = new WeakMap(), cr = new WeakMap(), ji = new WeakMap(), Hi = new WeakMap(), Su = new WeakSet(), ly = function(e) {\n  h(this, Hi).push({\n    o: e,\n    r_align: h(this, oi),\n    ch_in_style: h(this, ro),\n    ch_out_style: h(this, Va)\n  }), \"r_align\" in e && b(this, oi, e.r_align), x(this, io, Xh).call(this, e), x(this, no, Wh).call(this, e);\n}, qa = new WeakSet(), vf = function() {\n  const e = h(this, Hi).pop();\n  e && (b(this, oi, e.r_align), x(this, io, Xh).call(this, { in_style: e.ch_in_style }), x(this, no, Wh).call(this, { out_style: e.ch_out_style }));\n}, Pu = new WeakSet(), uy = function(e) {\n  const i = h(this, Hi).at(-1);\n  if (!i) {\n    x(this, Su, ly).call(this, e);\n    return;\n  }\n  i.o = { ...i.o, ...e }, !e.style && !e.r_style && (i.o.style = \"\", i.o.r_style = \"\"), \"r_align\" in e && b(this, oi, e.r_align), x(this, io, Xh).call(this, e), x(this, no, Wh).call(this, e);\n}, ao = new WeakMap(), ho = new WeakMap(), // 文字出現演出\n_(re, mu), // 文字消去演出\n_(re, yu), _(re, Ad), _(re, Ha, void 0), _(re, lr, void 0), _(re, vu, void 0), _(re, $a, void 0), _(re, _u, void 0), _(re, to, void 0), _(re, gu, void 0), // 文字ごとのウェイト\n_(re, xn, !1), _(re, eo, {}), // cssチェック・保存用\n_(re, Dd, {\n  \"text-align\": 0,\n  \"text-align-last\": 0,\n  height: 0,\n  width: 0,\n  \"padding-left\": 0,\n  \"padding-right\": 0,\n  \"padding-top\": 0,\n  \"padding-bottom\": 0\n}), _(re, Wa, (e) => e);\nvar Za, lo, Fd, dx, Ka, Ja, mf, Ud, px, Gd, vx, Ou, jd, mx, Hd, yx;\nclass ZC {\n  constructor(t, e, i, n, s, o, a) {\n    //\tHTMLフレーム\n    // フレーム追加\n    _(this, Fd);\n    _(this, Ja);\n    // フレーム変数を取得\n    _(this, Ud);\n    // フレーム変数に設定\n    _(this, Gd);\n    _(this, jd);\n    // フレームをトゥイーン開始\n    _(this, Hd);\n    _(this, Za, void 0);\n    _(this, lo, /* @__PURE__ */ Object.create(null));\n    _(this, Ka, {});\n    // フレームに設定\n    _(this, Ou, 1);\n    this.cfg = t, this.appPixi = i, this.val = n, this.main = s, this.sys = o, this.hTwInf = a, e.add_frame = (l) => x(this, Fd, dx).call(this, l), e.let_frame = (l) => x(this, Ud, px).call(this, l), e.set_frame = (l) => x(this, Gd, vx).call(this, l), e.frame = (l) => x(this, jd, mx).call(this, l), e.tsy_frame = (l) => x(this, Hd, yx).call(this, l);\n  }\n  setEvtMng(t) {\n    b(this, Za, t);\n  }\n  destroy() {\n    for (const t of Object.values(h(this, lo)))\n      t.parentElement.removeChild(t);\n    b(this, lo, /* @__PURE__ */ Object.create(null));\n  }\n  getFrmDisabled(t) {\n    return h(this, Ka)[t];\n  }\n  cvsResize() {\n    for (const [t, e] of Object.entries(h(this, lo))) {\n      const i = \"const.sn.frm.\" + t, n = Number(this.val.getVal(i + \".x\")), s = Number(this.val.getVal(i + \".y\")), o = Number(this.val.getVal(i + \".width\")), a = Number(this.val.getVal(i + \".height\"));\n      e.style.left = `${this.sys.ofsLeft4elm + n * this.sys.cvsScale}px`, e.style.top = `${this.sys.ofsTop4elm + s * this.sys.cvsScale}px`, e.width = String(o * this.sys.cvsScale), e.height = String(a * this.sys.cvsScale);\n    }\n  }\n}\nZa = new WeakMap(), lo = new WeakMap(), Fd = new WeakSet(), dx = function(t) {\n  const { id: e, src: i, alpha: n = 1, scale_x: s = 1, scale_y: o = 1, rotate: a = 0 } = t;\n  if (!e)\n    throw \"idは必須です\";\n  if (!i)\n    throw \"srcは必須です\";\n  const l = \"const.sn.frm.\" + e;\n  if (this.val.getVal(`tmp:${l}`))\n    throw `frame【${e}】はすでにあります`;\n  const u = K(t, \"visible\", !0), c = t.b_color ? ` background-color: ${t.b_color};` : \"\", f = x(this, Ja, mf).call(this, t);\n  Ci.cvs.insertAdjacentHTML(\"beforebegin\", `<iframe id=\"${e}\" sandbox=\"allow-scripts allow-same-origin\" style=\"opacity: ${n}; position: absolute; left:${this.sys.ofsLeft4elm + f.x * this.sys.cvsScale}px; top: ${this.sys.ofsTop4elm + f.y * this.sys.cvsScale}px; z-index: 1; ${c} border: 0px; overflow: hidden; display: ${u ? \"inline\" : \"none\"}; transform: scale(${s}, ${o}) rotate(${a}deg);\" width=\"${f.width * this.sys.cvsScale}\" height=\"${f.height * this.sys.cvsScale}\"></iframe>`);\n  const d = this.cfg.searchPath(i, ii.HTML), p = new Ii().add({ name: i, url: d, xhrType: _t.XHR_RESPONSE_TYPE.TEXT });\n  return this.sys.crypto && p.use((m, v) => {\n    try {\n      m.data = this.sys.decStr(m.extension, m.data);\n    } catch (y) {\n      this.main.errScript(`[add_frame]Html ロード失敗です src:${m.name} ${y}`, !1);\n    }\n    v == null || v();\n  }), p.load((m, v) => {\n    var g;\n    const y = document.getElementById(e);\n    h(this, lo)[e] = y, h(this, Ka)[e] = !1, y.srcdoc = String((g = v[i]) == null ? void 0 : g.data).replace(\"sn_repRes();\", \"\").replaceAll(\n      /\\s(?:src|href)=([\"'])(\\S+)\\1/g,\n      (w, T, P) => P.slice(0, 3) === \"../\" ? this.sys.cur + P.slice(4) : w.replace(T, T + d.slice(0, d.lastIndexOf(\"/\") + 1))\n    ), y.onload = () => {\n      var T;\n      this.val.setVal_Nochk(\"tmp\", l, !0), this.val.setVal_Nochk(\"tmp\", l + \".alpha\", n), this.val.setVal_Nochk(\"tmp\", l + \".x\", f.x), this.val.setVal_Nochk(\"tmp\", l + \".y\", f.y), this.val.setVal_Nochk(\"tmp\", l + \".scale_x\", s), this.val.setVal_Nochk(\"tmp\", l + \".scale_y\", o), this.val.setVal_Nochk(\"tmp\", l + \".rotate\", a), this.val.setVal_Nochk(\"tmp\", l + \".width\", f.width), this.val.setVal_Nochk(\"tmp\", l + \".height\", f.height), this.val.setVal_Nochk(\"tmp\", l + \".visible\", u);\n      const w = y.contentWindow;\n      h(this, Za).resvFlameEvent(w), (T = w.sn_repRes) == null || T.call(w, (P) => Rt.loadPic2Img(P.dataset.src ?? \"\", P)), this.main.resume();\n    };\n  }), !0;\n}, Ka = new WeakMap(), Ja = new WeakSet(), mf = function(t) {\n  const e = { ...t }, i = this.sys.resolution;\n  return new DOMRect(\n    j(e, \"x\", 0) * i,\n    j(e, \"y\", 0) * i,\n    j(e, \"width\", A.stageW) * i,\n    j(e, \"height\", A.stageH) * i\n  );\n}, Ud = new WeakSet(), px = function(t) {\n  const { id: e, var_name: i } = t;\n  if (!e)\n    throw \"idは必須です\";\n  const n = document.getElementById(e);\n  if (!n)\n    throw `id【${e}】はフレームではありません`;\n  const s = \"const.sn.frm.\" + e;\n  if (!this.val.getVal(`tmp:${s}`))\n    throw `frame【${e}】が読み込まれていません`;\n  if (!i)\n    throw \"var_nameは必須です\";\n  const o = n.contentWindow;\n  if (!o.hasOwnProperty(i))\n    throw `frame【${e}】に変数/関数【${i}】がありません。変数は var付きにして下さい`;\n  const a = o[i];\n  return this.val.setVal_Nochk(\n    \"tmp\",\n    s + \".\" + i,\n    K(t, \"function\", !1) ? a() : a\n  ), !1;\n}, Gd = new WeakSet(), vx = function(t) {\n  const { id: e, var_name: i, text: n } = t;\n  if (!e)\n    throw \"idは必須です\";\n  const s = document.getElementById(e);\n  if (!s)\n    throw `id【${e}】はフレームではありません`;\n  const o = \"const.sn.frm.\" + e;\n  if (!this.val.getVal(`tmp:${o}`))\n    throw `frame【${e}】が読み込まれていません`;\n  if (!i)\n    throw \"var_nameは必須です\";\n  if (!n)\n    throw \"textは必須です\";\n  this.val.setVal_Nochk(\"tmp\", o + \".\" + i, n);\n  const a = s.contentWindow;\n  return a[i] = n, !1;\n}, Ou = new WeakMap(), jd = new WeakSet(), mx = function(t) {\n  const { id: e } = t;\n  if (!e)\n    throw \"idは必須です\";\n  const i = document.getElementById(e);\n  if (!i)\n    throw `id【${e}】はフレームではありません`;\n  const n = \"const.sn.frm.\" + e;\n  if (!this.val.getVal(\"tmp:\" + n))\n    throw `frame【${e}】が読み込まれていません`;\n  const s = i.style;\n  if (K(t, \"float\", !1) ? s.zIndex = `${++Te(this, Ou)._}` : \"index\" in t ? s.zIndex = `${j(t, \"index\", 0)}` : t.dive && (s.zIndex = `-${++Te(this, Ou)._}`), \"alpha\" in t) {\n    const a = s.opacity = String(t.alpha);\n    this.val.setVal_Nochk(\"tmp\", n + \".alpha\", a);\n  }\n  const o = x(this, Ja, mf).call(this, t);\n  if ((\"x\" in t || \"y\" in t) && (s.left = `${this.sys.ofsLeft4elm + o.x * this.sys.cvsScale}px`, s.top = `${this.sys.ofsTop4elm + o.y * this.sys.cvsScale}px`, this.val.setVal_Nochk(\"tmp\", n + \".x\", o.x), this.val.setVal_Nochk(\"tmp\", n + \".y\", o.y)), \"scale_x\" in t || \"scale_y\" in t || \"rotate\" in t) {\n    const a = j(t, \"scale_x\", 1), l = j(t, \"scale_y\", 1), u = j(t, \"rotate\", 0);\n    s.transform = `scale(${a}, ${l}) rotate(${u}deg)`, this.val.setVal_Nochk(\"tmp\", n + \".scale_x\", a), this.val.setVal_Nochk(\"tmp\", n + \".scale_y\", l), this.val.setVal_Nochk(\"tmp\", n + \".rotate\", u);\n  }\n  if (\"width\" in t && (i.width = String(o.width * this.sys.cvsScale), this.val.setVal_Nochk(\"tmp\", n + \".width\", o.width)), \"height\" in t && (i.height = String(o.height * this.sys.cvsScale), this.val.setVal_Nochk(\"tmp\", n + \".height\", o.height)), \"visible\" in t) {\n    const a = K(t, \"visible\", !0);\n    s.display = a ? \"inline\" : \"none\", this.val.setVal_Nochk(\"tmp\", n + \".visible\", a);\n  }\n  if (\"b_color\" in t && (s.backgroundColor = t.b_color), \"disabled\" in t) {\n    const a = h(this, Ka)[e] = K(t, \"disabled\", !0);\n    i.contentDocument.body.querySelectorAll(\"input,select\").forEach((u) => u.disabled = a);\n  }\n  return !1;\n}, Hd = new WeakSet(), yx = function(t) {\n  const { id: e, alpha: i, x: n, y: s, scale_x: o, scale_y: a, rotate: l, width: u, height: c, ease: f, path: d, chain: p } = t;\n  if (!e)\n    throw \"idは必須です\";\n  const m = document.getElementById(e);\n  if (!m)\n    throw `id【${e}】はフレームではありません`;\n  const v = \"const.sn.frm.\" + e;\n  if (!this.val.getVal(`tmp:${v}`, 0))\n    throw `frame【${e}】が読み込まれていません`;\n  const y = {};\n  i && (y.a = m.style.opacity), (n || s || o || a || l) && (y.x = Number(this.val.getVal(`tmp:${v}.x`)), y.y = Number(this.val.getVal(`tmp:${v}.y`)), y.sx = Number(this.val.getVal(`tmp:${v}.scale_x`)), y.sy = Number(this.val.getVal(`tmp:${v}.scale_y`)), y.r = Number(this.val.getVal(`tmp:${v}.rotate`))), u && (y.w = this.val.getVal(`tmp:${v}.width`)), c && (y.h = this.val.getVal(`tmp:${v}.height`));\n  const g = If(t, y), w = {};\n  let T = () => {\n  };\n  i && (w.a = j(g, \"alpha\", 0), T = () => {\n    m.style.opacity = y.a, this.val.setVal_Nochk(\"tmp\", \"alpha\", y.a);\n  });\n  let P = () => {\n  };\n  const O = x(this, Ja, mf).call(this, g);\n  (n || s || o || a || l) && (w.x = O.x, w.y = O.y, w.sx = j(g, \"scale_x\", 1), w.sy = j(g, \"scale_y\", 1), w.r = j(g, \"rotate\", 0), P = () => {\n    m.style.left = this.sys.ofsLeft4elm + y.x * this.sys.cvsScale + \"px\", m.style.top = this.sys.ofsTop4elm + y.y * this.sys.cvsScale + \"px\", m.style.transform = `scale(${y.sx}, ${y.sy}) rotate(${y.r}deg)`, this.val.setVal_Nochk(\"tmp\", v + \".x\", y.x), this.val.setVal_Nochk(\"tmp\", v + \".y\", y.y), this.val.setVal_Nochk(\"tmp\", v + \".scale_x\", y.sx), this.val.setVal_Nochk(\"tmp\", v + \".scale_y\", y.sy), this.val.setVal_Nochk(\"tmp\", v + \".rotate\", y.r);\n  });\n  let C = () => {\n  };\n  u && (w.w = O.width, C = () => {\n    m.width = y.w * this.sys.cvsScale + \"px\", this.val.setVal_Nochk(\"tmp\", v + \".width\", y.w);\n  });\n  let I = () => {\n  };\n  c && (w.h = O.height, I = () => {\n    m.height = y.h * this.sys.cvsScale + \"px\", this.val.setVal_Nochk(\"tmp\", v + \".height\", y.h);\n  }), this.appPixi.stage.interactive = !1;\n  const S = `frm\n${e}`, M = () => {\n    var tt, wt;\n    this.appPixi.stage.interactive = !0;\n    const vt = this.hTwInf[S];\n    vt && (delete this.hTwInf[S], (tt = vt.tw) == null || tt.stop(), vt.resume && this.main.resume(), (wt = vt.onEnd) == null || wt.call(vt));\n  }, N = j(t, \"time\", NaN) * (this.val.getVal(\"tmp:sn.skip.enabled\") || h(this, Za).isSkippingByKeyDown() ? 0 : 1), D = Bn.ease(f), z = j(t, \"repeat\", 1), q = z > 0 ? z - 1 : 1 / 0, it = K(t, \"yoyo\", !1), V = j(t, \"delay\", 0), H = new Xr(y).to(w, N).easing(D).repeat(q).yoyo(it).delay(V).onUpdate(() => {\n    T(), P(), C(), I();\n  });\n  let J = H;\n  if (d) {\n    A.debugLog && console.group(`🍝 [tsy_frame] path=${d}= start(${y.x},${y.y},${y.alpha})`);\n    for (const { groups: vt } of d.matchAll(Ls.REG_TSY_PATH)) {\n      const { x: tt, x2: wt, y: rt, y2: be, o: Wt, o2: Et, json: Qt } = vt;\n      let k = {};\n      if (Qt)\n        try {\n          k = JSON.parse(Qt);\n        } catch (me) {\n          console.error(`🍝 json=${Qt} ` + me);\n          continue;\n        }\n      else\n        (tt ?? wt) && (k.x = tt ?? wt), (rt ?? be) && (k.y = rt ?? be), (Wt ?? Et) && (k.alpha = Wt ?? Et);\n      const Yt = If(k, y);\n      A.debugLog && console.info(`🍝 {x:${tt} y:${rt} o:${Wt}} => hTo:${JSON.stringify(Yt)}`);\n      const at = new Xr(y).to(Yt, N).easing(D).repeat(q).yoyo(it);\n      J.chain(at), J = at;\n    }\n    A.debugLog && console.groupEnd();\n  }\n  if (J.onComplete(M), p) {\n    const vt = this.hTwInf[p ?? \"\"];\n    if (!vt || !vt.tw)\n      throw `${p}は存在しない・または終了したトゥイーンです`;\n    delete vt.onEnd, vt.tw.chain(H);\n  } else\n    H.start();\n  return this.hTwInf[S] = { tw: J, resume: !1 }, !1;\n};\nvar $i, Lt, ie, is, uo, Qa, Iu, Cu, Mu, th, Ru, cy, rs, fr, $d, _x, ai, zd, gx, Vd, bx, Xd, xx, St, Ur, Gr, ku, Wd, wx, eh, yf, Yd, Ex, qd, Nu, Zd, co, fo, Tn, Oe, po, Kd, Tx, Ie, Qe, _i, Jd, Sx, Qd, Px, tp, Ox, vo, Yh, ep, Ix, Ei, ip, Cx, rp, Mx, np, Rx, sp, kx, op, Nx, ns, mo, qh, Ti, ap, Lx, Lu, hp, Ax, jr, yo, ss, sa, dr, Hr, lp, Dx, up, Bx, cp, Fx, fp, Ux, dp, Gx, pp, jx, vp, Hx, Au, fy, mp, $x, yp, zx, _p, Vx, gp, Xx, bp, Wx, xp, Yx, wp, qx;\nconst Xn = class {\n  constructor(t, e, i, n, s, o, a, l, u, c) {\n    _(this, Ru);\n    // 既存の全文字レイヤの実際のバック不透明度、を再計算\n    _(this, $d);\n    //\t//\tシステム\n    // スナップショット\n    _(this, zd);\n    // プラグインの読み込み\n    _(this, Vd);\n    //\t//\tレイヤ共通\n    // レイヤを追加する\n    _(this, Xd);\n    _(this, Wd);\n    _(this, eh);\n    // レイヤ設定の消去\n    _(this, Yd);\n    // ページ裏表を交換\n    _(this, Kd);\n    _(this, Qe);\n    _(this, Jd);\n    _(this, Qd);\n    // トランス終了待ち\n    _(this, tp);\n    // レイヤのトランジションの停止\n    _(this, vo);\n    // 画面を揺らす\n    _(this, ep);\n    _(this, ip);\n    // トゥイーン終了待ち\n    _(this, rp);\n    // トゥイーン中断\n    _(this, np);\n    // 一時停止\n    _(this, sp);\n    // 一時停止再開\n    _(this, op);\n    // 文字を追加する\n    _(this, mo);\n    _(this, ap);\n    _(this, hp);\n    _(this, ss);\n    _(this, lp);\n    // ハイパーリンクの終了\n    _(this, up);\n    // ページ両面の文字消去\n    _(this, cp);\n    // インライン画像表示\n    _(this, fp);\n    // ハイパーリンク\n    _(this, dp);\n    // 改行\n    _(this, pp);\n    // 履歴改行\n    _(this, vp);\n    // 履歴書き込み\n    _(this, Au);\n    // 履歴リセット\n    _(this, mp);\n    // 文字列と複数ルビの追加\n    _(this, yp);\n    // インラインスタイル設定\n    _(this, _p);\n    // tcy縦中横を表示する\n    _(this, gp);\n    // レイヤのダンプ\n    _(this, bp);\n    // イベント有無の切替\n    _(this, xp);\n    // ボタンを表示\n    _(this, wp);\n    _(this, $i, void 0);\n    _(this, Lt, new Jt());\n    _(this, ie, new Jt());\n    _(this, is, void 0);\n    _(this, uo, void 0);\n    _(this, Qa, new Eh());\n    _(this, Iu, () => IC());\n    _(this, Cu, {\n      attach: (t) => !1,\n      continue: (t) => !1,\n      disconnect: (t) => !1,\n      _enterDesign: (t) => {\n        for (const e of h(this, Ur)) {\n          const i = h(this, St)[e].fore;\n          i.makeDesignCastChildren((n) => n.make()), i.makeDesignCast((n) => n.make());\n        }\n        return x(this, Ru, cy).call(this, h(this, Gr)), !1;\n      },\n      _replaceToken: (t, e) => !1,\n      _selectNode: (t, e) => (x(this, Ru, cy).call(this, e.node), !1)\n    });\n    _(this, Mu, \"\");\n    _(this, th, \"\");\n    B(this, \"getFrmDisabled\", (t) => h(this, is).getFrmDisabled(t));\n    _(this, rs, void 0);\n    _(this, fr, void 0);\n    _(this, ai, (t, e = this.currentTxtlayForeNeedErr, i = !0) => e.tagCh(\"｜　《\" + t + \"》\"));\n    B(this, \"goTxt\", () => {\n    });\n    B(this, \"breakLine\", () => {\n    });\n    B(this, \"breakPage\", () => {\n    });\n    _(this, St, {});\n    // しおりLoad時再読込\n    _(this, Ur, []);\n    // 最適化用\n    _(this, Gr, \"\");\n    _(this, ku, \"\");\n    _(this, qd, `\nprecision mediump float;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform sampler2D rule;\nuniform float vague;\nuniform float tick;\n\nuniform vec4 inputPixel;\nuniform highp vec4 outputFrame;\nvec2 getUV(vec2 coord) {\n\treturn coord * inputPixel.xy / outputFrame.zw;\n}\n\nvoid main(void) {\n\tvec4 fg = texture2D(uSampler, vTextureCoord);\n\tvec4 ru = texture2D(rule, getUV(vTextureCoord));\n\n\tfloat v = ru.r - tick;\n\tif (abs(v) < vague) {\n\t\tfloat f_a = fg.a *(0.5 +v /vague *0.5);\n\n\t\tgl_FragColor.rgb = fg.rgb *f_a;\n\t\tgl_FragColor.a = f_a;\n\t}\n\telse {\n\t\tgl_FragColor = (v >= 0.0)? fg : vec4(0);\n\t}\n}`);\n    _(this, Nu, {\n      rule: lt.EMPTY,\n      vague: 0,\n      tick: 0\n    });\n    _(this, Zd, new Sr(void 0, h(this, qd), h(this, Nu)));\n    _(this, co, qi.create({\n      width: A.stageW,\n      height: A.stageH\n    }));\n    _(this, fo, new ge(h(this, co)));\n    _(this, Tn, qi.create({\n      width: A.stageW,\n      height: A.stageH\n    }));\n    _(this, Oe, new ge(h(this, Tn)));\n    _(this, po, []);\n    _(this, Ie, { tw: void 0, resume: !1 });\n    // トゥイーン開始\n    _(this, Ei, {});\n    _(this, Ti, (t) => {\n      throw h(this, yo).call(this), 0;\n    });\n    // 操作対象のメッセージレイヤの指定\n    _(this, Lu, (t) => {\n      throw h(this, yo).call(this), 0;\n    });\n    _(this, jr, void 0);\n    // カレントテキストレイヤ\n    _(this, yo, () => {\n      throw \"文字レイヤーがありません。文字表示や操作する前に、[add_lay layer=（レイヤ名） class=txt]で文字レイヤを追加して下さい\";\n    });\n    _(this, dr, \"\");\n    _(this, Hr, []);\n    this.cfg = t, this.hTag = e, this.appPixi = i, this.val = n, this.main = s, this.scrItr = o, this.sys = a, this.sndMng = l, this.alzTagArg = u, this.prpPrs = c;\n    const f = () => {\n      if (a.cvsResize(), this.cvsResizeDesign(), h(this, th))\n        for (const v of h(this, Ur))\n          h(this, St)[v].fore.cvsResizeChildren();\n      else\n        for (const v of h(this, Ur))\n          h(this, St)[v].fore.cvsResize();\n      h(this, is).cvsResize(), h(this, fr).cvsResize();\n    };\n    if (A.isMobile)\n      h(this, Qa).add(globalThis, \"orientationchange\", f, { passive: !0 });\n    else {\n      let v;\n      h(this, Qa).add(globalThis, \"resize\", () => {\n        v || (v = setTimeout(() => {\n          v = void 0, f();\n        }, 1e3 / 60 * 10));\n      }, { passive: !0 });\n    }\n    a.cvsResize(), re.init(t, e, n, this, (v) => h(this, St)[v.layname].fore === v, i), Rt.init(s, t, i, a, l, n), gr.init(t), b(this, is, new ZC(t, e, i, n, s, a, h(this, Ei))), a.hFactoryCls.grp = () => new Rt(), a.hFactoryCls.txt = () => new re(), e.loadplugin = (v) => x(this, Vd, bx).call(this, v), e.snapshot = (v) => x(this, zd, gx).call(this, v), e.add_lay = (v) => x(this, Xd, xx).call(this, v), e.clear_lay = (v) => x(this, Yd, Ex).call(this, v), e.finish_trans = () => x(this, vo, Yh).call(this), e.lay = (v) => x(this, Wd, wx).call(this, v), e.trans = (v) => x(this, Kd, Tx).call(this, v), e.wt = (v) => x(this, tp, Ox).call(this, v), e.quake = (v) => x(this, ep, Ix).call(this, v), e.stop_quake = (v) => e.finish_trans(v), e.wq = (v) => e.wt(v), e.pause_tsy = (v) => x(this, sp, kx).call(this, v), e.resume_tsy = (v) => x(this, op, Nx).call(this, v), e.stop_tsy = (v) => x(this, np, Rx).call(this, v), e.tsy = (v) => x(this, ip, Cx).call(this, v), e.wait_tsy = (v) => x(this, rp, Mx).call(this, v), e.ch = (v) => x(this, mo, qh).call(this, v), e.clear_text = (v) => x(this, lp, Dx).call(this, v), e.current = (v) => h(this, Lu).call(this, v), e.endlink = (v) => x(this, up, Bx).call(this, v), e.er = (v) => x(this, cp, Fx).call(this, v), e.graph = (v) => x(this, fp, Ux).call(this, v), e.link = (v) => x(this, dp, Gx).call(this, v), e.r = (v) => x(this, pp, jx).call(this, v), e.rec_ch = (v) => x(this, Au, fy).call(this, v), e.rec_r = (v) => x(this, vp, Hx).call(this, v), e.reset_rec = (v) => x(this, mp, $x).call(this, v), e.ruby2 = (v) => x(this, yp, zx).call(this, v), e.span = (v) => x(this, _p, Vx).call(this, v), e.tcy = (v) => x(this, gp, Xx).call(this, v), e.add_face = (v) => Rt.add_face(v), e.wv = (v) => Rt.wv(v), e.dump_lay = (v) => x(this, bp, Wx).call(this, v), e.enable_event = (v) => x(this, xp, Yx).call(this, v), e.button = (v) => x(this, wp, qx).call(this, v), t.existsBreakline && (this.breakLine = () => h(this, ai).call(this, 'grp｜{\"id\":\"break\",\"pic\":\"breakline\"}')), t.existsBreakpage && (this.breakPage = () => h(this, ai).call(this, 'grp｜{\"id\":\"break\",\"pic\":\"breakpage\"}')), b(this, uo, Dy(String(t.oCfg.init.bg_color)));\n    const d = new Ri();\n    d.beginFill(h(this, uo), 1).lineStyle(0, h(this, uo)).drawRect(0, 0, A.stageW, A.stageH).endFill(), h(this, Lt).addChild(d.clone()), h(this, ie).addChild(d), h(this, ie).visible = !1, h(this, Lt).name = \"page:A\", h(this, ie).name = \"page:B\", b(this, $i, i.stage), h(this, $i).addChild(h(this, ie)), h(this, $i).addChild(h(this, Lt)), h(this, $i).addChild(h(this, fo)), h(this, $i).addChild(h(this, Oe)), h(this, $i).name = \"stage\", i.ticker.add(h(this, Iu));\n    const p = (v, y) => {\n      x(this, $d, _x).call(this, Number(y));\n    };\n    p(\"\", n.getVal(\"sys:TextLayer.Back.Alpha\", 1)), n.defValTrg(\"sys:TextLayer.Back.Alpha\", p);\n    const m = (v, y) => gr.fontFamily = y;\n    m(\"\", n.getVal(\"tmp:sn.button.fontFamily\", gr.fontFamily)), n.defValTrg(\"tmp:sn.button.fontFamily\", m), n.defTmp(\"const.sn.log.json\", () => JSON.stringify(\n      h(this, dr) ? [...h(this, Hr), { text: h(this, dr).replaceAll(\"</span><span class='sn_ch'>\", \"\") }] : h(this, Hr)\n    )), n.defTmp(\"const.sn.last_page_text\", () => {\n      var v;\n      return ((v = this.currentTxtlayFore) == null ? void 0 : v.pageText) ?? \"\";\n    }), n.defTmp(\"const.sn.last_page_plain_text\", () => {\n      var v;\n      return ((v = this.currentTxtlayFore) == null ? void 0 : v.pagePlainText) ?? \"\";\n    }), A.isDbg && (Th.init(i, a, o, c, u, t, h(this, St)), this.cvsResizeDesign = () => Th.cvsResizeDesign(), a.addHook((v, y) => {\n      var g, w;\n      (w = (g = h(this, Cu))[v]) != null && w.call(g, v, y) && delete h(this, Cu)[v];\n    }));\n  }\n  cvsResizeDesign() {\n  }\n  cover(t, e = 0) {\n    h(this, rs) && (h(this, $i).removeChild(h(this, rs)), h(this, rs).destroy(), b(this, rs, void 0)), t && h(this, $i).addChild(\n      b(this, rs, new Ri()).beginFill(e).lineStyle(0, e).drawRect(0, 0, A.stageW, A.stageH).endFill()\n    );\n  }\n  setEvtMng(t) {\n    b(this, fr, t), h(this, is).setEvtMng(t), Rt.setEvtMng(t);\n  }\n  before_destroy() {\n    for (const t of Object.values(h(this, St)))\n      t.destroy();\n  }\n  destroy() {\n    h(this, Qa).clear(), Rt.destroy(), vs.destroy(), he.destroy(), re.destroy(), h(this, is).destroy(), this.stopAllTw(), this.appPixi.ticker.remove(h(this, Iu)), b(Xn, ns, 10);\n  }\n  // トゥイーン全停止\n  stopAllTw() {\n    b(this, Ei, {}), PC();\n  }\n  clearBreak() {\n    this.currentTxtlayFore && (this.clearBreak = () => h(this, ai).call(this, \"del｜break\"), this.clearBreak());\n  }\n  clickTxtLay() {\n    return this.currentTxtlayFore ? x(this, Qe, _i).call(this).some((t) => {\n      const e = h(this, St)[t].fore;\n      return e instanceof re && e.click();\n    }) : !1;\n  }\n  static get msecChWait() {\n    return h(Xn, ns);\n  }\n  static set msecChWait(t) {\n    b(Xn, ns, t);\n  }\n  setNormalChWait() {\n    b(Xn, ns, this.scrItr.normalWait);\n  }\n  get currentTxtlayForeNeedErr() {\n    return h(this, yo).call(this), this.currentTxtlayFore;\n  }\n  get currentTxtlayFore() {\n    return h(this, jr) ? h(this, jr).fore : null;\n  }\n  recText(t) {\n    b(this, dr, t), this.val.setVal_Nochk(\n      \"save\",\n      \"const.sn.sLog\",\n      String(this.val.getVal(\"const.sn.log.json\"))\n      // これを起動したい\n    );\n  }\n  recPagebreak() {\n    if (!h(this, dr))\n      return;\n    const t = h(this, dr).replaceAll(\"</span><span class='sn_ch'>\", \"\");\n    h(this, Hr).push({ text: t }) > this.cfg.oCfg.log.max_len && b(this, Hr, h(this, Hr).slice(-this.cfg.oCfg.log.max_len)), b(this, dr, \"\");\n  }\n  record() {\n    const t = {};\n    for (const e of h(this, Ur)) {\n      const i = h(this, St)[e];\n      t[e] = {\n        cls: i.cls,\n        fore: i.fore.record(),\n        back: i.back.record()\n      };\n    }\n    return t;\n  }\n  playback(t, e) {\n    var o;\n    b(this, Hr, JSON.parse(String(this.val.getVal(\"save:const.sn.sLog\")))), b(this, dr, \"\");\n    const i = [], n = [];\n    for (const [a, { fore: l, fore: { idx: u }, back: c, cls: f }] of Object.entries(t)) {\n      n.push({ layer: a, idx: u });\n      const d = (o = h(this, St))[a] ?? (o[a] = new al(a, f, h(this, Lt), h(this, ie), {}, this.sys, this.val, { isWait: !1 }));\n      d.fore.playback(l, i), d.back.playback(c, i);\n    }\n    const s = h(this, Lt).children.length;\n    Promise.allSettled(i).then(() => {\n      for (const { layer: a, idx: l } of n.sort(({ idx: u }, { idx: c }) => u === c ? 0 : u < c ? -1 : 1)) {\n        const { fore: u, back: c } = h(this, St)[a];\n        if (!u)\n          return;\n        const f = s > l ? l : s - 1;\n        h(this, Lt).setChildIndex(u.spLay, f), h(this, ie).setChildIndex(c.spLay, f);\n      }\n      e();\n    }).catch((a) => console.error(\"fn:LayerMng.ts playback e:%o\", a));\n  }\n};\nlet Ls = Xn;\n$i = new WeakMap(), Lt = new WeakMap(), ie = new WeakMap(), is = new WeakMap(), uo = new WeakMap(), Qa = new WeakMap(), Iu = new WeakMap(), Cu = new WeakMap(), Mu = new WeakMap(), th = new WeakMap(), Ru = new WeakSet(), cy = function(t) {\n  [Te(this, Mu)._, this.th = \"\"] = t.split(\"/\");\n  const e = h(this, St)[h(this, Mu)];\n  e && (h(this, th) ? e.fore.showDesignCastChildren() : e.fore.showDesignCast());\n}, rs = new WeakMap(), fr = new WeakMap(), $d = new WeakSet(), _x = function(t) {\n  for (const e of x(this, Qe, _i).call(this)) {\n    const i = h(this, St)[e];\n    i.fore instanceof re && (i.fore.chgBackAlpha(t), i.back.chgBackAlpha(t));\n  }\n}, ai = new WeakMap(), zd = new WeakSet(), gx = function(t) {\n  const e = t.fn ? t.fn.slice(0, 10) === \"userdata:/\" ? t.fn : `downloads:/${t.fn + ul(\"-\", \"_\", \"\", \"_\")}.png` : `downloads:/snapshot${ul(\"-\", \"_\", \"\", \"_\")}.png`, i = this.cfg.searchPath(e);\n  if (!(\"layer\" in t) && this.sys.canCapturePage(i, () => this.main.resume()))\n    return !0;\n  const n = nm(i), s = _0(t, \"b_color\", h(this, uo)), o = u_({\n    width: j(t, \"width\", A.stageW),\n    height: j(t, \"height\", A.stageH),\n    backgroundAlpha: s > 16777216 && n === \"png\" ? 0 : 1,\n    antialias: K(t, \"smoothing\", !1),\n    preserveDrawingBuffer: !0,\n    backgroundColor: s & 16777215,\n    autoDensity: !0\n  }), a = [], l = t.page !== \"back\" ? \"fore\" : \"back\";\n  if (h(this, Ie).tw)\n    a.push(new Promise((u) => {\n      h(this, ie).visible = !0;\n      for (const c of h(this, po))\n        o.render(c, { clear: !1 });\n      h(this, ie).visible = !1, h(this, fo).visible = !0, h(this, Lt).filters = h(this, Oe).filters, h(this, Lt).visible = !0, o.render(h(this, Lt), { clear: !1 }), h(this, Lt).visible = !1, h(this, Lt).filters = [], u();\n    }));\n  else\n    for (const u of x(this, Qe, _i).call(this, t.layer))\n      a.push(\n        new Promise((c) => h(this, St)[u][l].snapshot(o, () => c()))\n      );\n  return Promise.allSettled(a).then(async () => {\n    const u = qi.create({ width: o.width, height: o.height });\n    if (o.render(h(this, $i), { renderTexture: u }), await this.sys.savePic(\n      i,\n      o.plugins.extract.base64(ge.from(u))\n    ), !h(this, Ie).tw)\n      for (const c of x(this, Qe, _i).call(this, t.layer))\n        h(this, St)[c][l].snapshot_end();\n    o.destroy(!0), this.main.resume();\n  }), !0;\n}, Vd = new WeakSet(), bx = function(t) {\n  const { fn: e } = t;\n  if (!e)\n    throw \"fnは必須です\";\n  const i = K(t, \"join\", !0);\n  switch (nm(e)) {\n    case \"css\":\n      (async () => {\n        const n = await fetch(e);\n        if (!n.ok)\n          throw new Error(\"Network response was not ok.\");\n        rl(await n.text()), i && this.main.resume();\n      })();\n      break;\n    default:\n      throw \"サポートされない拡張子です\";\n  }\n  return i;\n}, Xd = new WeakSet(), xx = function(t) {\n  const { layer: e, class: i } = t;\n  if (!e)\n    throw \"layerは必須です\";\n  if (e.includes(\",\"))\n    throw \"layer名に「,」は使えません\";\n  if (e in h(this, St))\n    throw `layer【${e}】はすでにあります`;\n  if (!i)\n    throw \"clsは必須です\";\n  const n = { isWait: !1 };\n  switch (h(this, St)[e] = new al(e, i, h(this, Lt), h(this, ie), t, this.sys, this.val, n), h(this, Ur).push(e), i) {\n    case \"txt\":\n      h(this, Gr) || (b(this, yo, () => {\n      }), b(this, Ti, x(this, ap, Lx)), b(this, Lu, x(this, hp, Ax)), this.hTag.current({ layer: e }), this.goTxt = () => {\n        this.val.getVal(\"sn.skip.enabled\") ? b(Xn, ns, 0) : this.setNormalChWait();\n        for (const s of x(this, Qe, _i).call(this)) {\n          const o = h(this, St)[s].fore;\n          o instanceof re && h(this, ai).call(this, \"gotxt｜\", o, !1);\n        }\n      }), this.val.setVal_Nochk(\n        \"save\",\n        \"const.sn.layer.\" + (e ?? h(this, Gr)) + \".enabled\",\n        !0\n      );\n      break;\n    case \"grp\":\n      if (h(this, ku))\n        break;\n      b(this, ku, e);\n      break;\n  }\n  return this.scrItr.recodeDesign(t), n.isWait;\n}, St = new WeakMap(), Ur = new WeakMap(), Gr = new WeakMap(), ku = new WeakMap(), Wd = new WeakSet(), wx = function(t) {\n  const e = x(this, ss, sa).call(this, t), i = h(this, St)[e], n = i.back.spLay, s = i.fore.spLay;\n  if (K(t, \"float\", !1))\n    h(this, ie).setChildIndex(n, h(this, ie).children.length - 1), h(this, Lt).setChildIndex(s, h(this, Lt).children.length - 1), x(this, eh, yf).call(this);\n  else if (t.index)\n    j(t, \"index\", 0) && (h(this, ie).setChildIndex(n, t.index), h(this, Lt).setChildIndex(s, t.index), x(this, eh, yf).call(this));\n  else if (t.dive) {\n    const { dive: o } = t;\n    let a = 0;\n    if (e === o)\n      throw \"[lay] 属性 layerとdiveが同じ【\" + o + \"】です\";\n    const l = h(this, St)[o];\n    if (!l)\n      throw \"[lay] 属性 dive【\" + o + \"】が不正です。レイヤーがありません\";\n    const u = l.back, c = l.fore, f = h(this, ie).getChildIndex(u.spLay), d = h(this, Lt).getChildIndex(c.spLay);\n    a = f < d ? f : d, a > h(this, ie).getChildIndex(n) && --a, h(this, Lt).setChildIndex(s, a), h(this, ie).setChildIndex(n, a), x(this, eh, yf).call(this);\n  }\n  return t[\":id_tag\"] = i.fore.name.slice(0, -7), this.scrItr.recodeDesign(t), i.lay(t);\n}, eh = new WeakSet(), yf = function() {\n  b(this, Ur, x(this, Qd, Px).call(this));\n}, Yd = new WeakSet(), Ex = function(t) {\n  return x(this, Jd, Sx).call(this, t, (e) => {\n    const i = h(this, St)[x(this, ss, sa).call(this, { layer: e })];\n    t.page === \"both\" ? (i.fore.clearLay(t), i.back.clearLay(t)) : i.getPage(t).clearLay(t);\n  }), !1;\n}, qd = new WeakMap(), Nu = new WeakMap(), Zd = new WeakMap(), co = new WeakMap(), fo = new WeakMap(), Tn = new WeakMap(), Oe = new WeakMap(), po = new WeakMap(), Kd = new WeakSet(), Tx = function(t) {\n  x(this, vo, Yh).call(this), h(this, fr).hideHint();\n  const { layer: e } = t;\n  b(this, po, []);\n  const i = {}, n = [];\n  for (const y of x(this, Qe, _i).call(this, e))\n    i[y] = !0, n.push(h(this, St)[y].fore);\n  const s = [];\n  for (const y of x(this, Qe, _i).call(this)) {\n    const g = h(this, St)[y][i[y] ? \"back\" : \"fore\"];\n    h(this, po).push(g.spLay), s.push(g);\n  }\n  h(this, co).resize(A.stageW, A.stageH), this.appPixi.renderer.render(h(this, ie), { renderTexture: h(this, co) });\n  let o = () => {\n    h(this, ie).visible = !0;\n    for (const y of h(this, po))\n      this.appPixi.renderer.render(y, { renderTexture: h(this, co), clear: !1 });\n    h(this, ie).visible = !1;\n  };\n  if (!s.some((y) => y.containMovement)) {\n    let y = o;\n    o = () => {\n      o = () => {\n      }, y();\n    };\n  }\n  h(this, Tn).resize(A.stageW, A.stageH), this.appPixi.renderer.render(h(this, Lt), { renderTexture: h(this, Tn) });\n  let a = () => {\n    h(this, Lt).visible = !0, this.appPixi.renderer.render(h(this, Lt), { renderTexture: h(this, Tn) }), h(this, Lt).visible = !1;\n  };\n  if (!n.some((y) => y.containMovement)) {\n    let y = a;\n    a = () => {\n      a = () => {\n      }, y();\n    };\n  }\n  const l = () => {\n    o(), h(this, fo).visible = !0, a(), h(this, Oe).visible = !0;\n  };\n  h(this, Oe).alpha = 1;\n  const u = () => {\n    var g;\n    this.appPixi.ticker && this.appPixi.ticker.remove(l), [Te(this, Lt)._, Te(this, ie)._] = [h(this, ie), h(this, Lt)];\n    const y = [];\n    for (const [w, T] of Object.entries(h(this, St))) {\n      if (i[w]) {\n        T.transPage(y);\n        continue;\n      }\n      const { fore: { spLay: P }, back: { spLay: O } } = T, C = h(this, Lt).getChildIndex(O);\n      h(this, Lt).removeChild(O), h(this, ie).removeChild(P), h(this, Lt).addChildAt(P, C), h(this, ie).addChildAt(O, C);\n    }\n    Promise.allSettled(y), h(this, Lt).visible = !0, h(this, ie).visible = !1, h(this, fo).visible = !1, h(this, Oe).visible = !1, (g = h(this, Ie).tw) == null || g.stop(), h(this, Ie).resume && this.main.resume(), b(this, Ie, { tw: void 0, resume: !1 });\n  };\n  b(this, Ie, { tw: void 0, resume: !1 });\n  const c = j(t, \"time\", 0);\n  if (c === 0 || h(this, fr).isSkippingByKeyDown())\n    return u(), !1;\n  const { ease: f, glsl: d, rule: p } = t, m = Bn.ease(f);\n  if (!d && !p)\n    return h(this, Oe).filters = [], h(this, Ie).tw = new Xr(h(this, Oe)).to({ alpha: 0 }, c).delay(j(t, \"delay\", 0)).easing(m).onComplete(u).start(), this.appPixi.ticker.add(l), !1;\n  const v = d ? new Sr(void 0, d, h(this, Nu)) : h(this, Zd);\n  if (v.uniforms.vague = j(t, \"vague\", 0.04), v.uniforms.tick = 0, h(this, Ie).tw = new Xr(v.uniforms).to({ tick: 1 }, c).delay(j(t, \"delay\", 0)).easing(m).onComplete(u), h(this, Oe).filters = [v], d)\n    return h(this, Ie).tw.start(), this.appPixi.ticker.add(l), !1;\n  if (!p)\n    throw \"ruleが指定されていません\";\n  return Rt.csv2Sprites(p, void 0, (y) => {\n    var g;\n    v.uniforms.rule = y.texture, y.destroy(), (g = h(this, Ie).tw) == null || g.start(), this.appPixi.ticker.add(l);\n  }), !1;\n}, Ie = new WeakMap(), Qe = new WeakSet(), _i = function(t = \"\") {\n  return t ? t.split(\",\") : h(this, Ur);\n}, Jd = new WeakSet(), Sx = function(t, e) {\n  const i = x(this, Qe, _i).call(this, t.layer);\n  for (const n of i) {\n    if (!n)\n      continue;\n    const s = h(this, St)[n];\n    if (!s)\n      throw \"存在しないlayer【\" + n + \"】です\";\n    e(n, s);\n  }\n  return i;\n}, Qd = new WeakSet(), Px = function(t = \"\") {\n  return x(this, Qe, _i).call(this, t).sort((e, i) => {\n    const n = h(this, Lt).getChildIndex(h(this, St)[e].fore.spLay), s = h(this, Lt).getChildIndex(h(this, St)[i].fore.spLay);\n    return n < s ? -1 : n > s ? 1 : 0;\n  });\n}, tp = new WeakSet(), Ox = function(t) {\n  return h(this, Ie).tw ? (h(this, Ie).resume = !0, h(this, fr).waitLimitedEvent(t, () => x(this, vo, Yh).call(this))) : !1;\n}, vo = new WeakSet(), Yh = function() {\n  var t;\n  return (t = h(this, Ie).tw) == null || t.end(), !1;\n}, ep = new WeakSet(), Ix = function(t) {\n  x(this, vo, Yh).call(this);\n  const e = j(t, \"time\", NaN);\n  if (e === 0 || this.val.getVal(\"tmp:sn.skip.enabled\") || h(this, fr).isSkippingByKeyDown())\n    return !1;\n  const { layer: i, ease: n } = t, s = [];\n  for (const p of x(this, Qe, _i).call(this, i))\n    s.push(h(this, St)[p].fore.spLay);\n  h(this, Tn).resize(A.stageW, A.stageH);\n  const o = () => {\n    h(this, Lt).visible = !0;\n    for (const p of s)\n      this.appPixi.renderer.render(\n        p,\n        { renderTexture: h(this, Tn), clear: !1 }\n      );\n    h(this, Lt).visible = !1;\n  };\n  h(this, Oe).visible = !0, h(this, Oe).alpha = 1;\n  const a = br(j(t, \"hmax\", 10)), l = br(j(t, \"vmax\", 10)), u = a === 0 ? () => {\n  } : () => h(this, Oe).x = Math.round(Math.random() * a * 2) - a, c = l === 0 ? () => {\n  } : () => h(this, Oe).y = Math.round(Math.random() * l * 2) - l;\n  h(this, Oe).filters = [];\n  const f = j(t, \"repeat\", 1), d = new Xr(h(this, Oe)).to({ x: 0, y: 0 }, e).delay(j(t, \"delay\", 0)).easing(Bn.ease(n)).onUpdate(() => {\n    u(), c();\n  }).repeat(f > 0 ? f - 1 : 1 / 0).yoyo(K(t, \"yoyo\", !1)).onComplete(() => {\n    var p, m;\n    (p = this.appPixi.ticker) == null || p.remove(o), h(this, Lt).visible = !0, h(this, Oe).visible = !1, h(this, Oe).x = 0, h(this, Oe).y = 0, (m = h(this, Ie).tw) == null || m.stop(), h(this, Ie).resume && this.main.resume(), b(this, Ie, { tw: void 0, resume: !1 });\n  }).start();\n  return b(this, Ie, { tw: d, resume: !1 }), this.appPixi.ticker.add(o), !1;\n}, Ei = new WeakMap(), ip = new WeakSet(), Cx = function(t) {\n  const { layer: e, render: i, path: n, name: s, ease: o, chain: a } = t;\n  if (!e)\n    throw \"layerは必須です\";\n  const l = x(this, ss, sa).call(this, t);\n  let u = h(this, St)[l].fore, c = () => {\n  };\n  const f = h(this, fr).isSkippingByKeyDown();\n  !f && i && (u.renderStart(), c = () => u.renderEnd());\n  const d = s ?? e, p = () => {\n    var N, D;\n    const M = h(this, Ei)[d];\n    M && (c(), delete h(this, Ei)[d], (N = M.tw) == null || N.stop(), M.resume && this.main.resume(), (D = M.onEnd) == null || D.call(M));\n  }, m = If(t, u), v = j(t, \"time\", NaN) * (this.val.getVal(\"tmp:sn.skip.enabled\") || f ? 0 : 1), y = Bn.ease(o), g = j(t, \"repeat\", 1), w = g > 0 ? g - 1 : 1 / 0, T = K(t, \"yoyo\", !1), P = j(t, \"delay\", 0), O = new Xr(u).to(m, v).easing(y).repeat(w).yoyo(T).delay(P);\n  let C = O;\n  if (n) {\n    A.debugLog && console.group(`🍝 [tsy] path=${n}= start(${u.x},${u.y},${u.alpha})`);\n    for (const { groups: M } of n.matchAll(Xn.REG_TSY_PATH)) {\n      const { x: N, x2: D, y: z, y2: q, o: it, o2: V, json: H } = M;\n      let J = {};\n      if (H)\n        try {\n          J = JSON.parse(H);\n        } catch (wt) {\n          console.error(`🍝 json=${H} ` + wt);\n          continue;\n        }\n      else\n        (N ?? D) && (J.x = N ?? D), (z ?? q) && (J.y = z ?? q), (it ?? V) && (J.alpha = it ?? V);\n      const vt = If(J, u);\n      A.debugLog && console.info(`🍝 ${H ?? `{x:${N} y:${z} o:${it}}`} => hTo:${JSON.stringify(vt)}`);\n      const tt = new Xr(u).to(vt, v).easing(y).repeat(w).yoyo(T);\n      C.chain(tt), C = tt;\n    }\n    A.debugLog && console.groupEnd();\n  }\n  if (C.onComplete(p), a) {\n    const M = h(this, Ei)[a ?? \"\"];\n    if (!(M != null && M.tw))\n      throw `${a}は存在しない・または終了したトゥイーンです`;\n    delete M.onEnd, M.tw.chain(O);\n  } else\n    O.start();\n  const I = K(t, \"arrive\", !1), S = K(t, \"backlay\", !1);\n  return h(this, Ei)[d] = { tw: C, resume: !1, onEnd: () => {\n    if (I && Object.assign(u, m), S) {\n      const M = h(this, St)[l].back.spLay;\n      for (const N of Object.keys(m0))\n        M[N] = u[N];\n    }\n  } }, !1;\n}, rp = new WeakSet(), Mx = function(t) {\n  const { layer: e = \"\", id: i, name: n } = t, s = i ? `frm\n${i}` : n ?? e;\n  if (!s)\n    throw \"トゥイーンが指定されていません\";\n  const o = h(this, Ei)[s];\n  return o != null && o.tw ? o.resume = h(this, fr).waitEvent(\n    () => {\n      var a;\n      return (a = o.tw) == null ? void 0 : a.end();\n    },\n    // stop()とend()は別\n    K(t, \"canskip\", !0),\n    K(t, \"global\", !1)\n  ) : !1;\n}, np = new WeakSet(), Rx = function(t) {\n  var o, a;\n  const { layer: e = \"\", id: i, name: n } = t, s = i ? `frm\n${i}` : n ?? e;\n  if (!s)\n    throw \"トゥイーンが指定されていません\";\n  return (a = (o = h(this, Ei)[s]) == null ? void 0 : o.tw) == null || a.end(), !1;\n}, sp = new WeakSet(), kx = function(t) {\n  var o, a;\n  const { layer: e = \"\", id: i, name: n } = t, s = i ? `frm\n${i}` : n ?? e;\n  if (!s)\n    throw \"トゥイーンが指定されていません\";\n  return (a = (o = h(this, Ei)[s]) == null ? void 0 : o.tw) == null || a.pause(), !1;\n}, op = new WeakSet(), Nx = function(t) {\n  var o, a;\n  const { layer: e = \"\", id: i, name: n } = t, s = i ? `frm\n${i}` : n ?? e;\n  if (!s)\n    throw \"トゥイーンが指定されていません\";\n  return (a = (o = h(this, Ei)[s]) == null ? void 0 : o.tw) == null || a.resume(), !1;\n}, ns = new WeakMap(), mo = new WeakSet(), qh = function(t) {\n  const { text: e } = t;\n  if (!e)\n    throw \"textは必須です\";\n  const i = h(this, Ti).call(this, t);\n  delete t.text, this.val.getVal(\"tmp:sn.skip.enabled\") ? t.wait = 0 : \"wait\" in t && j(t, \"wait\", NaN);\n  const n = encodeURIComponent(JSON.stringify(t));\n  h(this, ai).call(this, \"add｜\" + n, i);\n  const s = K(t, \"record\", !0), o = this.val.doRecLog();\n  return s || this.val.setVal_Nochk(\"save\", \"sn.doRecLog\", s), i.tagCh(e.replaceAll(\"[r]\", `\n`)), this.val.setVal_Nochk(\"save\", \"sn.doRecLog\", o), h(this, ai).call(this, \"add_close｜\", i), !1;\n}, Ti = new WeakMap(), ap = new WeakSet(), Lx = function(t) {\n  const e = x(this, ss, sa).call(this, t, h(this, Gr)), n = h(this, St)[e].getPage(t);\n  if (!(n instanceof re))\n    throw e + \"はTxtLayerではありません\";\n  return n;\n}, Lu = new WeakMap(), hp = new WeakSet(), Ax = function(t) {\n  const { layer: e } = t;\n  if (!e)\n    throw \"[current] layerは必須です\";\n  if (b(this, jr, h(this, St)[e]), !(h(this, jr).getPage(t) instanceof re))\n    throw `${e}はTxtLayerではありません`;\n  this.recPagebreak(), b(this, Gr, e), this.val.setVal_Nochk(\"save\", \"const.sn.mesLayer\", e);\n  for (const i of x(this, Qe, _i).call(this)) {\n    const n = h(this, St)[i];\n    n.fore instanceof re && (n.fore.isCur = n.back.isCur = i === e);\n  }\n  return !1;\n}, jr = new WeakMap(), yo = new WeakMap(), ss = new WeakSet(), sa = function(t, e = \"\") {\n  const i = t.layer ?? e;\n  if (i.includes(\",\"))\n    throw \"layer名に「,」は使えません\";\n  if (!(i in h(this, St)))\n    throw \"属性 layer【\" + i + \"】が不正です。レイヤーがありません\";\n  return t.layer = i;\n}, dr = new WeakMap(), Hr = new WeakMap(), lp = new WeakSet(), Dx = function(t) {\n  const e = h(this, Ti).call(this, t);\n  return t.layer === h(this, Gr) && t.page === \"fore\" && this.recPagebreak(), e.clearText(), !1;\n}, up = new WeakSet(), Bx = function(t) {\n  return h(this, ai).call(this, \"endlink｜\", h(this, Ti).call(this, t)), !1;\n}, cp = new WeakSet(), Fx = function(t) {\n  return K(t, \"rec_page_break\", !0) && this.recPagebreak(), h(this, jr) && (h(this, jr).fore.clearLay(t), h(this, jr).back.clearLay(t)), !1;\n}, fp = new WeakSet(), Ux = function(t) {\n  if (!t.pic)\n    throw \"[graph] picは必須です\";\n  const e = encodeURIComponent(JSON.stringify(t));\n  return h(this, ai).call(this, \"grp｜\" + e, h(this, Ti).call(this, t)), !1;\n}, dp = new WeakSet(), Gx = function(t) {\n  if (!t.fn && !t.label && !t.url)\n    throw \"fnまたはlabelまたはurlは必須です\";\n  t.fn ?? (t.fn = this.scrItr.scriptFn), t.style ?? (t.style = \"background-color: rgba(255,0,0,0.5);\"), t.style_hover ?? (t.style_hover = \"background-color: rgba(255,0,0,0.9);\"), t.style_clicked ?? (t.style_clicked = t.style);\n  const e = encodeURIComponent(JSON.stringify(t));\n  return h(this, ai).call(this, \"link｜\" + e, h(this, Ti).call(this, t)), !1;\n}, pp = new WeakSet(), jx = function(t) {\n  return t.text = `\n`, x(this, mo, qh).call(this, t);\n}, vp = new WeakSet(), Hx = function(t) {\n  return x(this, Au, fy).call(this, { ...t, text: \"[r]\" });\n}, Au = new WeakSet(), fy = function(t) {\n  return t.text ? (t.record = !0, t.style ?? (t.style = \"\"), t.style += \"display: none;\", t.wait = 0, x(this, mo, qh).call(this, t)) : !1;\n}, mp = new WeakSet(), $x = function(t) {\n  return b(this, Hr, []), b(this, dr, t.text ?? \"\"), this.val.setVal_Nochk(\n    \"save\",\n    \"const.sn.sLog\",\n    t.text ? `[{text:\"${t.text}\"}]` : \"[]\"\n  ), !1;\n}, yp = new WeakSet(), zx = function(t) {\n  const { t: e, r: i } = t;\n  if (!e)\n    throw \"[ruby2] tは必須です\";\n  if (!i)\n    throw \"[ruby2] rは必須です\";\n  return t.text = \"｜\" + encodeURIComponent(e) + \"《\" + encodeURIComponent(i) + \"》\", delete t.t, delete t.r, x(this, mo, qh).call(this, t);\n}, _p = new WeakSet(), Vx = function(t) {\n  const e = encodeURIComponent(JSON.stringify(t));\n  return h(this, ai).call(this, \"span｜\" + e, h(this, Ti).call(this, t)), !1;\n}, gp = new WeakSet(), Xx = function(t) {\n  if (!t.t)\n    throw \"[tcy] tは必須です\";\n  const e = encodeURIComponent(JSON.stringify(t));\n  return h(this, ai).call(this, \"tcy｜\" + e, h(this, Ti).call(this, t)), !1;\n}, bp = new WeakSet(), Wx = function(t) {\n  console.group(\"🥟 [dump_lay]\");\n  for (const e of x(this, Qe, _i).call(this, t.layer)) {\n    const i = h(this, St)[e];\n    try {\n      console.info(\n        `%c${i.fore.name.slice(0, -7)} %o`,\n        `color:#${A.isDarkMode ? \"49F\" : \"05A\"};`,\n        JSON.parse(`{\"back\":{${i.back.dump()}}, \"fore\":{${i.fore.dump()}}}`)\n      );\n    } catch (n) {\n      console.error(\"dump_lay err:%o\", n), console.error(`   back:${i.back.dump()}`), console.error(`   fore:${i.fore.dump()}`);\n    }\n  }\n  return console.groupEnd(), !1;\n}, xp = new WeakSet(), Yx = function(t) {\n  const e = x(this, ss, sa).call(this, t, h(this, Gr)), i = K(t, \"enabled\", !0);\n  return h(this, Ti).call(this, t).enabled = i, this.val.setVal_Nochk(\"save\", \"const.sn.layer.\" + e + \".enabled\", i), !1;\n}, wp = new WeakSet(), qx = function(t) {\n  return al.argChk_page(t, \"back\"), t.fn ?? (t.fn = this.scrItr.scriptFn), h(this, Ti).call(this, t).addButton(t), this.scrItr.recodeDesign(t), !1;\n}, // 11 match 301 step (0.1ms) PCRE2 https://regex101.com/r/reinpq/1\n// List ${x}${x2}/${y}${y2}/${o}${o2}=${json}\\n\n/*\n\\(\\s*\n(?:\t(?<x>[-=\\d\\.]+)\t|\t(['\"])\t(?<x2>.*?)\t\\2\t)?\n(?:\n\t\\s*,\\s*\n\t(?:\t(?<y>[-=\\d\\.]+)\t|\t(['\"])\t(?<y2>.*?)\t\\5\t)?\n\t(?:\n\t\t\\s*,\\s*\n\t\t(?:\t(?<o>[-=\\d\\.]+)\t|\t(['\"])\t(?<o2>.*?)\t\\8\t)\n\n\t)?\n)?\n|\n(?<json>\\{[^{}]*})\n*/\nB(Ls, \"REG_TSY_PATH\", /\\(\\s*(?:(?<x>[-=\\d\\.]+)|(['\"])(?<x2>.*?)\\2)?(?:\\s*,\\s*(?:(?<y>[-=\\d\\.]+)|(['\"])(?<y2>.*?)\\5)?(?:\\s*,\\s*(?:(?<o>[-=\\d\\.]+)|(['\"])(?<o2>.*?)\\8))?)?|(?<json>\\{[^{}]*})/g), //\t// 文字・文字レイヤ\n_(Ls, ns, 10);\nvar se, Zt, ih, Ep, Zx, Du, _o, Zh;\nclass KC {\n  constructor() {\n    _(this, Ep);\n    _(this, _o);\n    _(this, se, []);\n    _(this, Zt, -1);\n    _(this, ih, new Eh());\n    _(this, Du, A.debugLog ? (t) => console.log(`👾 <FocusMng idx:${t} btn:%o`, h(this, se)[t].btn) : () => {\n    });\n  }\n  destroy() {\n    b(this, se, []), b(this, Zt, -1), h(this, ih).clear();\n  }\n  add(t, e, i) {\n    if (h(this, se).findIndex((a) => a.btn === t) >= 0)\n      return;\n    if (t instanceof Jt) {\n      t.on(\"pointerdown\", () => {\n        for (let a = h(this, se).length - 1; a >= 0; --a)\n          if (h(this, se)[a].btn === t) {\n            b(this, Zt, a);\n            return;\n          }\n        b(this, Zt, -1);\n      }), h(this, se).push({ btn: t, on: e, off: i });\n      return;\n    }\n    h(this, ih).add(t, \"focus\", () => {\n      for (let a = h(this, se).length - 1; a >= 0; --a)\n        if (h(this, se)[a].btn === t) {\n          b(this, Zt, a);\n          return;\n        }\n      b(this, Zt, -1);\n    });\n    let n = (a) => {\n    }, s = t.localName === \"button\" || t.localName === \"a\" ? (a) => !a.isTrusted && a.key === \"Enter\" : (a) => a.key === \"Enter\";\n    const o = t;\n    switch (o.type ?? \"\") {\n      case \"checkbox\":\n        n = () => o.checked = !o.checked;\n        break;\n      case \"\":\n        t.querySelectorAll(\"input[type]\").length > 0 && (n = (a) => x(this, Ep, Zx).call(this, t, a.key), s = () => !1);\n        break;\n      case \"range\":\n        n = (a) => {\n          a.isTrusted || (a.key === \"ArrowUp\" ? o.stepUp() : o.stepDown());\n        };\n        break;\n      case \"text\":\n      case \"textarea\":\n        n = (a) => {\n          if (a.isTrusted)\n            return;\n          let l = (o.selectionStart ?? 0) + (a.key === \"ArrowUp\" ? -1 : 1);\n          l < 0 && (l = 0), o.setSelectionRange(l, l);\n        };\n        break;\n    }\n    h(this, ih).add(t, \"keydown\", (a) => {\n      if (!(a.key !== \"ArrowUp\" && a.key !== \"ArrowDown\" && a.key !== \"Enter\")) {\n        if (a.stopPropagation(), a.stopImmediatePropagation(), s(a)) {\n          t.dispatchEvent(new MouseEvent(\"click\"));\n          return;\n        }\n        n(a);\n      }\n    }, { passive: !0 }), t.hasAttribute(\"tabindex\") || (t.tabIndex = 0), h(this, se).push({ btn: t, on: e, off: i });\n  }\n  remove(t) {\n    const e = h(this, se).findIndex((i) => i.btn === t);\n    e < 0 || (h(this, se).splice(e, 1), h(this, se).length === 0 ? b(this, Zt, -1) : e <= h(this, Zt) && --Te(this, Zt)._);\n  }\n  isFocus(t) {\n    return h(this, Zt) < 0 ? !1 : h(this, se)[h(this, Zt)].btn === t;\n  }\n  prev() {\n    x(this, _o, Zh).call(this);\n    const t = h(this, se).length;\n    if (t !== 0) {\n      --Te(this, Zt)._ < 0 && b(this, Zt, t - 1);\n      for (let e = t; e >= 1; --e) {\n        const i = (h(this, Zt) + e) % t;\n        if (h(this, se)[i].on()) {\n          b(this, Zt, i), h(this, Du).call(this, i);\n          return;\n        }\n      }\n      b(this, Zt, -1);\n    }\n  }\n  next() {\n    x(this, _o, Zh).call(this);\n    const t = h(this, se).length;\n    if (t !== 0) {\n      ++Te(this, Zt)._ >= t && b(this, Zt, 0);\n      for (let e = 0; e < t; ++e) {\n        const i = (h(this, Zt) + e) % t;\n        if (h(this, se)[i].on()) {\n          b(this, Zt, i), h(this, Du).call(this, i);\n          return;\n        }\n      }\n      b(this, Zt, -1);\n    }\n  }\n  getFocus() {\n    if (h(this, Zt) < 0)\n      return null;\n    x(this, _o, Zh).call(this), h(this, Zt) >= h(this, se).length && b(this, Zt, 0);\n    const t = h(this, se)[h(this, Zt)];\n    return t.on() ? t.btn : null;\n  }\n  blur() {\n    x(this, _o, Zh).call(this), b(this, Zt, -1), globalThis.focus();\n  }\n}\nse = new WeakMap(), Zt = new WeakMap(), ih = new WeakMap(), Ep = new WeakSet(), Zx = function(t, e) {\n  const i = t.querySelectorAll(\"input[type]\"), n = i.length;\n  for (let s = 0; s < n; ++s)\n    if (i[s].checked) {\n      i[(s + n + (e === \"ArrowUp\" ? -1 : 1)) % n].checked = !0;\n      break;\n    }\n}, Du = new WeakMap(), _o = new WeakSet(), Zh = function() {\n  for (let t = h(this, se).length - 1; t >= 0; --t) {\n    const e = h(this, se)[t];\n    !(e.btn instanceof Jt) || e.btn.parent ? e.off() : h(this, se).splice(t, 1);\n  }\n};\nvar di = \"top\", Zi = \"bottom\", Ki = \"right\", pi = \"left\", xv = \"auto\", xc = [di, Zi, Ki, pi], Sh = \"start\", wl = \"end\", JC = \"clippingParents\", Kx = \"viewport\", Gh = \"popper\", QC = \"reference\", Xg = /* @__PURE__ */ xc.reduce(function(r, t) {\n  return r.concat([t + \"-\" + Sh, t + \"-\" + wl]);\n}, []), Jx = /* @__PURE__ */ [].concat(xc, [xv]).reduce(function(r, t) {\n  return r.concat([t, t + \"-\" + Sh, t + \"-\" + wl]);\n}, []), tM = \"beforeRead\", eM = \"read\", iM = \"afterRead\", rM = \"beforeMain\", nM = \"main\", sM = \"afterMain\", oM = \"beforeWrite\", aM = \"write\", hM = \"afterWrite\", dy = [tM, eM, iM, rM, nM, sM, oM, aM, hM];\nfunction en(r) {\n  return r ? (r.nodeName || \"\").toLowerCase() : null;\n}\nfunction Ni(r) {\n  if (r == null)\n    return window;\n  if (r.toString() !== \"[object Window]\") {\n    var t = r.ownerDocument;\n    return t && t.defaultView || window;\n  }\n  return r;\n}\nfunction qo(r) {\n  var t = Ni(r).Element;\n  return r instanceof t || r instanceof Element;\n}\nfunction ki(r) {\n  var t = Ni(r).HTMLElement;\n  return r instanceof t || r instanceof HTMLElement;\n}\nfunction x_(r) {\n  if (typeof ShadowRoot > \"u\")\n    return !1;\n  var t = Ni(r).ShadowRoot;\n  return r instanceof t || r instanceof ShadowRoot;\n}\nfunction lM(r) {\n  var t = r.state;\n  Object.keys(t.elements).forEach(function(e) {\n    var i = t.styles[e] || {}, n = t.attributes[e] || {}, s = t.elements[e];\n    !ki(s) || !en(s) || (Object.assign(s.style, i), Object.keys(n).forEach(function(o) {\n      var a = n[o];\n      a === !1 ? s.removeAttribute(o) : s.setAttribute(o, a === !0 ? \"\" : a);\n    }));\n  });\n}\nfunction uM(r) {\n  var t = r.state, e = {\n    popper: {\n      position: t.options.strategy,\n      left: \"0\",\n      top: \"0\",\n      margin: \"0\"\n    },\n    arrow: {\n      position: \"absolute\"\n    },\n    reference: {}\n  };\n  return Object.assign(t.elements.popper.style, e.popper), t.styles = e, t.elements.arrow && Object.assign(t.elements.arrow.style, e.arrow), function() {\n    Object.keys(t.elements).forEach(function(i) {\n      var n = t.elements[i], s = t.attributes[i] || {}, o = Object.keys(t.styles.hasOwnProperty(i) ? t.styles[i] : e[i]), a = o.reduce(function(l, u) {\n        return l[u] = \"\", l;\n      }, {});\n      !ki(n) || !en(n) || (Object.assign(n.style, a), Object.keys(s).forEach(function(l) {\n        n.removeAttribute(l);\n      }));\n    });\n  };\n}\nconst cM = {\n  name: \"applyStyles\",\n  enabled: !0,\n  phase: \"write\",\n  fn: lM,\n  effect: uM,\n  requires: [\"computeStyles\"]\n};\nfunction wr(r) {\n  return r.split(\"-\")[0];\n}\nvar $o = Math.max, $f = Math.min, Ph = Math.round;\nfunction py() {\n  var r = navigator.userAgentData;\n  return r != null && r.brands && Array.isArray(r.brands) ? r.brands.map(function(t) {\n    return t.brand + \"/\" + t.version;\n  }).join(\" \") : navigator.userAgent;\n}\nfunction Qx() {\n  return !/^((?!chrome|android).)*safari/i.test(py());\n}\nfunction Oh(r, t, e) {\n  t === void 0 && (t = !1), e === void 0 && (e = !1);\n  var i = r.getBoundingClientRect(), n = 1, s = 1;\n  t && ki(r) && (n = r.offsetWidth > 0 && Ph(i.width) / r.offsetWidth || 1, s = r.offsetHeight > 0 && Ph(i.height) / r.offsetHeight || 1);\n  var o = qo(r) ? Ni(r) : window, a = o.visualViewport, l = !Qx() && e, u = (i.left + (l && a ? a.offsetLeft : 0)) / n, c = (i.top + (l && a ? a.offsetTop : 0)) / s, f = i.width / n, d = i.height / s;\n  return {\n    width: f,\n    height: d,\n    top: c,\n    right: u + f,\n    bottom: c + d,\n    left: u,\n    x: u,\n    y: c\n  };\n}\nfunction w_(r) {\n  var t = Oh(r), e = r.offsetWidth, i = r.offsetHeight;\n  return Math.abs(t.width - e) <= 1 && (e = t.width), Math.abs(t.height - i) <= 1 && (i = t.height), {\n    x: r.offsetLeft,\n    y: r.offsetTop,\n    width: e,\n    height: i\n  };\n}\nfunction tw(r, t) {\n  var e = t.getRootNode && t.getRootNode();\n  if (r.contains(t))\n    return !0;\n  if (e && x_(e)) {\n    var i = t;\n    do {\n      if (i && r.isSameNode(i))\n        return !0;\n      i = i.parentNode || i.host;\n    } while (i);\n  }\n  return !1;\n}\nfunction Pr(r) {\n  return Ni(r).getComputedStyle(r);\n}\nfunction fM(r) {\n  return [\"table\", \"td\", \"th\"].indexOf(en(r)) >= 0;\n}\nfunction _s(r) {\n  return ((qo(r) ? r.ownerDocument : (\n    // $FlowFixMe[prop-missing]\n    r.document\n  )) || window.document).documentElement;\n}\nfunction wv(r) {\n  return en(r) === \"html\" ? r : (\n    // this is a quicker (but less type safe) way to save quite some bytes from the bundle\n    // $FlowFixMe[incompatible-return]\n    // $FlowFixMe[prop-missing]\n    r.assignedSlot || // step into the shadow DOM of the parent of a slotted node\n    r.parentNode || // DOM Element detected\n    (x_(r) ? r.host : null) || // ShadowRoot detected\n    // $FlowFixMe[incompatible-call]: HTMLElement is a Node\n    _s(r)\n  );\n}\nfunction Wg(r) {\n  return !ki(r) || // https://github.com/popperjs/popper-core/issues/837\n  Pr(r).position === \"fixed\" ? null : r.offsetParent;\n}\nfunction dM(r) {\n  var t = /firefox/i.test(py()), e = /Trident/i.test(py());\n  if (e && ki(r)) {\n    var i = Pr(r);\n    if (i.position === \"fixed\")\n      return null;\n  }\n  var n = wv(r);\n  for (x_(n) && (n = n.host); ki(n) && [\"html\", \"body\"].indexOf(en(n)) < 0; ) {\n    var s = Pr(n);\n    if (s.transform !== \"none\" || s.perspective !== \"none\" || s.contain === \"paint\" || [\"transform\", \"perspective\"].indexOf(s.willChange) !== -1 || t && s.willChange === \"filter\" || t && s.filter && s.filter !== \"none\")\n      return n;\n    n = n.parentNode;\n  }\n  return null;\n}\nfunction wc(r) {\n  for (var t = Ni(r), e = Wg(r); e && fM(e) && Pr(e).position === \"static\"; )\n    e = Wg(e);\n  return e && (en(e) === \"html\" || en(e) === \"body\" && Pr(e).position === \"static\") ? t : e || dM(r) || t;\n}\nfunction E_(r) {\n  return [\"top\", \"bottom\"].indexOf(r) >= 0 ? \"x\" : \"y\";\n}\nfunction hl(r, t, e) {\n  return $o(r, $f(t, e));\n}\nfunction pM(r, t, e) {\n  var i = hl(r, t, e);\n  return i > e ? e : i;\n}\nfunction ew() {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  };\n}\nfunction iw(r) {\n  return Object.assign({}, ew(), r);\n}\nfunction rw(r, t) {\n  return t.reduce(function(e, i) {\n    return e[i] = r, e;\n  }, {});\n}\nvar vM = function(t, e) {\n  return t = typeof t == \"function\" ? t(Object.assign({}, e.rects, {\n    placement: e.placement\n  })) : t, iw(typeof t != \"number\" ? t : rw(t, xc));\n};\nfunction mM(r) {\n  var t, e = r.state, i = r.name, n = r.options, s = e.elements.arrow, o = e.modifiersData.popperOffsets, a = wr(e.placement), l = E_(a), u = [pi, Ki].indexOf(a) >= 0, c = u ? \"height\" : \"width\";\n  if (!(!s || !o)) {\n    var f = vM(n.padding, e), d = w_(s), p = l === \"y\" ? di : pi, m = l === \"y\" ? Zi : Ki, v = e.rects.reference[c] + e.rects.reference[l] - o[l] - e.rects.popper[c], y = o[l] - e.rects.reference[l], g = wc(s), w = g ? l === \"y\" ? g.clientHeight || 0 : g.clientWidth || 0 : 0, T = v / 2 - y / 2, P = f[p], O = w - d[c] - f[m], C = w / 2 - d[c] / 2 + T, I = hl(P, C, O), S = l;\n    e.modifiersData[i] = (t = {}, t[S] = I, t.centerOffset = I - C, t);\n  }\n}\nfunction yM(r) {\n  var t = r.state, e = r.options, i = e.element, n = i === void 0 ? \"[data-popper-arrow]\" : i;\n  if (n != null && !(typeof n == \"string\" && (n = t.elements.popper.querySelector(n), !n))) {\n    if ( true && (ki(n) || console.error(['Popper: \"arrow\" element must be an HTMLElement (not an SVGElement).', \"To use an SVG arrow, wrap it in an HTMLElement that will be used as\", \"the arrow.\"].join(\" \"))), !tw(t.elements.popper, n)) {\n       true && console.error(['Popper: \"arrow\" modifier\\'s `element` must be a child of the popper', \"element.\"].join(\" \"));\n      return;\n    }\n    t.elements.arrow = n;\n  }\n}\nconst _M = {\n  name: \"arrow\",\n  enabled: !0,\n  phase: \"main\",\n  fn: mM,\n  effect: yM,\n  requires: [\"popperOffsets\"],\n  requiresIfExists: [\"preventOverflow\"]\n};\nfunction Ih(r) {\n  return r.split(\"-\")[1];\n}\nvar gM = {\n  top: \"auto\",\n  right: \"auto\",\n  bottom: \"auto\",\n  left: \"auto\"\n};\nfunction bM(r, t) {\n  var e = r.x, i = r.y, n = t.devicePixelRatio || 1;\n  return {\n    x: Ph(e * n) / n || 0,\n    y: Ph(i * n) / n || 0\n  };\n}\nfunction Yg(r) {\n  var t, e = r.popper, i = r.popperRect, n = r.placement, s = r.variation, o = r.offsets, a = r.position, l = r.gpuAcceleration, u = r.adaptive, c = r.roundOffsets, f = r.isFixed, d = o.x, p = d === void 0 ? 0 : d, m = o.y, v = m === void 0 ? 0 : m, y = typeof c == \"function\" ? c({\n    x: p,\n    y: v\n  }) : {\n    x: p,\n    y: v\n  };\n  p = y.x, v = y.y;\n  var g = o.hasOwnProperty(\"x\"), w = o.hasOwnProperty(\"y\"), T = pi, P = di, O = window;\n  if (u) {\n    var C = wc(e), I = \"clientHeight\", S = \"clientWidth\";\n    if (C === Ni(e) && (C = _s(e), Pr(C).position !== \"static\" && a === \"absolute\" && (I = \"scrollHeight\", S = \"scrollWidth\")), C = C, n === di || (n === pi || n === Ki) && s === wl) {\n      P = Zi;\n      var M = f && C === O && O.visualViewport ? O.visualViewport.height : (\n        // $FlowFixMe[prop-missing]\n        C[I]\n      );\n      v -= M - i.height, v *= l ? 1 : -1;\n    }\n    if (n === pi || (n === di || n === Zi) && s === wl) {\n      T = Ki;\n      var N = f && C === O && O.visualViewport ? O.visualViewport.width : (\n        // $FlowFixMe[prop-missing]\n        C[S]\n      );\n      p -= N - i.width, p *= l ? 1 : -1;\n    }\n  }\n  var D = Object.assign({\n    position: a\n  }, u && gM), z = c === !0 ? bM({\n    x: p,\n    y: v\n  }, Ni(e)) : {\n    x: p,\n    y: v\n  };\n  if (p = z.x, v = z.y, l) {\n    var q;\n    return Object.assign({}, D, (q = {}, q[P] = w ? \"0\" : \"\", q[T] = g ? \"0\" : \"\", q.transform = (O.devicePixelRatio || 1) <= 1 ? \"translate(\" + p + \"px, \" + v + \"px)\" : \"translate3d(\" + p + \"px, \" + v + \"px, 0)\", q));\n  }\n  return Object.assign({}, D, (t = {}, t[P] = w ? v + \"px\" : \"\", t[T] = g ? p + \"px\" : \"\", t.transform = \"\", t));\n}\nfunction xM(r) {\n  var t = r.state, e = r.options, i = e.gpuAcceleration, n = i === void 0 ? !0 : i, s = e.adaptive, o = s === void 0 ? !0 : s, a = e.roundOffsets, l = a === void 0 ? !0 : a;\n  if (true) {\n    var u = Pr(t.elements.popper).transitionProperty || \"\";\n    o && [\"transform\", \"top\", \"right\", \"bottom\", \"left\"].some(function(f) {\n      return u.indexOf(f) >= 0;\n    }) && console.warn([\"Popper: Detected CSS transitions on at least one of the following\", 'CSS properties: \"transform\", \"top\", \"right\", \"bottom\", \"left\".', `\n\n`, 'Disable the \"computeStyles\" modifier\\'s `adaptive` option to allow', \"for smooth transitions, or remove these properties from the CSS\", \"transition declaration on the popper element if only transitioning\", \"opacity or background-color for example.\", `\n\n`, \"We recommend using the popper element as a wrapper around an inner\", \"element that can have any CSS property transitioned for animations.\"].join(\" \"));\n  }\n  var c = {\n    placement: wr(t.placement),\n    variation: Ih(t.placement),\n    popper: t.elements.popper,\n    popperRect: t.rects.popper,\n    gpuAcceleration: n,\n    isFixed: t.options.strategy === \"fixed\"\n  };\n  t.modifiersData.popperOffsets != null && (t.styles.popper = Object.assign({}, t.styles.popper, Yg(Object.assign({}, c, {\n    offsets: t.modifiersData.popperOffsets,\n    position: t.options.strategy,\n    adaptive: o,\n    roundOffsets: l\n  })))), t.modifiersData.arrow != null && (t.styles.arrow = Object.assign({}, t.styles.arrow, Yg(Object.assign({}, c, {\n    offsets: t.modifiersData.arrow,\n    position: \"absolute\",\n    adaptive: !1,\n    roundOffsets: l\n  })))), t.attributes.popper = Object.assign({}, t.attributes.popper, {\n    \"data-popper-placement\": t.placement\n  });\n}\nconst wM = {\n  name: \"computeStyles\",\n  enabled: !0,\n  phase: \"beforeWrite\",\n  fn: xM,\n  data: {}\n};\nvar Yc = {\n  passive: !0\n};\nfunction EM(r) {\n  var t = r.state, e = r.instance, i = r.options, n = i.scroll, s = n === void 0 ? !0 : n, o = i.resize, a = o === void 0 ? !0 : o, l = Ni(t.elements.popper), u = [].concat(t.scrollParents.reference, t.scrollParents.popper);\n  return s && u.forEach(function(c) {\n    c.addEventListener(\"scroll\", e.update, Yc);\n  }), a && l.addEventListener(\"resize\", e.update, Yc), function() {\n    s && u.forEach(function(c) {\n      c.removeEventListener(\"scroll\", e.update, Yc);\n    }), a && l.removeEventListener(\"resize\", e.update, Yc);\n  };\n}\nconst TM = {\n  name: \"eventListeners\",\n  enabled: !0,\n  phase: \"write\",\n  fn: function() {\n  },\n  effect: EM,\n  data: {}\n};\nvar SM = {\n  left: \"right\",\n  right: \"left\",\n  bottom: \"top\",\n  top: \"bottom\"\n};\nfunction _f(r) {\n  return r.replace(/left|right|bottom|top/g, function(t) {\n    return SM[t];\n  });\n}\nvar PM = {\n  start: \"end\",\n  end: \"start\"\n};\nfunction qg(r) {\n  return r.replace(/start|end/g, function(t) {\n    return PM[t];\n  });\n}\nfunction T_(r) {\n  var t = Ni(r), e = t.pageXOffset, i = t.pageYOffset;\n  return {\n    scrollLeft: e,\n    scrollTop: i\n  };\n}\nfunction S_(r) {\n  return Oh(_s(r)).left + T_(r).scrollLeft;\n}\nfunction OM(r, t) {\n  var e = Ni(r), i = _s(r), n = e.visualViewport, s = i.clientWidth, o = i.clientHeight, a = 0, l = 0;\n  if (n) {\n    s = n.width, o = n.height;\n    var u = Qx();\n    (u || !u && t === \"fixed\") && (a = n.offsetLeft, l = n.offsetTop);\n  }\n  return {\n    width: s,\n    height: o,\n    x: a + S_(r),\n    y: l\n  };\n}\nfunction IM(r) {\n  var t, e = _s(r), i = T_(r), n = (t = r.ownerDocument) == null ? void 0 : t.body, s = $o(e.scrollWidth, e.clientWidth, n ? n.scrollWidth : 0, n ? n.clientWidth : 0), o = $o(e.scrollHeight, e.clientHeight, n ? n.scrollHeight : 0, n ? n.clientHeight : 0), a = -i.scrollLeft + S_(r), l = -i.scrollTop;\n  return Pr(n || e).direction === \"rtl\" && (a += $o(e.clientWidth, n ? n.clientWidth : 0) - s), {\n    width: s,\n    height: o,\n    x: a,\n    y: l\n  };\n}\nfunction P_(r) {\n  var t = Pr(r), e = t.overflow, i = t.overflowX, n = t.overflowY;\n  return /auto|scroll|overlay|hidden/.test(e + n + i);\n}\nfunction nw(r) {\n  return [\"html\", \"body\", \"#document\"].indexOf(en(r)) >= 0 ? r.ownerDocument.body : ki(r) && P_(r) ? r : nw(wv(r));\n}\nfunction ll(r, t) {\n  var e;\n  t === void 0 && (t = []);\n  var i = nw(r), n = i === ((e = r.ownerDocument) == null ? void 0 : e.body), s = Ni(i), o = n ? [s].concat(s.visualViewport || [], P_(i) ? i : []) : i, a = t.concat(o);\n  return n ? a : (\n    // $FlowFixMe[incompatible-call]: isBody tells us target will be an HTMLElement here\n    a.concat(ll(wv(o)))\n  );\n}\nfunction vy(r) {\n  return Object.assign({}, r, {\n    left: r.x,\n    top: r.y,\n    right: r.x + r.width,\n    bottom: r.y + r.height\n  });\n}\nfunction CM(r, t) {\n  var e = Oh(r, !1, t === \"fixed\");\n  return e.top = e.top + r.clientTop, e.left = e.left + r.clientLeft, e.bottom = e.top + r.clientHeight, e.right = e.left + r.clientWidth, e.width = r.clientWidth, e.height = r.clientHeight, e.x = e.left, e.y = e.top, e;\n}\nfunction Zg(r, t, e) {\n  return t === Kx ? vy(OM(r, e)) : qo(t) ? CM(t, e) : vy(IM(_s(r)));\n}\nfunction MM(r) {\n  var t = ll(wv(r)), e = [\"absolute\", \"fixed\"].indexOf(Pr(r).position) >= 0, i = e && ki(r) ? wc(r) : r;\n  return qo(i) ? t.filter(function(n) {\n    return qo(n) && tw(n, i) && en(n) !== \"body\";\n  }) : [];\n}\nfunction RM(r, t, e, i) {\n  var n = t === \"clippingParents\" ? MM(r) : [].concat(t), s = [].concat(n, [e]), o = s[0], a = s.reduce(function(l, u) {\n    var c = Zg(r, u, i);\n    return l.top = $o(c.top, l.top), l.right = $f(c.right, l.right), l.bottom = $f(c.bottom, l.bottom), l.left = $o(c.left, l.left), l;\n  }, Zg(r, o, i));\n  return a.width = a.right - a.left, a.height = a.bottom - a.top, a.x = a.left, a.y = a.top, a;\n}\nfunction sw(r) {\n  var t = r.reference, e = r.element, i = r.placement, n = i ? wr(i) : null, s = i ? Ih(i) : null, o = t.x + t.width / 2 - e.width / 2, a = t.y + t.height / 2 - e.height / 2, l;\n  switch (n) {\n    case di:\n      l = {\n        x: o,\n        y: t.y - e.height\n      };\n      break;\n    case Zi:\n      l = {\n        x: o,\n        y: t.y + t.height\n      };\n      break;\n    case Ki:\n      l = {\n        x: t.x + t.width,\n        y: a\n      };\n      break;\n    case pi:\n      l = {\n        x: t.x - e.width,\n        y: a\n      };\n      break;\n    default:\n      l = {\n        x: t.x,\n        y: t.y\n      };\n  }\n  var u = n ? E_(n) : null;\n  if (u != null) {\n    var c = u === \"y\" ? \"height\" : \"width\";\n    switch (s) {\n      case Sh:\n        l[u] = l[u] - (t[c] / 2 - e[c] / 2);\n        break;\n      case wl:\n        l[u] = l[u] + (t[c] / 2 - e[c] / 2);\n        break;\n    }\n  }\n  return l;\n}\nfunction El(r, t) {\n  t === void 0 && (t = {});\n  var e = t, i = e.placement, n = i === void 0 ? r.placement : i, s = e.strategy, o = s === void 0 ? r.strategy : s, a = e.boundary, l = a === void 0 ? JC : a, u = e.rootBoundary, c = u === void 0 ? Kx : u, f = e.elementContext, d = f === void 0 ? Gh : f, p = e.altBoundary, m = p === void 0 ? !1 : p, v = e.padding, y = v === void 0 ? 0 : v, g = iw(typeof y != \"number\" ? y : rw(y, xc)), w = d === Gh ? QC : Gh, T = r.rects.popper, P = r.elements[m ? w : d], O = RM(qo(P) ? P : P.contextElement || _s(r.elements.popper), l, c, o), C = Oh(r.elements.reference), I = sw({\n    reference: C,\n    element: T,\n    strategy: \"absolute\",\n    placement: n\n  }), S = vy(Object.assign({}, T, I)), M = d === Gh ? S : C, N = {\n    top: O.top - M.top + g.top,\n    bottom: M.bottom - O.bottom + g.bottom,\n    left: O.left - M.left + g.left,\n    right: M.right - O.right + g.right\n  }, D = r.modifiersData.offset;\n  if (d === Gh && D) {\n    var z = D[n];\n    Object.keys(N).forEach(function(q) {\n      var it = [Ki, Zi].indexOf(q) >= 0 ? 1 : -1, V = [di, Zi].indexOf(q) >= 0 ? \"y\" : \"x\";\n      N[q] += z[V] * it;\n    });\n  }\n  return N;\n}\nfunction kM(r, t) {\n  t === void 0 && (t = {});\n  var e = t, i = e.placement, n = e.boundary, s = e.rootBoundary, o = e.padding, a = e.flipVariations, l = e.allowedAutoPlacements, u = l === void 0 ? Jx : l, c = Ih(i), f = c ? a ? Xg : Xg.filter(function(m) {\n    return Ih(m) === c;\n  }) : xc, d = f.filter(function(m) {\n    return u.indexOf(m) >= 0;\n  });\n  d.length === 0 && (d = f,  true && console.error([\"Popper: The `allowedAutoPlacements` option did not allow any\", \"placements. Ensure the `placement` option matches the variation\", \"of the allowed placements.\", 'For example, \"auto\" cannot be used to allow \"bottom-start\".', 'Use \"auto-start\" instead.'].join(\" \")));\n  var p = d.reduce(function(m, v) {\n    return m[v] = El(r, {\n      placement: v,\n      boundary: n,\n      rootBoundary: s,\n      padding: o\n    })[wr(v)], m;\n  }, {});\n  return Object.keys(p).sort(function(m, v) {\n    return p[m] - p[v];\n  });\n}\nfunction NM(r) {\n  if (wr(r) === xv)\n    return [];\n  var t = _f(r);\n  return [qg(r), t, qg(t)];\n}\nfunction LM(r) {\n  var t = r.state, e = r.options, i = r.name;\n  if (!t.modifiersData[i]._skip) {\n    for (var n = e.mainAxis, s = n === void 0 ? !0 : n, o = e.altAxis, a = o === void 0 ? !0 : o, l = e.fallbackPlacements, u = e.padding, c = e.boundary, f = e.rootBoundary, d = e.altBoundary, p = e.flipVariations, m = p === void 0 ? !0 : p, v = e.allowedAutoPlacements, y = t.options.placement, g = wr(y), w = g === y, T = l || (w || !m ? [_f(y)] : NM(y)), P = [y].concat(T).reduce(function(Et, Qt) {\n      return Et.concat(wr(Qt) === xv ? kM(t, {\n        placement: Qt,\n        boundary: c,\n        rootBoundary: f,\n        padding: u,\n        flipVariations: m,\n        allowedAutoPlacements: v\n      }) : Qt);\n    }, []), O = t.rects.reference, C = t.rects.popper, I = /* @__PURE__ */ new Map(), S = !0, M = P[0], N = 0; N < P.length; N++) {\n      var D = P[N], z = wr(D), q = Ih(D) === Sh, it = [di, Zi].indexOf(z) >= 0, V = it ? \"width\" : \"height\", H = El(t, {\n        placement: D,\n        boundary: c,\n        rootBoundary: f,\n        altBoundary: d,\n        padding: u\n      }), J = it ? q ? Ki : pi : q ? Zi : di;\n      O[V] > C[V] && (J = _f(J));\n      var vt = _f(J), tt = [];\n      if (s && tt.push(H[z] <= 0), a && tt.push(H[J] <= 0, H[vt] <= 0), tt.every(function(Et) {\n        return Et;\n      })) {\n        M = D, S = !1;\n        break;\n      }\n      I.set(D, tt);\n    }\n    if (S)\n      for (var wt = m ? 3 : 1, rt = function(Qt) {\n        var k = P.find(function(Yt) {\n          var at = I.get(Yt);\n          if (at)\n            return at.slice(0, Qt).every(function(me) {\n              return me;\n            });\n        });\n        if (k)\n          return M = k, \"break\";\n      }, be = wt; be > 0; be--) {\n        var Wt = rt(be);\n        if (Wt === \"break\")\n          break;\n      }\n    t.placement !== M && (t.modifiersData[i]._skip = !0, t.placement = M, t.reset = !0);\n  }\n}\nconst AM = {\n  name: \"flip\",\n  enabled: !0,\n  phase: \"main\",\n  fn: LM,\n  requiresIfExists: [\"offset\"],\n  data: {\n    _skip: !1\n  }\n};\nfunction Kg(r, t, e) {\n  return e === void 0 && (e = {\n    x: 0,\n    y: 0\n  }), {\n    top: r.top - t.height - e.y,\n    right: r.right - t.width + e.x,\n    bottom: r.bottom - t.height + e.y,\n    left: r.left - t.width - e.x\n  };\n}\nfunction Jg(r) {\n  return [di, Ki, Zi, pi].some(function(t) {\n    return r[t] >= 0;\n  });\n}\nfunction DM(r) {\n  var t = r.state, e = r.name, i = t.rects.reference, n = t.rects.popper, s = t.modifiersData.preventOverflow, o = El(t, {\n    elementContext: \"reference\"\n  }), a = El(t, {\n    altBoundary: !0\n  }), l = Kg(o, i), u = Kg(a, n, s), c = Jg(l), f = Jg(u);\n  t.modifiersData[e] = {\n    referenceClippingOffsets: l,\n    popperEscapeOffsets: u,\n    isReferenceHidden: c,\n    hasPopperEscaped: f\n  }, t.attributes.popper = Object.assign({}, t.attributes.popper, {\n    \"data-popper-reference-hidden\": c,\n    \"data-popper-escaped\": f\n  });\n}\nconst BM = {\n  name: \"hide\",\n  enabled: !0,\n  phase: \"main\",\n  requiresIfExists: [\"preventOverflow\"],\n  fn: DM\n};\nfunction FM(r, t, e) {\n  var i = wr(r), n = [pi, di].indexOf(i) >= 0 ? -1 : 1, s = typeof e == \"function\" ? e(Object.assign({}, t, {\n    placement: r\n  })) : e, o = s[0], a = s[1];\n  return o = o || 0, a = (a || 0) * n, [pi, Ki].indexOf(i) >= 0 ? {\n    x: a,\n    y: o\n  } : {\n    x: o,\n    y: a\n  };\n}\nfunction UM(r) {\n  var t = r.state, e = r.options, i = r.name, n = e.offset, s = n === void 0 ? [0, 0] : n, o = Jx.reduce(function(c, f) {\n    return c[f] = FM(f, t.rects, s), c;\n  }, {}), a = o[t.placement], l = a.x, u = a.y;\n  t.modifiersData.popperOffsets != null && (t.modifiersData.popperOffsets.x += l, t.modifiersData.popperOffsets.y += u), t.modifiersData[i] = o;\n}\nconst GM = {\n  name: \"offset\",\n  enabled: !0,\n  phase: \"main\",\n  requires: [\"popperOffsets\"],\n  fn: UM\n};\nfunction jM(r) {\n  var t = r.state, e = r.name;\n  t.modifiersData[e] = sw({\n    reference: t.rects.reference,\n    element: t.rects.popper,\n    strategy: \"absolute\",\n    placement: t.placement\n  });\n}\nconst HM = {\n  name: \"popperOffsets\",\n  enabled: !0,\n  phase: \"read\",\n  fn: jM,\n  data: {}\n};\nfunction $M(r) {\n  return r === \"x\" ? \"y\" : \"x\";\n}\nfunction zM(r) {\n  var t = r.state, e = r.options, i = r.name, n = e.mainAxis, s = n === void 0 ? !0 : n, o = e.altAxis, a = o === void 0 ? !1 : o, l = e.boundary, u = e.rootBoundary, c = e.altBoundary, f = e.padding, d = e.tether, p = d === void 0 ? !0 : d, m = e.tetherOffset, v = m === void 0 ? 0 : m, y = El(t, {\n    boundary: l,\n    rootBoundary: u,\n    padding: f,\n    altBoundary: c\n  }), g = wr(t.placement), w = Ih(t.placement), T = !w, P = E_(g), O = $M(P), C = t.modifiersData.popperOffsets, I = t.rects.reference, S = t.rects.popper, M = typeof v == \"function\" ? v(Object.assign({}, t.rects, {\n    placement: t.placement\n  })) : v, N = typeof M == \"number\" ? {\n    mainAxis: M,\n    altAxis: M\n  } : Object.assign({\n    mainAxis: 0,\n    altAxis: 0\n  }, M), D = t.modifiersData.offset ? t.modifiersData.offset[t.placement] : null, z = {\n    x: 0,\n    y: 0\n  };\n  if (C) {\n    if (s) {\n      var q, it = P === \"y\" ? di : pi, V = P === \"y\" ? Zi : Ki, H = P === \"y\" ? \"height\" : \"width\", J = C[P], vt = J + y[it], tt = J - y[V], wt = p ? -S[H] / 2 : 0, rt = w === Sh ? I[H] : S[H], be = w === Sh ? -S[H] : -I[H], Wt = t.elements.arrow, Et = p && Wt ? w_(Wt) : {\n        width: 0,\n        height: 0\n      }, Qt = t.modifiersData[\"arrow#persistent\"] ? t.modifiersData[\"arrow#persistent\"].padding : ew(), k = Qt[it], Yt = Qt[V], at = hl(0, I[H], Et[H]), me = T ? I[H] / 2 - wt - at - k - N.mainAxis : rt - at - k - N.mainAxis, Ft = T ? -I[H] / 2 + wt + at + Yt + N.mainAxis : be + at + Yt + N.mainAxis, Z = t.elements.arrow && wc(t.elements.arrow), xe = Z ? P === \"y\" ? Z.clientTop || 0 : Z.clientLeft || 0 : 0, ct = (q = D == null ? void 0 : D[P]) != null ? q : 0, F = J + me - ct - xe, ht = J + Ft - ct, xt = hl(p ? $f(vt, F) : vt, J, p ? $o(tt, ht) : tt);\n      C[P] = xt, z[P] = xt - J;\n    }\n    if (a) {\n      var U, ke = P === \"x\" ? di : pi, vi = P === \"x\" ? Zi : Ki, Ne = C[O], Li = O === \"y\" ? \"height\" : \"width\", Ai = Ne + y[ke], ri = Ne - y[vi], Ir = [di, pi].indexOf(g) !== -1, Ee = (U = D == null ? void 0 : D[O]) != null ? U : 0, ue = Ir ? Ai : Ne - I[Li] - S[Li] - Ee + N.altAxis, Ht = Ir ? Ne + I[Li] + S[Li] - Ee - N.altAxis : ri, Ct = p && Ir ? pM(ue, Ne, Ht) : hl(p ? ue : Ai, Ne, p ? Ht : ri);\n      C[O] = Ct, z[O] = Ct - Ne;\n    }\n    t.modifiersData[i] = z;\n  }\n}\nconst VM = {\n  name: \"preventOverflow\",\n  enabled: !0,\n  phase: \"main\",\n  fn: zM,\n  requiresIfExists: [\"offset\"]\n};\nfunction XM(r) {\n  return {\n    scrollLeft: r.scrollLeft,\n    scrollTop: r.scrollTop\n  };\n}\nfunction WM(r) {\n  return r === Ni(r) || !ki(r) ? T_(r) : XM(r);\n}\nfunction YM(r) {\n  var t = r.getBoundingClientRect(), e = Ph(t.width) / r.offsetWidth || 1, i = Ph(t.height) / r.offsetHeight || 1;\n  return e !== 1 || i !== 1;\n}\nfunction qM(r, t, e) {\n  e === void 0 && (e = !1);\n  var i = ki(t), n = ki(t) && YM(t), s = _s(t), o = Oh(r, n, e), a = {\n    scrollLeft: 0,\n    scrollTop: 0\n  }, l = {\n    x: 0,\n    y: 0\n  };\n  return (i || !i && !e) && ((en(t) !== \"body\" || // https://github.com/popperjs/popper-core/issues/1078\n  P_(s)) && (a = WM(t)), ki(t) ? (l = Oh(t, !0), l.x += t.clientLeft, l.y += t.clientTop) : s && (l.x = S_(s))), {\n    x: o.left + a.scrollLeft - l.x,\n    y: o.top + a.scrollTop - l.y,\n    width: o.width,\n    height: o.height\n  };\n}\nfunction ZM(r) {\n  var t = /* @__PURE__ */ new Map(), e = /* @__PURE__ */ new Set(), i = [];\n  r.forEach(function(s) {\n    t.set(s.name, s);\n  });\n  function n(s) {\n    e.add(s.name);\n    var o = [].concat(s.requires || [], s.requiresIfExists || []);\n    o.forEach(function(a) {\n      if (!e.has(a)) {\n        var l = t.get(a);\n        l && n(l);\n      }\n    }), i.push(s);\n  }\n  return r.forEach(function(s) {\n    e.has(s.name) || n(s);\n  }), i;\n}\nfunction KM(r) {\n  var t = ZM(r);\n  return dy.reduce(function(e, i) {\n    return e.concat(t.filter(function(n) {\n      return n.phase === i;\n    }));\n  }, []);\n}\nfunction JM(r) {\n  var t;\n  return function() {\n    return t || (t = new Promise(function(e) {\n      Promise.resolve().then(function() {\n        t = void 0, e(r());\n      });\n    })), t;\n  };\n}\nfunction Hn(r) {\n  for (var t = arguments.length, e = new Array(t > 1 ? t - 1 : 0), i = 1; i < t; i++)\n    e[i - 1] = arguments[i];\n  return [].concat(e).reduce(function(n, s) {\n    return n.replace(/%s/, s);\n  }, r);\n}\nvar Ts = 'Popper: modifier \"%s\" provided an invalid %s property, expected %s but got %s', QM = 'Popper: modifier \"%s\" requires \"%s\", but \"%s\" modifier is not available', Qg = [\"name\", \"enabled\", \"phase\", \"fn\", \"effect\", \"requires\", \"options\"];\nfunction tR(r) {\n  r.forEach(function(t) {\n    [].concat(Object.keys(t), Qg).filter(function(e, i, n) {\n      return n.indexOf(e) === i;\n    }).forEach(function(e) {\n      switch (e) {\n        case \"name\":\n          typeof t.name != \"string\" && console.error(Hn(Ts, String(t.name), '\"name\"', '\"string\"', '\"' + String(t.name) + '\"'));\n          break;\n        case \"enabled\":\n          typeof t.enabled != \"boolean\" && console.error(Hn(Ts, t.name, '\"enabled\"', '\"boolean\"', '\"' + String(t.enabled) + '\"'));\n          break;\n        case \"phase\":\n          dy.indexOf(t.phase) < 0 && console.error(Hn(Ts, t.name, '\"phase\"', \"either \" + dy.join(\", \"), '\"' + String(t.phase) + '\"'));\n          break;\n        case \"fn\":\n          typeof t.fn != \"function\" && console.error(Hn(Ts, t.name, '\"fn\"', '\"function\"', '\"' + String(t.fn) + '\"'));\n          break;\n        case \"effect\":\n          t.effect != null && typeof t.effect != \"function\" && console.error(Hn(Ts, t.name, '\"effect\"', '\"function\"', '\"' + String(t.fn) + '\"'));\n          break;\n        case \"requires\":\n          t.requires != null && !Array.isArray(t.requires) && console.error(Hn(Ts, t.name, '\"requires\"', '\"array\"', '\"' + String(t.requires) + '\"'));\n          break;\n        case \"requiresIfExists\":\n          Array.isArray(t.requiresIfExists) || console.error(Hn(Ts, t.name, '\"requiresIfExists\"', '\"array\"', '\"' + String(t.requiresIfExists) + '\"'));\n          break;\n        case \"options\":\n        case \"data\":\n          break;\n        default:\n          console.error('PopperJS: an invalid property has been provided to the \"' + t.name + '\" modifier, valid properties are ' + Qg.map(function(i) {\n            return '\"' + i + '\"';\n          }).join(\", \") + '; but \"' + e + '\" was provided.');\n      }\n      t.requires && t.requires.forEach(function(i) {\n        r.find(function(n) {\n          return n.name === i;\n        }) == null && console.error(Hn(QM, String(t.name), i, i));\n      });\n    });\n  });\n}\nfunction eR(r, t) {\n  var e = /* @__PURE__ */ new Set();\n  return r.filter(function(i) {\n    var n = t(i);\n    if (!e.has(n))\n      return e.add(n), !0;\n  });\n}\nfunction iR(r) {\n  var t = r.reduce(function(e, i) {\n    var n = e[i.name];\n    return e[i.name] = n ? Object.assign({}, n, i, {\n      options: Object.assign({}, n.options, i.options),\n      data: Object.assign({}, n.data, i.data)\n    }) : i, e;\n  }, {});\n  return Object.keys(t).map(function(e) {\n    return t[e];\n  });\n}\nvar t0 = \"Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.\", rR = \"Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.\", e0 = {\n  placement: \"bottom\",\n  modifiers: [],\n  strategy: \"absolute\"\n};\nfunction i0() {\n  for (var r = arguments.length, t = new Array(r), e = 0; e < r; e++)\n    t[e] = arguments[e];\n  return !t.some(function(i) {\n    return !(i && typeof i.getBoundingClientRect == \"function\");\n  });\n}\nfunction nR(r) {\n  r === void 0 && (r = {});\n  var t = r, e = t.defaultModifiers, i = e === void 0 ? [] : e, n = t.defaultOptions, s = n === void 0 ? e0 : n;\n  return function(a, l, u) {\n    u === void 0 && (u = s);\n    var c = {\n      placement: \"bottom\",\n      orderedModifiers: [],\n      options: Object.assign({}, e0, s),\n      modifiersData: {},\n      elements: {\n        reference: a,\n        popper: l\n      },\n      attributes: {},\n      styles: {}\n    }, f = [], d = !1, p = {\n      state: c,\n      setOptions: function(g) {\n        var w = typeof g == \"function\" ? g(c.options) : g;\n        v(), c.options = Object.assign({}, s, c.options, w), c.scrollParents = {\n          reference: qo(a) ? ll(a) : a.contextElement ? ll(a.contextElement) : [],\n          popper: ll(l)\n        };\n        var T = KM(iR([].concat(i, c.options.modifiers)));\n        if (c.orderedModifiers = T.filter(function(D) {\n          return D.enabled;\n        }), \"development\" !== \"production\") {\n          var P = eR([].concat(T, c.options.modifiers), function(D) {\n            var z = D.name;\n            return z;\n          });\n          if (tR(P), wr(c.options.placement) === xv) {\n            var O = c.orderedModifiers.find(function(D) {\n              var z = D.name;\n              return z === \"flip\";\n            });\n            O || console.error(['Popper: \"auto\" placements require the \"flip\" modifier be', \"present and enabled to work.\"].join(\" \"));\n          }\n          var C = Pr(l), I = C.marginTop, S = C.marginRight, M = C.marginBottom, N = C.marginLeft;\n          [I, S, M, N].some(function(D) {\n            return parseFloat(D);\n          }) && console.warn(['Popper: CSS \"margin\" styles cannot be used to apply padding', \"between the popper and its reference element or boundary.\", \"To replicate margin, use the `offset` modifier, as well as\", \"the `padding` option in the `preventOverflow` and `flip`\", \"modifiers.\"].join(\" \"));\n        }\n        return m(), p.update();\n      },\n      // Sync update – it will always be executed, even if not necessary. This\n      // is useful for low frequency updates where sync behavior simplifies the\n      // logic.\n      // For high frequency updates (e.g. `resize` and `scroll` events), always\n      // prefer the async Popper#update method\n      forceUpdate: function() {\n        if (!d) {\n          var g = c.elements, w = g.reference, T = g.popper;\n          if (!i0(w, T)) {\n             true && console.error(t0);\n            return;\n          }\n          c.rects = {\n            reference: qM(w, wc(T), c.options.strategy === \"fixed\"),\n            popper: w_(T)\n          }, c.reset = !1, c.placement = c.options.placement, c.orderedModifiers.forEach(function(D) {\n            return c.modifiersData[D.name] = Object.assign({}, D.data);\n          });\n          for (var P = 0, O = 0; O < c.orderedModifiers.length; O++) {\n            if ( true && (P += 1, P > 100)) {\n              console.error(rR);\n              break;\n            }\n            if (c.reset === !0) {\n              c.reset = !1, O = -1;\n              continue;\n            }\n            var C = c.orderedModifiers[O], I = C.fn, S = C.options, M = S === void 0 ? {} : S, N = C.name;\n            typeof I == \"function\" && (c = I({\n              state: c,\n              options: M,\n              name: N,\n              instance: p\n            }) || c);\n          }\n        }\n      },\n      // Async and optimistically optimized update – it will not be executed if\n      // not necessary (debounced to run at most once-per-tick)\n      update: JM(function() {\n        return new Promise(function(y) {\n          p.forceUpdate(), y(c);\n        });\n      }),\n      destroy: function() {\n        v(), d = !0;\n      }\n    };\n    if (!i0(a, l))\n      return  true && console.error(t0), p;\n    p.setOptions(u).then(function(y) {\n      !d && u.onFirstUpdate && u.onFirstUpdate(y);\n    });\n    function m() {\n      c.orderedModifiers.forEach(function(y) {\n        var g = y.name, w = y.options, T = w === void 0 ? {} : w, P = y.effect;\n        if (typeof P == \"function\") {\n          var O = P({\n            state: c,\n            name: g,\n            instance: p,\n            options: T\n          }), C = function() {\n          };\n          f.push(O || C);\n        }\n      });\n    }\n    function v() {\n      f.forEach(function(y) {\n        return y();\n      }), f = [];\n    }\n    return p;\n  };\n}\nvar sR = [TM, HM, wM, cM, GM, AM, VM, _M, BM], oR = /* @__PURE__ */ nR({\n  defaultModifiers: sR\n});\nconst { GamepadListener: aR } = __webpack_require__(/*! gamepad.js */ \"./node_modules/gamepad.js/gamepad.js\");\nvar ti, os, Fe, Bu, Fu, my, Uu, yy, Gu, _y, rh, nh, ju, gy, ae, zi, Sn, Pn, Hu, as, oa, $u, zu, He, sh, oh, Vu, Tp, ow, Xu, go, Sp, aw, Wu, by, Pp, hw, Yu, xy, bo, Kh, xo, Op, lw, Ip, uw, Vi, Cp, cw, Mp, fw, ah, gf, On, wo, Eo, Rp, dw, ei;\nclass hR {\n  constructor(t, e, i, n, s, o, a, l, u) {\n    _(this, Fu);\n    _(this, Uu);\n    _(this, Gu);\n    _(this, ju);\n    _(this, as);\n    _(this, Tp);\n    // イベントを全消去\n    _(this, Sp);\n    _(this, Wu);\n    // イベントを予約\n    _(this, Pp);\n    _(this, Yu);\n    _(this, bo);\n    // 行末クリック待ち\n    _(this, Op);\n    // 改ページクリック待ち\n    _(this, Ip);\n    _(this, Cp);\n    // フォーカス移動\n    _(this, Mp);\n    // ウェイトを入れる\n    _(this, ah);\n    // クリックを待つ\n    _(this, Rp);\n    _(this, ti, new Eh());\n    _(this, os, new aR({\n      analog: !1,\n      deadZone: 0.3\n    }));\n    _(this, Fe, new KC());\n    _(this, Bu, (t) => {\n    });\n    _(this, rh, !1);\n    _(this, nh, !1);\n    _(this, ae, {});\n    _(this, zi, {});\n    _(this, Sn, !1);\n    _(this, Pn, !1);\n    // 予約イベントの発生待ち中か\n    _(this, Hu, (t) => h(this, ae)[t] ?? h(this, zi)[t]);\n    _(this, $u, () => {\n      b(this, $u, () => {\n      }), this.scrItr.firstWait();\n    });\n    _(this, zu, {\n      getBoundingClientRect: (t = 0, e = 0) => DOMRect.fromRect({ x: t, y: e, width: 0, height: 0 })\n    });\n    _(this, He, void 0);\n    _(this, sh, void 0);\n    _(this, oh, void 0);\n    _(this, Vu, {\n      placement: \"bottom\",\n      modifiers: [\n        {\n          // Flip | Popper https://popper.js.org/docs/v2/modifiers/flip/\n          name: \"flip\",\n          options: {\n            fallbackPlacements: [\"top\", \"bottom\"]\n          }\n        }\n      ]\n    });\n    _(this, Xu, (t, e) => {\n    });\n    _(this, go, new Eh());\n    _(this, xo, () => this.layMng.goTxt());\n    // スキップ中断予約\n    _(this, Vi, () => !1);\n    _(this, On, () => {\n    });\n    _(this, wo, new Ji());\n    _(this, Eo, \"sn:notice_comp_txt\");\n    // 0:no push  1:one push  2:push repeating\n    _(this, ei, {\n      Alt: 0,\n      Meta: 0,\n      // COMMANDキー\n      Control: 0,\n      ArrowDown: 0,\n      End: 0,\n      Enter: 0,\n      Escape: 0,\n      \" \": 0,\n      GoBack: 0\n      // AndroidのBackキーだと思う\n    });\n    var v, y;\n    if (this.cfg = t, this.hTag = e, this.appPixi = i, this.main = n, this.layMng = s, this.val = o, this.sndMng = a, this.scrItr = l, this.sys = u, e.clear_event = (g) => x(this, Sp, aw).call(this, g), e.event = (g) => x(this, Pp, hw).call(this, g), e.l = (g) => x(this, Op, lw).call(this, g), e.p = (g) => x(this, Ip, uw).call(this, g), e.s = () => (l.recodePage(), x(this, as, oa).call(this, () => {\n    }, !1, !0)), e.set_cancel_skip = () => x(this, Cp, cw).call(this), e.set_focus = (g) => x(this, Mp, fw).call(this, g), e.wait = (g) => x(this, ah, gf).call(this, g), e.waitclick = () => x(this, Rp, dw).call(this), a.setEvtMng(this), l.setOtherObj(this, s), re.setEvtMng(n, this, u), s.setEvtMng(this), u.setFire((g, w) => this.fire(g, w)), A.isDbg) {\n      const g = {\n        pause: () => {\n          if (b(this, Sn, !0), !h(this, Pn))\n            return;\n          const w = {};\n          l.recodeDesign(w), u.callHook(\"_enterDesign\", w), u.send2Dbg(\"_enterDesign\", w);\n        },\n        stopOnBreakpoint: () => b(this, Sn, !0),\n        stopOnDataBreakpoint: () => b(this, Sn, !0),\n        continue: () => b(this, Sn, !1),\n        disconnect: () => b(this, Sn, !1)\n      };\n      g.attach = g.stopOnEntry = g.stopOnStep = g.stopOnStepIn = g.stopOnStepOut = g.stopOnBackstep = g.pause, u.addHook((w) => {\n        var T;\n        return (T = g[w]) == null ? void 0 : T.call(g);\n      });\n    }\n    rl(`\n.sn_hint {\n\tbackground-color: #3c3225;\n\tcolor: white;\n\tpadding: 4px 8px;\n\tborder-radius: 4px;\n\tfont-size: 1.2em;\n\tz-index: 10000;\n\tpointer-events: none;\n\tuser-select: none;\n}\n\n.sn_hint_ar,\n.sn_hint_ar::before {\n\tposition: absolute;\n\twidth: 8px;\n\theight: 8px;\n\tbackground: inherit;\n}\n.sn_hint_ar {\n\tvisibility: hidden;\n}\n.sn_hint_ar::before {\n\tvisibility: visible;\n\tcontent: '';\n\ttransform: rotate(45deg);\n}\n\n.sn_hint[data-popper-placement^='top']\t\t> .sn_hint_ar {bottom: -4px;}\n.sn_hint[data-popper-placement^='bottom']\t> .sn_hint_ar {top: -4px;}\n.sn_hint[data-popper-placement^='left']\t\t> .sn_hint_ar {right: -4px;}\n.sn_hint[data-popper-placement^='right']\t> .sn_hint_ar {left: -4px;}\n`);\n    for (const g of Array.from(document.getElementsByClassName(\"sn_hint\")))\n      (v = g.parentElement) == null || v.removeChild(g);\n    (y = Ci.cvs.parentElement) == null || y.insertAdjacentHTML(\"beforeend\", `\n<div class=\"sn_hint\" role=\"tooltip\">\n\t<span>Dummy</span>\n\t<div class=\"sn_hint_ar\" data-popper-arrow></div>\n</div>`), b(this, He, document.querySelector(\".sn_hint\")), b(this, sh, h(this, He).querySelector(\"span\")), b(this, oh, oR(h(this, zu), h(this, He))), h(this, He).hidden = !0, i.stage.interactive = !0, A.isMobile ? i.stage.on(\"pointerdown\", (g) => this.fire(\"click\", g)) : h(this, ti).add(i.stage, \"pointerdown\", (g) => {\n      switch (g.data.button) {\n        case 0:\n          this.fire(\"click\", g);\n          break;\n        case 1:\n          this.fire(\"middleclick\", g);\n          break;\n      }\n    }), h(this, ti).add(window, \"keydown\", (g) => x(this, Fu, my).call(this, g)), h(this, ti).add(Ci.cvs, \"contextmenu\", (g) => x(this, Uu, yy).call(this, g));\n    const c = () => o.setVal_Nochk(\"tmp\", \"const.sn.navigator.language\", navigator.language);\n    h(this, ti).add(window, \"languagechange\", (g) => {\n      c(), this.fire(\"sn:chgNavLang\", g), L0();\n    }), c();\n    const f = (g) => {\n      A.isDarkMode = g.matches, o.setVal_Nochk(\"tmp\", \"const.sn.isDarkMode\", A.isDarkMode);\n    }, d = globalThis.matchMedia(\"(prefers-color-scheme: dark)\");\n    f(d), h(this, ti).add(d, \"change\", (g) => {\n      f(g), this.fire(\"sn:chgDarkMode\", g);\n    }), \"WheelEvent\" in window && (h(this, ti).add(Ci.cvs, \"wheel\", (g) => x(this, Gu, _y).call(this, g), { passive: !0 }), b(this, Bu, (g) => h(this, ti).add(g, \"wheel\", (w) => x(this, Gu, _y).call(this, w), { passive: !0 })), b(this, Xu, (g, w) => g.add(Ci.cvs, \"wheel\", (T) => {\n      T.isComposing || T.deltaY <= 0 || (T.stopPropagation(), w());\n    }))), A.debugLog && (h(this, os).on(\"gamepad:connected\", (g) => console.log(`👺<'gamepad:connected' index:${g.detail.index} id:${g.detail.gamepad.id}`)), h(this, os).on(\"gamepad:disconnected\", (g) => console.log(`👺<'gamepad:disconnected' index:${g.detail.index} id:${g.detail.gamepad.id}`)));\n    const p = [\n      \"\",\n      \"ArrowUp\",\n      \"\",\n      // '7', '8', '9',\n      \"ArrowLeft\",\n      \"\",\n      \"ArrowRight\",\n      // '4', '5', '6',\n      \"\",\n      \"ArrowDown\",\n      \"\"\n      // '1', '2', '3',\n    ], m = [0, 0];\n    h(this, os).on(\"gamepad:axis\", (g) => {\n      if (!document.hasFocus() || g.detail.stick !== 0)\n        return;\n      m[g.detail.axis] = g.detail.value;\n      const w = (m[1] + 1) * 3 + (m[0] + 1), T = p[w];\n      if (!T)\n        return;\n      const P = h(this, Fe).getFocus();\n      (!P || P instanceof Jt ? globalThis : P).dispatchEvent(new KeyboardEvent(\"keydown\", { key: T, bubbles: !0 })), !(!P || P instanceof Jt) && P.getAttribute(\"type\") === \"range\" && P.dispatchEvent(new InputEvent(\"input\", { bubbles: !0 }));\n    }), h(this, os).on(\"gamepad:button\", (g) => {\n      if (document.hasFocus())\n        if (g.detail.button % 2 === 0) {\n          const w = h(this, Fe).getFocus();\n          (!w || w instanceof Jt ? globalThis : w).dispatchEvent(new KeyboardEvent(\"keydown\", { key: \"Enter\", bubbles: !0 }));\n        } else\n          Ci.cvs.dispatchEvent(new Event(\"contextmenu\"));\n    }), h(this, os).start(), h(this, ti).add(window, \"keyup\", (g) => {\n      g.isComposing || g.key in h(this, ei) && (h(this, ei)[g.key] = 0);\n    }), o.defTmp(\"const.sn.key.alternate\", () => h(this, ei).Alt > 0), o.defTmp(\"const.sn.key.command\", () => h(this, ei).Meta > 0), o.defTmp(\"const.sn.key.control\", () => h(this, ei).Control > 0), o.defTmp(\"const.sn.key.end\", () => h(this, ei).End > 0), o.defTmp(\"const.sn.key.escape\", () => h(this, ei).Escape > 0), o.defTmp(\"const.sn.key.back\", () => h(this, ei).GoBack > 0);\n  }\n  resvFlameEvent(t) {\n    h(this, ti).add(t, \"keydown\", (e) => x(this, Fu, my).call(this, e)), h(this, ti).add(t, \"contextmenu\", (e) => x(this, Uu, yy).call(this, e)), h(this, Bu).call(this, t);\n  }\n  destroy() {\n    h(this, Fe).destroy(), h(this, ti).clear();\n  }\n  fire(t, e) {\n    var s;\n    if (h(this, Vi).call(this) || !h(this, Pn) || h(this, Sn))\n      return;\n    const i = t.toLowerCase();\n    if (A.debugLog && console.log(`👺 fire<(key:\\`${i}\\` type:${e.type} e:%o)`, { ...e }), i === \"enter\") {\n      const o = h(this, Fe).getFocus();\n      if (o instanceof Jt) {\n        o.emit(\"pointerdown\", new Event(\"pointerdown\"));\n        return;\n      }\n    }\n    const n = h(this, Hu).call(this, i);\n    if (!n) {\n      i.slice(0, 5) === \"swipe\" && globalThis.scrollBy(\n        -e.deltaX,\n        -e.deltaY\n      );\n      return;\n    }\n    i.slice(-5) !== \"wheel\" && ((s = e.preventDefault) == null || s.call(e)), e.stopPropagation(), !(i.slice(0, 4) !== \"dom=\" && this.layMng.clickTxtLay()) && (b(this, Pn, !1), n(e));\n  }\n  popLocalEvts() {\n    const t = h(this, ae);\n    return b(this, ae, {}), t;\n  }\n  pushLocalEvts(t) {\n    b(this, ae, t);\n  }\n  waitEvent(t, e = !0, i = !1) {\n    if (e && i)\n      throw \"canskipとglobalを同時にtrue指定できません\";\n    if (this.val.getVal(\"tmp:sn.skip.enabled\")) {\n      if (this.val.getVal(\"tmp:sn.skip.all\") || this.scrItr.isNextKidoku)\n        return t(), !1;\n      h(this, Vi).call(this);\n    }\n    return x(this, as, oa).call(this, t, e, i);\n  }\n  unButton(t) {\n    h(this, Fe).remove(t);\n  }\n  button(t, e, i, n, s) {\n    var f;\n    !t.fn && !t.label && !t.url && this.main.errScript(\"fnまたはlabelまたはurlは必須です\"), t.fn ?? (t.fn = this.scrItr.scriptFn), e.interactive = e.buttonMode = !0;\n    const o = ((f = t.key) == null ? void 0 : f.toLowerCase()) ?? \" \", a = K(t, \"global\", !1);\n    a ? h(this, zi)[o] = () => this.main.resumeByJumpOrCall(t) : h(this, ae)[o] = () => this.main.resumeByJumpOrCall(t), e.on(\"pointerdown\", (d) => this.fire(o, d));\n    const l = t.hint ? () => x(this, Tp, ow).call(this, t, e) : () => {\n    }, u = () => {\n      i(), h(this, He).hidden = !0;\n    }, c = () => (l(), n());\n    if (e.on(\"pointerover\", c), e.on(\"pointerout\", () => {\n      h(this, Fe).isFocus(e) ? c() : u();\n    }), e.on(\"pointerdown\", () => {\n      h(this, He).hidden = !0;\n      const d = h(this, Fe).getFocus();\n      s(), d instanceof gr && d.normal();\n    }), e.on(\n      \"pointerup\",\n      A.isMobile ? u : () => {\n        h(this, Fe).isFocus(e) ? c() : u();\n      }\n    ), h(this, Fe).add(e, c, u), t.clickse && (t.clicksebuf ?? (t.clicksebuf = \"SYS\"), this.cfg.searchPath(t.clickse, ii.SOUND), e.on(\"pointerdown\", () => {\n      this.hTag.playse({ fn: t.clickse, buf: t.clicksebuf, join: !1 });\n    })), t.enterse && (t.entersebuf ?? (t.entersebuf = \"SYS\"), this.cfg.searchPath(t.enterse, ii.SOUND), e.on(\"pointerover\", () => {\n      this.hTag.playse({ fn: t.enterse, buf: t.entersebuf, join: !1 });\n    })), t.leavese && (t.leavesebuf ?? (t.leavesebuf = \"SYS\"), this.cfg.searchPath(t.leavese, ii.SOUND), e.on(\"pointerout\", () => {\n      this.hTag.playse({ fn: t.leavese, buf: t.leavesebuf, join: !1 });\n    })), t.onenter) {\n      const d = o + t.onenter.toLowerCase(), p = { fn: t.fn, label: t.onenter, call: !0, key: d };\n      a ? h(this, zi)[d] = () => this.main.resumeByJumpOrCall(p) : h(this, ae)[d] = () => this.main.resumeByJumpOrCall(p), e.on(\"pointerover\", (m) => this.fire(d, m));\n    }\n    if (t.onleave) {\n      const d = o + t.onleave.toLowerCase(), p = { fn: t.fn, label: t.onleave, call: !0, key: d };\n      a ? h(this, zi)[d] = () => this.main.resumeByJumpOrCall(p) : h(this, ae)[d] = () => this.main.resumeByJumpOrCall(p), e.on(\"pointerout\", (m) => this.fire(d, m));\n    }\n  }\n  hideHint() {\n    h(this, He).hidden = !0;\n  }\n  cvsResize() {\n    h(this, He).hidden = !0;\n  }\n  // 予約イベントの発生待ちしない waitEvent()\n  waitLimitedEvent(t, e) {\n    h(this, xo).call(this), this.val.saveKidoku();\n    const i = () => {\n      h(this, go).clear(), e();\n    };\n    if (this.val.getVal(\"tmp:sn.skip.enabled\"))\n      if (!this.val.getVal(\"tmp:sn.skip.all\") && // 未読で停止\n      !this.scrItr.isNextKidoku)\n        h(this, Vi).call(this);\n      else\n        return i(), !1;\n    return K(t, \"canskip\", !0) && (h(this, go).add(window, \"pointerdown\", (n) => {\n      n.stopPropagation(), i();\n    }), h(this, go).add(window, \"keydown\", (n) => {\n      n.isComposing || (n.stopPropagation(), i());\n    }), h(this, Xu).call(this, h(this, go), i)), !0;\n  }\n  noticeCompTxt() {\n    h(this, wo).emit(h(this, Eo));\n  }\n  // キー押下によるスキップ中か\n  isSkippingByKeyDown() {\n    return this.scrItr.skip4page ? !0 : Object.keys(h(this, ei)).some((t) => h(this, ei)[t] === 2);\n  }\n}\nti = new WeakMap(), os = new WeakMap(), Fe = new WeakMap(), Bu = new WeakMap(), Fu = new WeakSet(), my = function(t) {\n  if (t.isComposing)\n    return;\n  t.key in h(this, ei) && (h(this, ei)[t.key] = t.repeat ? 2 : 1);\n  const e = (t.altKey ? t.key === \"Alt\" ? \"\" : \"alt+\" : \"\") + (t.ctrlKey ? t.key === \"Control\" ? \"\" : \"ctrl+\" : \"\") + (t.shiftKey ? t.key === \"Shift\" ? \"\" : \"shift+\" : \"\") + t.key;\n  this.fire(e, t);\n}, Uu = new WeakSet(), yy = function(t) {\n  const e = (t.altKey ? t.key === \"Alt\" ? \"\" : \"alt+\" : \"\") + (t.ctrlKey ? t.key === \"Control\" ? \"\" : \"ctrl+\" : \"\") + (t.shiftKey ? t.key === \"Shift\" ? \"\" : \"shift+\" : \"\") + \"rightclick\";\n  this.fire(e, t), t.preventDefault();\n}, Gu = new WeakSet(), _y = function(t) {\n  if (t.isComposing)\n    return;\n  if (h(this, rh)) {\n    b(this, nh, !0);\n    return;\n  }\n  b(this, rh, !0), x(this, ju, gy).call(this);\n  const e = (t.altKey ? \"alt+\" : \"\") + (t.ctrlKey ? \"ctrl+\" : \"\") + (t.shiftKey ? \"shift+\" : \"\") + (t.deltaY > 0 ? \"downwheel\" : \"upwheel\");\n  this.fire(e, t);\n}, rh = new WeakMap(), nh = new WeakMap(), ju = new WeakSet(), gy = function() {\n  setTimeout(() => {\n    if (h(this, nh)) {\n      b(this, nh, !1), x(this, ju, gy).call(this);\n      return;\n    }\n    b(this, rh, !1);\n  }, 250);\n}, ae = new WeakMap(), zi = new WeakMap(), Sn = new WeakMap(), Pn = new WeakMap(), Hu = new WeakMap(), as = new WeakSet(), oa = function(t, e = !0, i = !0) {\n  if (h(this, xo).call(this), this.val.saveKidoku(), e ? h(this, ae).click = //this.hTag.event({key:'enter', breakout: fnc});\n  //hTag.event({key:'down', breakout: fnc});\n  //\thTag.event()は内部で使わず、こうする\n  h(this, ae).enter = h(this, ae).arrowdown = // hTag.event({key:'downwheel', breakout: fnc});\n  //\thTag.event()は内部で使わず、こうする\n  h(this, ae)[\"wheel.y>0\"] = t : (delete h(this, ae).click, delete h(this, ae).enter, delete h(this, ae).arrowdown, delete h(this, ae)[\"wheel.y>0\"]), b(this, Hu, i ? (n) => h(this, ae)[n] ?? h(this, zi)[n] : (n) => h(this, ae)[n]), b(this, Pn, !0), h(this, $u).call(this), A.debugLog) {\n    const n = /* @__PURE__ */ Object.create(null);\n    n.local = Object.keys(h(this, ae)), n.global = Object.keys(h(this, zi)), console.log(\"🎍 wait event... %o\", n);\n  }\n  return !0;\n}, $u = new WeakMap(), zu = new WeakMap(), He = new WeakMap(), sh = new WeakMap(), oh = new WeakMap(), Vu = new WeakMap(), Tp = new WeakSet(), ow = function(t, e) {\n  const i = e instanceof gr ? e.getBtnBounds() : e.getBounds();\n  if (!(t[\":タグ名\"] === \"link\")) {\n    const s = e.parent.parent;\n    i.x += s.x, i.y += s.y;\n  }\n  if (!t.hint) {\n    h(this, He).hidden = !0;\n    return;\n  }\n  h(this, He).style.cssText = `position:${h(this, He).style.position}; transform:${h(this, He).style.transform};` + (t.hint_style ?? \"\"), h(this, sh).style.cssText = \"\", h(this, sh).textContent = t.hint ?? \"\";\n  try {\n    const s = t.hint_opt ? { ...h(this, Vu), ...JSON.parse(t.hint_opt) } : h(this, Vu);\n    h(this, oh).setOptions(s);\n  } catch (s) {\n    console.error(Jc(t, \"hint_opt\", s.message));\n  }\n  h(this, zu).getBoundingClientRect = () => DOMRect.fromRect({\n    x: this.sys.ofsLeft4elm + i.x * this.sys.cvsScale,\n    y: this.sys.ofsTop4elm + i.y * this.sys.cvsScale,\n    width: i.width,\n    height: i.height\n  }), h(this, oh).update(), h(this, He).hidden = !1;\n}, Xu = new WeakMap(), go = new WeakMap(), Sp = new WeakSet(), aw = function(t) {\n  const e = K(t, \"global\", !1), i = e ? h(this, zi) : h(this, ae);\n  for (const [n, s] of Object.entries(i))\n    x(this, Wu, by).call(this, n, s);\n  return e ? b(this, zi, {}) : b(this, ae, {}), b(this, Pn, !1), !1;\n}, Wu = new WeakSet(), by = function(t, e) {\n  t.slice(0, 4) === \"dom=\" && x(this, bo, Kh).call(this, t).el.forEach((i) => i.removeEventListener(\"click\", e));\n}, Pp = new WeakSet(), hw = function(t) {\n  const e = t.key;\n  if (!e)\n    throw \"keyは必須です\";\n  const i = e.toLowerCase(), n = K(t, \"call\", !1), s = K(t, \"global\", !1) ? h(this, zi) : h(this, ae);\n  if (K(t, \"del\", !1)) {\n    if (t.fn || t.label || n || t.url)\n      throw \"fn/label/callとdelは同時指定できません\";\n    return x(this, Wu, by).call(this, e, s[i]), delete s[i], !1;\n  }\n  if (!t.fn && !t.label && !t.url)\n    throw \"fnまたはlabelまたはurlは必須です\";\n  if (t.fn ?? (t.fn = this.scrItr.scriptFn), e.slice(0, 4) === \"dom=\") {\n    const o = x(this, bo, Kh).call(this, e);\n    if (o.el.length === 0) {\n      if (K(t, \"need_err\", !0))\n        throw `HTML内にセレクタ（${o.sel}）に対応する要素が見つかりません。存在しない場合を許容するなら、need_err=false と指定してください`;\n      return !1;\n    }\n    let a = [\"click\", \"keydown\"];\n    switch (o.el[0].type ?? \"\") {\n      case \"checkbox\":\n        a = [\"input\"];\n        break;\n      case \"range\":\n        a = [\"input\"];\n        break;\n      case \"text\":\n      case \"textarea\":\n        a = [\"input\", \"change\"];\n        break;\n    }\n    a.forEach((u, c) => o.el.forEach((f) => {\n      h(this, ti).add(f, u, (d) => {\n        if (!h(this, Pn) || this.layMng.getFrmDisabled(o.id) || u === \"keydown\" && d.key !== \"Enter\")\n          return;\n        const p = f.dataset;\n        for (const [m, v] of Object.entries(p))\n          this.val.setVal_Nochk(\"tmp\", `sn.event.domdata.${m}`, v);\n        this.fire(e, d);\n      }), c === 0 && h(this, Fe).add(\n        f,\n        () => x(this, Yu, xy).call(this, f) ? (f.focus(), !0) : !1,\n        () => {\n        }\n      );\n    }));\n  }\n  return s[i] = () => this.main.resumeByJumpOrCall(t), !1;\n}, Yu = new WeakSet(), xy = function(t) {\n  if (t.offsetParent === null)\n    return !1;\n  let e = t;\n  do {\n    if (getComputedStyle(e).display === \"none\" || e.dataset.focus === \"false\" || e != null && e.disabled)\n      return !1;\n    e = e.parentElement;\n  } while (e !== null);\n  return !0;\n}, bo = new WeakSet(), Kh = function(t) {\n  const e = t.indexOf(\":\");\n  let i = \"\";\n  if (e >= 0) {\n    const n = t.slice(4, e), s = `const.sn.frm.${n}`;\n    if (!this.val.getVal(`tmp:${s}`, 0))\n      throw `HTML【${n}】が読み込まれていません`;\n    const a = document.getElementById(n).contentWindow;\n    return i = t.slice(e + 1), { el: a.document.querySelectorAll(i), id: n, sel: i };\n  }\n  return i = t.slice(4), { el: document.querySelectorAll(i), id: \"\", sel: i };\n}, xo = new WeakMap(), Op = new WeakSet(), lw = function(t) {\n  if (this.scrItr.skip4page)\n    return !1;\n  if (!this.val.getVal(\"tmp:sn.tagL.enabled\"))\n    return h(this, xo).call(this), !1;\n  if (this.val.getVal(\"tmp:sn.skip.enabled\")) {\n    if (!this.val.getVal(\"tmp:sn.skip.all\") && // 未読で停止\n    !this.scrItr.isNextKidoku)\n      h(this, Vi).call(this);\n    else if (\"ps\".includes(this.val.getVal(\"sys:sn.skip.mode\")))\n      return !1;\n  }\n  return this.val.getVal(\"tmp:sn.auto.enabled\") ? x(this, ah, gf).call(this, {\n    time: Number(this.scrItr.isKidoku ? this.val.getVal(\"sys:sn.auto.msecLineWait_Kidoku\") : this.val.getVal(\"sys:sn.auto.msecLineWait\"))\n  }) : (K(t, \"visible\", !0) && this.layMng.breakLine(), x(this, as, oa).call(this, () => this.main.resume()));\n}, Ip = new WeakSet(), uw = function(t) {\n  if (this.scrItr.recodePage(), this.val.getVal(\"tmp:sn.skip.enabled\")) {\n    if (!this.val.getVal(\"tmp:sn.skip.all\") && // 未読で停止\n    !this.scrItr.isNextKidoku)\n      h(this, Vi).call(this);\n    else if (this.val.getVal(\"sys:sn.skip.mode\") == \"s\")\n      return h(this, xo).call(this), !1;\n  }\n  if (this.val.getVal(\"tmp:sn.auto.enabled\"))\n    return x(this, ah, gf).call(this, {\n      time: Number(this.scrItr.isKidoku ? this.val.getVal(\"sys:sn.auto.msecPageWait_Kidoku\") : this.val.getVal(\"sys:sn.auto.msecPageWait\"))\n    });\n  K(t, \"visible\", !0) && this.layMng.breakPage();\n  const e = () => {\n    this.sndMng.clearCache(), h(this, He).hidden = !0, this.main.resume();\n  };\n  return x(this, as, oa).call(this, K(t, \"er\", !1) && this.layMng.currentTxtlayFore ? () => {\n    this.hTag.er(t), e();\n  } : e);\n}, Vi = new WeakMap(), Cp = new WeakSet(), cw = function() {\n  return b(this, Vi, () => (b(this, Vi, () => !1), this.val.setVal_Nochk(\"tmp\", \"sn.tagL.enabled\", !0), this.val.setVal_Nochk(\"tmp\", \"sn.skip.enabled\", !1), this.val.setVal_Nochk(\"tmp\", \"sn.auto.enabled\", !1), this.layMng.setNormalChWait(), h(this, On).call(this), !0)), !1;\n}, Mp = new WeakSet(), fw = function(t) {\n  const { add: e, del: i, to: n } = t;\n  if ((e == null ? void 0 : e.slice(0, 4)) === \"dom=\") {\n    const s = x(this, bo, Kh).call(this, e);\n    if (s.el.length === 0 && K(t, \"need_err\", !0))\n      throw `HTML内にセレクタ（${s.sel}）に対応する要素が見つかりません。存在しない場合を許容するなら、need_err=false と指定してください`;\n    return s.el.forEach((o) => h(this, Fe).add(\n      o,\n      () => x(this, Yu, xy).call(this, o) ? (o.focus(), !0) : !1,\n      () => {\n      }\n    )), !1;\n  }\n  if ((i == null ? void 0 : i.slice(0, 4)) === \"dom=\") {\n    const s = x(this, bo, Kh).call(this, i);\n    if (s.el.length === 0 && K(t, \"need_err\", !0))\n      throw `HTML内にセレクタ（${s.sel}）に対応する要素が見つかりません。存在しない場合を許容するなら、need_err=false と指定してください`;\n    return s.el.forEach((o) => h(this, Fe).remove(o)), !1;\n  }\n  if (!n)\n    throw \"[set_focus] add か to は必須です\";\n  switch (n) {\n    case \"null\":\n      h(this, Fe).blur();\n      break;\n    case \"next\":\n      h(this, Fe).next();\n      break;\n    case \"prev\":\n      h(this, Fe).prev();\n      break;\n  }\n  return !1;\n}, ah = new WeakSet(), gf = function(t) {\n  const e = j(t, \"time\", NaN);\n  return this.scrItr.skip4page ? !1 : this.val.getVal(\"tmp:sn.skip.enabled\") ? (!this.val.getVal(\"tmp:sn.skip.all\") && // 未読で停止\n  !this.scrItr.isNextKidoku && h(this, Vi).call(this), !1) : (h(this, wo).once(h(this, Eo), () => {\n    h(this, wo).off(h(this, Eo));\n    const i = new Xr({}).to({}, e).onComplete(() => {\n      b(this, On, () => {\n      }), i.stop(), this.main.resume();\n    }).start();\n    b(this, On, () => i.end());\n  }), b(this, On, () => {\n    b(this, On, () => {\n    }), h(this, wo).off(h(this, Eo));\n  }), this.waitEvent(\n    () => h(this, On).call(this),\n    K(t, \"canskip\", !0),\n    // スキップ中は利かない\n    K(t, \"global\", !1)\n  ));\n}, On = new WeakMap(), wo = new WeakMap(), Eo = new WeakMap(), Rp = new WeakSet(), dw = function() {\n  return this.scrItr.skip4page ? !1 : ((this.val.getVal(\"tmp:sn.skip.enabled\") || this.val.getVal(\"tmp:sn.auto.enabled\")) && h(this, Vi).call(this), x(this, as, oa).call(this, () => this.main.resume()));\n}, ei = new WeakMap();\nclass r0 {\n  constructor(t = \"\", e = 0, i = { \":hEvt1Time\": {}, \":hMp\": {} }) {\n    B(this, \"toString\", () => `[fn:${this.fn}, idx:${this.idx}, csArg:${this.csArg}]`);\n    this.fn = t, this.idx = e, this.csArg = i;\n  }\n}\nvar Pt, At, et, Kt, Vt, In, qu, wy, To, hs, kp, ls, Zu, Ey, Ku, Ty, Ju, us, ha, So, Jh, Po, Cn, ce, Np, pw, Oo, Qh, Lp, vw, Qu, hh, Si, Ap, mw, Dp, yw, Mn, Rs, Bp, _w, Io, Co, tc, ec, ic, Pi, Fp, gw, Up, bw, Gp, xw, rc, Sy, jp, ww, Hp, Ew, $p, Tw, nc, Py, sc, Mo, tl, Ro, $r, zn, oc, Oy, ac, hc, Iy, zp, Vp, lc, Xp, Sw, $e, Wp, Pw, uc, Cy, Yp, qp, Zp, Ow, Kp, Iw, Rn, cc, My, Jp, Cw, Qp, Mw, tv, ev, Rw, fc, lh, iv, kw, uh, bf, ch, rv, Nw, pr, nv, Lw, fh, xf, sv, Aw, vr, ze;\nconst gi = class {\n  constructor(t, e, i, n, s, o, a, l, u) {\n    _(this, qu);\n    _(this, Zu);\n    _(this, Ku);\n    _(this, us);\n    _(this, So);\n    _(this, Np);\n    _(this, Oo);\n    _(this, Lp);\n    //\t//\t変数操作\n    // インラインテキスト代入\n    _(this, Ap);\n    //\t// デバッグ・その他\n    // スタックのダンプ\n    _(this, Dp);\n    _(this, Mn);\n    // 外部へスクリプトを表示\n    _(this, Bp);\n    // FIFOバッファ（push/unshift）\n    _(this, Fp);\n    _(this, Up);\n    //\t// ラベル・ジャンプ\n    // サブルーチンコール\n    _(this, Gp);\n    _(this, rc);\n    // シナリオジャンプ\n    _(this, jp);\n    // ページ移動\n    _(this, Hp);\n    // コールスタック破棄\n    _(this, $p);\n    // サブルーチンから戻る\n    _(this, nc);\n    _(this, Mo);\n    _(this, $r);\n    // 初期化前に終了した場合向け\n    _(this, oc);\n    _(this, hc);\n    _(this, Xp);\n    //{} シナリオキャッシュ\n    _(this, Wp);\n    _(this, uc);\n    _(this, Zp);\n    _(this, Kp);\n    _(this, cc);\n    //\t// マクロ\n    // 括弧マクロの定義\n    _(this, Jp);\n    // 一文字マクロの定義\n    _(this, Qp);\n    _(this, ev);\n    // https://regex101.com/r/Lk9ASK/1\n    //\t// しおり\n    // しおりの読込\n    _(this, iv);\n    _(this, uh);\n    // スクリプト再読込\n    _(this, rv);\n    _(this, nv);\n    _(this, fh);\n    // しおりの保存\n    _(this, sv);\n    _(this, Pt, { aToken: [\"\"], len: 1, aLNum: [1] });\n    _(this, At, \"\");\n    _(this, et, 0);\n    _(this, Kt, 0);\n    B(this, \"addLineNum\", (t) => b(this, Kt, h(this, Kt) + t));\n    // 直前にジャンプ\n    _(this, Vt, []);\n    // FILOバッファ（push/pop）\n    _(this, In, new wC());\n    B(this, \"firstWait\", () => {\n    });\n    _(this, To, {\n      //auth: // constructorで\n      //launch:\t// ここでは冒頭停止に間に合わないのでanalyzeInit()で\n      disconnect: () => {\n        b(gi, Po, {}), b(gi, Cn, {}), this.isBreak = () => !1, h(this, To).continue({}), b(this, ce, 0);\n      },\n      restart: () => this.isBreak = () => !1,\n      // ブレークポイント登録\n      add_break: (t) => x(this, qu, wy).call(this, t.fn, t.o),\n      data_break: (t) => {\n        h(this, ce) === 0 && (b(this, ce, 1), this.main.setLoop(!1, `変数 ${t.dataId}【${t.old_v}】→【${t.new_v}】データブレーク`), this.sys.callHook(\"stopOnDataBreakpoint\", {}), this.sys.send2Dbg(\"stopOnDataBreakpoint\", {}));\n      },\n      set_func_break: (t) => {\n        b(gi, Cn, {});\n        for (const e of t.a)\n          h(gi, Cn)[e.name] = 1;\n        this.sys.send2Dbg(t.ri, {});\n      },\n      // 情報問い合わせ系\n      stack: (t) => this.sys.send2Dbg(t.ri, { a: x(this, Lp, vw).call(this) }),\n      eval: (t) => {\n        this.sys.send2Dbg(t.ri, { v: this.prpPrs.parse(t.txt) });\n      },\n      // デバッガからの操作系\n      continue: () => {\n        x(this, So, Jh).call(this) || (b(this, et, h(this, et) - h(this, us, ha)), b(this, ce, 3), this.main.setLoop(!0), this.main.resume());\n      },\n      stepover: (t) => x(this, Zu, Ey).call(this, t),\n      stepin: () => {\n        if (x(this, So, Jh).call(this))\n          return;\n        const t = h(this, Pt).aToken[h(this, et) - h(this, us, ha)];\n        this.sys.callHook(`stopOnStep${h(this, lh).test(t) ? \"In\" : \"\"}`, {}), b(this, et, h(this, et) - h(this, us, ha)), b(this, ce, h(this, ce) === 1 ? 4 : 5), this.main.setLoop(!0), this.main.resume();\n      },\n      stepout: (t) => {\n        x(this, So, Jh).call(this) || (h(this, Vt).length > 0 ? x(this, Ku, Ty).call(this, !0) : x(this, Zu, Ey).call(this, t));\n      },\n      pause: () => {\n        b(this, ce, 4), this.main.setLoop(!1, \"一時停止\"), this.sys.send2Dbg(\"stopOnStep\", {});\n      },\n      stopOnEntry: () => {\n        b(this, ce, 4), this.main.setLoop(!1, \"一時停止\"), this.sys.send2Dbg(\"stopOnEntry\", {});\n      }\n    });\n    _(this, hs, (t) => this.cfg.searchPath(t, ii.SCRIPT));\n    // https://regex101.com/r/Km54EK/1 141 steps (~0ms)\n    _(this, ls, (t) => (this.sys.pathBaseCnvSnPath4Dbg + h(this, hs).call(this, t)).replace(h(gi, kp), `$1/prj/$2/${h(this, At)}$3`));\n    B(this, \"cnvPath4Dbg\", (t) => this.sys.pathBaseCnvSnPath4Dbg + t.replace(\"/crypto_prj/\", \"/prj/\"));\n    _(this, Ju, 0);\n    _(this, ce, 0);\n    // https://raw.githubusercontent.com/famibee/SKYNovel-vscode-extension/master/src/doc/BreakStateSMD.pu\n    B(this, \"isBreak\", (t) => !1);\n    // result = true : waitする  resume()で再開\n    _(this, Qu, (t) => {\n    });\n    _(this, hh, void 0);\n    _(this, Si, void 0);\n    _(this, Io, () => {\n    });\n    _(this, Co, () => {\n    });\n    _(this, tc, \"\");\n    _(this, ec, {});\n    B(this, \"noticeBreak\", (t) => {\n    });\n    _(this, ic, 5);\n    //\t// 条件分岐\n    _(this, Pi, [-1]);\n    _(this, sc, \"\");\n    _(this, Ro, \"\");\n    // シナリオ解析処理ループ・冒頭処理\n    B(this, \"nextToken\", () => \"\");\n    _(this, ac, (t) => {\n    });\n    _(this, zp, /(\\*{2,})([^\\|]*)/);\n    _(this, Vp, /\\[macro\\s/);\n    _(this, lc, /\\[endmacro[\\s\\]]/);\n    _(this, $e, /* @__PURE__ */ Object.create(null));\n    _(this, Yp, /^\\[(call|loadplugin)\\s/);\n    _(this, qp, /\\bfn\\s*=\\s*[^\\s\\]]+/);\n    _(this, Rn, !1);\n    // マクロ定義の開始\n    _(this, tv, new RegExp(`[\"'#;\\\\]　]+`));\n    _(this, fc, \"call\");\n    _(this, lh, /\\[(call)\\b/);\n    _(this, ch, !1);\n    // セーブポイント指定\n    _(this, pr, {\n      hSave: {},\n      hPages: {},\n      aIfStk: [-1]\n    });\n    _(this, vr, []);\n    _(this, ze, -1);\n    this.cfg = t, this.hTag = e, this.main = i, this.val = n, this.alzTagArg = s, this.runAnalyze = o, this.prpPrs = a, this.sndMng = l, this.sys = u, e.let_ml = (f) => x(this, Ap, mw).call(this, f), e.endlet_ml = () => !1, e.dump_stack = () => x(this, Dp, yw).call(this), e.dump_script = (f) => x(this, Bp, _w).call(this, f), e.else = // その他ifブロック開始\n    e.elsif = // 別条件のifブロック開始\n    e.endif = () => x(this, Fp, gw).call(this), e.if = (f) => x(this, Up, bw).call(this, f), e.call = (f) => x(this, Gp, xw).call(this, f), e.jump = (f) => x(this, jp, ww).call(this, f), e.page = (f) => x(this, Hp, Ew).call(this, f), e.pop_stack = (f) => x(this, $p, Tw).call(this, f), e.return = (f) => x(this, nc, Py).call(this, f), e.bracket2macro = (f) => x(this, Jp, Cw).call(this, f), e.char2macro = (f) => x(this, Qp, Mw).call(this, f), e.endmacro = (f) => x(this, nc, Py).call(this, f), e.macro = (f) => x(this, ev, Rw).call(this, f), e.load = (f) => x(this, iv, kw).call(this, f), e.reload_script = (f) => x(this, rv, Nw).call(this, f), e.record_place = () => x(this, nv, Lw).call(this), e.save = (f) => x(this, sv, Aw).call(this, f), t.oCfg.debug.token && b(this, ac, (f) => console.log(`🌱 トークン fn:${h(this, At)} idx:${h(this, et)} ln:${h(this, Kt)} token【${f}】`)), n.defTmp(\"const.sn.vctCallStk.length\", () => h(this, Vt).length);\n    const c = t.oCfg.init.escape;\n    if (h(this, In).setEscape(c), vs.setEscape(c), A.isDbg) {\n      u.addHook((d, p) => {\n        var m, v;\n        return (v = (m = h(this, To))[d]) == null ? void 0 : v.call(m, p);\n      }), this.isBreak = x(this, Np, pw);\n      const f = this.analyzeInit;\n      this.analyzeInit = () => {\n        this.analyzeInit = () => {\n        }, this.sys.send2Dbg(\"hi\", {});\n      }, h(this, To).auth = (d) => {\n        const p = d.hBreakpoint.hFn2hLineBP;\n        for (const [m, v] of Object.entries(p))\n          x(this, qu, wy).call(this, m, v);\n        b(gi, Cn, {});\n        for (const m of d.hBreakpoint.aFunc)\n          h(gi, Cn)[m.name] = 1;\n        if (d.stopOnEntry) {\n          for (; ; ) {\n            let m = this.nextToken();\n            if (!m)\n              break;\n            const v = m.charCodeAt(0);\n            if (v === 91 || v === 38 || v === 42 && m.length === 1)\n              break;\n            v === 10 && b(this, Kt, h(this, Kt) + m.length);\n          }\n          this.sys.callHook(\"stopOnEntry\", {}), this.analyzeInit = f, this.analyzeInit();\n        } else\n          this.firstWait = () => {\n            this.sys.callHook(\"stopOnEntry\", {});\n          }, this.analyzeInit = f, this.analyzeInit();\n      };\n    } else\n      this.recodeDesign = () => {\n      };\n    t.oCfg.debug.tag && b(this, Qu, (f) => console.log(`🌲 タグ解析 fn:${h(this, At)} idx:${h(this, et)} ln:${h(this, Kt)} [${f} %o]`, this.alzTagArg.hPrm));\n  }\n  get scriptFn() {\n    return h(this, At);\n  }\n  subIdxToken() {\n    --Te(this, et)._;\n  }\n  get lineNum() {\n    return h(this, Kt);\n  }\n  jumpJustBefore() {\n    x(this, $r, zn).call(this, h(this, At), \"\", --Te(this, et)._);\n  }\n  destroy() {\n    this.isBreak = () => !1;\n  }\n  タグ解析(t) {\n    const [e, i] = em(t), n = this.hTag[e];\n    if (!n)\n      throw `未定義のタグ【${e}】です`;\n    this.alzTagArg.parse(i), h(this, Qu).call(this, e);\n    const s = this.alzTagArg.hPrm;\n    if (s.cond) {\n      const l = s.cond.val;\n      if (!l || l.at(0) === \"&\")\n        throw \"属性condは「&」が不要です\";\n      const u = this.prpPrs.parse(l), c = String(u);\n      if (c === \"null\" || c === \"undefined\" || !u)\n        return !1;\n    }\n    let o = {};\n    const a = h(this, Vt).length;\n    if (this.alzTagArg.isKomeParam) {\n      if (a === 0)\n        throw \"属性「*」はマクロのみ有効です\";\n      o = { ...h(this, Vt)[h(this, Vt).length - 1].csArg };\n    }\n    o[\":タグ名\"] = e;\n    for (const [l, { val: u, def: c }] of Object.entries(s)) {\n      let f = u;\n      if ((f == null ? void 0 : f.at(0)) === \"%\") {\n        if (a === 0)\n          throw \"属性「%」はマクロ定義内でのみ使用できます（そのマクロの引数を示す簡略文法であるため）\";\n        const d = h(this, Vt)[h(this, Vt).length - 1].csArg[f.slice(1)];\n        if (d) {\n          o[l] = d;\n          continue;\n        }\n        if (c === void 0 || c === \"null\")\n          continue;\n        f = c;\n      }\n      if (f = this.prpPrs.getValAmpersand(f ?? \"\"), f !== \"undefined\") {\n        o[l] = f;\n        continue;\n      }\n      c !== void 0 && (f = this.prpPrs.getValAmpersand(c), f !== \"undefined\" && (o[l] = f));\n    }\n    return n(o);\n  }\n  setOtherObj(t, e) {\n    b(this, hh, t), b(this, Si, e);\n  }\n  dumpErrForeLine() {\n    if (h(this, et) === 0) {\n      console.group(`🥟 Error line (from 0 rows before) fn:${h(this, At)}`), console.groupEnd();\n      return;\n    }\n    let t = \"\";\n    for (let o = h(this, et) - 1; o >= 0 && (t = h(this, Pt).aToken[o] + t, !((t.match(/\\n/g) ?? []).length >= h(this, ic))); --o)\n      ;\n    const e = t.split(`\n`).slice(-h(this, ic)), i = e.length;\n    console.group(`🥟 Error line (from ${i} rows before) fn:${h(this, At)}`);\n    const n = String(h(this, Kt)).length, s = x(this, Mn, Rs).call(this, h(this, Pt), h(this, et));\n    for (let o = 0; o < i; ++o) {\n      const a = h(this, Kt) - i + o + 1, l = `${String(a).padStart(n, \" \")}: %c`, u = e[o], c = u.length > 75 ? u.slice(0, 75) + \"…\" : u;\n      o === i - 1 ? console.info(\n        l + c.slice(0, s.col_s) + \"%c\" + c.slice(s.col_s),\n        \"color: black; background-color: skyblue;\",\n        \"color: black; background-color: pink;\"\n      ) : console.info(l + c, \"color: black; background-color: skyblue;\");\n    }\n    console.groupEnd();\n  }\n  analyzeInit() {\n    const t = x(this, Xp, Sw).call(this, h(this, Pt), !!this.val.getVal(\"mp:const.sn.macro.name\"), h(this, Kt), h(this, Ro), h(this, et));\n    b(this, et, t.idx), b(this, Kt, t.ln), this.runAnalyze();\n  }\n  get isKidoku() {\n    return h(this, Rn);\n  }\n  get isNextKidoku() {\n    let t = h(this, At), e = h(this, et), i = h(this, Pt).len;\n    if (h(this, Vt).length > 0) {\n      const s = h(this, Vt)[0];\n      t = s.fn, e = s.idx;\n      const o = h(this, $e)[t];\n      o && (i = o.len);\n    }\n    const n = this.val.getAreaKidoku(t);\n    return !n || e === i ? !1 : n.search(e);\n  }\n  get normalWait() {\n    return h(this, Rn) ? this.val.getVal(\"sys:sn.tagCh.doWait_Kidoku\") ? br(this.val.getVal(\"sys:sn.tagCh.msecWait_Kidoku\")) : 0 : this.val.getVal(\"sys:sn.tagCh.doWait\") ? br(this.val.getVal(\"sys:sn.tagCh.msecWait\")) : 0;\n  }\n  get skip4page() {\n    return h(this, ch);\n  }\n  recodePage() {\n    if (b(this, ch, !1), !this.val.getVal(\"save:sn.doRecLog\"))\n      return;\n    const { fn: t, idx: e } = x(this, fh, xf).call(this), i = e - 1, n = i + \":\" + t, s = h(this, vr).findIndex((a) => a.key === n);\n    if (s > -1) {\n      b(this, ze, s);\n      return;\n    }\n    const o = {\n      key: n,\n      fn: t,\n      idx: i,\n      retFn: t,\n      retIdx: 0,\n      retMark: { ...h(this, pr) }\n    };\n    if (h(this, ze) >= 0) {\n      const a = h(this, vr)[h(this, ze)];\n      o.retFn = a.fn, o.retIdx = a.idx + 1;\n    }\n    ++Te(this, ze)._ === h(this, vr).length ? h(this, vr).push(o) : h(this, vr)[h(this, ze)] = o;\n  }\n  recodeDesign(t) {\n    let e = \"\", i = 0;\n    const n = h(this, Vt).length;\n    if (t.design_unit && n > 0) {\n      const a = h(this, Vt)[0];\n      e = a.fn, i = a.idx;\n    } else\n      e = h(this, At), i = h(this, et);\n    t[\":path\"] = h(this, ls).call(this, e);\n    const s = x(this, Mn, Rs).call(this, h(this, $e)[e], i);\n    t[\":ln\"] = s.ln, t[\":col_s\"] = s.col_s, t[\":col_e\"] = s.col_e;\n    const o = i - 1;\n    t[\":idx_tkn\"] = o, t[\":token\"] = h(this, $e)[e].aToken[o], this.sys.send2Dbg(\"_recodeDesign\", t);\n  }\n  replace(t, e) {\n    h(this, Pt).aToken[t] = e;\n  }\n};\nlet aa = gi;\nPt = new WeakMap(), At = new WeakMap(), et = new WeakMap(), Kt = new WeakMap(), Vt = new WeakMap(), In = new WeakMap(), qu = new WeakSet(), wy = function(t, e) {\n  h(gi, Po)[h(this, ls).call(this, t)] = e;\n}, To = new WeakMap(), hs = new WeakMap(), kp = new WeakMap(), ls = new WeakMap(), Zu = new WeakSet(), Ey = function(t) {\n  if (x(this, So, Jh).call(this))\n    return;\n  const e = h(this, Pt).aToken[h(this, et) - h(this, us, ha)];\n  h(this, lh).test(e) ? x(this, Ku, Ty).call(this, !1) : (this.sys.callHook(\"stopOnStep\", {}), h(this, To).stepin(t));\n}, Ku = new WeakSet(), Ty = function(t) {\n  this.sys.callHook(`stopOnStep${t ? \"Out\" : \"\"}`, {}), b(this, Ju, h(this, Vt).length - (t ? 1 : 0)), b(this, et, h(this, et) - h(this, us, ha)), b(this, ce, t ? 7 : 6), this.main.setLoop(!0), this.main.resume();\n}, Ju = new WeakMap(), us = new WeakSet(), ha = function() {\n  return h(this, ce) === 2 || h(this, ce) === 4 ? 1 : 0;\n}, So = new WeakSet(), Jh = function() {\n  return h(this, et) < h(this, Pt).len ? !1 : (this.sys.callHook(\"stopOnEntry\", {}), this.main.setLoop(!1, \"スクリプト終端です\"), !0);\n}, Po = new WeakMap(), Cn = new WeakMap(), ce = new WeakMap(), Np = new WeakSet(), pw = function(t) {\n  switch (h(this, ce)) {\n    case 6:\n      x(this, Oo, Qh).call(this), b(this, ce, 7);\n      break;\n    case 7:\n      if (h(this, Vt).length !== h(this, Ju))\n        break;\n      return b(this, ce, 4), this.main.setLoop(!1, \"ステップ実行\"), this.sys.send2Dbg(\"stopOnStep\", {}), !0;\n    case 5:\n      x(this, Oo, Qh).call(this), b(this, ce, 4);\n      break;\n    case 4:\n      return x(this, Oo, Qh).call(this), this.main.setLoop(!1, \"ステップ実行\"), this.sys.send2Dbg(\"stopOnStep\", {}), !0;\n    case 3:\n      x(this, Oo, Qh).call(this), b(this, ce, 0);\n      break;\n    default:\n      if (nf(t) in h(gi, Cn))\n        return b(this, ce, 2), this.main.setLoop(!1, `関数 ${t} ブレーク`), this.sys.callHook(\"stopOnBreakpoint\", {}), this.sys.send2Dbg(\"stopOnBreakpoint\", {}), !0;\n      {\n        const e = h(gi, Po)[h(this, ls).call(this, h(this, At))];\n        if (!e)\n          break;\n        const i = e[h(this, Kt)];\n        if (!i)\n          break;\n        if (i.condition) {\n          if (!this.prpPrs.parse(i.condition))\n            break;\n        } else if (\"hitCondition\" in i && --i.hitCondition > 0)\n          break;\n        const n = h(this, ce) === 0;\n        b(this, ce, 2), this.main.setLoop(!1, n ? (i.condition ? \"条件\" : \"ヒットカウント\") + \"ブレーク\" : \"ステップ実行\");\n        const s = n ? \"stopOnBreakpoint\" : \"stopOnStep\";\n        this.sys.callHook(s, {}), this.sys.send2Dbg(s, {});\n      }\n      return !0;\n  }\n  return !1;\n}, Oo = new WeakSet(), Qh = function() {\n  var e;\n  const t = (e = h(gi, Po)[Qc(h(this, At))]) == null ? void 0 : e[h(this, Kt)];\n  t != null && t.hitCondition && --t.hitCondition;\n}, Lp = new WeakSet(), vw = function() {\n  const t = h(this, ce) === 3 ? 1 : 0, e = h(this, Pt).aToken[h(this, et) - 1 + t], i = h(this, ls).call(this, h(this, At)), n = nf(e), s = n ? `[${n}]` : e, o = this.val.getVal(\"mp:const.sn.macro\") ?? \"{}\";\n  if (h(this, et) === 0)\n    return [{ fn: i, ln: 1, col: 1, nm: s, ma: o }];\n  const a = x(this, Mn, Rs).call(this, h(this, Pt), h(this, et)), l = [{ fn: i, ln: a.ln, col: a.col_s + 1, nm: s, ma: o }], u = h(this, Vt).length;\n  if (u === 0)\n    return l;\n  for (let c = u - 1; c >= 0; --c) {\n    const f = h(this, Vt)[c], d = h(this, $e)[f.fn], p = d.aToken[f.idx - 1], m = x(this, Mn, Rs).call(this, d, f.idx), v = nf(p);\n    l.push({\n      fn: h(this, ls).call(this, f.fn),\n      ln: m.ln,\n      col: m.col_s + 1,\n      nm: v ? `[${v}]` : p,\n      ma: f.csArg[\":hMp\"][\"const.sn.macro\"] ?? \"{}\"\n    });\n  }\n  return l;\n}, Qu = new WeakMap(), hh = new WeakMap(), Si = new WeakMap(), Ap = new WeakSet(), mw = function(t) {\n  const { name: e } = t;\n  if (!e)\n    throw \"nameは必須です\";\n  let i = \"\";\n  const n = h(this, Pt).len;\n  for (; h(this, et) < n && (i = h(this, Pt).aToken[h(this, et)], i === \"\"); ++Te(this, et)._)\n    ;\n  return t.text = i, t.cast = \"str\", this.hTag.let(t), b(this, et, h(this, et) + 2), b(this, Kt, h(this, Kt) + (i.match(/\\n/g) ?? []).length), !1;\n}, Dp = new WeakSet(), yw = function() {\n  if (h(this, et) === 0)\n    return console.group(`🥟 [dump_stack] スクリプト現在地 fn:${h(this, At)} line:1 col:0`), console.groupEnd(), !1;\n  const t = x(this, Mn, Rs).call(this, h(this, Pt), h(this, et)), e = `スクリプト現在地 fn:${h(this, At)} line:${t.ln} col:${t.col_s + 1}`;\n  console.group(`🥟 [dump_stack] ${e}`);\n  const i = h(this, Vt).length;\n  if (i > 0) {\n    console.info(e);\n    for (let n = i - 1; n >= 0; --n) {\n      const s = h(this, Vt)[n], o = s.csArg[\":hMp\"], a = o ? o[\":タグ名\"] : void 0, l = s.csArg[\":タグ名\"] ?? \"\", u = x(this, Mn, Rs).call(this, h(this, $e)[s.fn], s.idx);\n      console.info(\n        `${i - n}つ前のコール元 fn:${s.fn} line:${u.ln} col:${u.col_s + 1}` + (a ? \"（[\" + a + \"]マクロ内）\" : \" \") + `で [${l} ...]をコール`\n      );\n    }\n  }\n  return console.groupEnd(), !1;\n}, Mn = new WeakSet(), Rs = function(t, e) {\n  const i = { ln: 1, col_s: 0, col_e: 0 };\n  if (!t)\n    return i;\n  let n = e - 1;\n  const s = i.ln = t.aLNum[n];\n  for (; t.aLNum[n] === s; ) {\n    if (t.aToken[n].at(0) !== `\n`) {\n      const o = t.aToken[n].length;\n      i.col_e > 0 && (i.col_s += o), i.col_e += o;\n    }\n    if (--n < 0)\n      break;\n  }\n  return i;\n}, Bp = new WeakSet(), _w = function(t) {\n  const { set_fnc: e, break_fnc: i } = t;\n  if (!e)\n    throw \"set_fncは必須です\";\n  if (b(this, Io, globalThis[e]), !h(this, Io)) {\n    if (K(t, \"need_err\", !0))\n      throw `HTML内に関数${e}が見つかりません`;\n    return b(this, Io, () => {\n    }), !1;\n  }\n  if (this.noticeBreak = (n) => {\n    h(this, tc) !== h(this, At) && (b(this, tc, h(this, At)), h(this, Io).call(this, h(this, ec)[h(this, At)] = h(this, ec)[h(this, At)] ?? h(this, Pt).aToken.join(\"\"))), h(this, Co).call(this, h(this, Kt), n);\n  }, this.noticeBreak(!0), !i)\n    return !1;\n  if (b(this, Co, globalThis[i]), !h(this, Co)) {\n    if (K(t, \"need_err\", !0))\n      throw `HTML内に関数${i}が見つかりません`;\n    b(this, Co, () => {\n    });\n  }\n  return !1;\n}, Io = new WeakMap(), Co = new WeakMap(), tc = new WeakMap(), ec = new WeakMap(), ic = new WeakMap(), Pi = new WeakMap(), Fp = new WeakSet(), gw = function() {\n  if (h(this, Pi)[0] === -1)\n    throw \"ifブロック内ではありません\";\n  return b(this, et, h(this, Pi)[0]), h(this, Pi).shift(), !1;\n}, Up = new WeakSet(), bw = function(t) {\n  const { exp: e } = t;\n  if (!e)\n    throw \"expは必須です\";\n  if (e.at(0) === \"&\")\n    throw \"属性expは「&」が不要です\";\n  let i = 0, n = this.prpPrs.parse(e) ? h(this, et) : -1;\n  const s = h(this, Pt).aLNum[h(this, et)];\n  let o = h(this, Kt) - (s || 0);\n  const a = h(this, Pt).len;\n  for (; h(this, et) < a; ++Te(this, et)._) {\n    const l = h(this, Pt).aLNum[h(this, et)];\n    h(this, Pt).aLNum[h(this, et)] = (l || 0) + o;\n    const u = h(this, Pt).aToken[h(this, et)];\n    if (!u)\n      continue;\n    const c = u.charCodeAt(0);\n    if (c === 10) {\n      b(this, Kt, h(this, Kt) + u.length);\n      continue;\n    }\n    if (c !== 91)\n      continue;\n    const [f, d] = em(u);\n    if (!(f in this.hTag))\n      throw `未定義のタグ[${f}]です`;\n    switch (this.alzTagArg.parse(d), f) {\n      case \"if\":\n        ++i;\n        break;\n      case \"elsif\":\n        if (i > 0 || n > -1)\n          break;\n        const p = this.alzTagArg.hPrm.exp.val;\n        if (p.at(0) === \"&\")\n          throw \"属性expは「&」が不要です\";\n        this.prpPrs.parse(p) && (n = h(this, et) + 1);\n        break;\n      case \"else\":\n        if (i > 0)\n          break;\n        n === -1 && (n = h(this, et) + 1);\n        break;\n      case \"endif\":\n        if (i > 0) {\n          --i;\n          break;\n        }\n        return n === -1 ? (++Te(this, et)._, h(this, Pt).aLNum[h(this, et)] += o) : (h(this, Pi).unshift(h(this, et) + 1), b(this, et, n), b(this, Kt, h(this, Pt).aLNum[h(this, et)])), !1;\n    }\n  }\n  throw \"[endif]がないままスクリプト終端です\";\n}, Gp = new WeakSet(), xw = function(t) {\n  K(t, \"count\", !1) || x(this, cc, My).call(this);\n  const { fn: e } = t;\n  return e && h(this, hs).call(this, e), x(this, rc, Sy).call(this, { \":hEvt1Time\": h(this, hh).popLocalEvts(), \":hMp\": this.val.cloneMp() }), K(t, \"clear_local_event\", !1) && this.hTag.clear_event({}), x(this, $r, zn).call(this, e, t.label), !0;\n}, rc = new WeakSet(), Sy = function(t) {\n  h(this, Pt).aLNum[h(this, et)] = h(this, Kt), h(this, sc) || (t[\":resvToken\"] = \"\", x(this, Mo, tl).call(this)), h(this, Vt).push(new r0(h(this, At), h(this, et), t)), h(this, Pi).unshift(-1);\n}, jp = new WeakSet(), ww = function(t) {\n  return K(t, \"count\", !0) || x(this, cc, My).call(this), h(this, Pi)[0] = -1, x(this, $r, zn).call(this, t.fn, t.label), !0;\n}, Hp = new WeakSet(), Ew = function(t) {\n  if (h(this, ze) === -1)\n    return !1;\n  if (K(t, \"clear\", !1))\n    return b(this, vr, []), b(this, ze, -1), !1;\n  const { to: e } = t;\n  if (!e)\n    throw \"clearかtoは必須です\";\n  const i = h(this, ze);\n  switch (e) {\n    case \"prev\":\n      h(this, ze) > 0 && --Te(this, ze)._;\n      break;\n    case \"next\":\n      const a = h(this, vr).length;\n      h(this, ze) < a - 1 && ++Te(this, ze)._;\n      break;\n    default:\n      throw `属性to「${e}」は異常です`;\n  }\n  if (i === h(this, ze))\n    return !1;\n  const n = h(this, vr)[h(this, ze)], { fn: s, idx: o } = x(this, fh, xf).call(this);\n  return n.key === o + \":\" + s ? !1 : x(this, uh, bf).call(this, { fn: n.retFn, index: n.retIdx }, n.retMark);\n}, $p = new WeakSet(), Tw = function(t) {\n  if (K(t, \"clear\", !1))\n    b(this, Vt, []);\n  else if (!h(this, Vt).pop())\n    throw \"[pop_stack] スタックが空です\";\n  return x(this, Mo, tl).call(this), b(this, Pi, [-1]), this.val.setMp({}), !1;\n}, nc = new WeakSet(), Py = function(t) {\n  const e = h(this, Vt).pop();\n  if (!e)\n    throw \"[return] スタックが空です\";\n  const i = e.csArg;\n  h(this, Pi).shift();\n  const n = i[\":hMp\"];\n  n && this.val.setMp(n);\n  const s = i[\":resvToken\"];\n  s ? this.nextToken = () => (x(this, Mo, tl).call(this), s) : x(this, Mo, tl).call(this), i[\":hEvt1Time\"] && h(this, hh).pushLocalEvts(i[\":hEvt1Time\"]);\n  const { fn: o, label: a } = t;\n  return o || a ? (x(this, $r, zn).call(this, o, a), !0) : e.fn in h(this, $e) ? (x(this, uc, Cy).call(this, e), !1) : (x(this, $r, zn).call(this, e.fn, \"\", e.idx), !0);\n}, sc = new WeakMap(), Mo = new WeakSet(), tl = function() {\n  b(this, sc, \"\"), this.nextToken = x(this, oc, Oy);\n}, Ro = new WeakMap(), $r = new WeakSet(), zn = function(t = \"\", e = \"\", i = 0) {\n  if (!t && !e && this.main.errScript(\"[jump系] fnまたはlabelは必須です\"), e ? (e.at(0) !== \"*\" && this.main.errScript(\"[jump系] labelは*で始まります\"), b(this, Ro, e), h(this, Ro).slice(0, 2) !== \"**\" && b(this, et, i)) : (b(this, Ro, \"\"), b(this, et, i)), !t) {\n    this.analyzeInit();\n    return;\n  }\n  if (t.includes(\"@\"))\n    throw \"[jump系] fn には文字「@」は禁止です\";\n  const n = h(this, hs).call(this, t);\n  if (t === h(this, At)) {\n    this.analyzeInit();\n    return;\n  }\n  b(this, At, t);\n  const s = h(this, $e)[t];\n  if (s) {\n    b(this, Pt, s), this.analyzeInit();\n    return;\n  }\n  const o = new Ii();\n  let a = \"\";\n  try {\n    a = h(this, hs).call(this, t + \"@\"), o.add({ name: t + \":base\", url: n }), o.add({ name: t, url: a });\n  } catch {\n    o.add({ name: t, url: n });\n  }\n  o.use((l, u) => {\n    try {\n      l.data = this.sys.decStr(l.extension, l.data);\n    } catch (c) {\n      this.main.errScript(`[jump系]snロード失敗です fn:${l.name} ${c}`, !1);\n    }\n    u == null || u();\n  }).load((l, u) => {\n    if (a) {\n      const c = u[t + \":base\"].data, f = u[t].data, d = c.split(`\n`), p = f.split(`\n`), m = d.length, v = p.length;\n      for (let y = 0; y < v && y < m; ++y)\n        p[y] || (p[y] = d[y]);\n      u[t].data = p.join(`\n`), delete u[t + \":base\"];\n    }\n    this.nextToken = x(this, oc, Oy), b(this, Kt, 1), x(this, Wp, Pw).call(this, u[t].data), this.hTag.record_place({}), this.main.resume(() => this.analyzeInit());\n  }), this.main.stop();\n}, oc = new WeakSet(), Oy = function() {\n  var e, i;\n  if (x(this, hc, Iy).call(this))\n    return \"\";\n  x(this, Kp, Iw).call(this), (e = h(this, Pt).aLNum)[i = h(this, et)] || (e[i] = h(this, Kt));\n  const t = h(this, Pt).aToken[h(this, et)];\n  return h(this, ac).call(this, t), ++Te(this, et)._, t;\n}, ac = new WeakMap(), hc = new WeakSet(), Iy = function() {\n  return h(this, et) < h(this, Pt).len ? !1 : (this.main.errScript(\"スクリプト終端です\"), !0);\n}, zp = new WeakMap(), Vp = new WeakMap(), lc = new WeakMap(), Xp = new WeakSet(), Sw = function(t, e, i, n, s) {\n  var c, f;\n  const o = t.aToken.length;\n  if (!n) {\n    if (x(this, hc, Iy).call(this))\n      return { idx: s, ln: i };\n    if (t.aLNum[s])\n      i = t.aLNum[s];\n    else {\n      i = 1;\n      for (let d = 0; d < s; ++d) {\n        (c = t.aLNum)[d] || (c[d] = i);\n        const p = t.aToken[d];\n        p.charCodeAt(0) === 10 ? i += p.length : i += (p.match(/\\n/g) ?? []).length;\n      }\n      t.aLNum[s] = i;\n    }\n    return { idx: s, ln: i };\n  }\n  t.aLNum[0] = 1;\n  const a = n.match(h(this, zp));\n  if (a) {\n    n = a[1];\n    let d = s;\n    switch (a[2]) {\n      case \"before\":\n        for (; t.aToken[--d] !== n; )\n          d === 0 && kt.myTrace(\"[jump系 無名ラベルbefore] \" + i + \"行目以前で\" + (e ? \"マクロ内に\" : \"\") + \"ラベル【\" + n + \"】がありません\", \"ET\"), e && t.aToken[d].search(h(this, Vp)) > -1 && kt.myTrace(\"[jump系 無名ラベルbefore] マクロ内にラベル【\" + n + \"】がありません\", \"ET\");\n        return { idx: d + 1, ln: t.aLNum[d] };\n      case \"after\":\n        for (; t.aToken[++d] !== n; )\n          d === o && kt.myTrace(\"[jump系 無名ラベルafter] \" + i + \"行目以後でマクロ内にラベル【\" + n + \"】がありません\", \"ET\"), t.aToken[d].search(h(this, lc)) > -1 && kt.myTrace(\"[jump系 無名ラベルafter] \" + i + \"行目以後でマクロ内にラベル【\" + n + \"】がありません\", \"ET\");\n        return { idx: d + 1, ln: t.aLNum[d] };\n      default:\n        kt.myTrace(\"[jump系] 無名ラベル指定【label=\" + n + \"】が間違っています\", \"ET\");\n    }\n  }\n  i = 1;\n  const l = new RegExp(\n    \"^\" + n.replaceAll(\"*\", \"\\\\*\") + \"(?=\\\\s|;|\\\\[|\\\\||$)\"\n  );\n  let u = !1;\n  for (let d = 0; d < o; ++d) {\n    (f = t.aLNum)[d] || (f[d] = i);\n    const p = t.aToken[d];\n    if (u) {\n      h(this, In).testTagEndLetml(p) ? u = !1 : i += (p.match(/\\n/g) ?? []).length;\n      continue;\n    }\n    const m = p.charCodeAt(0);\n    if (m === 10) {\n      i += p.length;\n      continue;\n    }\n    if (m === 42) {\n      if (p.search(l) > -1)\n        return { idx: d + 1, ln: i };\n      continue;\n    }\n    m === 91 && (i += (p.match(/\\n/g) ?? []).length, h(this, In).testTagLetml(p) && (u = !0));\n  }\n  throw u ? \"[let_ml]の終端・[endlet_ml]がありません\" : (kt.myTrace(`[jump系] ラベル【${n}】がありません`, \"ET\"), \"Dummy\");\n}, $e = new WeakMap(), Wp = new WeakSet(), Pw = function(t) {\n  let e = \"\";\n  try {\n    e = \"ScriptIterator.resolveScript\";\n    const i = h(this, In).resolveScript(t);\n    e = \"ScriptIterator.replaceScript_Wildcard\", x(this, Zp, Ow).call(this, i), h(this, $e)[h(this, At)] = b(this, Pt, i);\n  } catch (i) {\n    i instanceof Error ? e += `例外 mes=${i.message}(${i.name})` : e = i, this.main.errScript(e, !1);\n  }\n  this.val.loadScrWork(h(this, At));\n}, uc = new WeakSet(), Cy = function(t) {\n  b(this, At, t.fn), b(this, et, t.idx);\n  const e = h(this, $e)[h(this, At)];\n  e && b(this, Pt, e), b(this, Kt, h(this, Pt).aLNum[t.idx]);\n}, Yp = new WeakMap(), qp = new WeakMap(), Zp = new WeakSet(), Ow = function(t) {\n  for (let e = t.len - 1; e >= 0; --e) {\n    const i = t.aToken[e];\n    if (!h(this, Yp).test(i))\n      continue;\n    const [n, s] = em(i);\n    this.alzTagArg.parse(s);\n    const o = this.alzTagArg.hPrm.fn;\n    if (!o)\n      continue;\n    const { val: a } = o;\n    if (!a || a.at(-1) !== \"*\")\n      continue;\n    t.aToken.splice(e, 1, \"\t\", \"; \" + i), t.aLNum.splice(e, 1, NaN, NaN);\n    const l = n === \"loadplugin\" ? ii.CSS : ii.SN, u = this.cfg.matchPath(\"^\" + a.slice(0, -1) + \".*\", l);\n    for (const c of u) {\n      const f = i.replace(\n        h(this, qp),\n        \"fn=\" + decodeURIComponent(Qc(c[l]))\n      );\n      t.aToken.splice(e, 0, f), t.aLNum.splice(e, 0, NaN);\n    }\n  }\n  t.len = t.aToken.length;\n}, Kp = new WeakSet(), Iw = function() {\n  const t = this.val.getAreaKidoku(h(this, At));\n  if (!t)\n    throw `recordKidoku fn:'${h(this, At)}' (areas === null)`;\n  if (h(this, Vt).length > 0) {\n    t.record(h(this, et));\n    return;\n  }\n  b(this, Rn, t.search(h(this, et))), this.val.setVal_Nochk(\"tmp\", \"const.sn.isKidoku\", h(this, Rn)), !h(this, Rn) && t.record(h(this, et));\n}, Rn = new WeakMap(), cc = new WeakSet(), My = function() {\n  var t;\n  (t = this.val.getAreaKidoku(h(this, At))) == null || t.erase(h(this, et)), b(this, Rn, !1);\n}, Jp = new WeakSet(), Cw = function(t) {\n  return h(this, In).bracket2macro(t, this.hTag, h(this, Pt), h(this, et)), !1;\n}, Qp = new WeakSet(), Mw = function(t) {\n  return h(this, In).char2macro(t, this.hTag, h(this, Pt), h(this, et)), !1;\n}, tv = new WeakMap(), ev = new WeakSet(), Rw = function(t) {\n  var s, o;\n  const { name: e } = t;\n  if (!e)\n    throw \"nameは必須です\";\n  if (e in this.hTag)\n    throw `[${e}]はタグかすでに定義済みのマクロです`;\n  if (h(this, tv).test(e))\n    throw `[${e}]はマクロ名として異常です`;\n  const i = h(this, Kt), n = new r0(h(this, At), h(this, et));\n  for (b(this, fc, h(this, fc) + (\"|\" + e)), b(this, lh, new RegExp(`\\\\[(${h(this, fc)})\\\\b`)), this.hTag[e] = (a) => (a.design_unit = t.design_unit, x(this, rc, Sy).call(this, { ...a, \":hMp\": this.val.cloneMp() }), this.val.setMp(a), this.val.setVal_Nochk(\"mp\", \"const.sn.macro\", JSON.stringify(t)), this.val.setVal_Nochk(\"mp\", \"const.sn.me_call_scriptFn\", h(this, At)), b(this, Kt, i), x(this, uc, Cy).call(this, n), !1); h(this, et) < h(this, Pt).len; ++Te(this, et)._) {\n    (s = h(this, Pt).aLNum)[o = h(this, et)] || (s[o] = h(this, Kt));\n    const a = h(this, Pt).aToken[h(this, et)];\n    if (a.search(h(this, lc)) > -1)\n      return ++Te(this, et)._, !1;\n    const l = a.charCodeAt(0);\n    l === 10 ? b(this, Kt, h(this, Kt) + a.length) : l === 91 && b(this, Kt, h(this, Kt) + (a.match(/\\n/g) ?? []).length);\n  }\n  throw `マクロ[${e}]定義の終端・[endmacro]がありません`;\n}, fc = new WeakMap(), lh = new WeakMap(), iv = new WeakSet(), kw = function(t) {\n  if (!(\"place\" in t))\n    throw \"placeは必須です\";\n  const e = Number(t.place);\n  if (\"fn\" in t != \"label\" in t)\n    throw \"fnとlabelはセットで指定して下さい\";\n  const i = this.val.getMark(e);\n  if (!i)\n    throw `place【${e}】は存在しません`;\n  return x(this, uh, bf).call(this, t, i);\n}, uh = new WeakSet(), bf = function(t, e, i = !0) {\n  this.hTag.clear_event({}), this.val.mark2save(e), this.val.setMp({}), h(this, Si).recPagebreak(), i && this.sndMng.playLoopFromSaveObj(), K(t, \"do_rec\", !0) && b(this, pr, {\n    hSave: this.val.cloneSave(),\n    hPages: { ...e.hPages },\n    aIfStk: [...e.aIfStk]\n  });\n  const n = {\n    enabled: this.val.getVal(\"save:const.sn.autowc.enabled\"),\n    text: this.val.getVal(\"save:const.sn.autowc.text\"),\n    time: Number(this.val.getVal(\"save:const.sn.autowc.time\"))\n  };\n  this.hTag.autowc(n);\n  const s = String(this.val.getVal(\"save:const.sn.scriptFn\")), o = Number(this.val.getVal(\"save:const.sn.scriptIdx\"));\n  return b(this, Pi, [...h(this, pr).aIfStk]), b(this, Vt, []), h(this, Si).cover(!0), h(this, Si).stopAllTw(), \"index\" in t ? (h(this, Si).playback(h(this, pr).hPages, () => {\n    h(this, Si).cover(!1), b(this, ch, !0), x(this, $r, zn).call(this, t.fn ?? s, \"\", t.index ?? o);\n  }), !0) : (delete h(this, $e)[s], h(this, Si).playback(\n    h(this, pr).hPages,\n    \"label\" in t ? () => {\n      h(this, Si).cover(!1), b(this, At, s), b(this, et, o), this.hTag.call({ fn: t.fn, label: t.label });\n    } : () => {\n      h(this, Si).cover(!1), x(this, $r, zn).call(this, s, \"\", o);\n    }\n  ), !0);\n}, ch = new WeakMap(), rv = new WeakSet(), Nw = function(t) {\n  const e = this.val.getMark(0);\n  delete h(this, $e)[Qc(e.hSave[\"const.sn.scriptFn\"])];\n  const i = {};\n  for (const n in h(this, $e))\n    try {\n      h(this, hs).call(this, n + \"@\");\n    } catch {\n      i[n] = h(this, $e)[n];\n    }\n  return b(this, $e, i), t.do_rec = !1, x(this, uh, bf).call(this, t, e, !1);\n}, pr = new WeakMap(), nv = new WeakSet(), Lw = function() {\n  if (this.main.isDestroyed())\n    return !1;\n  const { fn: t, idx: e } = x(this, fh, xf).call(this);\n  return this.val.setVal_Nochk(\"save\", \"const.sn.scriptFn\", t), this.val.setVal_Nochk(\"save\", \"const.sn.scriptIdx\", e), b(this, pr, {\n    hSave: this.val.cloneSave(),\n    hPages: h(this, Si).record(),\n    aIfStk: h(this, Pi).slice(h(this, Vt).length)\n  }), !1;\n}, fh = new WeakSet(), xf = function() {\n  if (h(this, Vt).length === 0)\n    return {\n      fn: h(this, At),\n      idx: h(this, et)\n    };\n  const e = h(this, Vt)[0];\n  return {\n    fn: e.fn,\n    idx: e.idx\n  };\n}, sv = new WeakSet(), Aw = function(t) {\n  if (!(\"place\" in t))\n    throw \"placeは必須です\";\n  const e = Number(t.place);\n  delete t[\":タグ名\"], delete t.place, t.text = t.text ?? \"\", h(this, pr).json = t, this.val.setMark(e, h(this, pr));\n  const i = Number(this.val.getVal(\"sys:const.sn.save.place\"));\n  return e === i && this.val.setVal_Nochk(\"sys\", \"const.sn.save.place\", i + 1), !1;\n}, vr = new WeakMap(), ze = new WeakMap(), _(aa, kp, /(.+)\\/crypto_prj\\/([^\\/]+)\\/[^\\.]+(\\.\\w+)/), // reload 再生成 Main に受け渡すため static\n_(aa, Po, {}), _(aa, Cn, {});\nvar hi, Xi, Ve, Wi, kn, ko, Ue, dc, Nn, dh, No, pc, vc, ph, ov, Dw, mc, yc, vh, mh, wf, Lo, Ao;\nconst ma = class {\n  constructor(t) {\n    _(this, ov);\n    _(this, mh);\n    _(this, hi, void 0);\n    _(this, Xi, void 0);\n    _(this, Ve, /* @__PURE__ */ Object.create(null));\n    // タグ処理辞書\n    _(this, Wi, void 0);\n    _(this, kn, void 0);\n    _(this, ko, void 0);\n    _(this, Ue, void 0);\n    _(this, dc, void 0);\n    _(this, Nn, void 0);\n    _(this, dh, void 0);\n    _(this, No, () => {\n    });\n    _(this, pc, new EC());\n    _(this, vc, !1);\n    _(this, ph, \"skynovel\");\n    _(this, mc, () => h(this, No).call(this));\n    // メイン処理（シナリオ解析）\n    _(this, yc, (t = x(this, mh, wf)) => {\n      h(this, Lo) || (h(this, Nn).clearBreak(), b(this, No, t), this.resume = (e = x(this, mh, wf)) => {\n        b(this, No, e);\n      }, h(this, Ue).noticeBreak(!1));\n    });\n    B(this, \"resume\", h(this, yc));\n    B(this, \"stop\", () => {\n      b(this, No, () => {\n      }), this.resume = h(this, yc), h(this, Ue).noticeBreak(!0);\n    });\n    _(this, vh, !0);\n    _(this, Lo, !1);\n    B(this, \"isDestroyed\", () => h(this, Lo));\n    _(this, Ao, void 0);\n    this.sys = t, ZE(), __.generate(t).then((e) => b(this, hi, e)).then(() => x(this, ov, Dw).call(this)).catch((e) => console.error(\"load err fn:prj.json e:%o\", e));\n  }\n  // thisの扱いによりメソッド代入はダメ\n  errScript(t, e = !0) {\n    if (this.stop(), kt.myTrace(t), A.debugLog && console.log(\"🍜 SKYNovel err!\"), e)\n      throw t;\n  }\n  resumeByJumpOrCall(t) {\n    if (t.url) {\n      h(this, Ve).navigate_to(t), h(this, Ue).jumpJustBefore();\n      return;\n    }\n    h(this, Wi).setVal_Nochk(\"tmp\", \"sn.eventArg\", t.arg ?? \"\"), h(this, Wi).setVal_Nochk(\"tmp\", \"sn.eventLabel\", t.label ?? \"\"), K(t, \"call\", !1) ? (h(this, Ue).subIdxToken(), this.resume(() => h(this, Ve).call(t))) : (h(this, Ve).clear_event({}), this.resume(() => h(this, Ve).jump(t)));\n  }\n  setLoop(t, e = \"\") {\n    b(this, vh, t) ? this.resume() : this.stop(), this.sys.setTitleInfo(e ? ` -- ${e}中` : \"\");\n  }\n  fire(t, e) {\n    h(this, dh).fire(t, e);\n  }\n  async destroy(t = 0) {\n    h(this, Lo) || (b(this, Lo, !0), h(this, vc) && (this.stop(), b(this, vh, !1), h(this, Nn).before_destroy(), t > 0 && await new Promise((e) => setTimeout(e, t)), b(this, Ve, {}), h(this, dh).destroy(), h(this, Ue).destroy(), h(this, Nn).destroy(), h(this, dc).destroy(), h(this, Xi).ticker.remove(h(this, mc)), h(this, Ao) && h(this, Xi) && ma.cvs.parentNode.appendChild(h(this, Ao)), L0(), h(this, Xi).destroy(!0), this.sys.destroy()));\n  }\n};\nlet Ci = ma;\nhi = new WeakMap(), Xi = new WeakMap(), Ve = new WeakMap(), Wi = new WeakMap(), kn = new WeakMap(), ko = new WeakMap(), Ue = new WeakMap(), dc = new WeakMap(), Nn = new WeakMap(), dh = new WeakMap(), No = new WeakMap(), pc = new WeakMap(), vc = new WeakMap(), ph = new WeakMap(), ov = new WeakSet(), Dw = async function() {\n  var n;\n  const t = (n = document.createElement(\"canvas\")) == null ? void 0 : n.getContext(\"2d\");\n  if (!t)\n    throw \"argChk_Color err\";\n  A.cc4ColorName = t;\n  const e = {\n    width: h(this, hi).oCfg.window.width,\n    height: h(this, hi).oCfg.window.height,\n    backgroundColor: Dy(String(h(this, hi).oCfg.init.bg_color)),\n    // このString()は後方互換性のため必須\n    //\tresolution\t\t: sys.resolution,\n    resolution: globalThis.devicePixelRatio ?? 1\n    // 理想\n  }, i = document.getElementById(h(this, ph));\n  i && (b(this, Ao, i.cloneNode(!0)), h(this, Ao).id = h(this, ph), e.view = i), b(this, Xi, new Tb(e)), ma.cvs = h(this, Xi).view, i || (document.body.appendChild(ma.cvs), ma.cvs.id = h(this, ph)), b(this, Wi, new af(h(this, hi), h(this, Ve))), b(this, kn, new Ns(h(this, Wi), h(this, hi).oCfg.init.escape ?? \"\\\\\")), await Promise.allSettled(this.sys.init(h(this, Ve), h(this, Xi), h(this, Wi), this)), h(this, Ve).title({ text: h(this, hi).oCfg.book.title || \"SKYNovel\" }), b(this, ko, new zC(h(this, hi), h(this, Ve), h(this, Wi), this, this.sys)), b(this, Ue, new aa(h(this, hi), h(this, Ve), this, h(this, Wi), h(this, pc), () => x(this, mh, wf).call(this), h(this, kn), h(this, ko), this.sys)), b(this, dc, new kt(this.sys, h(this, Ve), h(this, Ue))), b(this, Nn, new Ls(h(this, hi), h(this, Ve), h(this, Xi), h(this, Wi), this, h(this, Ue), this.sys, h(this, ko), h(this, pc), h(this, kn))), b(this, dh, new hR(h(this, hi), h(this, Ve), h(this, Xi), this, h(this, Nn), h(this, Wi), h(this, ko), h(this, Ue), this.sys)), h(this, Xi).ticker.add(h(this, mc)), this.resumeByJumpOrCall({ fn: \"main\" }), b(this, vc, !0);\n}, mc = new WeakMap(), yc = new WeakMap(), vh = new WeakMap(), mh = new WeakSet(), wf = function() {\n  for (; h(this, vh); ) {\n    let t = h(this, Ue).nextToken();\n    if (!t)\n      break;\n    const e = t.charCodeAt(0);\n    if (e !== 9) {\n      if (e === 10) {\n        h(this, Ue).addLineNum(t.length);\n        continue;\n      }\n      if (e === 91) {\n        if (h(this, Ue).isBreak(t))\n          return;\n        try {\n          const i = (t.match(/\\n/g) ?? []).length;\n          if (i > 0 && h(this, Ue).addLineNum(i), h(this, Ue).タグ解析(t)) {\n            this.stop();\n            break;\n          }\n          continue;\n        } catch (i) {\n          i instanceof Error ? this.errScript(`[${nf(t)}]タグ解析中例外 mes=${i.message}(${i.name})`, !1) : this.errScript(String(i), !1);\n          return;\n        }\n      }\n      if (e === 38)\n        try {\n          if (t.at(-1) !== \"&\") {\n            if (h(this, Ue).isBreak(t))\n              return;\n            const i = xC(t.slice(1));\n            i.name = h(this, kn).getValAmpersand(i.name), i.text = String(h(this, kn).parse(i.text)), h(this, Ve).let(i);\n            continue;\n          }\n          if (t.charAt(1) === \"&\")\n            throw new Error(\"「&表示&」書式では「&」指定が不要です\");\n          t = String(h(this, kn).parse(t.slice(1, -1)));\n        } catch (i) {\n          this.errScript(\n            i instanceof Error ? `& 変数操作・表示 mes=${i.message}(${i.name})` : i,\n            !1\n          );\n          return;\n        }\n      else {\n        if (e === 59)\n          continue;\n        if (e === 42 && t.length > 1)\n          continue;\n      }\n      try {\n        h(this, Nn).currentTxtlayForeNeedErr.tagCh(t);\n      } catch (i) {\n        this.errScript(\n          i instanceof Error ? `文字表示 mes=${i.message}(${i.name})` : i,\n          !1\n        );\n        return;\n      }\n    }\n  }\n}, Lo = new WeakMap(), Ao = new WeakMap(), B(Ci, \"cvs\");\nconst rn = /* @__PURE__ */ Object.create(null);\nrn.open = \"0\";\nrn.close = \"1\";\nrn.ping = \"2\";\nrn.pong = \"3\";\nrn.message = \"4\";\nrn.upgrade = \"5\";\nrn.noop = \"6\";\nconst Ef = /* @__PURE__ */ Object.create(null);\nObject.keys(rn).forEach((r) => {\n  Ef[rn[r]] = r;\n});\nconst lR = { type: \"error\", data: \"parser error\" }, uR = typeof Blob == \"function\" || typeof Blob < \"u\" && Object.prototype.toString.call(Blob) === \"[object BlobConstructor]\", cR = typeof ArrayBuffer == \"function\", fR = (r) => typeof ArrayBuffer.isView == \"function\" ? ArrayBuffer.isView(r) : r && r.buffer instanceof ArrayBuffer, Bw = ({ type: r, data: t }, e, i) => uR && t instanceof Blob ? e ? i(t) : n0(t, i) : cR && (t instanceof ArrayBuffer || fR(t)) ? e ? i(t) : n0(new Blob([t]), i) : i(rn[r] + (t || \"\")), n0 = (r, t) => {\n  const e = new FileReader();\n  return e.onload = function() {\n    const i = e.result.split(\",\")[1];\n    t(\"b\" + (i || \"\"));\n  }, e.readAsDataURL(r);\n}, s0 = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\", el = typeof Uint8Array > \"u\" ? [] : new Uint8Array(256);\nfor (let r = 0; r < s0.length; r++)\n  el[s0.charCodeAt(r)] = r;\nconst dR = (r) => {\n  let t = r.length * 0.75, e = r.length, i, n = 0, s, o, a, l;\n  r[r.length - 1] === \"=\" && (t--, r[r.length - 2] === \"=\" && t--);\n  const u = new ArrayBuffer(t), c = new Uint8Array(u);\n  for (i = 0; i < e; i += 4)\n    s = el[r.charCodeAt(i)], o = el[r.charCodeAt(i + 1)], a = el[r.charCodeAt(i + 2)], l = el[r.charCodeAt(i + 3)], c[n++] = s << 2 | o >> 4, c[n++] = (o & 15) << 4 | a >> 2, c[n++] = (a & 3) << 6 | l & 63;\n  return u;\n}, pR = typeof ArrayBuffer == \"function\", Fw = (r, t) => {\n  if (typeof r != \"string\")\n    return {\n      type: \"message\",\n      data: Uw(r, t)\n    };\n  const e = r.charAt(0);\n  return e === \"b\" ? {\n    type: \"message\",\n    data: vR(r.substring(1), t)\n  } : Ef[e] ? r.length > 1 ? {\n    type: Ef[e],\n    data: r.substring(1)\n  } : {\n    type: Ef[e]\n  } : lR;\n}, vR = (r, t) => {\n  if (pR) {\n    const e = dR(r);\n    return Uw(e, t);\n  } else\n    return { base64: !0, data: r };\n}, Uw = (r, t) => {\n  switch (t) {\n    case \"blob\":\n      return r instanceof ArrayBuffer ? new Blob([r]) : r;\n    case \"arraybuffer\":\n    default:\n      return r;\n  }\n}, Gw = String.fromCharCode(30), mR = (r, t) => {\n  const e = r.length, i = new Array(e);\n  let n = 0;\n  r.forEach((s, o) => {\n    Bw(s, !1, (a) => {\n      i[o] = a, ++n === e && t(i.join(Gw));\n    });\n  });\n}, yR = (r, t) => {\n  const e = r.split(Gw), i = [];\n  for (let n = 0; n < e.length; n++) {\n    const s = Fw(e[n], t);\n    if (i.push(s), s.type === \"error\")\n      break;\n  }\n  return i;\n}, jw = 4;\nfunction Re(r) {\n  if (r)\n    return _R(r);\n}\nfunction _R(r) {\n  for (var t in Re.prototype)\n    r[t] = Re.prototype[t];\n  return r;\n}\nRe.prototype.on = Re.prototype.addEventListener = function(r, t) {\n  return this._callbacks = this._callbacks || {}, (this._callbacks[\"$\" + r] = this._callbacks[\"$\" + r] || []).push(t), this;\n};\nRe.prototype.once = function(r, t) {\n  function e() {\n    this.off(r, e), t.apply(this, arguments);\n  }\n  return e.fn = t, this.on(r, e), this;\n};\nRe.prototype.off = Re.prototype.removeListener = Re.prototype.removeAllListeners = Re.prototype.removeEventListener = function(r, t) {\n  if (this._callbacks = this._callbacks || {}, arguments.length == 0)\n    return this._callbacks = {}, this;\n  var e = this._callbacks[\"$\" + r];\n  if (!e)\n    return this;\n  if (arguments.length == 1)\n    return delete this._callbacks[\"$\" + r], this;\n  for (var i, n = 0; n < e.length; n++)\n    if (i = e[n], i === t || i.fn === t) {\n      e.splice(n, 1);\n      break;\n    }\n  return e.length === 0 && delete this._callbacks[\"$\" + r], this;\n};\nRe.prototype.emit = function(r) {\n  this._callbacks = this._callbacks || {};\n  for (var t = new Array(arguments.length - 1), e = this._callbacks[\"$\" + r], i = 1; i < arguments.length; i++)\n    t[i - 1] = arguments[i];\n  if (e) {\n    e = e.slice(0);\n    for (var i = 0, n = e.length; i < n; ++i)\n      e[i].apply(this, t);\n  }\n  return this;\n};\nRe.prototype.emitReserved = Re.prototype.emit;\nRe.prototype.listeners = function(r) {\n  return this._callbacks = this._callbacks || {}, this._callbacks[\"$\" + r] || [];\n};\nRe.prototype.hasListeners = function(r) {\n  return !!this.listeners(r).length;\n};\nconst Yi = (() => typeof self < \"u\" ? self : typeof window < \"u\" ? window : Function(\"return this\")())();\nfunction Hw(r, ...t) {\n  return t.reduce((e, i) => (r.hasOwnProperty(i) && (e[i] = r[i]), e), {});\n}\nconst gR = Yi.setTimeout, bR = Yi.clearTimeout;\nfunction Ev(r, t) {\n  t.useNativeTimers ? (r.setTimeoutFn = gR.bind(Yi), r.clearTimeoutFn = bR.bind(Yi)) : (r.setTimeoutFn = Yi.setTimeout.bind(Yi), r.clearTimeoutFn = Yi.clearTimeout.bind(Yi));\n}\nconst xR = 1.33;\nfunction wR(r) {\n  return typeof r == \"string\" ? ER(r) : Math.ceil((r.byteLength || r.size) * xR);\n}\nfunction ER(r) {\n  let t = 0, e = 0;\n  for (let i = 0, n = r.length; i < n; i++)\n    t = r.charCodeAt(i), t < 128 ? e += 1 : t < 2048 ? e += 2 : t < 55296 || t >= 57344 ? e += 3 : (i++, e += 4);\n  return e;\n}\nclass TR extends Error {\n  constructor(t, e, i) {\n    super(t), this.description = e, this.context = i, this.type = \"TransportError\";\n  }\n}\nclass $w extends Re {\n  /**\n   * Transport abstract constructor.\n   *\n   * @param {Object} opts - options\n   * @protected\n   */\n  constructor(t) {\n    super(), this.writable = !1, Ev(this, t), this.opts = t, this.query = t.query, this.socket = t.socket;\n  }\n  /**\n   * Emits an error.\n   *\n   * @param {String} reason\n   * @param description\n   * @param context - the error context\n   * @return {Transport} for chaining\n   * @protected\n   */\n  onError(t, e, i) {\n    return super.emitReserved(\"error\", new TR(t, e, i)), this;\n  }\n  /**\n   * Opens the transport.\n   */\n  open() {\n    return this.readyState = \"opening\", this.doOpen(), this;\n  }\n  /**\n   * Closes the transport.\n   */\n  close() {\n    return (this.readyState === \"opening\" || this.readyState === \"open\") && (this.doClose(), this.onClose()), this;\n  }\n  /**\n   * Sends multiple packets.\n   *\n   * @param {Array} packets\n   */\n  send(t) {\n    this.readyState === \"open\" && this.write(t);\n  }\n  /**\n   * Called upon open\n   *\n   * @protected\n   */\n  onOpen() {\n    this.readyState = \"open\", this.writable = !0, super.emitReserved(\"open\");\n  }\n  /**\n   * Called with data.\n   *\n   * @param {String} data\n   * @protected\n   */\n  onData(t) {\n    const e = Fw(t, this.socket.binaryType);\n    this.onPacket(e);\n  }\n  /**\n   * Called with a decoded packet.\n   *\n   * @protected\n   */\n  onPacket(t) {\n    super.emitReserved(\"packet\", t);\n  }\n  /**\n   * Called upon close.\n   *\n   * @protected\n   */\n  onClose(t) {\n    this.readyState = \"closed\", super.emitReserved(\"close\", t);\n  }\n  /**\n   * Pauses the transport, in order not to lose packets during an upgrade.\n   *\n   * @param onPause\n   */\n  pause(t) {\n  }\n}\nconst zw = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_\".split(\"\"), Ry = 64, SR = {};\nlet o0 = 0, qc = 0, a0;\nfunction h0(r) {\n  let t = \"\";\n  do\n    t = zw[r % Ry] + t, r = Math.floor(r / Ry);\n  while (r > 0);\n  return t;\n}\nfunction Vw() {\n  const r = h0(+/* @__PURE__ */ new Date());\n  return r !== a0 ? (o0 = 0, a0 = r) : r + \".\" + h0(o0++);\n}\nfor (; qc < Ry; qc++)\n  SR[zw[qc]] = qc;\nfunction Xw(r) {\n  let t = \"\";\n  for (let e in r)\n    r.hasOwnProperty(e) && (t.length && (t += \"&\"), t += encodeURIComponent(e) + \"=\" + encodeURIComponent(r[e]));\n  return t;\n}\nfunction PR(r) {\n  let t = {}, e = r.split(\"&\");\n  for (let i = 0, n = e.length; i < n; i++) {\n    let s = e[i].split(\"=\");\n    t[decodeURIComponent(s[0])] = decodeURIComponent(s[1]);\n  }\n  return t;\n}\nlet Ww = !1;\ntry {\n  Ww = typeof XMLHttpRequest < \"u\" && \"withCredentials\" in new XMLHttpRequest();\n} catch {\n}\nconst OR = Ww;\nfunction Yw(r) {\n  const t = r.xdomain;\n  try {\n    if (typeof XMLHttpRequest < \"u\" && (!t || OR))\n      return new XMLHttpRequest();\n  } catch {\n  }\n  if (!t)\n    try {\n      return new Yi[[\"Active\"].concat(\"Object\").join(\"X\")](\"Microsoft.XMLHTTP\");\n    } catch {\n    }\n}\nfunction IR() {\n}\nconst CR = function() {\n  return new Yw({\n    xdomain: !1\n  }).responseType != null;\n}();\nclass MR extends $w {\n  /**\n   * XHR Polling constructor.\n   *\n   * @param {Object} opts\n   * @package\n   */\n  constructor(t) {\n    if (super(t), this.polling = !1, typeof location < \"u\") {\n      const i = location.protocol === \"https:\";\n      let n = location.port;\n      n || (n = i ? \"443\" : \"80\"), this.xd = typeof location < \"u\" && t.hostname !== location.hostname || n !== t.port, this.xs = t.secure !== i;\n    }\n    const e = t && t.forceBase64;\n    this.supportsBinary = CR && !e;\n  }\n  get name() {\n    return \"polling\";\n  }\n  /**\n   * Opens the socket (triggers polling). We write a PING message to determine\n   * when the transport is open.\n   *\n   * @protected\n   */\n  doOpen() {\n    this.poll();\n  }\n  /**\n   * Pauses polling.\n   *\n   * @param {Function} onPause - callback upon buffers are flushed and transport is paused\n   * @package\n   */\n  pause(t) {\n    this.readyState = \"pausing\";\n    const e = () => {\n      this.readyState = \"paused\", t();\n    };\n    if (this.polling || !this.writable) {\n      let i = 0;\n      this.polling && (i++, this.once(\"pollComplete\", function() {\n        --i || e();\n      })), this.writable || (i++, this.once(\"drain\", function() {\n        --i || e();\n      }));\n    } else\n      e();\n  }\n  /**\n   * Starts polling cycle.\n   *\n   * @private\n   */\n  poll() {\n    this.polling = !0, this.doPoll(), this.emitReserved(\"poll\");\n  }\n  /**\n   * Overloads onData to detect payloads.\n   *\n   * @protected\n   */\n  onData(t) {\n    const e = (i) => {\n      if (this.readyState === \"opening\" && i.type === \"open\" && this.onOpen(), i.type === \"close\")\n        return this.onClose({ description: \"transport closed by the server\" }), !1;\n      this.onPacket(i);\n    };\n    yR(t, this.socket.binaryType).forEach(e), this.readyState !== \"closed\" && (this.polling = !1, this.emitReserved(\"pollComplete\"), this.readyState === \"open\" && this.poll());\n  }\n  /**\n   * For polling, send a close packet.\n   *\n   * @protected\n   */\n  doClose() {\n    const t = () => {\n      this.write([{ type: \"close\" }]);\n    };\n    this.readyState === \"open\" ? t() : this.once(\"open\", t);\n  }\n  /**\n   * Writes a packets payload.\n   *\n   * @param {Array} packets - data packets\n   * @protected\n   */\n  write(t) {\n    this.writable = !1, mR(t, (e) => {\n      this.doWrite(e, () => {\n        this.writable = !0, this.emitReserved(\"drain\");\n      });\n    });\n  }\n  /**\n   * Generates uri for connection.\n   *\n   * @private\n   */\n  uri() {\n    let t = this.query || {};\n    const e = this.opts.secure ? \"https\" : \"http\";\n    let i = \"\";\n    this.opts.timestampRequests !== !1 && (t[this.opts.timestampParam] = Vw()), !this.supportsBinary && !t.sid && (t.b64 = 1), this.opts.port && (e === \"https\" && Number(this.opts.port) !== 443 || e === \"http\" && Number(this.opts.port) !== 80) && (i = \":\" + this.opts.port);\n    const n = Xw(t), s = this.opts.hostname.indexOf(\":\") !== -1;\n    return e + \"://\" + (s ? \"[\" + this.opts.hostname + \"]\" : this.opts.hostname) + i + this.opts.path + (n.length ? \"?\" + n : \"\");\n  }\n  /**\n   * Creates a request.\n   *\n   * @param {String} method\n   * @private\n   */\n  request(t = {}) {\n    return Object.assign(t, { xd: this.xd, xs: this.xs }, this.opts), new Jr(this.uri(), t);\n  }\n  /**\n   * Sends data.\n   *\n   * @param {String} data to send.\n   * @param {Function} called upon flush.\n   * @private\n   */\n  doWrite(t, e) {\n    const i = this.request({\n      method: \"POST\",\n      data: t\n    });\n    i.on(\"success\", e), i.on(\"error\", (n, s) => {\n      this.onError(\"xhr post error\", n, s);\n    });\n  }\n  /**\n   * Starts a poll cycle.\n   *\n   * @private\n   */\n  doPoll() {\n    const t = this.request();\n    t.on(\"data\", this.onData.bind(this)), t.on(\"error\", (e, i) => {\n      this.onError(\"xhr poll error\", e, i);\n    }), this.pollXhr = t;\n  }\n}\nclass Jr extends Re {\n  /**\n   * Request constructor\n   *\n   * @param {Object} options\n   * @package\n   */\n  constructor(t, e) {\n    super(), Ev(this, e), this.opts = e, this.method = e.method || \"GET\", this.uri = t, this.async = e.async !== !1, this.data = e.data !== void 0 ? e.data : null, this.create();\n  }\n  /**\n   * Creates the XHR object and sends the request.\n   *\n   * @private\n   */\n  create() {\n    const t = Hw(this.opts, \"agent\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"autoUnref\");\n    t.xdomain = !!this.opts.xd, t.xscheme = !!this.opts.xs;\n    const e = this.xhr = new Yw(t);\n    try {\n      e.open(this.method, this.uri, this.async);\n      try {\n        if (this.opts.extraHeaders) {\n          e.setDisableHeaderCheck && e.setDisableHeaderCheck(!0);\n          for (let i in this.opts.extraHeaders)\n            this.opts.extraHeaders.hasOwnProperty(i) && e.setRequestHeader(i, this.opts.extraHeaders[i]);\n        }\n      } catch {\n      }\n      if (this.method === \"POST\")\n        try {\n          e.setRequestHeader(\"Content-type\", \"text/plain;charset=UTF-8\");\n        } catch {\n        }\n      try {\n        e.setRequestHeader(\"Accept\", \"*/*\");\n      } catch {\n      }\n      \"withCredentials\" in e && (e.withCredentials = this.opts.withCredentials), this.opts.requestTimeout && (e.timeout = this.opts.requestTimeout), e.onreadystatechange = () => {\n        e.readyState === 4 && (e.status === 200 || e.status === 1223 ? this.onLoad() : this.setTimeoutFn(() => {\n          this.onError(typeof e.status == \"number\" ? e.status : 0);\n        }, 0));\n      }, e.send(this.data);\n    } catch (i) {\n      this.setTimeoutFn(() => {\n        this.onError(i);\n      }, 0);\n      return;\n    }\n    typeof document < \"u\" && (this.index = Jr.requestsCount++, Jr.requests[this.index] = this);\n  }\n  /**\n   * Called upon error.\n   *\n   * @private\n   */\n  onError(t) {\n    this.emitReserved(\"error\", t, this.xhr), this.cleanup(!0);\n  }\n  /**\n   * Cleans up house.\n   *\n   * @private\n   */\n  cleanup(t) {\n    if (!(typeof this.xhr > \"u\" || this.xhr === null)) {\n      if (this.xhr.onreadystatechange = IR, t)\n        try {\n          this.xhr.abort();\n        } catch {\n        }\n      typeof document < \"u\" && delete Jr.requests[this.index], this.xhr = null;\n    }\n  }\n  /**\n   * Called upon load.\n   *\n   * @private\n   */\n  onLoad() {\n    const t = this.xhr.responseText;\n    t !== null && (this.emitReserved(\"data\", t), this.emitReserved(\"success\"), this.cleanup());\n  }\n  /**\n   * Aborts the request.\n   *\n   * @package\n   */\n  abort() {\n    this.cleanup();\n  }\n}\nJr.requestsCount = 0;\nJr.requests = {};\nif (typeof document < \"u\") {\n  if (typeof attachEvent == \"function\")\n    attachEvent(\"onunload\", l0);\n  else if (typeof addEventListener == \"function\") {\n    const r = \"onpagehide\" in Yi ? \"pagehide\" : \"unload\";\n    addEventListener(r, l0, !1);\n  }\n}\nfunction l0() {\n  for (let r in Jr.requests)\n    Jr.requests.hasOwnProperty(r) && Jr.requests[r].abort();\n}\nconst qw = (() => typeof Promise == \"function\" && typeof Promise.resolve == \"function\" ? (t) => Promise.resolve().then(t) : (t, e) => e(t, 0))(), Zc = Yi.WebSocket || Yi.MozWebSocket, u0 = !0, RR = \"arraybuffer\", c0 = typeof navigator < \"u\" && typeof navigator.product == \"string\" && navigator.product.toLowerCase() === \"reactnative\";\nclass kR extends $w {\n  /**\n   * WebSocket transport constructor.\n   *\n   * @param {Object} opts - connection options\n   * @protected\n   */\n  constructor(t) {\n    super(t), this.supportsBinary = !t.forceBase64;\n  }\n  get name() {\n    return \"websocket\";\n  }\n  doOpen() {\n    if (!this.check())\n      return;\n    const t = this.uri(), e = this.opts.protocols, i = c0 ? {} : Hw(this.opts, \"agent\", \"perMessageDeflate\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"localAddress\", \"protocolVersion\", \"origin\", \"maxPayload\", \"family\", \"checkServerIdentity\");\n    this.opts.extraHeaders && (i.headers = this.opts.extraHeaders);\n    try {\n      this.ws = u0 && !c0 ? e ? new Zc(t, e) : new Zc(t) : new Zc(t, e, i);\n    } catch (n) {\n      return this.emitReserved(\"error\", n);\n    }\n    this.ws.binaryType = this.socket.binaryType || RR, this.addEventListeners();\n  }\n  /**\n   * Adds event listeners to the socket\n   *\n   * @private\n   */\n  addEventListeners() {\n    this.ws.onopen = () => {\n      this.opts.autoUnref && this.ws._socket.unref(), this.onOpen();\n    }, this.ws.onclose = (t) => this.onClose({\n      description: \"websocket connection closed\",\n      context: t\n    }), this.ws.onmessage = (t) => this.onData(t.data), this.ws.onerror = (t) => this.onError(\"websocket error\", t);\n  }\n  write(t) {\n    this.writable = !1;\n    for (let e = 0; e < t.length; e++) {\n      const i = t[e], n = e === t.length - 1;\n      Bw(i, this.supportsBinary, (s) => {\n        const o = {};\n        try {\n          u0 && this.ws.send(s);\n        } catch {\n        }\n        n && qw(() => {\n          this.writable = !0, this.emitReserved(\"drain\");\n        }, this.setTimeoutFn);\n      });\n    }\n  }\n  doClose() {\n    typeof this.ws < \"u\" && (this.ws.close(), this.ws = null);\n  }\n  /**\n   * Generates uri for connection.\n   *\n   * @private\n   */\n  uri() {\n    let t = this.query || {};\n    const e = this.opts.secure ? \"wss\" : \"ws\";\n    let i = \"\";\n    this.opts.port && (e === \"wss\" && Number(this.opts.port) !== 443 || e === \"ws\" && Number(this.opts.port) !== 80) && (i = \":\" + this.opts.port), this.opts.timestampRequests && (t[this.opts.timestampParam] = Vw()), this.supportsBinary || (t.b64 = 1);\n    const n = Xw(t), s = this.opts.hostname.indexOf(\":\") !== -1;\n    return e + \"://\" + (s ? \"[\" + this.opts.hostname + \"]\" : this.opts.hostname) + i + this.opts.path + (n.length ? \"?\" + n : \"\");\n  }\n  /**\n   * Feature detection for WebSocket.\n   *\n   * @return {Boolean} whether this transport is available.\n   * @private\n   */\n  check() {\n    return !!Zc;\n  }\n}\nconst NR = {\n  websocket: kR,\n  polling: MR\n}, LR = /^(?:(?![^:@\\/?#]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@\\/?#]*)(?::([^:@\\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/, AR = [\n  \"source\",\n  \"protocol\",\n  \"authority\",\n  \"userInfo\",\n  \"user\",\n  \"password\",\n  \"host\",\n  \"port\",\n  \"relative\",\n  \"path\",\n  \"directory\",\n  \"file\",\n  \"query\",\n  \"anchor\"\n];\nfunction ky(r) {\n  const t = r, e = r.indexOf(\"[\"), i = r.indexOf(\"]\");\n  e != -1 && i != -1 && (r = r.substring(0, e) + r.substring(e, i).replace(/:/g, \";\") + r.substring(i, r.length));\n  let n = LR.exec(r || \"\"), s = {}, o = 14;\n  for (; o--; )\n    s[AR[o]] = n[o] || \"\";\n  return e != -1 && i != -1 && (s.source = t, s.host = s.host.substring(1, s.host.length - 1).replace(/;/g, \":\"), s.authority = s.authority.replace(\"[\", \"\").replace(\"]\", \"\").replace(/;/g, \":\"), s.ipv6uri = !0), s.pathNames = DR(s, s.path), s.queryKey = BR(s, s.query), s;\n}\nfunction DR(r, t) {\n  const e = /\\/{2,9}/g, i = t.replace(e, \"/\").split(\"/\");\n  return (t.slice(0, 1) == \"/\" || t.length === 0) && i.splice(0, 1), t.slice(-1) == \"/\" && i.splice(i.length - 1, 1), i;\n}\nfunction BR(r, t) {\n  const e = {};\n  return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function(i, n, s) {\n    n && (e[n] = s);\n  }), e;\n}\nlet Zw = class la extends Re {\n  /**\n   * Socket constructor.\n   *\n   * @param {String|Object} uri - uri or options\n   * @param {Object} opts - options\n   */\n  constructor(t, e = {}) {\n    super(), this.writeBuffer = [], t && typeof t == \"object\" && (e = t, t = null), t ? (t = ky(t), e.hostname = t.host, e.secure = t.protocol === \"https\" || t.protocol === \"wss\", e.port = t.port, t.query && (e.query = t.query)) : e.host && (e.hostname = ky(e.host).host), Ev(this, e), this.secure = e.secure != null ? e.secure : typeof location < \"u\" && location.protocol === \"https:\", e.hostname && !e.port && (e.port = this.secure ? \"443\" : \"80\"), this.hostname = e.hostname || (typeof location < \"u\" ? location.hostname : \"localhost\"), this.port = e.port || (typeof location < \"u\" && location.port ? location.port : this.secure ? \"443\" : \"80\"), this.transports = e.transports || [\"polling\", \"websocket\"], this.writeBuffer = [], this.prevBufferLen = 0, this.opts = Object.assign({\n      path: \"/engine.io\",\n      agent: !1,\n      withCredentials: !1,\n      upgrade: !0,\n      timestampParam: \"t\",\n      rememberUpgrade: !1,\n      addTrailingSlash: !0,\n      rejectUnauthorized: !0,\n      perMessageDeflate: {\n        threshold: 1024\n      },\n      transportOptions: {},\n      closeOnBeforeunload: !0\n    }, e), this.opts.path = this.opts.path.replace(/\\/$/, \"\") + (this.opts.addTrailingSlash ? \"/\" : \"\"), typeof this.opts.query == \"string\" && (this.opts.query = PR(this.opts.query)), this.id = null, this.upgrades = null, this.pingInterval = null, this.pingTimeout = null, this.pingTimeoutTimer = null, typeof addEventListener == \"function\" && (this.opts.closeOnBeforeunload && (this.beforeunloadEventListener = () => {\n      this.transport && (this.transport.removeAllListeners(), this.transport.close());\n    }, addEventListener(\"beforeunload\", this.beforeunloadEventListener, !1)), this.hostname !== \"localhost\" && (this.offlineEventListener = () => {\n      this.onClose(\"transport close\", {\n        description: \"network connection lost\"\n      });\n    }, addEventListener(\"offline\", this.offlineEventListener, !1))), this.open();\n  }\n  /**\n   * Creates transport of the given type.\n   *\n   * @param {String} name - transport name\n   * @return {Transport}\n   * @private\n   */\n  createTransport(t) {\n    const e = Object.assign({}, this.opts.query);\n    e.EIO = jw, e.transport = t, this.id && (e.sid = this.id);\n    const i = Object.assign({}, this.opts.transportOptions[t], this.opts, {\n      query: e,\n      socket: this,\n      hostname: this.hostname,\n      secure: this.secure,\n      port: this.port\n    });\n    return new NR[t](i);\n  }\n  /**\n   * Initializes transport to use and starts probe.\n   *\n   * @private\n   */\n  open() {\n    let t;\n    if (this.opts.rememberUpgrade && la.priorWebsocketSuccess && this.transports.indexOf(\"websocket\") !== -1)\n      t = \"websocket\";\n    else if (this.transports.length === 0) {\n      this.setTimeoutFn(() => {\n        this.emitReserved(\"error\", \"No transports available\");\n      }, 0);\n      return;\n    } else\n      t = this.transports[0];\n    this.readyState = \"opening\";\n    try {\n      t = this.createTransport(t);\n    } catch {\n      this.transports.shift(), this.open();\n      return;\n    }\n    t.open(), this.setTransport(t);\n  }\n  /**\n   * Sets the current transport. Disables the existing one (if any).\n   *\n   * @private\n   */\n  setTransport(t) {\n    this.transport && this.transport.removeAllListeners(), this.transport = t, t.on(\"drain\", this.onDrain.bind(this)).on(\"packet\", this.onPacket.bind(this)).on(\"error\", this.onError.bind(this)).on(\"close\", (e) => this.onClose(\"transport close\", e));\n  }\n  /**\n   * Probes a transport.\n   *\n   * @param {String} name - transport name\n   * @private\n   */\n  probe(t) {\n    let e = this.createTransport(t), i = !1;\n    la.priorWebsocketSuccess = !1;\n    const n = () => {\n      i || (e.send([{ type: \"ping\", data: \"probe\" }]), e.once(\"packet\", (f) => {\n        if (!i)\n          if (f.type === \"pong\" && f.data === \"probe\") {\n            if (this.upgrading = !0, this.emitReserved(\"upgrading\", e), !e)\n              return;\n            la.priorWebsocketSuccess = e.name === \"websocket\", this.transport.pause(() => {\n              i || this.readyState !== \"closed\" && (c(), this.setTransport(e), e.send([{ type: \"upgrade\" }]), this.emitReserved(\"upgrade\", e), e = null, this.upgrading = !1, this.flush());\n            });\n          } else {\n            const d = new Error(\"probe error\");\n            d.transport = e.name, this.emitReserved(\"upgradeError\", d);\n          }\n      }));\n    };\n    function s() {\n      i || (i = !0, c(), e.close(), e = null);\n    }\n    const o = (f) => {\n      const d = new Error(\"probe error: \" + f);\n      d.transport = e.name, s(), this.emitReserved(\"upgradeError\", d);\n    };\n    function a() {\n      o(\"transport closed\");\n    }\n    function l() {\n      o(\"socket closed\");\n    }\n    function u(f) {\n      e && f.name !== e.name && s();\n    }\n    const c = () => {\n      e.removeListener(\"open\", n), e.removeListener(\"error\", o), e.removeListener(\"close\", a), this.off(\"close\", l), this.off(\"upgrading\", u);\n    };\n    e.once(\"open\", n), e.once(\"error\", o), e.once(\"close\", a), this.once(\"close\", l), this.once(\"upgrading\", u), e.open();\n  }\n  /**\n   * Called when connection is deemed open.\n   *\n   * @private\n   */\n  onOpen() {\n    if (this.readyState = \"open\", la.priorWebsocketSuccess = this.transport.name === \"websocket\", this.emitReserved(\"open\"), this.flush(), this.readyState === \"open\" && this.opts.upgrade) {\n      let t = 0;\n      const e = this.upgrades.length;\n      for (; t < e; t++)\n        this.probe(this.upgrades[t]);\n    }\n  }\n  /**\n   * Handles a packet.\n   *\n   * @private\n   */\n  onPacket(t) {\n    if (this.readyState === \"opening\" || this.readyState === \"open\" || this.readyState === \"closing\")\n      switch (this.emitReserved(\"packet\", t), this.emitReserved(\"heartbeat\"), t.type) {\n        case \"open\":\n          this.onHandshake(JSON.parse(t.data));\n          break;\n        case \"ping\":\n          this.resetPingTimeout(), this.sendPacket(\"pong\"), this.emitReserved(\"ping\"), this.emitReserved(\"pong\");\n          break;\n        case \"error\":\n          const e = new Error(\"server error\");\n          e.code = t.data, this.onError(e);\n          break;\n        case \"message\":\n          this.emitReserved(\"data\", t.data), this.emitReserved(\"message\", t.data);\n          break;\n      }\n  }\n  /**\n   * Called upon handshake completion.\n   *\n   * @param {Object} data - handshake obj\n   * @private\n   */\n  onHandshake(t) {\n    this.emitReserved(\"handshake\", t), this.id = t.sid, this.transport.query.sid = t.sid, this.upgrades = this.filterUpgrades(t.upgrades), this.pingInterval = t.pingInterval, this.pingTimeout = t.pingTimeout, this.maxPayload = t.maxPayload, this.onOpen(), this.readyState !== \"closed\" && this.resetPingTimeout();\n  }\n  /**\n   * Sets and resets ping timeout timer based on server pings.\n   *\n   * @private\n   */\n  resetPingTimeout() {\n    this.clearTimeoutFn(this.pingTimeoutTimer), this.pingTimeoutTimer = this.setTimeoutFn(() => {\n      this.onClose(\"ping timeout\");\n    }, this.pingInterval + this.pingTimeout), this.opts.autoUnref && this.pingTimeoutTimer.unref();\n  }\n  /**\n   * Called on `drain` event\n   *\n   * @private\n   */\n  onDrain() {\n    this.writeBuffer.splice(0, this.prevBufferLen), this.prevBufferLen = 0, this.writeBuffer.length === 0 ? this.emitReserved(\"drain\") : this.flush();\n  }\n  /**\n   * Flush write buffers.\n   *\n   * @private\n   */\n  flush() {\n    if (this.readyState !== \"closed\" && this.transport.writable && !this.upgrading && this.writeBuffer.length) {\n      const t = this.getWritablePackets();\n      this.transport.send(t), this.prevBufferLen = t.length, this.emitReserved(\"flush\");\n    }\n  }\n  /**\n   * Ensure the encoded size of the writeBuffer is below the maxPayload value sent by the server (only for HTTP\n   * long-polling)\n   *\n   * @private\n   */\n  getWritablePackets() {\n    if (!(this.maxPayload && this.transport.name === \"polling\" && this.writeBuffer.length > 1))\n      return this.writeBuffer;\n    let e = 1;\n    for (let i = 0; i < this.writeBuffer.length; i++) {\n      const n = this.writeBuffer[i].data;\n      if (n && (e += wR(n)), i > 0 && e > this.maxPayload)\n        return this.writeBuffer.slice(0, i);\n      e += 2;\n    }\n    return this.writeBuffer;\n  }\n  /**\n   * Sends a message.\n   *\n   * @param {String} msg - message.\n   * @param {Object} options.\n   * @param {Function} callback function.\n   * @return {Socket} for chaining.\n   */\n  write(t, e, i) {\n    return this.sendPacket(\"message\", t, e, i), this;\n  }\n  send(t, e, i) {\n    return this.sendPacket(\"message\", t, e, i), this;\n  }\n  /**\n   * Sends a packet.\n   *\n   * @param {String} type: packet type.\n   * @param {String} data.\n   * @param {Object} options.\n   * @param {Function} fn - callback function.\n   * @private\n   */\n  sendPacket(t, e, i, n) {\n    if (typeof e == \"function\" && (n = e, e = void 0), typeof i == \"function\" && (n = i, i = null), this.readyState === \"closing\" || this.readyState === \"closed\")\n      return;\n    i = i || {}, i.compress = i.compress !== !1;\n    const s = {\n      type: t,\n      data: e,\n      options: i\n    };\n    this.emitReserved(\"packetCreate\", s), this.writeBuffer.push(s), n && this.once(\"flush\", n), this.flush();\n  }\n  /**\n   * Closes the connection.\n   */\n  close() {\n    const t = () => {\n      this.onClose(\"forced close\"), this.transport.close();\n    }, e = () => {\n      this.off(\"upgrade\", e), this.off(\"upgradeError\", e), t();\n    }, i = () => {\n      this.once(\"upgrade\", e), this.once(\"upgradeError\", e);\n    };\n    return (this.readyState === \"opening\" || this.readyState === \"open\") && (this.readyState = \"closing\", this.writeBuffer.length ? this.once(\"drain\", () => {\n      this.upgrading ? i() : t();\n    }) : this.upgrading ? i() : t()), this;\n  }\n  /**\n   * Called upon transport error\n   *\n   * @private\n   */\n  onError(t) {\n    la.priorWebsocketSuccess = !1, this.emitReserved(\"error\", t), this.onClose(\"transport error\", t);\n  }\n  /**\n   * Called upon transport close.\n   *\n   * @private\n   */\n  onClose(t, e) {\n    (this.readyState === \"opening\" || this.readyState === \"open\" || this.readyState === \"closing\") && (this.clearTimeoutFn(this.pingTimeoutTimer), this.transport.removeAllListeners(\"close\"), this.transport.close(), this.transport.removeAllListeners(), typeof removeEventListener == \"function\" && (removeEventListener(\"beforeunload\", this.beforeunloadEventListener, !1), removeEventListener(\"offline\", this.offlineEventListener, !1)), this.readyState = \"closed\", this.id = null, this.emitReserved(\"close\", t, e), this.writeBuffer = [], this.prevBufferLen = 0);\n  }\n  /**\n   * Filters upgrades, returning only those matching client transports.\n   *\n   * @param {Array} upgrades - server upgrades\n   * @private\n   */\n  filterUpgrades(t) {\n    const e = [];\n    let i = 0;\n    const n = t.length;\n    for (; i < n; i++)\n      ~this.transports.indexOf(t[i]) && e.push(t[i]);\n    return e;\n  }\n};\nZw.protocol = jw;\nfunction FR(r, t = \"\", e) {\n  let i = r;\n  e = e || typeof location < \"u\" && location, r == null && (r = e.protocol + \"//\" + e.host), typeof r == \"string\" && (r.charAt(0) === \"/\" && (r.charAt(1) === \"/\" ? r = e.protocol + r : r = e.host + r), /^(https?|wss?):\\/\\//.test(r) || (typeof e < \"u\" ? r = e.protocol + \"//\" + r : r = \"https://\" + r), i = ky(r)), i.port || (/^(http|ws)$/.test(i.protocol) ? i.port = \"80\" : /^(http|ws)s$/.test(i.protocol) && (i.port = \"443\")), i.path = i.path || \"/\";\n  const s = i.host.indexOf(\":\") !== -1 ? \"[\" + i.host + \"]\" : i.host;\n  return i.id = i.protocol + \"://\" + s + \":\" + i.port + t, i.href = i.protocol + \"://\" + s + (e && e.port === i.port ? \"\" : \":\" + i.port), i;\n}\nconst UR = typeof ArrayBuffer == \"function\", GR = (r) => typeof ArrayBuffer.isView == \"function\" ? ArrayBuffer.isView(r) : r.buffer instanceof ArrayBuffer, Kw = Object.prototype.toString, jR = typeof Blob == \"function\" || typeof Blob < \"u\" && Kw.call(Blob) === \"[object BlobConstructor]\", HR = typeof File == \"function\" || typeof File < \"u\" && Kw.call(File) === \"[object FileConstructor]\";\nfunction O_(r) {\n  return UR && (r instanceof ArrayBuffer || GR(r)) || jR && r instanceof Blob || HR && r instanceof File;\n}\nfunction Tf(r, t) {\n  if (!r || typeof r != \"object\")\n    return !1;\n  if (Array.isArray(r)) {\n    for (let e = 0, i = r.length; e < i; e++)\n      if (Tf(r[e]))\n        return !0;\n    return !1;\n  }\n  if (O_(r))\n    return !0;\n  if (r.toJSON && typeof r.toJSON == \"function\" && arguments.length === 1)\n    return Tf(r.toJSON(), !0);\n  for (const e in r)\n    if (Object.prototype.hasOwnProperty.call(r, e) && Tf(r[e]))\n      return !0;\n  return !1;\n}\nfunction $R(r) {\n  const t = [], e = r.data, i = r;\n  return i.data = Ny(e, t), i.attachments = t.length, { packet: i, buffers: t };\n}\nfunction Ny(r, t) {\n  if (!r)\n    return r;\n  if (O_(r)) {\n    const e = { _placeholder: !0, num: t.length };\n    return t.push(r), e;\n  } else if (Array.isArray(r)) {\n    const e = new Array(r.length);\n    for (let i = 0; i < r.length; i++)\n      e[i] = Ny(r[i], t);\n    return e;\n  } else if (typeof r == \"object\" && !(r instanceof Date)) {\n    const e = {};\n    for (const i in r)\n      Object.prototype.hasOwnProperty.call(r, i) && (e[i] = Ny(r[i], t));\n    return e;\n  }\n  return r;\n}\nfunction zR(r, t) {\n  return r.data = Ly(r.data, t), delete r.attachments, r;\n}\nfunction Ly(r, t) {\n  if (!r)\n    return r;\n  if (r && r._placeholder === !0) {\n    if (typeof r.num == \"number\" && r.num >= 0 && r.num < t.length)\n      return t[r.num];\n    throw new Error(\"illegal attachments\");\n  } else if (Array.isArray(r))\n    for (let e = 0; e < r.length; e++)\n      r[e] = Ly(r[e], t);\n  else if (typeof r == \"object\")\n    for (const e in r)\n      Object.prototype.hasOwnProperty.call(r, e) && (r[e] = Ly(r[e], t));\n  return r;\n}\nconst VR = 5;\nvar Dt;\n(function(r) {\n  r[r.CONNECT = 0] = \"CONNECT\", r[r.DISCONNECT = 1] = \"DISCONNECT\", r[r.EVENT = 2] = \"EVENT\", r[r.ACK = 3] = \"ACK\", r[r.CONNECT_ERROR = 4] = \"CONNECT_ERROR\", r[r.BINARY_EVENT = 5] = \"BINARY_EVENT\", r[r.BINARY_ACK = 6] = \"BINARY_ACK\";\n})(Dt || (Dt = {}));\nclass XR {\n  /**\n   * Encoder constructor\n   *\n   * @param {function} replacer - custom replacer to pass down to JSON.parse\n   */\n  constructor(t) {\n    this.replacer = t;\n  }\n  /**\n   * Encode a packet as a single string if non-binary, or as a\n   * buffer sequence, depending on packet type.\n   *\n   * @param {Object} obj - packet object\n   */\n  encode(t) {\n    return (t.type === Dt.EVENT || t.type === Dt.ACK) && Tf(t) ? this.encodeAsBinary({\n      type: t.type === Dt.EVENT ? Dt.BINARY_EVENT : Dt.BINARY_ACK,\n      nsp: t.nsp,\n      data: t.data,\n      id: t.id\n    }) : [this.encodeAsString(t)];\n  }\n  /**\n   * Encode packet as string.\n   */\n  encodeAsString(t) {\n    let e = \"\" + t.type;\n    return (t.type === Dt.BINARY_EVENT || t.type === Dt.BINARY_ACK) && (e += t.attachments + \"-\"), t.nsp && t.nsp !== \"/\" && (e += t.nsp + \",\"), t.id != null && (e += t.id), t.data != null && (e += JSON.stringify(t.data, this.replacer)), e;\n  }\n  /**\n   * Encode packet as 'buffer sequence' by removing blobs, and\n   * deconstructing packet into object with placeholders and\n   * a list of buffers.\n   */\n  encodeAsBinary(t) {\n    const e = $R(t), i = this.encodeAsString(e.packet), n = e.buffers;\n    return n.unshift(i), n;\n  }\n}\nclass I_ extends Re {\n  /**\n   * Decoder constructor\n   *\n   * @param {function} reviver - custom reviver to pass down to JSON.stringify\n   */\n  constructor(t) {\n    super(), this.reviver = t;\n  }\n  /**\n   * Decodes an encoded packet string into packet JSON.\n   *\n   * @param {String} obj - encoded packet\n   */\n  add(t) {\n    let e;\n    if (typeof t == \"string\") {\n      if (this.reconstructor)\n        throw new Error(\"got plaintext data when reconstructing a packet\");\n      e = this.decodeString(t);\n      const i = e.type === Dt.BINARY_EVENT;\n      i || e.type === Dt.BINARY_ACK ? (e.type = i ? Dt.EVENT : Dt.ACK, this.reconstructor = new WR(e), e.attachments === 0 && super.emitReserved(\"decoded\", e)) : super.emitReserved(\"decoded\", e);\n    } else if (O_(t) || t.base64)\n      if (this.reconstructor)\n        e = this.reconstructor.takeBinaryData(t), e && (this.reconstructor = null, super.emitReserved(\"decoded\", e));\n      else\n        throw new Error(\"got binary data when not reconstructing a packet\");\n    else\n      throw new Error(\"Unknown type: \" + t);\n  }\n  /**\n   * Decode a packet String (JSON data)\n   *\n   * @param {String} str\n   * @return {Object} packet\n   */\n  decodeString(t) {\n    let e = 0;\n    const i = {\n      type: Number(t.charAt(0))\n    };\n    if (Dt[i.type] === void 0)\n      throw new Error(\"unknown packet type \" + i.type);\n    if (i.type === Dt.BINARY_EVENT || i.type === Dt.BINARY_ACK) {\n      const s = e + 1;\n      for (; t.charAt(++e) !== \"-\" && e != t.length; )\n        ;\n      const o = t.substring(s, e);\n      if (o != Number(o) || t.charAt(e) !== \"-\")\n        throw new Error(\"Illegal attachments\");\n      i.attachments = Number(o);\n    }\n    if (t.charAt(e + 1) === \"/\") {\n      const s = e + 1;\n      for (; ++e && !(t.charAt(e) === \",\" || e === t.length); )\n        ;\n      i.nsp = t.substring(s, e);\n    } else\n      i.nsp = \"/\";\n    const n = t.charAt(e + 1);\n    if (n !== \"\" && Number(n) == n) {\n      const s = e + 1;\n      for (; ++e; ) {\n        const o = t.charAt(e);\n        if (o == null || Number(o) != o) {\n          --e;\n          break;\n        }\n        if (e === t.length)\n          break;\n      }\n      i.id = Number(t.substring(s, e + 1));\n    }\n    if (t.charAt(++e)) {\n      const s = this.tryParse(t.substr(e));\n      if (I_.isPayloadValid(i.type, s))\n        i.data = s;\n      else\n        throw new Error(\"invalid payload\");\n    }\n    return i;\n  }\n  tryParse(t) {\n    try {\n      return JSON.parse(t, this.reviver);\n    } catch {\n      return !1;\n    }\n  }\n  static isPayloadValid(t, e) {\n    switch (t) {\n      case Dt.CONNECT:\n        return typeof e == \"object\";\n      case Dt.DISCONNECT:\n        return e === void 0;\n      case Dt.CONNECT_ERROR:\n        return typeof e == \"string\" || typeof e == \"object\";\n      case Dt.EVENT:\n      case Dt.BINARY_EVENT:\n        return Array.isArray(e) && e.length > 0;\n      case Dt.ACK:\n      case Dt.BINARY_ACK:\n        return Array.isArray(e);\n    }\n  }\n  /**\n   * Deallocates a parser's resources\n   */\n  destroy() {\n    this.reconstructor && (this.reconstructor.finishedReconstruction(), this.reconstructor = null);\n  }\n}\nclass WR {\n  constructor(t) {\n    this.packet = t, this.buffers = [], this.reconPack = t;\n  }\n  /**\n   * Method to be called when binary data received from connection\n   * after a BINARY_EVENT packet.\n   *\n   * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n   * @return {null | Object} returns null if more binary data is expected or\n   *   a reconstructed packet object if all buffers have been received.\n   */\n  takeBinaryData(t) {\n    if (this.buffers.push(t), this.buffers.length === this.reconPack.attachments) {\n      const e = zR(this.reconPack, this.buffers);\n      return this.finishedReconstruction(), e;\n    }\n    return null;\n  }\n  /**\n   * Cleans up binary packet reconstruction variables.\n   */\n  finishedReconstruction() {\n    this.reconPack = null, this.buffers = [];\n  }\n}\nconst YR = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  Decoder: I_,\n  Encoder: XR,\n  get PacketType() {\n    return Dt;\n  },\n  protocol: VR\n}, Symbol.toStringTag, { value: \"Module\" }));\nfunction yr(r, t, e) {\n  return r.on(t, e), function() {\n    r.off(t, e);\n  };\n}\nconst qR = Object.freeze({\n  connect: 1,\n  connect_error: 1,\n  disconnect: 1,\n  disconnecting: 1,\n  // EventEmitter reserved events: https://nodejs.org/api/events.html#events_event_newlistener\n  newListener: 1,\n  removeListener: 1\n});\nclass Jw extends Re {\n  /**\n   * `Socket` constructor.\n   */\n  constructor(t, e, i) {\n    super(), this.connected = !1, this.recovered = !1, this.receiveBuffer = [], this.sendBuffer = [], this._queue = [], this._queueSeq = 0, this.ids = 0, this.acks = {}, this.flags = {}, this.io = t, this.nsp = e, i && i.auth && (this.auth = i.auth), this._opts = Object.assign({}, i), this.io._autoConnect && this.open();\n  }\n  /**\n   * Whether the socket is currently disconnected\n   *\n   * @example\n   * const socket = io();\n   *\n   * socket.on(\"connect\", () => {\n   *   console.log(socket.disconnected); // false\n   * });\n   *\n   * socket.on(\"disconnect\", () => {\n   *   console.log(socket.disconnected); // true\n   * });\n   */\n  get disconnected() {\n    return !this.connected;\n  }\n  /**\n   * Subscribe to open, close and packet events\n   *\n   * @private\n   */\n  subEvents() {\n    if (this.subs)\n      return;\n    const t = this.io;\n    this.subs = [\n      yr(t, \"open\", this.onopen.bind(this)),\n      yr(t, \"packet\", this.onpacket.bind(this)),\n      yr(t, \"error\", this.onerror.bind(this)),\n      yr(t, \"close\", this.onclose.bind(this))\n    ];\n  }\n  /**\n   * Whether the Socket will try to reconnect when its Manager connects or reconnects.\n   *\n   * @example\n   * const socket = io();\n   *\n   * console.log(socket.active); // true\n   *\n   * socket.on(\"disconnect\", (reason) => {\n   *   if (reason === \"io server disconnect\") {\n   *     // the disconnection was initiated by the server, you need to manually reconnect\n   *     console.log(socket.active); // false\n   *   }\n   *   // else the socket will automatically try to reconnect\n   *   console.log(socket.active); // true\n   * });\n   */\n  get active() {\n    return !!this.subs;\n  }\n  /**\n   * \"Opens\" the socket.\n   *\n   * @example\n   * const socket = io({\n   *   autoConnect: false\n   * });\n   *\n   * socket.connect();\n   */\n  connect() {\n    return this.connected ? this : (this.subEvents(), this.io._reconnecting || this.io.open(), this.io._readyState === \"open\" && this.onopen(), this);\n  }\n  /**\n   * Alias for {@link connect()}.\n   */\n  open() {\n    return this.connect();\n  }\n  /**\n   * Sends a `message` event.\n   *\n   * This method mimics the WebSocket.send() method.\n   *\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/WebSocket/send\n   *\n   * @example\n   * socket.send(\"hello\");\n   *\n   * // this is equivalent to\n   * socket.emit(\"message\", \"hello\");\n   *\n   * @return self\n   */\n  send(...t) {\n    return t.unshift(\"message\"), this.emit.apply(this, t), this;\n  }\n  /**\n   * Override `emit`.\n   * If the event is in `events`, it's emitted normally.\n   *\n   * @example\n   * socket.emit(\"hello\", \"world\");\n   *\n   * // all serializable datastructures are supported (no need to call JSON.stringify)\n   * socket.emit(\"hello\", 1, \"2\", { 3: [\"4\"], 5: Uint8Array.from([6]) });\n   *\n   * // with an acknowledgement from the server\n   * socket.emit(\"hello\", \"world\", (val) => {\n   *   // ...\n   * });\n   *\n   * @return self\n   */\n  emit(t, ...e) {\n    if (qR.hasOwnProperty(t))\n      throw new Error('\"' + t.toString() + '\" is a reserved event name');\n    if (e.unshift(t), this._opts.retries && !this.flags.fromQueue && !this.flags.volatile)\n      return this._addToQueue(e), this;\n    const i = {\n      type: Dt.EVENT,\n      data: e\n    };\n    if (i.options = {}, i.options.compress = this.flags.compress !== !1, typeof e[e.length - 1] == \"function\") {\n      const o = this.ids++, a = e.pop();\n      this._registerAckCallback(o, a), i.id = o;\n    }\n    const n = this.io.engine && this.io.engine.transport && this.io.engine.transport.writable;\n    return this.flags.volatile && (!n || !this.connected) || (this.connected ? (this.notifyOutgoingListeners(i), this.packet(i)) : this.sendBuffer.push(i)), this.flags = {}, this;\n  }\n  /**\n   * @private\n   */\n  _registerAckCallback(t, e) {\n    var i;\n    const n = (i = this.flags.timeout) !== null && i !== void 0 ? i : this._opts.ackTimeout;\n    if (n === void 0) {\n      this.acks[t] = e;\n      return;\n    }\n    const s = this.io.setTimeoutFn(() => {\n      delete this.acks[t];\n      for (let o = 0; o < this.sendBuffer.length; o++)\n        this.sendBuffer[o].id === t && this.sendBuffer.splice(o, 1);\n      e.call(this, new Error(\"operation has timed out\"));\n    }, n);\n    this.acks[t] = (...o) => {\n      this.io.clearTimeoutFn(s), e.apply(this, [null, ...o]);\n    };\n  }\n  /**\n   * Emits an event and waits for an acknowledgement\n   *\n   * @example\n   * // without timeout\n   * const response = await socket.emitWithAck(\"hello\", \"world\");\n   *\n   * // with a specific timeout\n   * try {\n   *   const response = await socket.timeout(1000).emitWithAck(\"hello\", \"world\");\n   * } catch (err) {\n   *   // the server did not acknowledge the event in the given delay\n   * }\n   *\n   * @return a Promise that will be fulfilled when the server acknowledges the event\n   */\n  emitWithAck(t, ...e) {\n    const i = this.flags.timeout !== void 0 || this._opts.ackTimeout !== void 0;\n    return new Promise((n, s) => {\n      e.push((o, a) => i ? o ? s(o) : n(a) : n(o)), this.emit(t, ...e);\n    });\n  }\n  /**\n   * Add the packet to the queue.\n   * @param args\n   * @private\n   */\n  _addToQueue(t) {\n    let e;\n    typeof t[t.length - 1] == \"function\" && (e = t.pop());\n    const i = {\n      id: this._queueSeq++,\n      tryCount: 0,\n      pending: !1,\n      args: t,\n      flags: Object.assign({ fromQueue: !0 }, this.flags)\n    };\n    t.push((n, ...s) => i !== this._queue[0] ? void 0 : (n !== null ? i.tryCount > this._opts.retries && (this._queue.shift(), e && e(n)) : (this._queue.shift(), e && e(null, ...s)), i.pending = !1, this._drainQueue())), this._queue.push(i), this._drainQueue();\n  }\n  /**\n   * Send the first packet of the queue, and wait for an acknowledgement from the server.\n   * @param force - whether to resend a packet that has not been acknowledged yet\n   *\n   * @private\n   */\n  _drainQueue(t = !1) {\n    if (!this.connected || this._queue.length === 0)\n      return;\n    const e = this._queue[0];\n    e.pending && !t || (e.pending = !0, e.tryCount++, this.flags = e.flags, this.emit.apply(this, e.args));\n  }\n  /**\n   * Sends a packet.\n   *\n   * @param packet\n   * @private\n   */\n  packet(t) {\n    t.nsp = this.nsp, this.io._packet(t);\n  }\n  /**\n   * Called upon engine `open`.\n   *\n   * @private\n   */\n  onopen() {\n    typeof this.auth == \"function\" ? this.auth((t) => {\n      this._sendConnectPacket(t);\n    }) : this._sendConnectPacket(this.auth);\n  }\n  /**\n   * Sends a CONNECT packet to initiate the Socket.IO session.\n   *\n   * @param data\n   * @private\n   */\n  _sendConnectPacket(t) {\n    this.packet({\n      type: Dt.CONNECT,\n      data: this._pid ? Object.assign({ pid: this._pid, offset: this._lastOffset }, t) : t\n    });\n  }\n  /**\n   * Called upon engine or manager `error`.\n   *\n   * @param err\n   * @private\n   */\n  onerror(t) {\n    this.connected || this.emitReserved(\"connect_error\", t);\n  }\n  /**\n   * Called upon engine `close`.\n   *\n   * @param reason\n   * @param description\n   * @private\n   */\n  onclose(t, e) {\n    this.connected = !1, delete this.id, this.emitReserved(\"disconnect\", t, e);\n  }\n  /**\n   * Called with socket packet.\n   *\n   * @param packet\n   * @private\n   */\n  onpacket(t) {\n    if (t.nsp === this.nsp)\n      switch (t.type) {\n        case Dt.CONNECT:\n          t.data && t.data.sid ? this.onconnect(t.data.sid, t.data.pid) : this.emitReserved(\"connect_error\", new Error(\"It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)\"));\n          break;\n        case Dt.EVENT:\n        case Dt.BINARY_EVENT:\n          this.onevent(t);\n          break;\n        case Dt.ACK:\n        case Dt.BINARY_ACK:\n          this.onack(t);\n          break;\n        case Dt.DISCONNECT:\n          this.ondisconnect();\n          break;\n        case Dt.CONNECT_ERROR:\n          this.destroy();\n          const i = new Error(t.data.message);\n          i.data = t.data.data, this.emitReserved(\"connect_error\", i);\n          break;\n      }\n  }\n  /**\n   * Called upon a server event.\n   *\n   * @param packet\n   * @private\n   */\n  onevent(t) {\n    const e = t.data || [];\n    t.id != null && e.push(this.ack(t.id)), this.connected ? this.emitEvent(e) : this.receiveBuffer.push(Object.freeze(e));\n  }\n  emitEvent(t) {\n    if (this._anyListeners && this._anyListeners.length) {\n      const e = this._anyListeners.slice();\n      for (const i of e)\n        i.apply(this, t);\n    }\n    super.emit.apply(this, t), this._pid && t.length && typeof t[t.length - 1] == \"string\" && (this._lastOffset = t[t.length - 1]);\n  }\n  /**\n   * Produces an ack callback to emit with an event.\n   *\n   * @private\n   */\n  ack(t) {\n    const e = this;\n    let i = !1;\n    return function(...n) {\n      i || (i = !0, e.packet({\n        type: Dt.ACK,\n        id: t,\n        data: n\n      }));\n    };\n  }\n  /**\n   * Called upon a server acknowlegement.\n   *\n   * @param packet\n   * @private\n   */\n  onack(t) {\n    const e = this.acks[t.id];\n    typeof e == \"function\" && (e.apply(this, t.data), delete this.acks[t.id]);\n  }\n  /**\n   * Called upon server connect.\n   *\n   * @private\n   */\n  onconnect(t, e) {\n    this.id = t, this.recovered = e && this._pid === e, this._pid = e, this.connected = !0, this.emitBuffered(), this.emitReserved(\"connect\"), this._drainQueue(!0);\n  }\n  /**\n   * Emit buffered events (received and emitted).\n   *\n   * @private\n   */\n  emitBuffered() {\n    this.receiveBuffer.forEach((t) => this.emitEvent(t)), this.receiveBuffer = [], this.sendBuffer.forEach((t) => {\n      this.notifyOutgoingListeners(t), this.packet(t);\n    }), this.sendBuffer = [];\n  }\n  /**\n   * Called upon server disconnect.\n   *\n   * @private\n   */\n  ondisconnect() {\n    this.destroy(), this.onclose(\"io server disconnect\");\n  }\n  /**\n   * Called upon forced client/server side disconnections,\n   * this method ensures the manager stops tracking us and\n   * that reconnections don't get triggered for this.\n   *\n   * @private\n   */\n  destroy() {\n    this.subs && (this.subs.forEach((t) => t()), this.subs = void 0), this.io._destroy(this);\n  }\n  /**\n   * Disconnects the socket manually. In that case, the socket will not try to reconnect.\n   *\n   * If this is the last active Socket instance of the {@link Manager}, the low-level connection will be closed.\n   *\n   * @example\n   * const socket = io();\n   *\n   * socket.on(\"disconnect\", (reason) => {\n   *   // console.log(reason); prints \"io client disconnect\"\n   * });\n   *\n   * socket.disconnect();\n   *\n   * @return self\n   */\n  disconnect() {\n    return this.connected && this.packet({ type: Dt.DISCONNECT }), this.destroy(), this.connected && this.onclose(\"io client disconnect\"), this;\n  }\n  /**\n   * Alias for {@link disconnect()}.\n   *\n   * @return self\n   */\n  close() {\n    return this.disconnect();\n  }\n  /**\n   * Sets the compress flag.\n   *\n   * @example\n   * socket.compress(false).emit(\"hello\");\n   *\n   * @param compress - if `true`, compresses the sending data\n   * @return self\n   */\n  compress(t) {\n    return this.flags.compress = t, this;\n  }\n  /**\n   * Sets a modifier for a subsequent event emission that the event message will be dropped when this socket is not\n   * ready to send messages.\n   *\n   * @example\n   * socket.volatile.emit(\"hello\"); // the server may or may not receive it\n   *\n   * @returns self\n   */\n  get volatile() {\n    return this.flags.volatile = !0, this;\n  }\n  /**\n   * Sets a modifier for a subsequent event emission that the callback will be called with an error when the\n   * given number of milliseconds have elapsed without an acknowledgement from the server:\n   *\n   * @example\n   * socket.timeout(5000).emit(\"my-event\", (err) => {\n   *   if (err) {\n   *     // the server did not acknowledge the event in the given delay\n   *   }\n   * });\n   *\n   * @returns self\n   */\n  timeout(t) {\n    return this.flags.timeout = t, this;\n  }\n  /**\n   * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n   * callback.\n   *\n   * @example\n   * socket.onAny((event, ...args) => {\n   *   console.log(`got ${event}`);\n   * });\n   *\n   * @param listener\n   */\n  onAny(t) {\n    return this._anyListeners = this._anyListeners || [], this._anyListeners.push(t), this;\n  }\n  /**\n   * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n   * callback. The listener is added to the beginning of the listeners array.\n   *\n   * @example\n   * socket.prependAny((event, ...args) => {\n   *   console.log(`got event ${event}`);\n   * });\n   *\n   * @param listener\n   */\n  prependAny(t) {\n    return this._anyListeners = this._anyListeners || [], this._anyListeners.unshift(t), this;\n  }\n  /**\n   * Removes the listener that will be fired when any event is emitted.\n   *\n   * @example\n   * const catchAllListener = (event, ...args) => {\n   *   console.log(`got event ${event}`);\n   * }\n   *\n   * socket.onAny(catchAllListener);\n   *\n   * // remove a specific listener\n   * socket.offAny(catchAllListener);\n   *\n   * // or remove all listeners\n   * socket.offAny();\n   *\n   * @param listener\n   */\n  offAny(t) {\n    if (!this._anyListeners)\n      return this;\n    if (t) {\n      const e = this._anyListeners;\n      for (let i = 0; i < e.length; i++)\n        if (t === e[i])\n          return e.splice(i, 1), this;\n    } else\n      this._anyListeners = [];\n    return this;\n  }\n  /**\n   * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n   * e.g. to remove listeners.\n   */\n  listenersAny() {\n    return this._anyListeners || [];\n  }\n  /**\n   * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n   * callback.\n   *\n   * Note: acknowledgements sent to the server are not included.\n   *\n   * @example\n   * socket.onAnyOutgoing((event, ...args) => {\n   *   console.log(`sent event ${event}`);\n   * });\n   *\n   * @param listener\n   */\n  onAnyOutgoing(t) {\n    return this._anyOutgoingListeners = this._anyOutgoingListeners || [], this._anyOutgoingListeners.push(t), this;\n  }\n  /**\n   * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n   * callback. The listener is added to the beginning of the listeners array.\n   *\n   * Note: acknowledgements sent to the server are not included.\n   *\n   * @example\n   * socket.prependAnyOutgoing((event, ...args) => {\n   *   console.log(`sent event ${event}`);\n   * });\n   *\n   * @param listener\n   */\n  prependAnyOutgoing(t) {\n    return this._anyOutgoingListeners = this._anyOutgoingListeners || [], this._anyOutgoingListeners.unshift(t), this;\n  }\n  /**\n   * Removes the listener that will be fired when any event is emitted.\n   *\n   * @example\n   * const catchAllListener = (event, ...args) => {\n   *   console.log(`sent event ${event}`);\n   * }\n   *\n   * socket.onAnyOutgoing(catchAllListener);\n   *\n   * // remove a specific listener\n   * socket.offAnyOutgoing(catchAllListener);\n   *\n   * // or remove all listeners\n   * socket.offAnyOutgoing();\n   *\n   * @param [listener] - the catch-all listener (optional)\n   */\n  offAnyOutgoing(t) {\n    if (!this._anyOutgoingListeners)\n      return this;\n    if (t) {\n      const e = this._anyOutgoingListeners;\n      for (let i = 0; i < e.length; i++)\n        if (t === e[i])\n          return e.splice(i, 1), this;\n    } else\n      this._anyOutgoingListeners = [];\n    return this;\n  }\n  /**\n   * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n   * e.g. to remove listeners.\n   */\n  listenersAnyOutgoing() {\n    return this._anyOutgoingListeners || [];\n  }\n  /**\n   * Notify the listeners for each packet sent\n   *\n   * @param packet\n   *\n   * @private\n   */\n  notifyOutgoingListeners(t) {\n    if (this._anyOutgoingListeners && this._anyOutgoingListeners.length) {\n      const e = this._anyOutgoingListeners.slice();\n      for (const i of e)\n        i.apply(this, t.data);\n    }\n  }\n}\nfunction kh(r) {\n  r = r || {}, this.ms = r.min || 100, this.max = r.max || 1e4, this.factor = r.factor || 2, this.jitter = r.jitter > 0 && r.jitter <= 1 ? r.jitter : 0, this.attempts = 0;\n}\nkh.prototype.duration = function() {\n  var r = this.ms * Math.pow(this.factor, this.attempts++);\n  if (this.jitter) {\n    var t = Math.random(), e = Math.floor(t * this.jitter * r);\n    r = Math.floor(t * 10) & 1 ? r + e : r - e;\n  }\n  return Math.min(r, this.max) | 0;\n};\nkh.prototype.reset = function() {\n  this.attempts = 0;\n};\nkh.prototype.setMin = function(r) {\n  this.ms = r;\n};\nkh.prototype.setMax = function(r) {\n  this.max = r;\n};\nkh.prototype.setJitter = function(r) {\n  this.jitter = r;\n};\nclass Ay extends Re {\n  constructor(t, e) {\n    var i;\n    super(), this.nsps = {}, this.subs = [], t && typeof t == \"object\" && (e = t, t = void 0), e = e || {}, e.path = e.path || \"/socket.io\", this.opts = e, Ev(this, e), this.reconnection(e.reconnection !== !1), this.reconnectionAttempts(e.reconnectionAttempts || 1 / 0), this.reconnectionDelay(e.reconnectionDelay || 1e3), this.reconnectionDelayMax(e.reconnectionDelayMax || 5e3), this.randomizationFactor((i = e.randomizationFactor) !== null && i !== void 0 ? i : 0.5), this.backoff = new kh({\n      min: this.reconnectionDelay(),\n      max: this.reconnectionDelayMax(),\n      jitter: this.randomizationFactor()\n    }), this.timeout(e.timeout == null ? 2e4 : e.timeout), this._readyState = \"closed\", this.uri = t;\n    const n = e.parser || YR;\n    this.encoder = new n.Encoder(), this.decoder = new n.Decoder(), this._autoConnect = e.autoConnect !== !1, this._autoConnect && this.open();\n  }\n  reconnection(t) {\n    return arguments.length ? (this._reconnection = !!t, this) : this._reconnection;\n  }\n  reconnectionAttempts(t) {\n    return t === void 0 ? this._reconnectionAttempts : (this._reconnectionAttempts = t, this);\n  }\n  reconnectionDelay(t) {\n    var e;\n    return t === void 0 ? this._reconnectionDelay : (this._reconnectionDelay = t, (e = this.backoff) === null || e === void 0 || e.setMin(t), this);\n  }\n  randomizationFactor(t) {\n    var e;\n    return t === void 0 ? this._randomizationFactor : (this._randomizationFactor = t, (e = this.backoff) === null || e === void 0 || e.setJitter(t), this);\n  }\n  reconnectionDelayMax(t) {\n    var e;\n    return t === void 0 ? this._reconnectionDelayMax : (this._reconnectionDelayMax = t, (e = this.backoff) === null || e === void 0 || e.setMax(t), this);\n  }\n  timeout(t) {\n    return arguments.length ? (this._timeout = t, this) : this._timeout;\n  }\n  /**\n   * Starts trying to reconnect if reconnection is enabled and we have not\n   * started reconnecting yet\n   *\n   * @private\n   */\n  maybeReconnectOnOpen() {\n    !this._reconnecting && this._reconnection && this.backoff.attempts === 0 && this.reconnect();\n  }\n  /**\n   * Sets the current transport `socket`.\n   *\n   * @param {Function} fn - optional, callback\n   * @return self\n   * @public\n   */\n  open(t) {\n    if (~this._readyState.indexOf(\"open\"))\n      return this;\n    this.engine = new Zw(this.uri, this.opts);\n    const e = this.engine, i = this;\n    this._readyState = \"opening\", this.skipReconnect = !1;\n    const n = yr(e, \"open\", function() {\n      i.onopen(), t && t();\n    }), s = yr(e, \"error\", (o) => {\n      i.cleanup(), i._readyState = \"closed\", this.emitReserved(\"error\", o), t ? t(o) : i.maybeReconnectOnOpen();\n    });\n    if (this._timeout !== !1) {\n      const o = this._timeout;\n      o === 0 && n();\n      const a = this.setTimeoutFn(() => {\n        n(), e.close(), e.emit(\"error\", new Error(\"timeout\"));\n      }, o);\n      this.opts.autoUnref && a.unref(), this.subs.push(function() {\n        clearTimeout(a);\n      });\n    }\n    return this.subs.push(n), this.subs.push(s), this;\n  }\n  /**\n   * Alias for open()\n   *\n   * @return self\n   * @public\n   */\n  connect(t) {\n    return this.open(t);\n  }\n  /**\n   * Called upon transport open.\n   *\n   * @private\n   */\n  onopen() {\n    this.cleanup(), this._readyState = \"open\", this.emitReserved(\"open\");\n    const t = this.engine;\n    this.subs.push(yr(t, \"ping\", this.onping.bind(this)), yr(t, \"data\", this.ondata.bind(this)), yr(t, \"error\", this.onerror.bind(this)), yr(t, \"close\", this.onclose.bind(this)), yr(this.decoder, \"decoded\", this.ondecoded.bind(this)));\n  }\n  /**\n   * Called upon a ping.\n   *\n   * @private\n   */\n  onping() {\n    this.emitReserved(\"ping\");\n  }\n  /**\n   * Called with data.\n   *\n   * @private\n   */\n  ondata(t) {\n    try {\n      this.decoder.add(t);\n    } catch (e) {\n      this.onclose(\"parse error\", e);\n    }\n  }\n  /**\n   * Called when parser fully decodes a packet.\n   *\n   * @private\n   */\n  ondecoded(t) {\n    qw(() => {\n      this.emitReserved(\"packet\", t);\n    }, this.setTimeoutFn);\n  }\n  /**\n   * Called upon socket error.\n   *\n   * @private\n   */\n  onerror(t) {\n    this.emitReserved(\"error\", t);\n  }\n  /**\n   * Creates a new socket for the given `nsp`.\n   *\n   * @return {Socket}\n   * @public\n   */\n  socket(t, e) {\n    let i = this.nsps[t];\n    return i ? this._autoConnect && !i.active && i.connect() : (i = new Jw(this, t, e), this.nsps[t] = i), i;\n  }\n  /**\n   * Called upon a socket close.\n   *\n   * @param socket\n   * @private\n   */\n  _destroy(t) {\n    const e = Object.keys(this.nsps);\n    for (const i of e)\n      if (this.nsps[i].active)\n        return;\n    this._close();\n  }\n  /**\n   * Writes a packet.\n   *\n   * @param packet\n   * @private\n   */\n  _packet(t) {\n    const e = this.encoder.encode(t);\n    for (let i = 0; i < e.length; i++)\n      this.engine.write(e[i], t.options);\n  }\n  /**\n   * Clean up transport subscriptions and packet buffer.\n   *\n   * @private\n   */\n  cleanup() {\n    this.subs.forEach((t) => t()), this.subs.length = 0, this.decoder.destroy();\n  }\n  /**\n   * Close the current socket.\n   *\n   * @private\n   */\n  _close() {\n    this.skipReconnect = !0, this._reconnecting = !1, this.onclose(\"forced close\"), this.engine && this.engine.close();\n  }\n  /**\n   * Alias for close()\n   *\n   * @private\n   */\n  disconnect() {\n    return this._close();\n  }\n  /**\n   * Called upon engine close.\n   *\n   * @private\n   */\n  onclose(t, e) {\n    this.cleanup(), this.backoff.reset(), this._readyState = \"closed\", this.emitReserved(\"close\", t, e), this._reconnection && !this.skipReconnect && this.reconnect();\n  }\n  /**\n   * Attempt a reconnection.\n   *\n   * @private\n   */\n  reconnect() {\n    if (this._reconnecting || this.skipReconnect)\n      return this;\n    const t = this;\n    if (this.backoff.attempts >= this._reconnectionAttempts)\n      this.backoff.reset(), this.emitReserved(\"reconnect_failed\"), this._reconnecting = !1;\n    else {\n      const e = this.backoff.duration();\n      this._reconnecting = !0;\n      const i = this.setTimeoutFn(() => {\n        t.skipReconnect || (this.emitReserved(\"reconnect_attempt\", t.backoff.attempts), !t.skipReconnect && t.open((n) => {\n          n ? (t._reconnecting = !1, t.reconnect(), this.emitReserved(\"reconnect_error\", n)) : t.onreconnect();\n        }));\n      }, e);\n      this.opts.autoUnref && i.unref(), this.subs.push(function() {\n        clearTimeout(i);\n      });\n    }\n  }\n  /**\n   * Called upon successful reconnect.\n   *\n   * @private\n   */\n  onreconnect() {\n    const t = this.backoff.attempts;\n    this._reconnecting = !1, this.backoff.reset(), this.emitReserved(\"reconnect\", t);\n  }\n}\nconst jh = {};\nfunction Sf(r, t) {\n  typeof r == \"object\" && (t = r, r = void 0), t = t || {};\n  const e = FR(r, t.path || \"/socket.io\"), i = e.source, n = e.id, s = e.path, o = jh[n] && s in jh[n].nsps, a = t.forceNew || t[\"force new connection\"] || t.multiplex === !1 || o;\n  let l;\n  return a ? l = new Ay(i, t) : (jh[n] || (jh[n] = new Ay(i, t)), l = jh[n]), e.query && !t.query && (t.query = e.queryKey), l.socket(e.path, t);\n}\nObject.assign(Sf, {\n  Manager: Ay,\n  Socket: Jw,\n  io: Sf,\n  connect: Sf\n});\nvar mr, zr, Vr, Do, Bo, cs, fs, ds, av, hv, _c, yh, lv, _h, Fo, uv, Uo, gh;\nconst cv = class {\n  constructor(t = {}, e) {\n    B(this, \"hFactoryCls\", {});\n    B(this, \"elc\", new Eh());\n    B(this, \"fetch\", (t) => fetch(t));\n    B(this, \"resolution\", 1);\n    B(this, \"cfg\");\n    B(this, \"data\", { sys: {}, mark: {}, kidoku: {} });\n    B(this, \"val\");\n    B(this, \"appPixi\");\n    _(this, mr, 0);\n    _(this, zr, 0);\n    _(this, Vr, 1);\n    _(this, Do, 0);\n    _(this, Bo, 0);\n    _(this, cs, 0);\n    _(this, fs, 0);\n    B(this, \"isFullScr\", !1);\n    B(this, \"extPort\", 3776);\n    _(this, ds, void 0);\n    _(this, av, {\n      auth: (t) => {\n        if (t.t !== this.cfg.oCfg.debuger_token) {\n          this.end();\n          return;\n        }\n        this.toast(\"接続\");\n      },\n      continue: () => this.toast(\"再生\"),\n      disconnect: () => this.toast(\"切断\"),\n      restart: (t) => {\n        this.send2Dbg((t == null ? void 0 : t.ri) ?? \"\", {}), this.end(), this.run();\n      },\n      pause: () => this.toast(\"一時停止\"),\n      stopOnEntry: () => this.toast(\"一時停止\"),\n      stopOnDataBreakpoint: () => this.toast(\"注意\"),\n      stopOnBreakpoint: () => this.toast(\"注意\"),\n      stopOnStep: () => this.toast(\"一歩進む\"),\n      stopOnStepIn: () => this.toast(\"ステップイン\"),\n      stopOnStepOut: () => this.toast(\"ステップアウト\"),\n      stopOnBackstep: () => this.toast(\"一歩戻る\"),\n      _addPath: (t) => this.cfg.addPath(t.fn, t.o)\n    });\n    B(this, \"pathBaseCnvSnPath4Dbg\", \"\");\n    B(this, \"fire\");\n    _(this, _c, []);\n    B(this, \"callHook\", (t, e) => {\n    });\n    B(this, \"send2Dbg\", (t, e) => {\n      var i;\n      (i = h(this, ds)) == null || i.emit(\"data\", t, e);\n    });\n    B(this, \"copyBMFolder\", (t, e) => {\n    });\n    B(this, \"eraseBMFolder\", (t) => {\n    });\n    B(this, \"close\", () => !1);\n    B(this, \"_export\", () => !1);\n    B(this, \"_import\", () => !1);\n    B(this, \"navigate_to\", () => !1);\n    B(this, \"title\", (t) => {\n      const { text: e } = t;\n      if (!e)\n        throw \"[title] textは必須です\";\n      return b(this, yh, e), this.titleSub(h(this, yh) + h(this, _h)), !1;\n    });\n    _(this, yh, \"\");\n    _(this, lv, (t) => {\n      if (!t.key)\n        return this.tglFlscr_sub(), !1;\n      const e = t.key.toLowerCase();\n      return this.elc.add(document, \"keydown\", (i) => {\n        (i.altKey ? i.key === \"Alt\" ? \"\" : \"alt+\" : \"\") + (i.ctrlKey ? i.key === \"Control\" ? \"\" : \"ctrl+\" : \"\") + (i.shiftKey ? i.key === \"Shift\" ? \"\" : \"shift+\" : \"\") + i.key.toLowerCase() === e && (i.stopPropagation(), this.tglFlscr_sub());\n      }, { passive: !0 }), !1;\n    });\n    B(this, \"update_check\", () => !1);\n    B(this, \"window\", () => !1);\n    _(this, _h, \"\");\n    _(this, Fo, (t, e) => ({ ret: e.toString(), ext_num: 0 }));\n    _(this, uv, {\n      1: { ext: \"jpeg\", fnc: (t) => h(this, Uo).call(this, t), mime: \"image/jpeg\" },\n      2: { ext: \"png\", fnc: (t) => h(this, Uo).call(this, t), mime: \"image/png\" },\n      3: { ext: \"svg\", fnc: (t) => h(this, Uo).call(this, t), mime: \"image/svg+xml\" },\n      4: { ext: \"webp\", fnc: (t) => h(this, Uo).call(this, t), mime: \"image/webp\" },\n      10: { ext: \"mp3\", fnc: (t) => t.arrayBuffer(), mime: \"audio/mpeg\" },\n      11: { ext: \"m4a\", fnc: (t) => t.arrayBuffer(), mime: \"audio/aac\" },\n      12: { ext: \"ogg\", fnc: (t) => t.arrayBuffer(), mime: \"audio/ogg\" },\n      13: { ext: \"aac\", fnc: (t) => t.arrayBuffer(), mime: \"audio/aac\" },\n      14: { ext: \"flac\", fnc: (t) => t.arrayBuffer(), mime: \"audio/flac\" },\n      15: { ext: \"wav\", fnc: (t) => t.arrayBuffer(), mime: \"audio/wav\" },\n      20: { ext: \"mp4\", fnc: (t) => h(this, gh).call(this, t), mime: \"video/mp4\" },\n      21: { ext: \"webm\", fnc: (t) => h(this, gh).call(this, t), mime: \"video/webm\" },\n      22: { ext: \"ogv\", fnc: (t) => h(this, gh).call(this, t), mime: \"video/ogv\" }\n    });\n    _(this, Uo, (t) => new Promise((e, i) => {\n      const n = new Image();\n      n.onload = () => e(n), n.onerror = (s) => i(s), n.src = URL.createObjectURL(t);\n    }));\n    _(this, gh, (t) => new Promise((e, i) => {\n      const n = document.createElement(\"video\");\n      this.elc.add(n, \"error\", () => {\n        var s;\n        return i(((s = n == null ? void 0 : n.error) == null ? void 0 : s.message) ?? \"\");\n      }), this.elc.add(n, \"canplay\", () => e(n)), n.src = URL.createObjectURL(t);\n    }));\n    B(this, \"enc\", (t) => t);\n    B(this, \"stk\", () => \"\");\n    B(this, \"hash\", (t) => \"\");\n    B(this, \"isApp\", !1);\n    B(this, \"$path_downloads\", \"\");\n    B(this, \"$path_userdata\", \"\");\n    this.hPlg = t, this.arg = e;\n  }\n  async loaded(t, e) {\n    const i = t.snsys_pre;\n    return delete t.snsys_pre, i == null ? void 0 : i.init({\n      addTag: () => {\n      },\n      addLayCls: () => {\n      },\n      searchPath: () => \"\",\n      getVal: () => ({}),\n      resume: () => {\n      },\n      render: () => {\n      },\n      setDec: (n) => b(this, Fo, n),\n      setEnc: (n) => this.enc = n,\n      getStK: (n) => this.stk = n,\n      getHash: (n) => this.hash = n\n    });\n  }\n  get cur() {\n    return this.arg.cur;\n  }\n  get crypto() {\n    return this.arg.crypto;\n  }\n  destroy() {\n    this.elc.clear();\n  }\n  async loadPath(t, e) {\n    this.cfg = e;\n  }\n  initVal(t, e, i) {\n  }\n  flush() {\n  }\n  async run() {\n  }\n  init(t, e, i, n) {\n    this.val = i, this.appPixi = e;\n    let s = \"\";\n    try {\n      this.val.setSys(this), s = \"sys\", s += Number(this.val.getVal(\"sys:TextLayer.Back.Alpha\", 1)), s = \"kidoku\", this.val.saveKidoku();\n    } catch (o) {\n      console.error(`セーブデータ（${s}）が壊れています。一度クリアする必要があります %o`, o);\n    }\n    return t.close = (o) => this.close(o), t.export = (o) => this._export(o), t.import = (o) => this._import(o), t.navigate_to = (o) => this.navigate_to(o), t.title = (o) => this.title(o), t.toggle_full_screen = (o) => h(this, lv).call(this, o), t.update_check = (o) => this.update_check(o), t.window = (o) => this.window(o), i.setVal_Nochk(\"tmp\", \"const.sn.isApp\", () => this.isApp), i.setVal_Nochk(\"tmp\", \"const.sn.isDbg\", () => A.isDbg), i.setVal_Nochk(\"tmp\", \"const.sn.isPackaged\", () => A.isPackaged), this.val.defTmp(\"const.sn.displayState\", () => this.isFullScr), i.setVal_Nochk(\"sys\", cv.VALNM_CFG_NS, this.cfg.oCfg.save_ns), i.flush(), A.isDbg && this.attach_debug(n), this.hFactoryCls = {}, Object.values(this.hPlg).map((o) => o.init({\n      addTag: (a, l) => {\n        if (t[a])\n          throw `すでに定義済みのタグ[${a}]です`;\n        t[a] = l;\n      },\n      addLayCls: (a, l) => {\n        if (this.hFactoryCls[a])\n          throw `すでに定義済みのレイヤcls【${a}】です`;\n        this.hFactoryCls[a] = l;\n      },\n      searchPath: (a, l = \"\") => this.cfg.searchPath(a, l),\n      getVal: i.getVal,\n      resume: () => n.resume(),\n      render: (a, l, u = !1) => this.appPixi.renderer.render(a, { renderTexture: l, clear: u }),\n      setDec: (a) => b(this, Fo, a),\n      setEnc: (a) => this.enc = a,\n      getStK: (a) => this.stk = a,\n      getHash: (a) => this.hash = a\n    }));\n  }\n  get cvsWidth() {\n    return h(this, mr);\n  }\n  get cvsHeight() {\n    return h(this, zr);\n  }\n  get cvsScale() {\n    return h(this, Vr);\n  }\n  get ofsLeft4elm() {\n    return h(this, Do);\n  }\n  get ofsTop4elm() {\n    return h(this, Bo);\n  }\n  get ofsPadLeft_Dom2PIXI() {\n    return h(this, cs);\n  }\n  get ofsPadTop_Dom2PIXI() {\n    return h(this, fs);\n  }\n  cvsResize() {\n    var l;\n    let t = globalThis.innerWidth, e = globalThis.innerHeight;\n    const i = Ci.cvs, n = i.parentElement !== document.body;\n    if (n) {\n      const u = globalThis.getComputedStyle(i);\n      t = parseFloat(u.width), e = parseFloat(u.height);\n    }\n    if (A.isMobile) {\n      const c = (((l = screen.orientation) == null ? void 0 : l.angle) ?? 0) % 180 === 0;\n      (c && t > e || !c && t < e) && ([t, e] = [e, t]);\n    }\n    const s = i.getBoundingClientRect();\n    if (K(A.hDip, \"expanding\", !0) || n || A.stageW > t || A.stageH > e)\n      if (A.stageW / A.stageH <= t / e ? (b(this, zr, e), b(this, mr, A.stageW / A.stageH * e)) : (b(this, mr, t), b(this, zr, A.stageH / A.stageW * t)), b(this, Vr, h(this, mr) / A.stageW), n)\n        b(this, cs, 0), b(this, fs, 0);\n      else {\n        const u = 1 - h(this, Vr);\n        A.isMobile ? (b(this, cs, (t - h(this, mr)) / 2 * u), b(this, fs, (e - h(this, zr)) / 2 * u)) : (b(this, cs, s.left * u), b(this, fs, s.top * u));\n      }\n    else\n      b(this, mr, A.stageW), b(this, zr, A.stageH), b(this, Vr, 1), b(this, cs, 0), b(this, fs, 0);\n    const o = i.parentElement.style;\n    n || (o.position = \"relative\", o.width = `${h(this, mr)}px`, o.height = `${h(this, zr)}px`);\n    const a = i.style;\n    a.width = o.width, a.height = o.height, n ? (b(this, Do, s.left), b(this, Bo, s.top)) : (b(this, Do, 0), b(this, Bo, 0)), this.isFullScr && (b(this, Do, h(this, Do) + (t - h(this, mr)) / 2), b(this, Bo, h(this, Bo) + (e - h(this, zr)) / 2));\n  }\n  // デバッガ接続\n  attach_debug(t) {\n    this.attach_debug = () => {\n    };\n    const e = document.createElement(\"style\");\n    e.innerHTML = `/* SKYNovel Dbg */\n.sn_BounceInOut { animation: sn_kfBounceInOut linear 1.5s; }\n@keyframes sn_kfBounceInOut{\n0%\t{opacity: 0;\ttransform: scaleX(0.30) scaleY(0.30);}\n10%\t{opacity: 1;\ttransform: scaleX(1.10) scaleY(1.10);}\n20%\t{\t\t\t\ttransform: scaleX(0.95) scaleY(0.95);}\n30%\t{\t\t\t\ttransform: scaleX(1.00) scaleY(1.00);}\n70%\t{opacity: 1;}\n100%{opacity: 0;}\n}\n.sn_BounceIn { animation: sn_kfBounceIn linear 0.3s; }\n@keyframes sn_kfBounceIn{\n0%\t{opacity: 0;\ttransform: scaleX(0.30) scaleY(0.30);}\n50%\t{opacity: 1;\ttransform: scaleX(1.10) scaleY(1.10);}\n100%{\t\t\t\ttransform: scaleX(0.95) scaleY(0.95);}\n}\n.sn_HopIn { animation: sn_kfHopIn linear 0.8s; }\n@keyframes sn_kfHopIn{\n0%\t{transform:\ttranslate(0px,   0px);}\n15% {transform:\ttranslate(0px, -25px);}\n30% {transform:\ttranslate(0px,   0px);}\n45% {transform:\ttranslate(0px, -15px);}\n60% {transform:\ttranslate(0px,   0px);}\n75% {transform:\ttranslate(0px,  -5px);}\n100%{transform:\ttranslate(0px,   0px);}\n}`, document.getElementsByTagName(\"head\")[0].appendChild(e), this.addHook((i, n) => {\n      var s, o;\n      return (o = (s = h(this, av))[i]) == null ? void 0 : o.call(s, n);\n    }), b(this, ds, Sf(`http://localhost:${this.extPort}`)), h(this, ds).on(\"data\", (i, n) => {\n      this.callHook(i, n);\n    }).on(\"disconnect\", () => t.setLoop(!0)), this.callHook = (i, n) => {\n      for (const s of h(this, _c))\n        s(i, n);\n    };\n  }\n  end() {\n    var t;\n    (t = h(this, ds)) == null || t.disconnect(), b(this, ds, void 0);\n  }\n  toast(t) {\n    const e = document.body;\n    e.querySelectorAll(\".sn_BounceIn, .sn_HopIn\").forEach((o) => e.removeChild(o));\n    const i = document.createElement(\"img\"), n = h(cv, hv)[t];\n    i.src = `data:image/svg+xml;base64,${n.dat}`;\n    const s = Math.min(A.stageW, A.stageH) / 4 * h(this, Vr);\n    i.width = i.height = s, i.style.cssText = `position: absolute;\nleft: ${(A.stageW - s) / 2 * h(this, Vr) + s * (n.dx ?? 0)}px;\ntop: ${(A.stageH - s) / 2 * h(this, Vr) + s * (n.dy ?? 0)}px;`, i.classList.add(\"sn_toast\", n.ease ?? \"sn_BounceInOut\"), n.ease || i.addEventListener(\"animationend\", () => e.removeChild(i), { once: !0, passive: !0 }), e.insertBefore(i, Ci.cvs);\n  }\n  setFire(t) {\n    this.fire = t;\n  }\n  addHook(t) {\n    h(this, _c).push(t);\n  }\n  titleSub(t) {\n  }\n  tglFlscr_sub() {\n  }\n  setTitleInfo(t) {\n    b(this, _h, t), this.titleSub(h(this, yh) + h(this, _h));\n  }\n  decStr(t, e) {\n    return h(this, Fo).call(this, t, e).ret;\n  }\n  async dec(t, e) {\n    const { ret: i, ext_num: n } = h(this, Fo).call(this, t, e), s = h(this, uv)[n];\n    return s != null && s.fnc ? await s.fnc(new Blob([i], { type: s.mime })) : i;\n  }\n  get path_downloads() {\n    return this.$path_downloads;\n  }\n  get path_userdata() {\n    return this.$path_userdata;\n  }\n  canCapturePage(t, e) {\n    return !1;\n  }\n  async savePic(t, e) {\n  }\n  async appendFile(t, e, i) {\n  }\n  async ensureFileSync(t) {\n  }\n};\nlet il = cv;\nmr = new WeakMap(), zr = new WeakMap(), Vr = new WeakMap(), Do = new WeakMap(), Bo = new WeakMap(), cs = new WeakMap(), fs = new WeakMap(), ds = new WeakMap(), av = new WeakMap(), hv = new WeakMap(), _c = new WeakMap(), yh = new WeakMap(), lv = new WeakMap(), _h = new WeakMap(), Fo = new WeakMap(), uv = new WeakMap(), Uo = new WeakMap(), gh = new WeakMap(), B(il, \"VALNM_CFG_NS\", \"const.sn.cfg.ns\"), _(il, hv, {\n  // Thanks ICOOON MONO https://icooon-mono.com/ 、 https://vectr.com/ で 640x640化、ImageOptim経由、Base64エンコーダー https://lab.syncer.jp/Tool/Base64-encode/ \n  接続: { dx: -1, dat: \"PHN2ZyBoZWlnaHQ9IjY0MCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQgbWVldCIgdmlld0JveD0iMCAwIDY0MCA2NDAiIHdpZHRoPSI2NDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxkZWZzPjxwYXRoIGlkPSJhIiBkPSJtNjQwIDMyMGMwIDE3Ni43My0xNDMuMjcgMzIwLTMyMCAzMjBzLTMyMC0xNDMuMjctMzIwLTMyMCAxNDMuMjctMzIwIDMyMC0zMjAgMzIwIDE0My4yNyAzMjAgMzIweiIvPjxwYXRoIGlkPSJiIiBkPSJtMCAyOTJ2NTUuODhoMTI3LjEzYzEyLjM3IDQ2IDU0LjEyIDc5Ljg3IDEwNCA3OS44N2g3Ny44N3YtMjE1LjYyYy00Ni43MyAwLTcyLjY4IDAtNzcuODggMC00OS43NCAwLTkxLjYyIDMzLjg3LTEwMy45OSA3OS44Ny0xNi45NSAwLTU5LjMzIDAtMTI3LjEzIDB6Ii8+PHBhdGggaWQ9ImMiIGQ9Im01MTIuODggMjkyYy0xMi4zOC00Ni01NC4xMy03OS44Ny0xMDQtNzkuODctNS4yMSAwLTMxLjIxIDAtNzggMHYyMTUuNzRoNzcuODdjNDkuODggMCA5MS43NS0zMy44NyAxMDQtNzkuODdoMTI3LjI1di01NmMtNzYuMjcgMC0xMTguNjUgMC0xMjcuMTIgMHoiLz48L2RlZnM+PHVzZSBmaWxsPSIjMmUyZTJlIiB4bGluazpocmVmPSIjYSIvPjx1c2UgZmlsbD0ibm9uZSIgeGxpbms6aHJlZj0iI2EiLz48dXNlIGZpbGw9IiMzYWFiZDIiIHhsaW5rOmhyZWY9IiNiIi8+PHVzZSBmaWxsPSJub25lIiB4bGluazpocmVmPSIjYiIvPjx1c2UgZmlsbD0iIzNhYWJkMiIgeGxpbms6aHJlZj0iI2MiLz48dXNlIGZpbGw9Im5vbmUiIHhsaW5rOmhyZWY9IiNjIi8+PC9zdmc+\" },\n  切断: { dat: \"PHN2ZyBoZWlnaHQ9IjY0MCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQgbWVldCIgdmlld0JveD0iMCAwIDY0MCA2NDAiIHdpZHRoPSI2NDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxkZWZzPjxwYXRoIGlkPSJhIiBkPSJtNjQwIDMyMGMwIDE3Ni43My0xNDMuMjcgMzIwLTMyMCAzMjBzLTMyMC0xNDMuMjctMzIwLTMyMCAxNDMuMjctMzIwIDMyMC0zMjAgMzIwIDE0My4yNyAzMjAgMzIweiIvPjxwYXRoIGlkPSJiIiBkPSJtMTkxLjUzIDIyMS4yNGMtNDUuNjggMC04NC4wMSAzMS4wNC05NS4zIDczLjE2LTYuNDEgMC0zOC40OSAwLTk2LjIzIDB2NTEuMjFoOTYuMjNjMTEuMyA0Mi4xMSA0OS42MyA3My4xNiA5NS4zIDczLjE2aDcxLjMzdi00OC4yNGg1My43OHYtMTAxLjA1aC01My43OHYtNDguMjRjLTQyLjggMC02Ni41NyAwLTcxLjMzIDB6Ii8+PHBhdGggaWQ9ImMiIGQ9Im00NDguNDcgMjIxLjIzYy00Ljc2IDAtMjguNTMgMC03MS4zMyAwdjE5Ny41M2g3MS4zM2M0NS42OCAwIDgzLjk5LTMxLjA0IDk1LjI5LTczLjE1aDk2LjI0di01MS4yMWgtOTYuMjRjLTMzLjA4LTQ4Ljc4LTY0Ljg0LTczLjE3LTk1LjI5LTczLjE3eiIvPjwvZGVmcz48dXNlIGZpbGw9IiMyZTJlMmUiIHhsaW5rOmhyZWY9IiNhIi8+PHVzZSBmaWxsPSJub25lIiB4bGluazpocmVmPSIjYSIvPjx1c2UgZmlsbD0iI2RmNTY1NiIgeGxpbms6aHJlZj0iI2IiLz48dXNlIGZpbGw9Im5vbmUiIHhsaW5rOmhyZWY9IiNiIi8+PHVzZSBmaWxsPSIjZGY1NjU2IiB4bGluazpocmVmPSIjYyIvPjx1c2UgZmlsbD0ibm9uZSIgeGxpbms6aHJlZj0iI2MiLz48L3N2Zz4=\" },\n  再生: { dat: \"PHN2ZyBoZWlnaHQ9IjY0MCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQgbWVldCIgdmlld0JveD0iMCAwIDY0MCA2NDAiIHdpZHRoPSI2NDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxkZWZzPjxwYXRoIGlkPSJhIiBkPSJtMCAzMjBjMCAxNzYuNzIgMTQzLjI4IDMyMCAzMjAgMzIwczMyMC0xNDMuMjggMzIwLTMyMC0xNDMuMjgtMzIwLTMyMC0zMjAtMzIwIDE0My4yOC0zMjAgMzIwem0yNTguODMgMTExLjA1Yy0xLjI5Ljc5LTIuOTMuODMtNC4yNi4wNC0xLjI5LS43NC0yLjExLTIuMTItMi4xMS0zLjY3IDAtNy4xNiAwLTQyLjk3IDAtMTA3LjQzczAtMTAwLjI3IDAtMTA3LjQzYzAtMS41My44Mi0yLjkzIDIuMTEtMy42OCAxLjMzLS43NiAyLjk3LS43MiA0LjI2LjA0IDE4IDEwLjc1IDE2MiA5Ni43MSAxODAgMTA3LjQ2IDEuMjkuNzMgMi4wNSAyLjE0IDIuMDUgMy42MSAwIDEuNDktLjc2IDIuODgtMi4wNSAzLjYzLTM2IDIxLjQ5LTE2MiA5Ni42OS0xODAgMTA3LjQzeiIvPjwvZGVmcz48cGF0aCBkPSJtMTU0LjU3IDE3MC4xOWgzNDYuMTV2MzA3LjY5aC0zNDYuMTV6IiBmaWxsPSIjZmZmIi8+PHVzZSBmaWxsPSIjMmUyZTJlIiB4bGluazpocmVmPSIjYSIvPjx1c2UgZmlsbD0ibm9uZSIgeGxpbms6aHJlZj0iI2EiLz48L3N2Zz4=\" },\n  一時停止: { dat: \"PHN2ZyBoZWlnaHQ9IjY0MCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQgbWVldCIgdmlld0JveD0iMCAwIDY0MCA2NDAiIHdpZHRoPSI2NDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxkZWZzPjxwYXRoIGlkPSJhIiBkPSJtMCAzMjBjMCAxNzYuNzIgMTQzLjI4IDMyMCAzMjAgMzIwczMyMC0xNDMuMjggMzIwLTMyMC0xNDMuMjgtMzIwLTMyMC0zMjAtMzIwIDE0My4yOC0zMjAgMzIwem0yMDAgMTAwdi0yMDBoODB2MjAwem0xNjAgMHYtMjAwaDgwdjIwMHoiLz48L2RlZnM+PHBhdGggZD0ibTE0Ny40OSAxODAuNDFoMzUyLjR2MjgyLjY5aC0zNTIuNHoiIGZpbGw9IiNmZmYiLz48dXNlIGZpbGw9IiMyZTJlMmUiIHhsaW5rOmhyZWY9IiNhIi8+PHVzZSBmaWxsPSJub25lIiB4bGluazpocmVmPSIjYSIvPjwvc3ZnPg==\" },\n  注意: { ease: \"sn_HopIn\", dat: \"PHN2ZyBoZWlnaHQ9IjY0MCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQgbWVldCIgdmlld0JveD0iMCAwIDY0MCA2NDAiIHdpZHRoPSI2NDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxkZWZzPjxwYXRoIGlkPSJhIiBkPSJtMzQzLjM0IDI5LjJjLTEwLjM3LTE3Ljk3LTM2LjMxLTE3Ljk3LTQ2LjY5IDAtMjkuMyA1MC43NS0yNjMuNyA0NTYuNzQtMjkzIDUwNy40OS0xMC4zNyAxNy45NyAyLjU5IDQwLjQ0IDIzLjM0IDQwLjQ0aDU4Ni4wMWMyMC43NSAwIDMzLjcyLTIyLjQ2IDIzLjM1LTQwLjQ0LTU4LjYtMTAxLjUtMjYzLjctNDU2Ljc0LTI5My4wMS01MDcuNDl6bS0yMy4zNCA0ODIuODNjLTE0LjUyIDAtMjYuMjktMi43MS0yNi4yOS02LjA2IDAtNC4yMSAwLTM3Ljg2IDAtNDIuMDcgMC0zLjM1IDExLjc3LTYuMDcgMjYuMjktNi4wN3MyNi4yOSAyLjcyIDI2LjI5IDYuMDd2NDIuMDdjLTcuODQgNC4wNC0xNi42MSA2LjA2LTI2LjI5IDYuMDZ6bTIxLjk5LTEwMy44NGMwIDUuNDMtOS44NSA5LjgzLTIxLjk5IDkuODMtMTIuMTUgMC0yMS45OS00LjQtMjEuOTktOS44MyAwLS4xMy4wNy0uMjUuMDgtLjM4LTEuMzctMTcuNTYtMTIuMy0xNTguMDYtMTMuNjctMTc1LjYyIDAtNS40MyAxNS45My05Ljg0IDM1LjU4LTkuODRzMzUuNTggNC40MSAzNS41OCA5Ljg0Yy0uOTEgMTEuNy01LjQ3IDcwLjI1LTEzLjY3IDE3NS42Mi4wNi4xNi4wOC4yOS4wOC4zOHoiLz48L2RlZnM+PHBhdGggZD0ibTI0MS4yOSAxOTEuNDRoMTQ1LjQ5djM1MS42NmgtMTQ1LjQ5eiIgZmlsbD0iI2ZmZiIvPjx1c2UgZmlsbD0iI2QyYmYzYSIgeGxpbms6aHJlZj0iI2EiLz48dXNlIGZpbGw9Im5vbmUiIHhsaW5rOmhyZWY9IiNhIi8+PC9zdmc+\" },\n  一歩進む: { ease: \"sn_BounceIn\", dat: \"PHN2ZyBoZWlnaHQ9IjY0MCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQgbWVldCIgdmlld0JveD0iMCAwIDY0MCA2NDAiIHdpZHRoPSI2NDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxkZWZzPjxwYXRoIGlkPSJhIiBkPSJtMCAzMjBjMCAxNzYuNzIgMTQzLjI4IDMyMCAzMjAgMzIwczMyMC0xNDMuMjggMzIwLTMyMC0xNDMuMjgtMzIwLTMyMC0zMjAtMzIwIDE0My4yOC0zMjAgMzIwem0zNzYuOTMgOTEuOTdjMC01My41MSAwLTgzLjI0IDAtODkuMTktLjE1LjE0LS4yNS4zNC0uNDQuNDUtMTYuMTEgOS42Mi0xNDQuOTUgODYuNTQtMTYxLjA2IDk2LjE1LTEuMTUuNjktMi42Mi43My0zLjgxLjAyLTEuMTUtLjY0LTEuODktMS44OS0xLjg5LTMuMjggMC02LjQxIDAtMzguNDQgMC05Ni4xMSAwLTU3LjY5IDAtODkuNzQgMC05Ni4xNSAwLTEuMzUuNzQtMi42MiAxLjg5LTMuMjkgMS4xOS0uNjggMi42Ni0uNjQgMy44MS4wNCAxNi4xMSA5LjYyIDE0NC45NSA4Ni41NCAxNjEuMDYgOTYuMTYuMTkuMS4yOS4zMS40NC40NSAwLTYuMTMgMC0zNi43NyAwLTkxLjkyaDUzLjMydjE4Ni42N3oiLz48L2RlZnM+PHBhdGggZD0ibTE0Ny40OSAxNTQuMmgzNTIuNHYzMDguOWgtMzUyLjR6IiBmaWxsPSIjZmZmIi8+PHVzZSBmaWxsPSIjMmUyZTJlIiB4bGluazpocmVmPSIjYSIvPjx1c2UgZmlsbD0ibm9uZSIgeGxpbms6aHJlZj0iI2EiLz48L3N2Zz4=\" },\n  一歩戻る: { ease: \"sn_BounceIn\", dat: \"PHN2ZyBoZWlnaHQ9IjY0MCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQgbWVldCIgdmlld0JveD0iMCAwIDY0MCA2NDAiIHdpZHRoPSI2NDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxkZWZzPjxwYXRoIGlkPSJhIiBkPSJtMCAzMjBjMCAxNzYuNzIgMTQzLjI4IDMyMCAzMjAgMzIwczMyMC0xNDMuMjggMzIwLTMyMC0xNDMuMjgtMzIwLTMyMC0zMjAtMzIwIDE0My4yOC0zMjAgMzIwem00MzAuMjcgOTYuMTRjMCAxLjM1LS43NCAyLjYyLTEuODkgMy4yOC0xLjE5LjY5LTIuNjYuNjUtMy44MS0uMDMtMTYuMTEtOS42Mi0xNDQuOTUtODYuNTQtMTYxLjA1LTk2LjE2LS4yLS4xLS4yOS0uMzEtLjQ1LS40NXY5MS45MmgtNTMuMzJ2LTE4Ni42N2g1My4zMnY4OS4xOWMuMTYtLjE0LjI1LS4zNC40NS0uNDUgMTYuMS05LjYyIDE0NC45NC04Ni41NCAxNjEuMDUtOTYuMTYgMS4xNS0uNjggMi42Mi0uNzIgMy44MS0uMDEgMS4xNS42NCAxLjg5IDEuODkgMS44OSAzLjI4djk2LjExeiIvPjwvZGVmcz48cGF0aCBkPSJtMTQ3LjQ5IDE1NC4yaDM1Mi40djMwOC45aC0zNTIuNHoiIGZpbGw9IiNmZmYiLz48dXNlIGZpbGw9IiMyZTJlMmUiIHhsaW5rOmhyZWY9IiNhIi8+PHVzZSBmaWxsPSJub25lIiB4bGluazpocmVmPSIjYSIvPjwvc3ZnPg==\" },\n  ステップイン: { ease: \"sn_BounceIn\", dat: \"PHN2ZyBoZWlnaHQ9IjY0MCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQgbWVldCIgdmlld0JveD0iMCAwIDY0MCA2NDAiIHdpZHRoPSI2NDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxkZWZzPjxwYXRoIGlkPSJhIiBkPSJtMCAzMTkuOTljMCAxNzYuNzQgMTQzLjI3IDMyMC4wMSAzMjAuMDEgMzIwLjAxIDE3Ni43MiAwIDMxOS45OS0xNDMuMjcgMzE5Ljk5LTMyMC4wMSAwLTE3Ni43Mi0xNDMuMjctMzE5Ljk5LTMxOS45OS0zMTkuOTktMTc2Ljc0IDAtMzIwLjAxIDE0My4yNy0zMjAuMDEgMzE5Ljk5em0xNTMuMDUtMjkuNzIgNTUuMTItNTUuMTMgMTExLjg0IDExMS44MiAxMTEuODItMTExLjgyIDU1LjEyIDU1LjEyLTE2Ni45NCAxNjYuOTd6Ii8+PC9kZWZzPjxwYXRoIGQ9Im0xNDcuNDkgMTU0LjJoMzUyLjR2MzA4LjloLTM1Mi40eiIgZmlsbD0iI2ZmZiIvPjx1c2UgZmlsbD0iIzJlMmUyZSIgeGxpbms6aHJlZj0iI2EiLz48dXNlIGZpbGw9Im5vbmUiIHhsaW5rOmhyZWY9IiNhIi8+PC9zdmc+\" },\n  ステップアウト: { ease: \"sn_BounceIn\", dat: \"PHN2ZyBoZWlnaHQ9IjY0MCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQgbWVldCIgdmlld0JveD0iMCAwIDY0MCA2NDAiIHdpZHRoPSI2NDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxkZWZzPjxwYXRoIGlkPSJhIiBkPSJtMCAzMjAuMDFjMCAxNzYuNzIgMTQzLjI3IDMxOS45OSAzMTkuOTkgMzE5Ljk5IDE3Ni43NCAwIDMyMC4wMS0xNDMuMjcgMzIwLjAxLTMxOS45OSAwLTE3Ni43NC0xNDMuMjctMzIwLjAxLTMyMC4wMS0zMjAuMDEtMTc2LjcyIDAtMzE5Ljk5IDE0My4yNy0zMTkuOTkgMzIwLjAxem0zMTkuOTktMjYuOTgtMTExLjgyIDExMS44My01NS4xMi01NS4xMyAxNjYuOTQtMTY2Ljk2IDE2Ni45NiAxNjYuOTYtNTUuMTIgNTUuMTN6Ii8+PC9kZWZzPjxwYXRoIGQ9Im0xNDcuNDkgMTU0LjJoMzUyLjR2MzA4LjloLTM1Mi40eiIgZmlsbD0iI2ZmZiIvPjx1c2UgZmlsbD0iIzJlMmUyZSIgeGxpbms6aHJlZj0iI2EiLz48dXNlIGZpbGw9Im5vbmUiIHhsaW5rOmhyZWY9IiNhIi8+PC9zdmc+\" }\n});\nwindow.Buffer = buffer__WEBPACK_IMPORTED_MODULE_1__.Buffer;\nclass ZR extends il {\n  constructor() {\n    super(...arguments);\n    B(this, \"isApp\", !0);\n  }\n  async loadPath(e, i) {\n    await super.loadPath(e, i);\n    const n = this.arg.cur + \"path.json\", s = await this.readFileSync(n), o = JSON.parse(this.decStr(n, s));\n    for (const [a, l] of Object.entries(o)) {\n      const u = e[a] = l;\n      for (const [c, f] of Object.entries(u))\n        c !== \":cnt\" && (u[c] = this.arg.cur + f);\n    }\n  }\n  init(e, i, n, s) {\n    const o = super.init(e, i, n, s);\n    return document.body.style.backgroundColor = \"#000\", o;\n  }\n  async savePic(e, i) {\n    const n = i.slice(i.indexOf(\",\", 20) + 1);\n    try {\n      this.ensureFileSync(e), await this.writeFileSync(e, buffer__WEBPACK_IMPORTED_MODULE_1__.Buffer.from(n, \"base64\")), A.debugLog && console.log(`画像ファイル ${e} を保存しました`);\n    } catch (s) {\n      throw s;\n    }\n  }\n  async readFileSync(e) {\n    return \"\";\n  }\n  async writeFileSync(e, i, n) {\n  }\n}\nconst Ut = window.to_app;\nvar De, gc, bh, xh, Pf;\nclass tk extends ZR {\n  constructor(e = {}, i = { cur: \"prj/\", crypto: !1, dip: \"\" }) {\n    super(e, i);\n    _(this, xh);\n    _(this, De, {\n      getAppPath: \"\",\n      isPackaged: !1,\n      downloads: \"\",\n      userData: \"\",\n      getVersion: \"\",\n      env: {},\n      platform: \"\",\n      arch: \"\"\n    });\n    B(this, \"readFileSync\", Ut.readFileSync);\n    B(this, \"writeFileSync\", Ut.writeFileSync);\n    B(this, \"appendFile\", Ut.appendFile);\n    B(this, \"ensureFileSync\", Ut.ensureFileSync);\n    B(this, \"$path_userdata\", \"\");\n    B(this, \"$path_downloads\", \"\");\n    _(this, gc, () => Ut.Store({\n      cwd: this.$path_userdata + \"storage\",\n      name: this.arg.crypto ? \"data_\" : \"data\",\n      encryptionKey: this.arg.crypto ? this.stk() : void 0\n    }));\n    _(this, bh, void 0);\n    B(this, \"copyBMFolder\", async (e, i) => {\n      const n = `${this.$path_userdata}storage/${e}/`, s = `${this.$path_userdata}storage/${i}/`;\n      await Ut.existsSync(n) && Ut.copySync(n, s);\n    });\n    B(this, \"eraseBMFolder\", async (e) => {\n      await Ut.removeSync(`${this.$path_userdata}storage/${e}/`);\n    });\n    // アプリの終了\n    B(this, \"close\", () => (Ut.win_close(), !1));\n    // プレイデータをエクスポート\n    B(this, \"_export\", () => (Ut.zip(\n      this.$path_userdata + \"storage/\",\n      this.$path_downloads + (this.crypto ? \"\" : \"no_crypto_\") + this.cfg.getNs() + ul(\"-\", \"_\", \"\") + \".spd\"\n    ), A.debugLog && console.log(\"プレイデータをエクスポートしました\"), this.fire(\"sn:exported\", new Event(\"click\")), !1));\n    // プレイデータをインポート\n    B(this, \"_import\", () => {\n      const e = this.flush;\n      return new Promise((i, n) => {\n        const s = document.createElement(\"input\");\n        s.type = \"file\", s.accept = \".spd, text/plain\", s.onchange = () => {\n          s.files ? i(s.files[0].path) : n();\n        }, s.click();\n      }).then(async (i) => {\n        this.flush = () => {\n        }, Ut.unzip(i, this.$path_userdata + \"storage/\"), await h(this, gc).call(this);\n        const n = await Ut.Store_get();\n        this.data.sys = n.sys, this.data.mark = n.mark, this.data.kidoku = n.kidoku, this.flush = e, this.flush(), this.val.updateData(n), A.debugLog && console.log(\"プレイデータをインポートしました\"), this.fire(\"sn:imported\", new Event(\"click\"));\n      }), !1;\n    });\n    // ＵＲＬを開く\n    B(this, \"navigate_to\", (e) => {\n      const { url: i } = e;\n      if (!i)\n        throw \"[navigate_to] urlは必須です\";\n      return Ut.navigate_to(i), !1;\n    });\n    // 全画面状態切替\n    B(this, \"tglFlscr_sub\", async () => Ut.setSimpleFullScreen(\n      this.isFullScr = !await Ut.isSimpleFullScreen()\n    ));\n    // 更新チェック\n    B(this, \"update_check\", (e) => {\n      const { url: i } = e;\n      if (!i)\n        throw \"[update_check] urlは必須です\";\n      if (i.at(-1) !== \"/\")\n        throw \"[update_check] urlの最後は/です\";\n      return A.debugLog && kt.myTrace(`[update_check] url=${i}`, \"D\"), (async () => {\n        let n = {}, s = \"\", o = \"\";\n        const a = await this.fetch(i + \"_index.json\");\n        if (a.ok)\n          A.debugLog && kt.myTrace(\"[update_check] _index.jsonを取得しました\", \"D\"), n = await a.json(), o = n.version;\n        else {\n          const f = await this.fetch(i + `latest${A.isMac ? \"-mac\" : \"\"}.yml`);\n          if (!f.ok) {\n            A.debugLog && kt.myTrace(\"[update_check] [update_check] .ymlが見つかりません\");\n            return;\n          }\n          A.debugLog && kt.myTrace(\"[update_check] .ymlを取得しました\", \"D\"), s = await f.text();\n          const d = /version: (.+)/.exec(s);\n          if (!d)\n            throw \"[update_check] .yml に version が見つかりません\";\n          [, o] = d;\n        }\n        const l = h(this, De).getVersion;\n        if (A.debugLog && kt.myTrace(`[update_check] 現在ver=${l} 新規ver=${o}`, \"D\"), o === l) {\n          A.debugLog && kt.myTrace(\"[update_check] バージョン更新なし\", \"I\");\n          return;\n        }\n        const u = {\n          title: \"アプリ更新\",\n          icon: h(this, De).getAppPath + \"/app/icon.png\",\n          buttons: [\"OK\", \"Cancel\"],\n          defaultId: 0,\n          cancelId: 1,\n          message: `アプリ【${this.cfg.oCfg.book.title}】に更新があります。\nダウンロードしますか？`,\n          detail: `現在 NOW ver ${l}\n新規 NEW ver ${o}`\n        }, { response: c } = await Ut.showMessageBox(u);\n        if (!(c > 0)) {\n          if (A.debugLog && kt.myTrace(\"[update_check] アプリダウンロード開始\", \"D\"), a.ok) {\n            const f = h(this, De).platform + \"_\" + h(this, De).arch, { cn: d, path: p } = n[f];\n            if (d)\n              await x(this, xh, Pf).call(this, i, f + \"-\" + d, p);\n            else {\n              let m = \"\";\n              const v = new RegExp(\"^\" + h(this, De).platform + \"_\"), y = Object.entries(n).flatMap(([w, { path: T, cn: P }]) => v.test(w) ? (m += `\n- ` + T, () => x(this, xh, Pf).call(this, i, w + \"-\" + P, T)) : []);\n              u.message = `CPU = ${h(this, De).arch}\nに対応するファイルが見つかりません。同じOSのファイルをすべてダウンロードしますか？`, u.detail = y.length + \" 個ファイルがあります\" + m;\n              const { response: g } = await Ut.showMessageBox(u);\n              if (g > 0)\n                return;\n              await Promise.allSettled(y);\n            }\n          } else {\n            const f = /path: (.+)/.exec(s);\n            if (!f)\n              throw \"[update_check] path が見つかりません\";\n            const [, d] = f;\n            A.debugLog && kt.myTrace(`[update_check] path=${d}`, \"D\");\n            const p = /sha512: (.+)/.exec(s);\n            if (!p)\n              throw \"[update_check] sha512 が見つかりません\";\n            const [, m] = p;\n            A.debugLog && kt.myTrace(`[update_check] sha=${m}=`, \"D\");\n            const [, v, y] = /(.+)(\\.\\w+)/.exec(d) ?? [\"\", \"\", \"\"];\n            await x(this, xh, Pf).call(this, i, v + \"-\" + h(this, De).arch + y, d);\n          }\n          A.debugLog && kt.myTrace(\"アプリファイルを保存しました\", \"D\"), u.buttons.pop(), u.message = `アプリ【${this.cfg.oCfg.book.title}】の更新パッケージを\nダウンロードしました`, Ut.showMessageBox(u);\n        }\n      })(), !1;\n    });\n    // アプリウインドウ設定\n    B(this, \"window\", (e) => {\n      const i = j(e, \"x\", Number(this.val.getVal(\"sys:const.sn.nativeWindow.x\", 0))), n = j(e, \"y\", Number(this.val.getVal(\"sys:const.sn.nativeWindow.y\", 0)));\n      return Ut.window(K(e, \"centering\", !1), i, n, A.stageW, A.stageH), this.val.setVal_Nochk(\"sys\", \"const.sn.nativeWindow.x\", i), this.val.setVal_Nochk(\"sys\", \"const.sn.nativeWindow.y\", n), this.flush(), !1;\n    });\n    globalThis.addEventListener(\"DOMContentLoaded\", async () => this.loaded(e, i), { once: !0, passive: !0 });\n  }\n  async loaded(e, i) {\n    await super.loaded(e, i), b(this, De, await Ut.getInfo()), A.isPackaged = h(this, De).isPackaged, this.arg = i = { ...i, cur: h(this, De).getAppPath.replaceAll(\"\\\\\", \"/\") + (A.isPackaged ? \"/doc/\" : \"/\") + i.cur }, this.$path_downloads = h(this, De).downloads.replaceAll(\"\\\\\", \"/\") + \"/\", A.isDbg = !!h(this, De).env.SKYNOVEL_DBG && !A.isPackaged, A.isDbg && (this.extPort = br(h(this, De).env.SKYNOVEL_PORT ?? \"3776\")), this.run();\n  }\n  initVal(e, i, n) {\n    i[\"const.sn.isDebugger\"] = !1, i[\"const.sn.screenResolutionX\"] = screen.width, i[\"const.sn.screenResolutionY\"] = screen.height, this.$path_userdata = A.isDbg ? h(this, De).getAppPath.slice(0, -3) + \".vscode/\" : h(this, De).userData.replaceAll(\"\\\\\", \"/\") + \"/\", this.flush = () => Ut.flush(this.data), h(this, gc).call(this).then(async () => {\n      const s = i[\"const.sn.isFirstBoot\"] = await Ut.Store_isEmpty();\n      if (s)\n        this.data.sys = e.sys, this.data.mark = e.mark, this.data.kidoku = e.kidoku, this.flush();\n      else {\n        const l = await Ut.Store_get();\n        this.data.sys = l.sys, this.data.mark = l.mark, this.data.kidoku = l.kidoku;\n      }\n      const o = this.data.sys[\"const.sn.nativeWindow.x\"] ?? 0, a = this.data.sys[\"const.sn.nativeWindow.y\"] ?? 0;\n      Ut.window(s, o, a, A.stageW, A.stageH), Ut.on(\"save_win_pos\", (l, u, c) => {\n        this.val.setVal_Nochk(\"sys\", \"const.sn.nativeWindow.x\", u), this.val.setVal_Nochk(\"sys\", \"const.sn.nativeWindow.y\", c), this.flush();\n      }), n(this.data);\n    });\n  }\n  async run() {\n    h(this, bh) && (h(this, bh).destroy(10), await new Promise((i) => setTimeout(i, 10))), b(this, bh, new Ci(this));\n  }\n  init(e, i, n, s) {\n    const o = super.init(e, i, n, s), a = new Event(\"click\");\n    return Ut.on(\"fire\", (l, u) => s.fire(u, a)), this.cfg.oCfg.debug.devtool ? Ut.openDevTools() : Ut.win_ev_devtools_opened(() => {\n      console.error(\"DevToolは禁止されています。許可する場合は【プロジェクト設定】の【devtool】をONに。\"), s.destroy();\n    }), o;\n  }\n  cvsResize() {\n    super.cvsResize();\n    const e = Ci.cvs, i = e.parentElement.style, n = e.style;\n    this.isFullScr ? (i.position = \"\", i.width = \"\", i.height = \"\", n.position = \"fixed\", n.left = `${this.ofsLeft4elm}px`, n.top = `${this.ofsTop4elm}px`) : (i.position = \"relative\", i.width = `${this.cvsWidth}px`, i.height = `${this.cvsHeight}px`, n.position = \"relative\", n.left = \"\", n.top = \"\");\n  }\n  // タイトル指定\n  titleSub(e) {\n    Ut.win_setTitle(e);\n  }\n  canCapturePage(e, i) {\n    return Ut.capturePage(e).then(() => i()), !0;\n  }\n}\nDe = new WeakMap(), gc = new WeakMap(), bh = new WeakMap(), xh = new WeakSet(), Pf = async function(e, i, n) {\n  A.debugLog && kt.myTrace(`[update_check] アプリファイルDL試行... url=${e + i}`, \"D\");\n  const s = await this.fetch(e + i);\n  if (!s.ok) {\n    A.debugLog && kt.myTrace(`[update_check] アプリファイルが見つかりません url=${e + n}`);\n    return;\n  }\n  const o = h(this, De).downloads + \"/\" + n;\n  A.debugLog && kt.myTrace(`[update_check] pathDL=${o}`, \"D\");\n  const a = await s.arrayBuffer();\n  await this.writeFileSync(o, new DataView(a));\n};\n\n//# sourceMappingURL=app.js.map\n\n\n//# sourceURL=webpack://uc/./node_modules/@famibee/skynovel/dist/app.js?");

/***/ }),

/***/ "./node_modules/base64-js/index.js":
/*!*****************************************!*\
  !*** ./node_modules/base64-js/index.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n\n\n//# sourceURL=webpack://uc/./node_modules/base64-js/index.js?");

/***/ }),

/***/ "./node_modules/buffer/index.js":
/*!**************************************!*\
  !*** ./node_modules/buffer/index.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n\n\nconst base64 = __webpack_require__(/*! base64-js */ \"./node_modules/base64-js/index.js\")\nconst ieee754 = __webpack_require__(/*! ieee754 */ \"./node_modules/ieee754/index.js\")\nconst customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nconst K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    const arr = new Uint8Array(1)\n    const proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  const buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  const valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  const b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  const length = byteLength(string, encoding) | 0\n  let buf = createBuffer(length)\n\n  const actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  const length = array.length < 0 ? 0 : checked(array.length) | 0\n  const buf = createBuffer(length)\n  for (let i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    const copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  let buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    const len = checked(obj.length) | 0\n    const buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  let x = a.length\n  let y = b.length\n\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  let i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  const buffer = Buffer.allocUnsafe(length)\n  let pos = 0\n  for (i = 0; i < list.length; ++i) {\n    let buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)\n        buf.copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  const len = string.length\n  const mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  let loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  const i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  const len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (let i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  const len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (let i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  const len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (let i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  const length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  let str = ''\n  const max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  let x = thisEnd - thisStart\n  let y = end - start\n  const len = Math.min(x, y)\n\n  const thisCopy = this.slice(thisStart, thisEnd)\n  const targetCopy = target.slice(start, end)\n\n  for (let i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  let indexSize = 1\n  let arrLength = arr.length\n  let valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  let i\n  if (dir) {\n    let foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      let found = true\n      for (let j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  const remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  const strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  let i\n  for (i = 0; i < length; ++i) {\n    const parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  const remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  const res = []\n\n  let i = start\n  while (i < end) {\n    const firstByte = buf[i]\n    let codePoint = null\n    let bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nconst MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  const len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  let res = ''\n  let i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  const len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  let out = ''\n  for (let i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  const bytes = buf.slice(start, end)\n  let res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (let i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  const len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  const newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  let val = this[offset + --byteLength]\n  let mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const lo = first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24\n\n  const hi = this[++offset] +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    last * 2 ** 24\n\n  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n})\n\nBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const hi = first * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  const lo = this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last\n\n  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n})\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let i = byteLength\n  let mul = 1\n  let val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = this[offset + 4] +\n    this[offset + 5] * 2 ** 8 +\n    this[offset + 6] * 2 ** 16 +\n    (last << 24) // Overflow\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24)\n})\n\nBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last)\n})\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let mul = 1\n  let i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  return offset\n}\n\nfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset + 7] = lo\n  lo = lo >> 8\n  buf[offset + 6] = lo\n  lo = lo >> 8\n  buf[offset + 5] = lo\n  lo = lo >> 8\n  buf[offset + 4] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset + 3] = hi\n  hi = hi >> 8\n  buf[offset + 2] = hi\n  hi = hi >> 8\n  buf[offset + 1] = hi\n  hi = hi >> 8\n  buf[offset] = hi\n  return offset + 8\n}\n\nBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = 0\n  let mul = 1\n  let sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  let sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      const code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  let i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    const bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    const len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// CUSTOM ERRORS\n// =============\n\n// Simplified versions from Node, changed for Buffer-only usage\nconst errors = {}\nfunction E (sym, getMessage, Base) {\n  errors[sym] = class NodeError extends Base {\n    constructor () {\n      super()\n\n      Object.defineProperty(this, 'message', {\n        value: getMessage.apply(this, arguments),\n        writable: true,\n        configurable: true\n      })\n\n      // Add the error code to the name to include it in the stack trace.\n      this.name = `${this.name} [${sym}]`\n      // Access the stack to generate the error message including the error code\n      // from the name.\n      this.stack // eslint-disable-line no-unused-expressions\n      // Reset the name to the actual name.\n      delete this.name\n    }\n\n    get code () {\n      return sym\n    }\n\n    set code (value) {\n      Object.defineProperty(this, 'code', {\n        configurable: true,\n        enumerable: true,\n        value,\n        writable: true\n      })\n    }\n\n    toString () {\n      return `${this.name} [${sym}]: ${this.message}`\n    }\n  }\n}\n\nE('ERR_BUFFER_OUT_OF_BOUNDS',\n  function (name) {\n    if (name) {\n      return `${name} is outside of buffer bounds`\n    }\n\n    return 'Attempt to access memory outside buffer bounds'\n  }, RangeError)\nE('ERR_INVALID_ARG_TYPE',\n  function (name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n  }, TypeError)\nE('ERR_OUT_OF_RANGE',\n  function (str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`\n    let received = input\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    }\n    msg += ` It must be ${range}. Received ${received}`\n    return msg\n  }, RangeError)\n\nfunction addNumericalSeparator (val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\n\n// CHECK FUNCTIONS\n// ===============\n\nfunction checkBounds (buf, offset, byteLength) {\n  validateNumber(offset, 'offset')\n  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n    boundsError(offset, buf.length - (byteLength + 1))\n  }\n}\n\nfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n  if (value > max || value < min) {\n    const n = typeof min === 'bigint' ? 'n' : ''\n    let range\n    if (byteLength > 3) {\n      if (min === 0 || min === BigInt(0)) {\n        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`\n      } else {\n        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n                `${(byteLength + 1) * 8 - 1}${n}`\n      }\n    } else {\n      range = `>= ${min}${n} and <= ${max}${n}`\n    }\n    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n  }\n  checkBounds(buf, offset, byteLength)\n}\n\nfunction validateNumber (value, name) {\n  if (typeof value !== 'number') {\n    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n}\n\nfunction boundsError (value, length, type) {\n  if (Math.floor(value) !== value) {\n    validateNumber(value, type)\n    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n  }\n\n  if (length < 0) {\n    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n  }\n\n  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n                                    `>= ${type ? 1 : 0} and <= ${length}`,\n                                    value)\n}\n\n// HELPER FUNCTIONS\n// ================\n\nconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  let codePoint\n  const length = string.length\n  let leadSurrogate = null\n  const bytes = []\n\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  let c, hi, lo\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  let i\n  for (i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nconst hexSliceLookupTable = (function () {\n  const alphabet = '0123456789abcdef'\n  const table = new Array(256)\n  for (let i = 0; i < 16; ++i) {\n    const i16 = i * 16\n    for (let j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n\n// Return not function with Error if BigInt not supported\nfunction defineBigIntMethod (fn) {\n  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n}\n\nfunction BufferBigIntNotDefined () {\n  throw new Error('BigInt not supported')\n}\n\n\n//# sourceURL=webpack://uc/./node_modules/buffer/index.js?");

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/humane-js/themes/bigbox.css":
/*!****************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/humane-js/themes/bigbox.css ***!
  \****************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../css-loader/dist/runtime/noSourceMaps.js */ \"./node_modules/css-loader/dist/runtime/noSourceMaps.js\");\n/* harmony import */ var _css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../css-loader/dist/runtime/getUrl.js */ \"./node_modules/css-loader/dist/runtime/getUrl.js\");\n/* harmony import */ var _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__);\n// Imports\n\n\n\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(/* asset import */ __webpack_require__(/*! data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADICAYAAAAp8ov1AAAABmJLR0QA/wD/AP+gvaeTAAAAc0lEQVQokb2RQQ6EMAwDx/7/n80BtIEC3RYhLlXrVLGTAYiBWBIGtkPSP01SfreTVoV5re9Rcee1scwDk9NurbR62sZJcpzy9O+2X5KsXabyPaQFYNuvkqkRviDTp9Vs8opC0TpkHvJtVjeReW/5kEyX1gKeLEKE9peeWAAAAABJRU5ErkJggg== */ \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADICAYAAAAp8ov1AAAABmJLR0QA/wD/AP+gvaeTAAAAc0lEQVQokb2RQQ6EMAwDx/7/n80BtIEC3RYhLlXrVLGTAYiBWBIGtkPSP01SfreTVoV5re9Rcee1scwDk9NurbR62sZJcpzy9O+2X5KsXabyPaQFYNuvkqkRviDTp9Vs8opC0TpkHvJtVjeReW/5kEyX1gKeLEKE9peeWAAAAABJRU5ErkJggg==\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_1___ = new URL(/* asset import */ __webpack_require__(/*! data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADICAYAAAAp8ov1AAAABmJLR0QA/wD/AP+gvaeTAAAAQElEQVQokWNgYEj5z8TAwPCfiYGBgQGVIEKMTG2DTYwRVez/IHIaNcUGyBnYgpORel6gpvFEJhBqpxIaG8/AAADsKDq/HhYQ2AAAAABJRU5ErkJggg== */ \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADICAYAAAAp8ov1AAAABmJLR0QA/wD/AP+gvaeTAAAAQElEQVQokWNgYEj5z8TAwPCfiYGBgQGVIEKMTG2DTYwRVez/IHIaNcUGyBnYgpORel6gpvFEJhBqpxIaG8/AAADsKDq/HhYQ2AAAAABJRU5ErkJggg==\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_2___ = new URL(/* asset import */ __webpack_require__(/*! data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADICAYAAAAp8ov1AAAABmJLR0QA/wD/AP+gvaeTAAAAPklEQVQokWNgSGH4z8TAACEYUAkixMjUNsjEGFHF/g8ip1FVbGCcgS04GannBaoaT1wCwWkvmXbQ2HgGBgYA8Yw6v+m4Kh8AAAAASUVORK5CYII= */ \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADICAYAAAAp8ov1AAAABmJLR0QA/wD/AP+gvaeTAAAAPklEQVQokWNgSGH4z8TAACEYUAkixMjUNsjEGFHF/g8ip1FVbGCcgS04GannBaoaT1wCwWkvmXbQ2HgGBgYA8Yw6v+m4Kh8AAAAASUVORK5CYII=\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_3___ = new URL(/* asset import */ __webpack_require__(/*! data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADICAYAAAAp8ov1AAAABmJLR0QA/wD/AP+gvaeTAAAAPklEQVQokWNIYWD4z8QAJRhQCSLEyNQ2uMQYUcX+DyKnUVdsQJyBLTgZqecF6hpPVALBaS+ZdtDYeAYGBgYA9vA6v4OR3MkAAAAASUVORK5CYII= */ \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADICAYAAAAp8ov1AAAABmJLR0QA/wD/AP+gvaeTAAAAPklEQVQokWNIYWD4z8QAJRhQCSLEyNQ2uMQYUcX+DyKnUVdsQJyBLTgZqecF6hpPVALBaS+ZdtDYeAYGBgYA9vA6v4OR3MkAAAAASUVORK5CYII=\"), __webpack_require__.b);\nvar ___CSS_LOADER_EXPORT___ = _css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_1___);\nvar ___CSS_LOADER_URL_REPLACEMENT_2___ = _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_2___);\nvar ___CSS_LOADER_URL_REPLACEMENT_3___ = _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_3___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"html,\\nbody {\\n  min-height: 100%;\\n}\\n.humane,\\n.humane-bigbox {\\n  position: fixed;\\n  -moz-transition: all 0.3s ease-out;\\n  -webkit-transition: all 0.3s ease-out;\\n  -ms-transition: all 0.3s ease-out;\\n  -o-transition: all 0.3s ease-out;\\n  transition: all 0.3s ease-out;\\n  z-index: 100000;\\n  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=100);\\n}\\n.humane,\\n.humane-bigbox {\\n  font-family: Ubuntu, Verdana, sans-serif;\\n  line-height: 40px;\\n  font-size: 35px;\\n  top: 25%;\\n  left: 25%;\\n  opacity: 0;\\n  width: 50%;\\n  min-height: 40px;\\n  padding: 30px;\\n  text-align: center;\\n  background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \");\\n  background: -webkit-gradient(linear, left top, left bottom, color-stop(0, #000), color-stop(1, rgba(0,0,0,0.9))) no-repeat;\\n  background: -moz-linear-gradient(top, #000 0%, rgba(0,0,0,0.9) 100%) no-repeat;\\n  background: -webkit-linear-gradient(top, #000 0%, rgba(0,0,0,0.9) 100%) no-repeat;\\n  background: -ms-linear-gradient(top, #000 0%, rgba(0,0,0,0.9) 100%) no-repeat;\\n  background: -o-linear-gradient(top, #000 0%, rgba(0,0,0,0.9) 100%) no-repeat;\\n  background: linear-gradient(top, #000 0%, rgba(0,0,0,0.9) 100%) no-repeat;\\n  *background-color: #000;\\n  color: #fff;\\n  -webkit-border-radius: 15px;\\n  border-radius: 15px;\\n  text-shadow: 0 -1px 1px #ddd;\\n  -webkit-box-shadow: 0 15px 15px -15px #000;\\n  box-shadow: 0 15px 15px -15px #000;\\n  -moz-transform: scale(0.1);\\n  -webkit-transform: scale(0.1);\\n  -ms-transform: scale(0.1);\\n  -o-transform: scale(0.1);\\n  transform: scale(0.1);\\n}\\n.humane p,\\n.humane-bigbox p,\\n.humane ul,\\n.humane-bigbox ul {\\n  margin: 0;\\n  padding: 0;\\n}\\n.humane ul,\\n.humane-bigbox ul {\\n  list-style: none;\\n}\\n.humane.humane-bigbox-info,\\n.humane-bigbox.humane-bigbox-info {\\n  background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \");\\n  background: -webkit-gradient(linear, left top, left bottom, color-stop(0, #000064), color-stop(1, rgba(0,0,100,0.9))) no-repeat;\\n  background: -moz-linear-gradient(top, #000064 0%, rgba(0,0,100,0.9) 100%) no-repeat;\\n  background: -webkit-linear-gradient(top, #000064 0%, rgba(0,0,100,0.9) 100%) no-repeat;\\n  background: -ms-linear-gradient(top, #000064 0%, rgba(0,0,100,0.9) 100%) no-repeat;\\n  background: -o-linear-gradient(top, #000064 0%, rgba(0,0,100,0.9) 100%) no-repeat;\\n  background: linear-gradient(top, #000064 0%, rgba(0,0,100,0.9) 100%) no-repeat;\\n  *background-color: #030;\\n}\\n.humane.humane-bigbox-success,\\n.humane-bigbox.humane-bigbox-success {\\n  background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_2___ + \");\\n  background: -webkit-gradient(linear, left top, left bottom, color-stop(0, #006400), color-stop(1, rgba(0,100,0,0.9))) no-repeat;\\n  background: -moz-linear-gradient(top, #006400 0%, rgba(0,100,0,0.9) 100%) no-repeat;\\n  background: -webkit-linear-gradient(top, #006400 0%, rgba(0,100,0,0.9) 100%) no-repeat;\\n  background: -ms-linear-gradient(top, #006400 0%, rgba(0,100,0,0.9) 100%) no-repeat;\\n  background: -o-linear-gradient(top, #006400 0%, rgba(0,100,0,0.9) 100%) no-repeat;\\n  background: linear-gradient(top, #006400 0%, rgba(0,100,0,0.9) 100%) no-repeat;\\n  *background-color: #030;\\n}\\n.humane.humane-bigbox-error,\\n.humane-bigbox.humane-bigbox-error {\\n  background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_3___ + \");\\n  background: -webkit-gradient(linear, left top, left bottom, color-stop(0, #640000), color-stop(1, rgba(100,0,0,0.9))) no-repeat;\\n  background: -moz-linear-gradient(top, #640000 0%, rgba(100,0,0,0.9) 100%) no-repeat;\\n  background: -webkit-linear-gradient(top, #640000 0%, rgba(100,0,0,0.9) 100%) no-repeat;\\n  background: -ms-linear-gradient(top, #640000 0%, rgba(100,0,0,0.9) 100%) no-repeat;\\n  background: -o-linear-gradient(top, #640000 0%, rgba(100,0,0,0.9) 100%) no-repeat;\\n  background: linear-gradient(top, #640000 0%, rgba(100,0,0,0.9) 100%) no-repeat;\\n  *background-color: #300;\\n}\\n.humane.humane-animate,\\n.humane-bigbox.humane-bigbox-animate {\\n  opacity: 1;\\n  -moz-transform: scale(1);\\n  -webkit-transform: scale(1);\\n  -ms-transform: scale(1);\\n  -o-transform: scale(1);\\n  transform: scale(1);\\n}\\n.humane.humane-animate:hover,\\n.humane-bigbox.humane-bigbox-animate:hover {\\n  opacity: 0.6;\\n  -moz-transform: scale(0.8);\\n  -webkit-transform: scale(0.8);\\n  -ms-transform: scale(0.8);\\n  -o-transform: scale(0.8);\\n  transform: scale(0.8);\\n}\\n.humane.humane-js-animate,\\n.humane-bigbox.humane-bigbox-js-animate {\\n  opacity: 1;\\n  -moz-transform: scale(1);\\n  -webkit-transform: scale(1);\\n  -ms-transform: scale(1);\\n  -o-transform: scale(1);\\n  transform: scale(1);\\n}\\n.humane.humane-js-animate:hover,\\n.humane-bigbox.humane-bigbox-js-animate:hover {\\n  opacity: 0.6;\\n  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=60);\\n}\\n\", \"\"]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n\n\n//# sourceURL=webpack://uc/./node_modules/humane-js/themes/bigbox.css?./node_modules/css-loader/dist/cjs.js");

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/***/ ((module) => {

"use strict";
eval("\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};\n\n//# sourceURL=webpack://uc/./node_modules/css-loader/dist/runtime/api.js?");

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/getUrl.js":
/*!********************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/getUrl.js ***!
  \********************************************************/
/***/ ((module) => {

"use strict";
eval("\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    options = {};\n  }\n  if (!url) {\n    return url;\n  }\n  url = String(url.__esModule ? url.default : url);\n\n  // If url is already wrapped in quotes, remove them\n  if (/^['\"].*['\"]$/.test(url)) {\n    url = url.slice(1, -1);\n  }\n  if (options.hash) {\n    url += options.hash;\n  }\n\n  // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n  if (/[\"'() \\t\\n]|(%20)/.test(url) || options.needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, \"\\\\n\"), \"\\\"\");\n  }\n  return url;\n};\n\n//# sourceURL=webpack://uc/./node_modules/css-loader/dist/runtime/getUrl.js?");

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/noSourceMaps.js":
/*!**************************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/noSourceMaps.js ***!
  \**************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\nmodule.exports = function (i) {\n  return i[1];\n};\n\n//# sourceURL=webpack://uc/./node_modules/css-loader/dist/runtime/noSourceMaps.js?");

/***/ }),

/***/ "./node_modules/gamepad.js/gamepad.js":
/*!********************************************!*\
  !*** ./node_modules/gamepad.js/gamepad.js ***!
  \********************************************/
/***/ (function(module) {

eval("!function(t,e){ true?module.exports=e():0}(this,(()=>(()=>{var t={944:function(t){var e;e=()=>(()=>{\"use strict\";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};function n(t){return n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},n(t)}function r(t,e){var n=\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(!n){if(Array.isArray(t)||(n=i(t))||e&&t&&\"number\"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var a,u=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){s=!0,a=t},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw a}}}}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(null!=n){var r,o,i,a,u=[],s=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,o=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,e)||i(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function i(t,e){if(t){if(\"string\"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}t.d(e,{default:()=>s});var s=function(){function t(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];u(this,t),this.strict=e,this.defaults=new Map,this.validators=new Map,this.types=new Map,this.optional=new Set,this.required=new Set}var e,i;return e=t,(i=[{key:\"allowExtra\",value:function(){return this.strict=!1,this}},{key:\"setDefaults\",value:function(t){var e=this;return Object.entries(t).forEach((function(t){var n=o(t,2),r=n[0],i=n[1];return e.defaults.set(r,i)})),this}},{key:\"setValidators\",value:function(t){var e=this;return Object.entries(t).forEach((function(t){var n=o(t,2),r=n[0],i=n[1];return e.validators.set(r,i)})),this}},{key:\"setTypes\",value:function(t){var e=this;return Object.entries(t).forEach((function(t){var n=o(t,2),r=n[0],i=n[1];return e.types.set(r,i)})),this}},{key:\"setOptional\",value:function(t){var e=this;return t.forEach((function(t){return e.optional.add(t)})),this}},{key:\"setRequired\",value:function(t){var e=this;return t.forEach((function(t){return e.required.add(t)})),this}},{key:\"resolve\",value:function(t){return this.validate(Object.assign(this.getDefaults(),t))}},{key:\"getDefaults\",value:function(){var t,e={},n=r(this.defaults);try{for(n.s();!(t=n.n()).done;){var i=o(t.value,2),a=i[0],u=i[1];e[a]=u}}catch(t){n.e(t)}finally{n.f()}return e}},{key:\"validate\",value:function(t){for(var e in t)this.validators.has(e)&&(t[e]=this.validators.get(e)(t[e]));for(var n in t){if(!this.optionExists(n))throw new Error('Unkown option \"'.concat(n,'\".'));this.checkType(n,t[n])}var o,i=r(this.required.values());try{for(i.s();!(o=i.n()).done;){var a=o.value;if(void 0===t[a])throw new Error('Option \"'.concat(a,'\" is required.'))}}catch(t){i.e(t)}finally{i.f()}return t}},{key:\"checkType\",value:function(t,e){if(this.types.has(t)){var r=this.types.get(t),o=n(e);if(o!==r)throw new Error('Wrong value for option \"'.concat(t,'\": expected type \"').concat(r,'\", got \"').concat(o,'\".'))}}},{key:\"optionExists\",value:function(t){return!this.strict||this.defaults.has(t)||this.validators.has(t)||this.optional.has(t)||this.required.has(t)||this.types.has(t)}}])&&function(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(t,(i=function(t,e){if(\"object\"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,\"string\");if(\"object\"!==n(o))return o;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(o.key),\"symbol\"===n(i)?i:String(i)),o)}var i}(e.prototype,i),Object.defineProperty(e,\"prototype\",{writable:!1}),t}();return e.default})(),t.exports=e()},162:function(t){t.exports=(()=>{\"use strict\";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};t.d(e,{default:()=>n});var n=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this._events={},this.on=this.addEventListener,this.off=this.removeEventListener}var e;return(e=[{key:\"emit\",value:function(t,e){if(Object.prototype.hasOwnProperty.call(this._events,t))for(var n=this._events[t],r={type:t,detail:e},o=n.length,i=0;i<o;i++)this.handle(n[i],r)}},{key:\"handle\",value:function(t,e){t(e)}},{key:\"addEventListener\",value:function(t,e){Object.prototype.hasOwnProperty.call(this._events,t)||(this._events[t]=[]),this._events[t].indexOf(e)<0&&this._events[t].push(e)}},{key:\"removeEventListener\",value:function(t,e){if(Object.prototype.hasOwnProperty.call(this._events,t)){var n=this._events[t],r=n.indexOf(e);r>=0&&n.splice(r,1),0===n.length&&delete this._events[t]}}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}();return e.default})()}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})};var r={};return(()=>{\"use strict\";n.r(r),n.d(r,{GamepadHandler:()=>h,GamepadListener:()=>A});var t=n(162),e=n.n(t),o=n(944),i=n.n(o);function a(t){return a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},a(t)}function u(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,p(r.key),r)}}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}function c(t,e){if(e&&(\"object\"===a(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function p(t){var e=function(t,e){if(\"object\"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,\"string\");if(\"object\"!==a(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"===a(e)?e:String(e)}var d,y,v,h=function(t){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&l(t,e)}(p,t);var e,n,r,o,i,a=(o=p,i=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=f(o);if(i){var n=f(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return c(this,t)});function p(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return u(this,p),(n=a.call(this)).index=t,n.gamepad=e,n.options=n.constructor.resolveOptions(r),n.axes=new Array(e.axes.length).fill(null),n.buttons=new Array(e.buttons.length).fill(null),n.initAxes(),n.initButtons(),n}return e=p,r=[{key:\"resolveOptions\",value:function(t){var e,n,r,o,i=t.axis,a=t.button;return{axis:this.optionResolver.resolve(null!==(e=null!==(n=null!=i?i:a)&&void 0!==n?n:t)&&void 0!==e?e:{}),button:this.optionResolver.resolve(null!==(r=null!==(o=null!=a?a:i)&&void 0!==o?o:t)&&void 0!==r?r:{})}}}],(n=[{key:\"initAxes\",value:function(){for(var t=this.axes.length,e=0;e<t;e++)this.axes[e]=this.resolveAxisValue(e)}},{key:\"initButtons\",value:function(){for(var t=this.buttons.length,e=0;e<t;e++)this.buttons[e]=this.resolveButtonValue(e)}},{key:\"update\",value:function(t){this.gamepad=t,this.updateAxis(),this.updateButtons()}},{key:\"updateAxis\",value:function(){for(var t=this.axes.length,e=0;e<t;e++)this.setAxisValue(e,this.resolveAxisValue(e))}},{key:\"updateButtons\",value:function(){for(var t=this.buttons.length,e=0;e<t;e++)this.setButtonValue(e,this.resolveButtonValue(e))}},{key:\"setAxisValue\",value:function(t,e){this.axes[t]!==e&&(this.axes[t]=e,this.emit(\"axis\",{gamepad:this.gamepad,index:this.index,axis:t,value:e}))}},{key:\"setButtonValue\",value:function(t,e){this.buttons[t]!==e&&(this.buttons[t]=e,this.emit(\"button\",{gamepad:this.gamepad,index:this.index,button:t,pressed:this.gamepad.buttons[t].pressed,value:e}))}},{key:\"resolveAxisValue\",value:function(t){var e=this.options.axis,n=e.deadZone,r=e.analog,o=e.precision,i=this.gamepad.axes[t];return n&&i<n&&i>-n?0:r?o?Math.round(i*o)/o:i:i>0?1:i<0?-1:0}},{key:\"resolveButtonValue\",value:function(t){var e=this.options.button,n=e.deadZone,r=e.analog,o=e.precision,i=this.gamepad.buttons[t].value;return n>0&&i<n&&i>-n?0:r?o?Math.round(i*o)/o:i:0===i?0:1}}])&&s(e.prototype,n),r&&s(e,r),Object.defineProperty(e,\"prototype\",{writable:!1}),p}(e());function b(t){return b=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},b(t)}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,g(r.key),r)}}function g(t){var e=function(t,e){if(\"object\"!==b(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,\"string\");if(\"object\"!==b(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"===b(e)?e:String(e)}d=h,y=\"optionResolver\",v=(new(i())).setDefaults({analog:!0,deadZone:0,precision:0}).setTypes({analog:\"boolean\",deadZone:\"number\",precision:\"number\"}).setValidators({deadZone:function(t){return Math.max(Math.min(t,1),0)},precision:function(t){return t>0?Math.pow(10,t):0}}),(y=p(y))in d?Object.defineProperty(d,y,{value:v,enumerable:!0,configurable:!0,writable:!0}):d[y]=v;var w=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.callback=e,this.frame=null,this.update=this.update.bind(this)}var e,n;return e=t,(n=[{key:\"setCallback\",value:function(t){this.callback=t}},{key:\"start\",value:function(){this.frame||(this.frame=window.requestAnimationFrame(this.update))}},{key:\"stop\",value:function(){this.frame&&(window.cancelAnimationFrame(this.frame),this.frame=null)}},{key:\"update\",value:function(){this.frame=window.requestAnimationFrame(this.update),this.callback()}}])&&m(e.prototype,n),Object.defineProperty(e,\"prototype\",{writable:!1}),t}();function x(t){return x=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},x(t)}function O(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,k(r.key),r)}}function k(t){var e=function(t,e){if(\"object\"!==x(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,\"string\");if(\"object\"!==x(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"===x(e)?e:String(e)}function S(t,e){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},S(t,e)}function P(t,e){if(e&&(\"object\"===x(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return E(t)}function E(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function _(t){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_(t)}var A=function(t){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&S(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=_(r);if(o){var n=_(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return P(this,t)});function a(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(O(this,a),t=i.call(this),\"function\"!=typeof navigator.getGamepads)throw new Error(\"This browser does not support gamepad API.\");return t.options=e,t.onAxis=t.onAxis.bind(E(t)),t.update=t.update.bind(E(t)),t.start=t.start.bind(E(t)),t.stop=t.stop.bind(E(t)),t.discover=t.discover.bind(E(t)),t.onButton=t.onButton.bind(E(t)),t.handlers=new Array(4).fill(null),t.loop=new w(t.update),window.addEventListener(\"error\",t.stop),t}return e=a,(n=[{key:\"start\",value:function(){this.loop.start()}},{key:\"stop\",value:function(){this.loop.stop()}},{key:\"update\",value:function(){var t=navigator.getGamepads();this.discover(t[0],0),this.discover(t[1],1),this.discover(t[2],2),this.discover(t[3],3)}},{key:\"discover\",value:function(t,e){t?(null===this.handlers[e]&&this.registerHandler(e,t),this.handlers[e].update(t)):this.handlers[e]&&this.removeGamepad(e)}},{key:\"registerHandler\",value:function(t,e){var n=new h(t,e,this.options);this.handlers[t]=n,n.addEventListener(\"axis\",this.onAxis),n.addEventListener(\"button\",this.onButton),this.emit(\"gamepad:connected\",{index:t,gamepad:e}),this.emit(\"gamepad:\".concat(t,\":connected\"),{index:t,gamepad:e})}},{key:\"removeGamepad\",value:function(t){var e=this.handlers[t];e.removeEventListener(\"axis\",this.onAxis),e.removeEventListener(\"button\",this.onButton),this.handlers[t]=null,this.emit(\"gamepad:disconnected\",{index:t}),this.emit(\"gamepad:\".concat(t,\":disconnected\"),{index:t})}},{key:\"onAxis\",value:function(t){var e=t.detail.index;this.emit(\"gamepad:axis\",t.detail),this.emit(\"gamepad:\".concat(e,\":axis\"),t.detail),this.emit(\"gamepad:\".concat(e,\":axis:\").concat(t.detail.axis),t.detail)}},{key:\"onButton\",value:function(t){var e=t.detail.index;this.emit(\"gamepad:button\",t.detail),this.emit(\"gamepad:\".concat(e,\":button\"),t.detail),this.emit(\"gamepad:\".concat(e,\":button:\").concat(t.detail.button),t.detail)}}])&&j(e.prototype,n),Object.defineProperty(e,\"prototype\",{writable:!1}),a}(e())})(),r})()));\n\n//# sourceURL=webpack://uc/./node_modules/gamepad.js/gamepad.js?");

/***/ }),

/***/ "./node_modules/humane-js/humane.js":
/*!******************************************!*\
  !*** ./node_modules/humane-js/humane.js ***!
  \******************************************/
/***/ (function(module) {

eval("/**\n * humane.js\n * Humanized Messages for Notifications\n * @author Marc Harter (@wavded)\n * @example\n *   humane.log('hello world');\n * @license MIT\n * See more usage examples at: http://wavded.github.com/humane-js/\n */\n\n;!function (name, context, definition) {\n   if (true) module.exports = definition(name, context)\n   else {}\n}('humane', this, function (name, context) {\n   var win = window\n   var doc = document\n\n   var ENV = {\n      on: function (el, type, cb) {\n         'addEventListener' in win ? el.addEventListener(type,cb,false) : el.attachEvent('on'+type,cb)\n      },\n      off: function (el, type, cb) {\n         'removeEventListener' in win ? el.removeEventListener(type,cb,false) : el.detachEvent('on'+type,cb)\n      },\n      bind: function (fn, ctx) {\n         return function () { fn.apply(ctx,arguments) }\n      },\n      isArray: Array.isArray || function (obj) { return Object.prototype.toString.call(obj) === '[object Array]' },\n      config: function (preferred, fallback) {\n         return preferred != null ? preferred : fallback\n      },\n      transSupport: false,\n      useFilter: /msie [678]/i.test(navigator.userAgent), // sniff, sniff\n      _checkTransition: function () {\n         var el = doc.createElement('div')\n         var vendors = { webkit: 'webkit', Moz: '', O: 'o', ms: 'MS' }\n\n         for (var vendor in vendors)\n            if (vendor + 'Transition' in el.style) {\n               this.vendorPrefix = vendors[vendor]\n               this.transSupport = true\n            }\n      }\n   }\n   ENV._checkTransition()\n\n   var Humane = function (o) {\n      o || (o = {})\n      this.queue = []\n      this.baseCls = o.baseCls || 'humane'\n      this.addnCls = o.addnCls || ''\n      this.timeout = 'timeout' in o ? o.timeout : 2500\n      this.waitForMove = o.waitForMove || false\n      this.clickToClose = o.clickToClose || false\n      this.timeoutAfterMove = o.timeoutAfterMove || false\n      this.container = o.container\n\n      try { this._setupEl() } // attempt to setup elements\n      catch (e) {\n        ENV.on(win,'load',ENV.bind(this._setupEl, this)) // dom wasn't ready, wait till ready\n      }\n   }\n\n   Humane.prototype = {\n      constructor: Humane,\n      _setupEl: function () {\n         var el = doc.createElement('div')\n         el.style.display = 'none'\n         if (!this.container){\n           if(doc.body) this.container = doc.body;\n           else throw 'document.body is null'\n         }\n         this.container.appendChild(el)\n         this.el = el\n         this.removeEvent = ENV.bind(function(){\n            var timeoutAfterMove = ENV.config(this.currentMsg.timeoutAfterMove,this.timeoutAfterMove)\n            if (!timeoutAfterMove){\n               this.remove()\n            } else {\n               setTimeout(ENV.bind(this.remove,this),timeoutAfterMove)\n            }\n         },this)\n\n         this.transEvent = ENV.bind(this._afterAnimation,this)\n         this._run()\n      },\n      _afterTimeout: function () {\n         if (!ENV.config(this.currentMsg.waitForMove,this.waitForMove)) this.remove()\n\n         else if (!this.removeEventsSet) {\n            ENV.on(doc.body,'mousemove',this.removeEvent)\n            ENV.on(doc.body,'click',this.removeEvent)\n            ENV.on(doc.body,'keypress',this.removeEvent)\n            ENV.on(doc.body,'touchstart',this.removeEvent)\n            this.removeEventsSet = true\n         }\n      },\n      _run: function () {\n         if (this._animating || !this.queue.length || !this.el) return\n\n         this._animating = true\n         if (this.currentTimer) {\n            clearTimeout(this.currentTimer)\n            this.currentTimer = null\n         }\n\n         var msg = this.queue.shift()\n         var clickToClose = ENV.config(msg.clickToClose,this.clickToClose)\n\n         if (clickToClose) {\n            ENV.on(this.el,'click',this.removeEvent)\n            ENV.on(this.el,'touchstart',this.removeEvent)\n         }\n\n         var timeout = ENV.config(msg.timeout,this.timeout)\n\n         if (timeout > 0)\n            this.currentTimer = setTimeout(ENV.bind(this._afterTimeout,this), timeout)\n\n         if (ENV.isArray(msg.html)) msg.html = '<ul><li>'+msg.html.join('<li>')+'</ul>'\n\n         this.el.innerHTML = msg.html\n         this.currentMsg = msg\n         this.el.className = this.baseCls\n         if (ENV.transSupport) {\n            this.el.style.display = 'block'\n            setTimeout(ENV.bind(this._showMsg,this),50)\n         } else {\n            this._showMsg()\n         }\n\n      },\n      _setOpacity: function (opacity) {\n         if (ENV.useFilter){\n            try{\n               this.el.filters.item('DXImageTransform.Microsoft.Alpha').Opacity = opacity*100\n            } catch(err){}\n         } else {\n            this.el.style.opacity = String(opacity)\n         }\n      },\n      _showMsg: function () {\n         var addnCls = ENV.config(this.currentMsg.addnCls,this.addnCls)\n         if (ENV.transSupport) {\n            this.el.className = this.baseCls+' '+addnCls+' '+this.baseCls+'-animate'\n         }\n         else {\n            var opacity = 0\n            this.el.className = this.baseCls+' '+addnCls+' '+this.baseCls+'-js-animate'\n            this._setOpacity(0) // reset value so hover states work\n            this.el.style.display = 'block'\n\n            var self = this\n            var interval = setInterval(function(){\n               if (opacity < 1) {\n                  opacity += 0.1\n                  if (opacity > 1) opacity = 1\n                  self._setOpacity(opacity)\n               }\n               else clearInterval(interval)\n            }, 30)\n         }\n      },\n      _hideMsg: function () {\n         var addnCls = ENV.config(this.currentMsg.addnCls,this.addnCls)\n         if (ENV.transSupport) {\n            this.el.className = this.baseCls+' '+addnCls\n            ENV.on(this.el,ENV.vendorPrefix ? ENV.vendorPrefix+'TransitionEnd' : 'transitionend',this.transEvent)\n         }\n         else {\n            var opacity = 1\n            var self = this\n            var interval = setInterval(function(){\n               if(opacity > 0) {\n                  opacity -= 0.1\n                  if (opacity < 0) opacity = 0\n                  self._setOpacity(opacity);\n               }\n               else {\n                  self.el.className = self.baseCls+' '+addnCls\n                  clearInterval(interval)\n                  self._afterAnimation()\n               }\n            }, 30)\n         }\n      },\n      _afterAnimation: function () {\n         if (ENV.transSupport) ENV.off(this.el,ENV.vendorPrefix ? ENV.vendorPrefix+'TransitionEnd' : 'transitionend',this.transEvent)\n\n         if (this.currentMsg.cb) this.currentMsg.cb()\n         this.el.style.display = 'none'\n\n         this._animating = false\n         this._run()\n      },\n      remove: function (e) {\n         var cb = typeof e == 'function' ? e : null\n\n         ENV.off(doc.body,'mousemove',this.removeEvent)\n         ENV.off(doc.body,'click',this.removeEvent)\n         ENV.off(doc.body,'keypress',this.removeEvent)\n         ENV.off(doc.body,'touchstart',this.removeEvent)\n         ENV.off(this.el,'click',this.removeEvent)\n         ENV.off(this.el,'touchstart',this.removeEvent)\n         this.removeEventsSet = false\n\n         if (cb && this.currentMsg) this.currentMsg.cb = cb\n         if (this._animating) this._hideMsg()\n         else if (cb) cb()\n      },\n      log: function (html, o, cb, defaults) {\n         var msg = {}\n         if (defaults)\n           for (var opt in defaults)\n               msg[opt] = defaults[opt]\n\n         if (typeof o == 'function') cb = o\n         else if (o)\n            for (var opt in o) msg[opt] = o[opt]\n\n         msg.html = html\n         if (cb) msg.cb = cb\n         this.queue.push(msg)\n         this._run()\n         return this\n      },\n      spawn: function (defaults) {\n         var self = this\n         return function (html, o, cb) {\n            self.log.call(self,html,o,cb,defaults)\n            return self\n         }\n      },\n      create: function (o) { return new Humane(o) }\n   }\n   return new Humane()\n});\n\n\n//# sourceURL=webpack://uc/./node_modules/humane-js/humane.js?");

/***/ }),

/***/ "./node_modules/ieee754/index.js":
/*!***************************************!*\
  !*** ./node_modules/ieee754/index.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n\n\n//# sourceURL=webpack://uc/./node_modules/ieee754/index.js?");

/***/ }),

/***/ "./node_modules/querystring/decode.js":
/*!********************************************!*\
  !*** ./node_modules/querystring/decode.js ***!
  \********************************************/
/***/ ((module) => {

"use strict";
eval("// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (Array.isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\n\n//# sourceURL=webpack://uc/./node_modules/querystring/decode.js?");

/***/ }),

/***/ "./node_modules/querystring/encode.js":
/*!********************************************!*\
  !*** ./node_modules/querystring/encode.js ***!
  \********************************************/
/***/ ((module) => {

"use strict";
eval("// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return Object.keys(obj).map(function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (Array.isArray(obj[k])) {\n        return obj[k].map(function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\n\n//# sourceURL=webpack://uc/./node_modules/querystring/encode.js?");

/***/ }),

/***/ "./node_modules/querystring/index.js":
/*!*******************************************!*\
  !*** ./node_modules/querystring/index.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nexports.decode = exports.parse = __webpack_require__(/*! ./decode */ \"./node_modules/querystring/decode.js\");\nexports.encode = exports.stringify = __webpack_require__(/*! ./encode */ \"./node_modules/querystring/encode.js\");\n\n\n//# sourceURL=webpack://uc/./node_modules/querystring/index.js?");

/***/ }),

/***/ "./node_modules/style-loader/dist/cjs.js!./node_modules/css-loader/dist/cjs.js!./node_modules/humane-js/themes/bigbox.css":
/*!********************************************************************************************************************************!*\
  !*** ./node_modules/style-loader/dist/cjs.js!./node_modules/css-loader/dist/cjs.js!./node_modules/humane-js/themes/bigbox.css ***!
  \********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n/* harmony import */ var _style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../style-loader/dist/runtime/styleDomAPI.js */ \"./node_modules/style-loader/dist/runtime/styleDomAPI.js\");\n/* harmony import */ var _style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../style-loader/dist/runtime/insertBySelector.js */ \"./node_modules/style-loader/dist/runtime/insertBySelector.js\");\n/* harmony import */ var _style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../style-loader/dist/runtime/setAttributesWithoutAttributes.js */ \"./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\");\n/* harmony import */ var _style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../style-loader/dist/runtime/insertStyleElement.js */ \"./node_modules/style-loader/dist/runtime/insertStyleElement.js\");\n/* harmony import */ var _style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../style-loader/dist/runtime/styleTagTransform.js */ \"./node_modules/style-loader/dist/runtime/styleTagTransform.js\");\n/* harmony import */ var _style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _css_loader_dist_cjs_js_bigbox_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../css-loader/dist/cjs.js!./bigbox.css */ \"./node_modules/css-loader/dist/cjs.js!./node_modules/humane-js/themes/bigbox.css\");\n\n      \n      \n      \n      \n      \n      \n      \n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = (_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());\noptions.setAttributes = (_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());\n\n      options.insert = _style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, \"head\");\n    \noptions.domAPI = (_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());\noptions.insertStyleElement = (_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());\n\nvar update = _style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_css_loader_dist_cjs_js_bigbox_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"], options);\n\n\n\n\n       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_css_loader_dist_cjs_js_bigbox_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"] && _css_loader_dist_cjs_js_bigbox_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals ? _css_loader_dist_cjs_js_bigbox_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals : undefined);\n\n\n//# sourceURL=webpack://uc/./node_modules/humane-js/themes/bigbox.css?./node_modules/style-loader/dist/cjs.js!./node_modules/css-loader/dist/cjs.js");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\nvar stylesInDOM = [];\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n  return result;\n}\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n    identifiers.push(identifier);\n  }\n  return identifiers;\n}\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n  return updater;\n}\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n    var newLastIdentifiers = modulesToDom(newList, options);\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n      var _index = getIndexByIdentifier(_identifier);\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n    lastIdentifiers = newLastIdentifiers;\n  };\n};\n\n//# sourceURL=webpack://uc/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertBySelector.js":
/*!********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertBySelector.js ***!
  \********************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\nvar memo = {};\n\n/* istanbul ignore next  */\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target);\n\n    // Special case to return head of iframe instead of iframe itself\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n    memo[target] = styleTarget;\n  }\n  return memo[target];\n}\n\n/* istanbul ignore next  */\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n  target.appendChild(style);\n}\nmodule.exports = insertBySelector;\n\n//# sourceURL=webpack://uc/./node_modules/style-loader/dist/runtime/insertBySelector.js?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertStyleElement.js":
/*!**********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertStyleElement.js ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\nmodule.exports = insertStyleElement;\n\n//# sourceURL=webpack://uc/./node_modules/style-loader/dist/runtime/insertStyleElement.js?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js ***!
  \**********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce =  true ? __webpack_require__.nc : 0;\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\nmodule.exports = setAttributesWithoutAttributes;\n\n//# sourceURL=webpack://uc/./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleDomAPI.js":
/*!***************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleDomAPI.js ***!
  \***************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n  var needLayer = typeof obj.layer !== \"undefined\";\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n  css += obj.css;\n  if (needLayer) {\n    css += \"}\";\n  }\n  if (obj.media) {\n    css += \"}\";\n  }\n  if (obj.supports) {\n    css += \"}\";\n  }\n  var sourceMap = obj.sourceMap;\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  }\n\n  // For old IE\n  /* istanbul ignore if  */\n  options.styleTagTransform(css, styleElement, options.options);\n}\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n  styleElement.parentNode.removeChild(styleElement);\n}\n\n/* istanbul ignore next  */\nfunction domAPI(options) {\n  if (typeof document === \"undefined\") {\n    return {\n      update: function update() {},\n      remove: function remove() {}\n    };\n  }\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\nmodule.exports = domAPI;\n\n//# sourceURL=webpack://uc/./node_modules/style-loader/dist/runtime/styleDomAPI.js?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleTagTransform.js":
/*!*********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleTagTransform.js ***!
  \*********************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\nmodule.exports = styleTagTransform;\n\n//# sourceURL=webpack://uc/./node_modules/style-loader/dist/runtime/styleTagTransform.js?");

/***/ }),

/***/ "./node_modules/url/node_modules/punycode/punycode.js":
/*!************************************************************!*\
  !*** ./node_modules/url/node_modules/punycode/punycode.js ***!
  \************************************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("/* module decorator */ module = __webpack_require__.nmd(module);\nvar __WEBPACK_AMD_DEFINE_RESULT__;/*! https://mths.be/punycode v1.3.2 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports =  true && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule =  true && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof __webpack_require__.g == 'object' && __webpack_require__.g;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * http://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.3.2',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttrue\n\t) {\n\t\t!(__WEBPACK_AMD_DEFINE_RESULT__ = (function() {\n\t\t\treturn punycode;\n\t\t}).call(exports, __webpack_require__, exports, module),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t} else {}\n\n}(this));\n\n\n//# sourceURL=webpack://uc/./node_modules/url/node_modules/punycode/punycode.js?");

/***/ }),

/***/ "./node_modules/url/url.js":
/*!*********************************!*\
  !*** ./node_modules/url/url.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n\nvar punycode = __webpack_require__(/*! punycode */ \"./node_modules/url/node_modules/punycode/punycode.js\");\nvar util = __webpack_require__(/*! ./util */ \"./node_modules/url/util.js\");\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = ['\\''].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n    hostEndingChars = ['/', '?', '#'],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    unsafeProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    },\n    querystring = __webpack_require__(/*! querystring */ \"./node_modules/querystring/index.js\");\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && util.isObject(url) && url instanceof Url) return url;\n\n  var u = new Url;\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n  if (!util.isString(url)) {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  // Copy chrome, IE, opera backslash-handling behavior.\n  // Back slashes before the query string get converted to forward slashes\n  // See: https://code.google.com/p/chromium/issues/detail?id=25916\n  var queryIndex = url.indexOf('?'),\n      splitter =\n          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',\n      uSplit = url.split(splitter),\n      slashRegex = /\\\\/g;\n  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n  url = uSplit.join(splitter);\n\n  var rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.path = rest;\n      this.href = rest;\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n        if (parseQueryString) {\n          this.query = querystring.parse(this.search.substr(1));\n        } else {\n          this.query = this.search.substr(1);\n        }\n      } else if (parseQueryString) {\n        this.search = '';\n        this.query = {};\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1)\n      hostEnd = rest.length;\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) continue;\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      // IDNA Support: Returns a punycoded representation of \"domain\".\n      // It only converts parts of the domain name that\n      // have non-ASCII characters, i.e. it doesn't matter if\n      // you call it with a domain that already is ASCII-only.\n      this.hostname = punycode.toASCII(this.hostname);\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  // now rest is set to the post-host stuff.\n  // chop off any delim chars.\n  if (!unsafeProtocol[lowerProto]) {\n\n    // First, make 100% sure that any \"autoEscape\" chars get\n    // escaped, even if encodeURIComponent doesn't think they\n    // need to be.\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      if (rest.indexOf(ae) === -1)\n        continue;\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) this.pathname = rest;\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  //to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  // ensure it's an object, and not a string url.\n  // If it's an obj, this is a no-op.\n  // this way, you can call url_format() on strings\n  // to clean up potentially wonky urls.\n  if (util.isString(obj)) obj = urlParse(obj);\n  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n  return obj.format();\n}\n\nUrl.prototype.format = function() {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n      pathname = this.pathname || '',\n      hash = this.hash || '',\n      host = false,\n      query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ?\n        this.hostname :\n        '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query &&\n      util.isObject(this.query) &&\n      Object.keys(this.query).length) {\n    query = querystring.stringify(this.query);\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n  // unless they had them to begin with.\n  if (this.slashes ||\n      (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n  if (search && search.charAt(0) !== '?') search = '?' + search;\n\n  pathname = pathname.replace(/[?#]/g, function(match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function(relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) return relative;\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function(relative) {\n  if (util.isString(relative)) {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  var tkeys = Object.keys(this);\n  for (var tk = 0; tk < tkeys.length; tk++) {\n    var tkey = tkeys[tk];\n    result[tkey] = this[tkey];\n  }\n\n  // hash is always overridden, no matter what.\n  // even href=\"\" will remove it.\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    var rkeys = Object.keys(relative);\n    for (var rk = 0; rk < rkeys.length; rk++) {\n      var rkey = rkeys[rk];\n      if (rkey !== 'protocol')\n        result[rkey] = relative[rkey];\n    }\n\n    //urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] &&\n        result.hostname && !result.pathname) {\n      result.path = result.pathname = '/';\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    // if it's a known url protocol, then changing\n    // the protocol does weird things\n    // first, if it's not file:, then we MUST have a host,\n    // and if there was a path\n    // to begin with, then we MUST have a path.\n    // if it is file:, then the host is dropped,\n    // because that's known to be hostless.\n    // anything else is assumed to be absolute.\n    if (!slashedProtocol[relative.protocol]) {\n      var keys = Object.keys(relative);\n      for (var v = 0; v < keys.length; v++) {\n        var k = keys[v];\n        result[k] = relative[k];\n      }\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift()));\n      if (!relative.host) relative.host = '';\n      if (!relative.hostname) relative.hostname = '';\n      if (relPath[0] !== '') relPath.unshift('');\n      if (relPath.length < 2) relPath.unshift('');\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),\n      isRelAbs = (\n          relative.host ||\n          relative.pathname && relative.pathname.charAt(0) === '/'\n      ),\n      mustEndAbs = (isRelAbs || isSourceAbs ||\n                    (result.host && relative.pathname)),\n      removeAllDots = mustEndAbs,\n      srcPath = result.pathname && result.pathname.split('/') || [],\n      relPath = relative.pathname && relative.pathname.split('/') || [],\n      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  // if the url is a non-slashed url, then relative\n  // links like ../.. should be able\n  // to crawl up to the hostname, as well.  This is strange.\n  // result.protocol has already been set by now.\n  // Later on, put the first path part into the host field.\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') srcPath[0] = result.host;\n      else srcPath.unshift(result.host);\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') relPath[0] = relative.host;\n        else relPath.unshift(relative.host);\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = (relative.host || relative.host === '') ?\n                  relative.host : result.host;\n    result.hostname = (relative.hostname || relative.hostname === '') ?\n                      relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    // it's relative\n    // throw away the existing file, and take the new path instead.\n    if (!srcPath) srcPath = [];\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (!util.isNullOrUndefined(relative.search)) {\n    // just pull out the search.\n    // like href='?foo'.\n    // Put this after the other two cases because it simplifies the booleans\n    if (psychotic) {\n      result.hostname = result.host = srcPath.shift();\n      //occationaly the auth can get stuck only in host\n      //this especially happens in cases like\n      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n      var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                       result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.host = result.hostname = authInHost.shift();\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    //to support http.request\n    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n      result.path = (result.pathname ? result.pathname : '') +\n                    (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    // no path at all.  easy.\n    // we've already handled the other stuff above.\n    result.pathname = null;\n    //to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  // if a url ENDs in . or .., then it must get a trailing slash.\n  // however, if it ends in anything else non-slashy,\n  // then it must NOT get a trailing slash.\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (\n      (result.host || relative.host || srcPath.length > 1) &&\n      (last === '.' || last === '..') || last === '');\n\n  // strip single dots, resolve double dots to parent dir\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last === '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' &&\n      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' ||\n      (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = result.host = isAbsolute ? '' :\n                                    srcPath.length ? srcPath.shift() : '';\n    //occationaly the auth can get stuck only in host\n    //this especially happens in cases like\n    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n    var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                     result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.host = result.hostname = authInHost.shift();\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (!srcPath.length) {\n    result.pathname = null;\n    result.path = null;\n  } else {\n    result.pathname = srcPath.join('/');\n  }\n\n  //to support request.http\n  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n    result.path = (result.pathname ? result.pathname : '') +\n                  (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function() {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) this.hostname = host;\n};\n\n\n//# sourceURL=webpack://uc/./node_modules/url/url.js?");

/***/ }),

/***/ "./node_modules/url/util.js":
/*!**********************************!*\
  !*** ./node_modules/url/util.js ***!
  \**********************************/
/***/ ((module) => {

"use strict";
eval("\n\nmodule.exports = {\n  isString: function(arg) {\n    return typeof(arg) === 'string';\n  },\n  isObject: function(arg) {\n    return typeof(arg) === 'object' && arg !== null;\n  },\n  isNull: function(arg) {\n    return arg === null;\n  },\n  isNullOrUndefined: function(arg) {\n    return arg == null;\n  }\n};\n\n\n//# sourceURL=webpack://uc/./node_modules/url/util.js?");

/***/ }),

/***/ "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADICAYAAAAp8ov1AAAABmJLR0QA/wD/AP+gvaeTAAAAPklEQVQokWNIYWD4z8QAJRhQCSLEyNQ2uMQYUcX+DyKnUVdsQJyBLTgZqecF6hpPVALBaS+ZdtDYeAYGBgYA9vA6v4OR3MkAAAAASUVORK5CYII=":
/*!**********************************************************************************************************************************************************************************************************************!*\
  !*** data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADICAYAAAAp8ov1AAAABmJLR0QA/wD/AP+gvaeTAAAAPklEQVQokWNIYWD4z8QAJRhQCSLEyNQ2uMQYUcX+DyKnUVdsQJyBLTgZqecF6hpPVALBaS+ZdtDYeAYGBgYA9vA6v4OR3MkAAAAASUVORK5CYII= ***!
  \**********************************************************************************************************************************************************************************************************************/
/***/ ((module) => {

"use strict";
eval("module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADICAYAAAAp8ov1AAAABmJLR0QA/wD/AP+gvaeTAAAAPklEQVQokWNIYWD4z8QAJRhQCSLEyNQ2uMQYUcX+DyKnUVdsQJyBLTgZqecF6hpPVALBaS+ZdtDYeAYGBgYA9vA6v4OR3MkAAAAASUVORK5CYII=\";\n\n//# sourceURL=webpack://uc/data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADICAYAAAAp8ov1AAAABmJLR0QA/wD/AP+gvaeTAAAAPklEQVQokWNIYWD4z8QAJRhQCSLEyNQ2uMQYUcX+DyKnUVdsQJyBLTgZqecF6hpPVALBaS+ZdtDYeAYGBgYA9vA6v4OR3MkAAAAASUVORK5CYII=?");

/***/ }),

/***/ "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADICAYAAAAp8ov1AAAABmJLR0QA/wD/AP+gvaeTAAAAPklEQVQokWNgSGH4z8TAACEYUAkixMjUNsjEGFHF/g8ip1FVbGCcgS04GannBaoaT1wCwWkvmXbQ2HgGBgYA8Yw6v+m4Kh8AAAAASUVORK5CYII=":
/*!**********************************************************************************************************************************************************************************************************************!*\
  !*** data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADICAYAAAAp8ov1AAAABmJLR0QA/wD/AP+gvaeTAAAAPklEQVQokWNgSGH4z8TAACEYUAkixMjUNsjEGFHF/g8ip1FVbGCcgS04GannBaoaT1wCwWkvmXbQ2HgGBgYA8Yw6v+m4Kh8AAAAASUVORK5CYII= ***!
  \**********************************************************************************************************************************************************************************************************************/
/***/ ((module) => {

"use strict";
eval("module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADICAYAAAAp8ov1AAAABmJLR0QA/wD/AP+gvaeTAAAAPklEQVQokWNgSGH4z8TAACEYUAkixMjUNsjEGFHF/g8ip1FVbGCcgS04GannBaoaT1wCwWkvmXbQ2HgGBgYA8Yw6v+m4Kh8AAAAASUVORK5CYII=\";\n\n//# sourceURL=webpack://uc/data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADICAYAAAAp8ov1AAAABmJLR0QA/wD/AP+gvaeTAAAAPklEQVQokWNgSGH4z8TAACEYUAkixMjUNsjEGFHF/g8ip1FVbGCcgS04GannBaoaT1wCwWkvmXbQ2HgGBgYA8Yw6v+m4Kh8AAAAASUVORK5CYII=?");

/***/ }),

/***/ "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADICAYAAAAp8ov1AAAABmJLR0QA/wD/AP+gvaeTAAAAQElEQVQokWNgYEj5z8TAwPCfiYGBgQGVIEKMTG2DTYwRVez/IHIaNcUGyBnYgpORel6gpvFEJhBqpxIaG8/AAADsKDq/HhYQ2AAAAABJRU5ErkJggg==":
/*!**************************************************************************************************************************************************************************************************************************!*\
  !*** data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADICAYAAAAp8ov1AAAABmJLR0QA/wD/AP+gvaeTAAAAQElEQVQokWNgYEj5z8TAwPCfiYGBgQGVIEKMTG2DTYwRVez/IHIaNcUGyBnYgpORel6gpvFEJhBqpxIaG8/AAADsKDq/HhYQ2AAAAABJRU5ErkJggg== ***!
  \**************************************************************************************************************************************************************************************************************************/
/***/ ((module) => {

"use strict";
eval("module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADICAYAAAAp8ov1AAAABmJLR0QA/wD/AP+gvaeTAAAAQElEQVQokWNgYEj5z8TAwPCfiYGBgQGVIEKMTG2DTYwRVez/IHIaNcUGyBnYgpORel6gpvFEJhBqpxIaG8/AAADsKDq/HhYQ2AAAAABJRU5ErkJggg==\";\n\n//# sourceURL=webpack://uc/data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADICAYAAAAp8ov1AAAABmJLR0QA/wD/AP+gvaeTAAAAQElEQVQokWNgYEj5z8TAwPCfiYGBgQGVIEKMTG2DTYwRVez/IHIaNcUGyBnYgpORel6gpvFEJhBqpxIaG8/AAADsKDq/HhYQ2AAAAABJRU5ErkJggg==?");

/***/ }),

/***/ "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADICAYAAAAp8ov1AAAABmJLR0QA/wD/AP+gvaeTAAAAc0lEQVQokb2RQQ6EMAwDx/7/n80BtIEC3RYhLlXrVLGTAYiBWBIGtkPSP01SfreTVoV5re9Rcee1scwDk9NurbR62sZJcpzy9O+2X5KsXabyPaQFYNuvkqkRviDTp9Vs8opC0TpkHvJtVjeReW/5kEyX1gKeLEKE9peeWAAAAABJRU5ErkJggg==":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADICAYAAAAp8ov1AAAABmJLR0QA/wD/AP+gvaeTAAAAc0lEQVQokb2RQQ6EMAwDx/7/n80BtIEC3RYhLlXrVLGTAYiBWBIGtkPSP01SfreTVoV5re9Rcee1scwDk9NurbR62sZJcpzy9O+2X5KsXabyPaQFYNuvkqkRviDTp9Vs8opC0TpkHvJtVjeReW/5kEyX1gKeLEKE9peeWAAAAABJRU5ErkJggg== ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module) => {

"use strict";
eval("module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADICAYAAAAp8ov1AAAABmJLR0QA/wD/AP+gvaeTAAAAc0lEQVQokb2RQQ6EMAwDx/7/n80BtIEC3RYhLlXrVLGTAYiBWBIGtkPSP01SfreTVoV5re9Rcee1scwDk9NurbR62sZJcpzy9O+2X5KsXabyPaQFYNuvkqkRviDTp9Vs8opC0TpkHvJtVjeReW/5kEyX1gKeLEKE9peeWAAAAABJRU5ErkJggg==\";\n\n//# sourceURL=webpack://uc/data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADICAYAAAAp8ov1AAAABmJLR0QA/wD/AP+gvaeTAAAAc0lEQVQokb2RQQ6EMAwDx/7/n80BtIEC3RYhLlXrVLGTAYiBWBIGtkPSP01SfreTVoV5re9Rcee1scwDk9NurbR62sZJcpzy9O+2X5KsXabyPaQFYNuvkqkRviDTp9Vs8opC0TpkHvJtVjeReW/5kEyX1gKeLEKE9peeWAAAAABJRU5ErkJggg==?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			loaded: false,
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/node module decorator */
/******/ 	(() => {
/******/ 		__webpack_require__.nmd = (module) => {
/******/ 			module.paths = [];
/******/ 			if (!module.children) module.children = [];
/******/ 			return module;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		__webpack_require__.b = document.baseURI || self.location.href;
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"main": 0
/******/ 		};
/******/ 		
/******/ 		// no chunk on demand loading
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		// no on chunks loaded
/******/ 		
/******/ 		// no jsonp function
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/nonce */
/******/ 	(() => {
/******/ 		__webpack_require__.nc = undefined;
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./core/app4webpack.js");
/******/ 	
/******/ })()
;