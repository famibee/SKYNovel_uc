"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkuc"] = self["webpackChunkuc"] || []).push([["vendors-node_modules_famibee_skynovel_dist_LayerMng_js"],{

/***/ "./node_modules/@famibee/skynovel/dist/CmnTween.js":
/*!*********************************************************!*\
  !*** ./node_modules/@famibee/skynovel/dist/CmnTween.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   C: () => (/* binding */ i)\n/* harmony export */ });\n/* harmony import */ var _web2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./web2.js */ \"./node_modules/@famibee/skynovel/dist/web2.js\");\n/* harmony import */ var _ReadState_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ReadState.js */ \"./node_modules/@famibee/skynovel/dist/ReadState.js\");\n\n\nclass i {\n  static #t = {};\n  static #i;\n  static #a;\n  static init(t, o) {\n    i.#t = {}, i.#i = t, i.#a = o, i.#a.ticker.add(i.#s);\n  }\n  static #s = () => (0,_ReadState_js__WEBPACK_IMPORTED_MODULE_1__.u)();\n  static destroy() {\n    i.stopAllTw(), i.#a.ticker.remove(i.#s);\n  }\n  static setTwProp(t, o) {\n    const s = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(o, \"repeat\", 1);\n    return t.delay((0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(o, \"delay\", 0)).easing(i.ease(o.ease)).repeat(s > 0 ? s - 1 : 1 / 0).yoyo((0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.a)(o, \"yoyo\", !1));\n  }\n  static #o = {\n    \"Back.In\": (t) => _ReadState_js__WEBPACK_IMPORTED_MODULE_1__.E.Back.In(t),\n    \"Back.InOut\": (t) => _ReadState_js__WEBPACK_IMPORTED_MODULE_1__.E.Back.InOut(t),\n    \"Back.Out\": (t) => _ReadState_js__WEBPACK_IMPORTED_MODULE_1__.E.Back.Out(t),\n    \"Bounce.In\": (t) => _ReadState_js__WEBPACK_IMPORTED_MODULE_1__.E.Bounce.In(t),\n    \"Bounce.InOut\": (t) => _ReadState_js__WEBPACK_IMPORTED_MODULE_1__.E.Bounce.InOut(t),\n    \"Bounce.Out\": (t) => _ReadState_js__WEBPACK_IMPORTED_MODULE_1__.E.Bounce.Out(t),\n    \"Circular.In\": (t) => _ReadState_js__WEBPACK_IMPORTED_MODULE_1__.E.Circular.In(t),\n    \"Circular.InOut\": (t) => _ReadState_js__WEBPACK_IMPORTED_MODULE_1__.E.Circular.InOut(t),\n    \"Circular.Out\": (t) => _ReadState_js__WEBPACK_IMPORTED_MODULE_1__.E.Circular.Out(t),\n    \"Cubic.In\": (t) => _ReadState_js__WEBPACK_IMPORTED_MODULE_1__.E.Cubic.In(t),\n    \"Cubic.InOut\": (t) => _ReadState_js__WEBPACK_IMPORTED_MODULE_1__.E.Cubic.InOut(t),\n    \"Cubic.Out\": (t) => _ReadState_js__WEBPACK_IMPORTED_MODULE_1__.E.Cubic.Out(t),\n    \"Elastic.In\": (t) => _ReadState_js__WEBPACK_IMPORTED_MODULE_1__.E.Elastic.In(t),\n    \"Elastic.InOut\": (t) => _ReadState_js__WEBPACK_IMPORTED_MODULE_1__.E.Elastic.InOut(t),\n    \"Elastic.Out\": (t) => _ReadState_js__WEBPACK_IMPORTED_MODULE_1__.E.Elastic.Out(t),\n    \"Exponential.In\": (t) => _ReadState_js__WEBPACK_IMPORTED_MODULE_1__.E.Exponential.In(t),\n    \"Exponential.InOut\": (t) => _ReadState_js__WEBPACK_IMPORTED_MODULE_1__.E.Exponential.InOut(t),\n    \"Exponential.Out\": (t) => _ReadState_js__WEBPACK_IMPORTED_MODULE_1__.E.Exponential.Out(t),\n    \"Linear.None\": (t) => _ReadState_js__WEBPACK_IMPORTED_MODULE_1__.E.Linear.None(t),\n    \"Quadratic.In\": (t) => _ReadState_js__WEBPACK_IMPORTED_MODULE_1__.E.Quadratic.In(t),\n    \"Quadratic.InOut\": (t) => _ReadState_js__WEBPACK_IMPORTED_MODULE_1__.E.Quadratic.InOut(t),\n    \"Quadratic.Out\": (t) => _ReadState_js__WEBPACK_IMPORTED_MODULE_1__.E.Quadratic.Out(t),\n    \"Quartic.In\": (t) => _ReadState_js__WEBPACK_IMPORTED_MODULE_1__.E.Quartic.In(t),\n    \"Quartic.InOut\": (t) => _ReadState_js__WEBPACK_IMPORTED_MODULE_1__.E.Quartic.InOut(t),\n    \"Quartic.Out\": (t) => _ReadState_js__WEBPACK_IMPORTED_MODULE_1__.E.Quartic.Out(t),\n    \"Quintic.In\": (t) => _ReadState_js__WEBPACK_IMPORTED_MODULE_1__.E.Quintic.In(t),\n    \"Quintic.InOut\": (t) => _ReadState_js__WEBPACK_IMPORTED_MODULE_1__.E.Quintic.InOut(t),\n    \"Quintic.Out\": (t) => _ReadState_js__WEBPACK_IMPORTED_MODULE_1__.E.Quintic.Out(t),\n    \"Sinusoidal.In\": (t) => _ReadState_js__WEBPACK_IMPORTED_MODULE_1__.E.Sinusoidal.In(t),\n    \"Sinusoidal.InOut\": (t) => _ReadState_js__WEBPACK_IMPORTED_MODULE_1__.E.Sinusoidal.InOut(t),\n    \"Sinusoidal.Out\": (t) => _ReadState_js__WEBPACK_IMPORTED_MODULE_1__.E.Sinusoidal.Out(t)\n  };\n  static ease(t) {\n    if (!t) return (s) => _ReadState_js__WEBPACK_IMPORTED_MODULE_1__.E.Linear.None(s);\n    const o = i.#o[t];\n    if (!o) throw \"Áï∞Â∏∏„Å™easeÊåáÂÆö„Åß„Åô\";\n    return o;\n  }\n  static hMemberCnt = {\n    alpha: 0,\n    height: 0,\n    rotation: 0,\n    // rotationX„ÄúZ„ÄÅscaleZ„ÄÅz„ÅØË®≠ÂÆö„Åô„Çã„Å®\n    scale_x: 0,\n    // ‰∏âÊ¨°ÂÖÉÊñπÂêë„ÅÆÊã°Â§ßÁ∏ÆÂ∞è„É´„Éº„ÉÅ„É≥„ÅåÂÉç„ÅçÁîªÂÉè„Åå„Åº„ÇÑ„Åë„Çã„ÅÆ„Åß\n    scale_y: 0,\n    // backlay„ÅßË®≠ÂÆö„Åó„Å™„ÅÑÊñπÈáù\n    pivot_x: 0,\n    pivot_y: 0,\n    width: 0,\n    x: 0,\n    y: 0\n  };\n  static cnvTweenArg(t, o) {\n    const s = {};\n    for (const c of Object.keys(i.hMemberCnt)) {\n      const n = t[c];\n      if (!n) continue;\n      const e = String(n), I = e.startsWith(\"=\"), p = I ? e.slice(1) : e;\n      if (!p) continue;\n      const [O, r] = p.split(\",\"), l = s[c] = parseFloat(O);\n      r && (s[c] += Math.round(\n        Math.random() * (parseFloat(r) - l + 1)\n      )), I && (s[c] += parseFloat(o[c]));\n    }\n    return s;\n  }\n  // „Éà„Ç•„Ç§„Éº„É≥ÂÖ®ÂÅúÊ≠¢\n  static stopAllTw() {\n    i.#t = {}, (0,_ReadState_js__WEBPACK_IMPORTED_MODULE_1__.a)();\n  }\n  static tween(t, o, s, c, n, e, I, p = !0) {\n    const O = this.#i.isSkipping ? 0 : (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(o, \"time\", NaN), r = new _ReadState_js__WEBPACK_IMPORTED_MODULE_1__.T(s).to(c, O).onUpdate(n);\n    i.setTwProp(r, o), i.#t[t] = { tw: r, onEnd: I };\n    const { path: l } = o;\n    let y = r;\n    if (l) {\n      _web2_js__WEBPACK_IMPORTED_MODULE_0__.C.debugLog && console.group(`üçù [${o[\":„Çø„Ç∞Âêç\"]}] path=${l}= start(${s.x},${s.y},${s.alpha})`);\n      for (const { groups: u } of l.matchAll(i.#n)) {\n        const { x: E, x2: v, y: x, y2: S, o: $, o2: g, json: d } = u;\n        let f = {};\n        if (d) try {\n          f = JSON.parse(d);\n        } catch (M) {\n          console.error(`üçù json=${d} ` + M);\n          continue;\n        }\n        else\n          (E ?? v) && (f.x = E ?? v), (x ?? S) && (f.y = x ?? S), ($ ?? g) && (f.alpha = $ ?? g);\n        const B = i.cnvTweenArg(f, s);\n        _web2_js__WEBPACK_IMPORTED_MODULE_0__.C.debugLog && console.info(`üçù ${d ?? `{x:${E} y:${x} o:${$}}`} => hTo:${JSON.stringify(B)}`);\n        const Q = new _ReadState_js__WEBPACK_IMPORTED_MODULE_1__.T(s).to(B, O);\n        i.setTwProp(Q, o), y.chain(Q), y = Q;\n      }\n      _web2_js__WEBPACK_IMPORTED_MODULE_0__.C.debugLog && console.groupEnd();\n    }\n    y.onComplete(() => {\n      const u = i.#t[t];\n      u && (delete i.#t[t], u.tw = void 0, r.stop(), i.#i.breakEvent(\"tsy nm:\" + t), u.onEnd?.(), e());\n    });\n    const { chain: h } = o;\n    if (h) {\n      const u = i.#t[h];\n      if (!u?.tw) throw `${h}„ÅØÂ≠òÂú®„Åó„Å™„ÅÑ„Éª„Åæ„Åü„ÅØÁµÇ‰∫Ü„Åó„Åü„Éà„Ç•„Ç§„Éº„É≥„Åß„Åô`;\n      delete u.onEnd, u.tw.chain(r);\n    } else p && r.start();\n    return r;\n  }\n  // 11 match 301 step (0.1ms) PCRE2 https://regex101.com/r/reinpq/1\n  // List ${x}${x2}/${y}${y2}/${o}${o2}=${json}\\n\n  /*\n  \\(\\s*\n  (?:\t(?<x>[-=\\d\\.]+)\t|\t(['\"])\t(?<x2>.*?)\t\\2\t)?\n  (?:\n  \t\\s*,\\s*\n  \t(?:\t(?<y>[-=\\d\\.]+)\t|\t(['\"])\t(?<y2>.*?)\t\\5\t)?\n  \t(?:\n  \t\t\\s*,\\s*\n  \t\t(?:\t(?<o>[-=\\d\\.]+)\t|\t(['\"])\t(?<o2>.*?)\t\\8\t)\n  \n  \t)?\n  )?\n  |\n  (?<json>\\{[^{}]*})\n  */\n  static #n = /\\(\\s*(?:(?<x>[-=\\d\\.]+)|(['\"])(?<x2>.*?)\\2)?(?:\\s*,\\s*(?:(?<y>[-=\\d\\.]+)|(['\"])(?<y2>.*?)\\5)?(?:\\s*,\\s*(?:(?<o>[-=\\d\\.]+)|(['\"])(?<o2>.*?)\\8))?)?|(?<json>\\{[^{}]*})/g;\n  // „Éà„É©„É≥„ÇπÁµÇ‰∫ÜÂæÖ„Å°\n  static wt(t) {\n    return i.#t[i.TW_INT_TRANS]?.tw ? i.#i.waitEvent(\"tsy nm:\" + i.TW_INT_TRANS, t, () => i.finish_trans()) : !1;\n  }\n  static TW_INT_TRANS = `trans\n`;\n  // ÊîπË°å„Åß„Çπ„ÇØ„É™„Éó„Éà„Åã„ÇâÁµ∂ÂØæÊåáÂÆö„Åß„Åç„Å™„ÅÑÂÄ§„Å´\n  // „É¨„Ç§„É§„ÅÆ„Éà„É©„É≥„Ç∏„Ç∑„Éß„É≥„ÅÆÂÅúÊ≠¢\n  static finish_trans() {\n    return i.#t[i.TW_INT_TRANS]?.tw?.stop().end(), !1;\n  }\n  // stop()„Å®end()„ÅØÂà•\n  // „Éà„Ç•„Ç§„Éº„É≥ÁµÇ‰∫ÜÂæÖ„Å°\n  static wait_tsy(t) {\n    const { layer: o = \"\", id: s, name: c } = t, n = s ? `frm\n${s}` : c ?? o;\n    if (!n) throw \"„Éà„Ç•„Ç§„Éº„É≥„ÅåÊåáÂÆö„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì\";\n    const e = i.#t[n];\n    if (!e?.tw) {\n      if ((0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.a)(t, \"chk_exist_tw\", !1)) throw s ? `„Éï„É¨„Éº„É†„Éà„Ç•„Ç§„Éº„É≥ ${s} „ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„ÄÇ` : `„Éà„Ç•„Ç§„Éº„É≥ ${n} „ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„ÄÇ(layer:${o} name:${c})`;\n      return !1;\n    }\n    return i.#i.waitEvent(\"tsy nm:\" + n, t, () => e.tw?.end());\n  }\n  // „Éà„Ç•„Ç§„Éº„É≥‰∏≠Êñ≠\n  static stop_tsy(t) {\n    const { layer: o = \"\", id: s, name: c } = t, n = s ? `frm\n${s}` : c ?? o;\n    if (!n) throw \"„Éà„Ç•„Ç§„Éº„É≥„ÅåÊåáÂÆö„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì\";\n    return i.#t[n]?.tw?.stop().end(), !1;\n  }\n  // ‰∏ÄÊôÇÂÅúÊ≠¢\n  static pause_tsy(t) {\n    const { layer: o = \"\", id: s, name: c } = t, n = s ? `frm\n${s}` : c ?? o;\n    if (!n) throw \"„Éà„Ç•„Ç§„Éº„É≥„ÅåÊåáÂÆö„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì\";\n    return i.#t[n]?.tw?.pause(), !1;\n  }\n  // ‰∏ÄÊôÇÂÅúÊ≠¢ÂÜçÈñã\n  static resume_tsy(t) {\n    const { layer: o = \"\", id: s, name: c } = t, n = s ? `frm\n${s}` : c ?? o;\n    if (!n) throw \"„Éà„Ç•„Ç§„Éº„É≥„ÅåÊåáÂÆö„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì\";\n    return i.#t[n]?.tw?.resume(), !1;\n  }\n}\n\n//# sourceMappingURL=CmnTween.js.map\n\n\n//# sourceURL=webpack://uc/./node_modules/@famibee/skynovel/dist/CmnTween.js?");

/***/ }),

/***/ "./node_modules/@famibee/skynovel/dist/LayerMng.js":
/*!*********************************************************!*\
  !*** ./node_modules/@famibee/skynovel/dist/LayerMng.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   B: () => (/* binding */ D),\n/* harmony export */   L: () => (/* binding */ Xt),\n/* harmony export */   T: () => (/* binding */ x)\n/* harmony export */ });\n/* harmony import */ var _web2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./web2.js */ \"./node_modules/@famibee/skynovel/dist/web2.js\");\n/* harmony import */ var _CmnTween_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CmnTween.js */ \"./node_modules/@famibee/skynovel/dist/CmnTween.js\");\n/* harmony import */ var _ReadState_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ReadState.js */ \"./node_modules/@famibee/skynovel/dist/ReadState.js\");\n/* harmony import */ var _RubySpliter_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./RubySpliter.js */ \"./node_modules/@famibee/skynovel/dist/RubySpliter.js\");\n\n\n\n\nclass Q {\n  constructor(t, e, s, i, n, o, a, l) {\n    this.cls = e, this.hArg = n, this.sys = o, this.val = a, this.ret = l;\n    const c = o.hFactoryCls[e];\n    if (!c) throw `Â±ûÊÄß class„Äê${e}„Äë„Åå‰∏çÊ≠£„Åß„Åô`;\n    const u = c(), r = c();\n    u.layname = r.layname = t;\n    const m = n[\":id_tag\"] = `layer:${t} cls:${e} page:`;\n    u.ctn.name = u.name = m + \"A\", r.ctn.name = r.name = m + \"B\", s.addChild(u.ctn), i.addChild(r.ctn), (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.a)(n, \"visible\", !0), (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.a)(n, \"visible\", !0), l.isWait = u.lay(n) || r.lay(n), this.#i = { fore: u, back: r };\n    const f = `const.sn.lay.${t}`;\n    a.setVal_Nochk(\"tmp\", f, !0), a.defTmp(f + \".fore.alpha\", () => this.#i.fore.alpha), a.defTmp(f + \".back.alpha\", () => this.#i.back.alpha), a.defTmp(f + \".fore.height\", () => this.#i.fore.height), a.defTmp(f + \".back.height\", () => this.#i.back.height), a.defTmp(f + \".fore.visible\", () => this.#i.fore.ctn.visible), a.defTmp(f + \".back.visible\", () => this.#i.back.ctn.visible), a.defTmp(f + \".fore.width\", () => this.#i.fore.width), a.defTmp(f + \".back.width\", () => this.#i.back.width), a.defTmp(f + \".fore.x\", () => this.#i.fore.x), a.defTmp(f + \".back.x\", () => this.#i.back.x), a.defTmp(f + \".fore.y\", () => this.#i.fore.y), a.defTmp(f + \".back.y\", () => this.#i.back.y);\n  }\n  #i;\n  destroy() {\n    this.#i.fore.destroy(), this.#i.back.destroy();\n  }\n  lay = (t) => this.getPage(t).lay(t);\n  getPage = (t) => Q.argChk_page(t, \"fore\") !== \"back\" ? this.#i.fore : this.#i.back;\n  static argChk_page(t, e) {\n    const s = t.page ?? e;\n    if (s === \"fore\" || s === \"back\") return t.page = s;\n    throw Error(\"Â±ûÊÄß page„Äê\" + s + \"„Äë„Åå‰∏çÊ≠£„Åß„Åô\");\n  }\n  get fore() {\n    return this.#i.fore;\n  }\n  get back() {\n    return this.#i.back;\n  }\n  transPage(t) {\n    [this.#i.back, this.#i.fore] = [this.#i.fore, this.#i.back], this.#i.back.copy(this.#i.fore, t);\n  }\n}\nclass ct {\n  //\tstatic\treadonly\t#alzTagArg\t= new AnalyzeTagArg;\n  constructor(t, e = !1) {\n    this.bg_col = t, this.isLay = e;\n  }\n  static init(t, e, s, i, n, o) {\n  }\n  static cvsResizeDesign() {\n  }\n  destroy() {\n  }\n  gethArg() {\n    return this.hArg;\n  }\n  hArg = {};\n  sethArg(t) {\n    this.hArg = t;\n  }\n  setOther(t) {\n  }\n  adopt(t) {\n  }\n  static enterMode() {\n  }\n  static allHide() {\n  }\n  set visible(t) {\n  }\n  static leaveMode() {\n  }\n  cvsResize() {\n  }\n  make() {\n  }\n  static replaceToken(t) {\n  }\n}\nclass jt extends ct {\n  constructor(t, e) {\n    super(\"#29e\", !0);\n  }\n  setSp(t) {\n  }\n}\nclass _ {\n  constructor(t = \"\", e, s = () => {\n  }, i = () => {\n  }) {\n    this.csvFn = t, this.ctn = e, this.fncFirstComp = s, this.fncAllComp = i, t && (this.#m = e ? (n) => {\n      e.addChild(n), this.#h.push(n);\n    } : () => {\n    }, this.ret = _.#s(\n      t,\n      (n) => this.fncFirstComp(n),\n      // Â∑Æ„ÅóÊõø„ÅàËÄÉÊÖÆ\n      (n) => this.fncAllComp(n),\n      // Â∑Æ„ÅóÊõø„ÅàËÄÉÊÖÆ\n      (n) => this.#m(n)\n      // Â∑Æ„ÅóÊõø„ÅàËÄÉÊÖÆ\n    ));\n  }\n  static #i;\n  static #e;\n  static #n;\n  static #o;\n  static init(t, e, s, i, n) {\n    _.#i = t, _.#e = e, _.#n = s, _.#o = i, s.arg.crypto && (_.#f = _.#p, _.#l = _.#I);\n    const o = () => {\n      const a = _.#c * _.#t;\n      for (const l of Object.values(_.#k)) l.volume = a;\n    };\n    n.setNoticeChgVolume(\n      (a) => {\n        _.#c = a, o();\n      },\n      (a) => {\n        _.#t = a, o();\n      }\n    );\n  }\n  static #t = 1;\n  static #c = 1;\n  static #d;\n  static setEvtMng(t) {\n    _.#d = t;\n  }\n  ret = !1;\n  #m;\n  #h = [];\n  destroy() {\n    this.fncFirstComp = () => {\n    }, this.fncAllComp = () => {\n    }, this.#m = (t) => t.destroy();\n    for (const t of this.#h)\n      _.stopVideo(t.name), t.parent?.removeChild(t), t.destroy();\n    this.#h = [];\n  }\n  static destroy() {\n    _.#y = {}, _.#r = {}, _.#k = {};\n  }\n  //static #ldrHFn: {[fn: string]: 1} = {};\n  static #s(t, e, s, i) {\n    if (!t) return !1;\n    let n = !1;\n    if (t.startsWith(\"data:\")) {\n      const r = () => {\n        const m = _web2_js__WEBPACK_IMPORTED_MODULE_0__.v.from(t);\n        i(m), e(m), s(n);\n      };\n      return t in _web2_js__WEBPACK_IMPORTED_MODULE_0__.q ? r() : (n = !0, new _web2_js__WEBPACK_IMPORTED_MODULE_0__.d().add(t, t).load(r)), n;\n    }\n    const o = [], a = new _web2_js__WEBPACK_IMPORTED_MODULE_0__.d(), l = t.split(\",\"), c = l.length;\n    for (let r = 0; r < c; ++r) {\n      const m = l[r];\n      if (!m) throw \"faceÂ±ûÊÄß„Å´Á©∫Ë¶ÅÁ¥†„ÅåÂê´„Åæ„Çå„Åæ„Åô\";\n      const { dx: f, dy: h, blendmode: p, fn: d } = _.#y[m] || {\n        fn: m,\n        dx: 0,\n        dy: 0,\n        blendmode: _web2_js__WEBPACK_IMPORTED_MODULE_0__.B.NORMAL\n      }, b = r === 0 ? e : (v) => {\n        v.x = f, v.y = h, v.blendMode = p;\n      };\n      if (o.push({ fn: d, fnc: b }), d in _.#r || d in _web2_js__WEBPACK_IMPORTED_MODULE_0__.q || d in _web2_js__WEBPACK_IMPORTED_MODULE_0__.d.shared.resources) continue;\n      n = !0;\n      const y = _.#i.searchPath(d, _web2_js__WEBPACK_IMPORTED_MODULE_0__.S.SP_GSM), C = this.#n.arg.crypto ? { xhrType: y.slice(-5) === \".json\" ? _web2_js__WEBPACK_IMPORTED_MODULE_0__.L.XHR_RESPONSE_TYPE.TEXT : _web2_js__WEBPACK_IMPORTED_MODULE_0__.L.XHR_RESPONSE_TYPE.BUFFER } : {};\n      a.add({ ...C, name: d, url: y });\n    }\n    const u = (r, m) => {\n      for (const { fn: f, fnc: h } of o) {\n        const p = _.#$(f, m);\n        p.name = f, i(p), h(p);\n      }\n      s(n);\n    };\n    return n ? a.use(async (r, m) => {\n      try {\n        if (r.extension === \"json\") {\n          const h = await this.#n.dec(\"json\", r.data);\n          _.#l(h, r, m);\n          return;\n        }\n        const f = await this.#n.decAB(r.data);\n        _.#f(f, r, m);\n      } catch (f) {\n        const h = `ÁîªÂÉè/ÂãïÁîª„É≠„Éº„ÉâÂ§±Êïó„Åß„Åô fn:${r.name} ${f}`;\n        _.#d.isSkipping ? console.warn(h) : console.error(\"%c\" + h, \"color:#FF3300;\");\n      }\n    }).load(u) : queueMicrotask(() => u(0, {})), n;\n  }\n  static #y = {};\n  static #r = {};\n  static #f = (t, { type: e, name: s, data: i }, n) => {\n    switch (e) {\n      case _web2_js__WEBPACK_IMPORTED_MODULE_0__.L.TYPE.VIDEO:\n        const o = i;\n        o.volume = _.#c, _.#k[s] = _.#g(o);\n    }\n    n();\n  };\n  static #u(t) {\n    const e = /([^\\d]+)\\d+\\.(\\w+)/.exec(t[0] ?? \"\");\n    if (!e) return [];\n    const s = e[1].length, i = -e[2].length - 1;\n    return t.sort((n, o) => (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.i)(n.slice(s, i)) > (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.i)(o.slice(s, i)) ? 1 : -1);\n  }\n  static async #p(t, e, s) {\n    e.data = t, e.extension !== \"bin\" && s(), t instanceof HTMLImageElement ? (e.texture = await _web2_js__WEBPACK_IMPORTED_MODULE_0__.r.fromLoader(t, e.url, e.name), e.type = _web2_js__WEBPACK_IMPORTED_MODULE_0__.L.TYPE.IMAGE) : t instanceof HTMLVideoElement && (t.volume = _.#c, _.#k[e.name] = _.#g(t), e.type = _web2_js__WEBPACK_IMPORTED_MODULE_0__.L.TYPE.VIDEO), s();\n  }\n  static #g(t) {\n    return _.#e.getVal(\"const.sn.needClick2Play\") && (_web2_js__WEBPACK_IMPORTED_MODULE_0__.D.trace_beforeNew(`[layÁ≥ª] ${_web2_js__WEBPACK_IMPORTED_MODULE_0__.D.strPos()}Êú™„ÇØ„É™„ÉÉ„ÇØÁä∂ÊÖã„ÅßÂãïÁîª„ÇíËá™ÂãïÂÜçÁîü„Åó„Åæ„Åô„ÄÇÈü≥Â£∞„ÅØ„Éü„É•„Éº„Éà„Åï„Çå„Åæ„Åô`, \"W\"), t.muted = !0), t.setAttribute(\"playsinline\", \"\"), t;\n  }\n  static #l = (t, { type: e, spritesheet: s, name: i, data: n }, o) => {\n    switch (e) {\n      case _web2_js__WEBPACK_IMPORTED_MODULE_0__.L.TYPE.JSON:\n        const a = s._frameKeys;\n        _.#u(a), _.#r[i] = {\n          aTex: a.map((l) => _web2_js__WEBPACK_IMPORTED_MODULE_0__.r.from(l)),\n          meta: n.meta\n        };\n    }\n    o();\n  };\n  static #I(t, e, s) {\n    const { meta: i, frames: n } = e.data = JSON.parse(t);\n    if (e.type = _web2_js__WEBPACK_IMPORTED_MODULE_0__.L.TYPE.JSON, !i?.image) {\n      s();\n      return;\n    }\n    const o = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.f)(i.image), a = _.#i.searchPath(o, _web2_js__WEBPACK_IMPORTED_MODULE_0__.S.SP_GSM);\n    new _web2_js__WEBPACK_IMPORTED_MODULE_0__.d().use((l, c) => {\n      this.#n.decAB(l.data).then((u) => {\n        l.data = u, u instanceof HTMLImageElement && (l.type = _web2_js__WEBPACK_IMPORTED_MODULE_0__.L.TYPE.IMAGE, URL.revokeObjectURL(u.src)), c();\n      }).catch((u) => this.#o.errScript(`ÁîªÂÉè/ÂãïÁîª„É≠„Éº„ÉâÂ§±Êïó„Åß„Åô dec2res4Cripto fn:${l.name} ${u}`, !1));\n    }).add({ name: o, url: a, xhrType: _web2_js__WEBPACK_IMPORTED_MODULE_0__.L.XHR_RESPONSE_TYPE.BUFFER }).load((l, c) => {\n      for (const { data: u } of Object.values(l.resources)) {\n        const { baseTexture: r } = _web2_js__WEBPACK_IMPORTED_MODULE_0__.r.from(u), m = Object.values(n);\n        _.#r[e.name] = {\n          aTex: m.map(({ frame: { x: f, y: h, w: p, h: d } }) => new _web2_js__WEBPACK_IMPORTED_MODULE_0__.r(\n            r,\n            new _web2_js__WEBPACK_IMPORTED_MODULE_0__.R(f, h, p, d)\n          )),\n          meta: i\n        };\n      }\n      s();\n    });\n  }\n  static #$(t, e) {\n    const s = _.#r[t];\n    if (s) {\n      const o = new _web2_js__WEBPACK_IMPORTED_MODULE_0__.s(s.aTex);\n      return o.animationSpeed = s.meta.animationSpeed ?? 1, o.play(), o;\n    }\n    if (t in _web2_js__WEBPACK_IMPORTED_MODULE_0__.q) return _web2_js__WEBPACK_IMPORTED_MODULE_0__.v.from(t);\n    const i = _.#k[t];\n    if (i) return _web2_js__WEBPACK_IMPORTED_MODULE_0__.v.from(i);\n    const n = e[t];\n    return n ? new _web2_js__WEBPACK_IMPORTED_MODULE_0__.v(n.texture) : new _web2_js__WEBPACK_IMPORTED_MODULE_0__.v();\n  }\n  static #k = {};\n  static getHFn2VElm(t) {\n    return _.#k[t];\n  }\n  static wv(t) {\n    const { fn: e } = t;\n    if (!e) throw \"fn„ÅØÂøÖÈ†à„Åß„Åô\";\n    const s = _.#k[e];\n    if (!s || s.loop) return !1;\n    if (_.#d.isSkipping || s.ended)\n      return _.stopVideo(e), !1;\n    const i = () => _.#d.breakEvent(\"wv fn:\" + e);\n    s.addEventListener(\"ended\", i, { once: !0, passive: !0 });\n    const n = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.a)(t, \"stop\", !0);\n    return _.#d.waitEvent(\"wv fn:\" + e, t, () => {\n      s.removeEventListener(\"ended\", i), n && _.stopVideo(e), i();\n    });\n  }\n  static stopVideo(t) {\n    const e = _.#k[t];\n    e && (delete _.#k[t], e.pause(), e.currentTime = e.duration);\n  }\n  static add_face(t) {\n    const { name: e } = t;\n    if (!e) throw \"name„ÅØÂøÖÈ†à„Åß„Åô\";\n    if (e in _.#y) throw \"‰∏Ä„Å§„ÅÆnameÔºà\" + e + \"Ôºâ„Å´ÂØæ„Åó„Å¶Âêå„ÅòÁîªÂÉè„ÇíË§áÊï∞Ââ≤„ÇäÂΩì„Å¶„Çâ„Çå„Åæ„Åõ„Çì\";\n    const { fn: s = e } = t;\n    return _.#y[e] = {\n      fn: s,\n      dx: (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(t, \"dx\", 0),\n      dy: (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(t, \"dy\", 0),\n      blendmode: _web2_js__WEBPACK_IMPORTED_MODULE_0__.w.getBlendmodeNum(t.blendmode || \"\")\n    }, !1;\n  }\n  //\tstatic\tclearFace2Name(): void {SpritesMng.hFace = {}}\n}\nclass H extends _web2_js__WEBPACK_IMPORTED_MODULE_0__.w {\n  static #i = new _web2_js__WEBPACK_IMPORTED_MODULE_0__.E();\n  static #e;\n  static init(t, e, s, i, n, o) {\n    H.#e = s, _.init(e, o, i, t, n);\n  }\n  static destroy() {\n    H.#i.clear(), _.destroy();\n  }\n  #n = new jt(this.ctn, this);\n  constructor() {\n    super(), _web2_js__WEBPACK_IMPORTED_MODULE_0__.C.isDbg && (this.#o = (t) => this.#n.setSp(t), this.cvsResize = () => {\n      super.cvsResize(), this.#n.cvsResize();\n    });\n  }\n  #o = () => {\n  };\n  #t = \"\";\n  #c = \"\";\n  #d = \"\";\n  lay = (t) => {\n    const e = this.#m(t, (s) => {\n      s && (0,_ReadState_js__WEBPACK_IMPORTED_MODULE_2__.e)();\n    });\n    return e && (0,_ReadState_js__WEBPACK_IMPORTED_MODULE_2__.d)(), e;\n  };\n  #m(t, e) {\n    const { fn: s, face: i = \"\" } = t;\n    if (this.#n.sethArg(t), !s)\n      return super.lay(t), this.ctn.children.length > 0 && this.setPos(t), this.#c = \"\", this.#t = this.#d = i, e(!1), !1;\n    const n = \"fn\" in t, o = \"face\" in t;\n    return this.clearLay({ clear_filter: (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.a)(t, \"clear_filter\", !0) }), n && (this.#c = s), o && (this.#d = i), super.lay(t), t.dx = 0, t.dy = 0, this.#h.destroy(), this.#h = new _(\n      this.#t = s + (i ? \",\" + i : \"\"),\n      this.ctn,\n      (a) => {\n        (\"width\" in t || \"height\" in t) && (a.width = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(t, \"width\", 0), a.height = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(t, \"height\", 0)), this.#s = a.width, this.#y = a.height, _web2_js__WEBPACK_IMPORTED_MODULE_0__.w.setXY(a, t, this.ctn, !0), _web2_js__WEBPACK_IMPORTED_MODULE_0__.w.setBlendmode(this.ctn, t), this.#o(a);\n      },\n      (a) => e(a)\n    ), this.#h.ret;\n  }\n  #h = new _();\n  #s = 0;\n  #y = 0;\n  get width() {\n    return this.#s;\n  }\n  get height() {\n    return this.#y;\n  }\n  renderStart() {\n    this.#f = new _web2_js__WEBPACK_IMPORTED_MODULE_0__.v(this.#r), this.#f.visible = !1, this.ctn.addChildAt(this.#f, 0), this.#f.position.set(-this.ctn.x, -this.ctn.y);\n    let t = () => {\n      const e = this.ctn.alpha;\n      this.ctn.alpha = 1;\n      for (const s of this.ctn.children) s.visible = !0;\n      this.#f.visible = !1, H.#e.renderer.render(this.ctn, { renderTexture: this.#r }), this.ctn.alpha = e;\n      for (const s of this.ctn.children) s.visible = !1;\n    };\n    if (!this.containMovement) {\n      let e = t;\n      t = () => {\n        t = () => {\n        }, e();\n      };\n    }\n    this.#u = () => {\n      t(), this.#f.visible = !0;\n    }, H.#e.ticker.add(this.#u);\n  }\n  #r = _web2_js__WEBPACK_IMPORTED_MODULE_0__.x.create({\n    width: _web2_js__WEBPACK_IMPORTED_MODULE_0__.C.stageW,\n    height: _web2_js__WEBPACK_IMPORTED_MODULE_0__.C.stageH\n  });\n  #f = new _web2_js__WEBPACK_IMPORTED_MODULE_0__.v();\n  #u = () => {\n  };\n  renderEnd() {\n    H.#e.ticker.remove(this.#u), this.ctn.removeChild(this.#f);\n    for (const t of this.ctn.children) t.visible = !0;\n    this.#f.destroy(!0), this.#r = _web2_js__WEBPACK_IMPORTED_MODULE_0__.x.create({\n      width: _web2_js__WEBPACK_IMPORTED_MODULE_0__.C.stageW,\n      height: _web2_js__WEBPACK_IMPORTED_MODULE_0__.C.stageH\n    });\n  }\n  setPos(t) {\n    _web2_js__WEBPACK_IMPORTED_MODULE_0__.w.setXY(\n      this.ctn.children[0] ?? this.ctn,\n      t,\n      this.ctn,\n      !0\n    );\n  }\n  // „Ç¢„Éã„É°„ÉªÂãïÁîª„ÇíÂê´„ÇÄ„Åã\n  get containMovement() {\n    if (this.#t === \"\") return !1;\n    const t = this.ctn.children;\n    return this.#t.split(\",\").some(\n      (e, s) => t[s] instanceof _web2_js__WEBPACK_IMPORTED_MODULE_0__.s || _.getHFn2VElm(e)\n    );\n  }\n  clearLay(t) {\n    super.clearLay(t), this.#h.destroy(), this.#c = \"\", this.#d = \"\", this.#t = \"\";\n  }\n  record = () => ({\n    ...super.record(),\n    sBkFn: this.#c,\n    sBkFace: this.#d\n    //\t\tidc_hArg\t: this.#idc.gethArg(),\n  });\n  playback(t, e) {\n    if (super.playback(t, e), t.sBkFn === \"\" && t.sBkFace === \"\") {\n      this.#c = \"\", this.#d = \"\";\n      return;\n    }\n    e.push(new Promise((s) => this.#m(\n      { fn: t.sBkFn, face: t.sBkFace, left: t.x, top: t.y, alpha: t.alpha, blendmode: _web2_js__WEBPACK_IMPORTED_MODULE_0__.w.getNum2Blendmode(t.blendMode), rotation: t.rotation, scale_x: t.scale_x, scale_y: t.scale_y },\n      (i) => {\n        this.ctn.position.set(t.x, t.y), s();\n      }\n      // Layer.setXY()„ÅÆÂæå„Å´ÂÜçÂ∫¶ÁßªÂãï\n    )));\n  }\n  makeDesignCast(t) {\n    this.ctn.visible && t(this.#n);\n  }\n  //makeDesignCastChildren(_gdc: IMakeDesignCast) {}\n  cvsResize() {\n    super.cvsResize();\n  }\n  showDesignCast() {\n    this.#n.visible = !0;\n  }\n  //showDesignCastChildren() {}\n  dump = () => super.dump() + `, \"pic\":\"${this.#t}\"`;\n}\nconst Z = \"„ÄÅ„ÄÇÔºåÔºéÔºâÔºΩÔΩù„Äâ„Äç„Äè„Äë„Äï‚Äù„Äü„ÅÅ„ÅÉ„ÅÖ„Åá„Åâ„Å£„ÇÉ„ÇÖ„Çá„Çé„Ç°„Ç£„Ç•„Çß„Ç©„ÉÉ„É£„É•„Éß„ÉÆ„Éµ„É∂ÔºÅÔºü!?‚Äº‚Åâ„Éª„Éº„Çù„Çû„ÉΩ„Éæ„ÄÖ\", it = \"ÔºªÔºàÔΩõ„Äà„Äå„Äé„Äê„Äî‚Äú„Äù\", nt = \"‚îÄ‚Ä•‚Ä¶\", ht = Z, gt = new RegExp(`[${Z}]`), Dt = new RegExp(`[${it}]`), Ht = new RegExp(`[${nt}]`), Wt = gt;\nclass zt {\n  #i = Z;\n  #e = it;\n  #n = nt;\n  #o = ht;\n  get Ë°åÈ†≠Á¶ÅÂâá() {\n    return this.#i;\n  }\n  get Ë°åÊú´Á¶ÅÂâá() {\n    return this.#e;\n  }\n  get ÂàÜÂâ≤Á¶ÅÊ≠¢() {\n    return this.#n;\n  }\n  get „Å∂„Çâ‰∏ã„Åí() {\n    return this.#o;\n  }\n  #t = gt;\n  #c = Dt;\n  #d = Ht;\n  #m = Wt;\n  break_fixed = !1;\n  break_fixed_left = 0;\n  break_fixed_top = 0;\n  bura = !1;\n  lay(t) {\n    t.kinsoku_sol && (this.#i = t.kinsoku_sol, this.#t = new RegExp(`[${this.#i}]`)), t.kinsoku_eol && (this.#e = t.kinsoku_eol, this.#h(), this.#c = new RegExp(`[${this.#e}]`)), t.kinsoku_dns && (this.#n = t.kinsoku_dns, this.#s(), this.#d = new RegExp(`[${this.#n}]`)), t.kinsoku_bura && (this.#o = t.kinsoku_bura, this.#h(), this.#s(), this.#m = new RegExp(`[${this.#o}]`)), \"bura\" in t && (this.bura = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.a)(t, \"bura\", !1)), this.break_fixed = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.a)(t, \"break_fixed\", this.break_fixed), this.break_fixed_left = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(t, \"break_fixed_left\", this.break_fixed_left), this.break_fixed_top = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(t, \"break_fixed_top\", this.break_fixed_top);\n  }\n  // Á¶ÅÂâá„ÅÆÁ´∂ÂêàÔºà„Å∂„Çâ‰∏ã„Åí „Å® Ë°åÊú´Á¶ÅÂâá „ÅÆ‰∏°Êñπ„Å´Âê´„Åæ„Çå„ÇãÊñáÂ≠ó„Åå„ÅÇ„Å£„Å¶„ÅØ„Å™„Çâ„Å™„ÅÑÔºâ\n  #h() {\n    const t = this.#e.length, e = this.#o.length;\n    if (t < e)\n      for (let s = 0; s < t; ++s) {\n        const i = this.#e[s];\n        if (this.#o.includes(i)) throw `Á¶ÅÂâá„ÅÆÁ´∂Âêà„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇÊñáÂ≠ó ${i} „Åå„Å∂„Çâ‰∏ã„Åí „Å® Ë°åÊú´Á¶ÅÂâá „ÅÆ‰∏°Êñπ„Å´Âê´„Åæ„Çå„Åæ„Åô`;\n      }\n    else\n      for (let s = 0; s < e; ++s) {\n        const i = this.#o[s];\n        if (this.#e.includes(i)) throw `Á¶ÅÂâá„ÅÆÁ´∂Âêà„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇÊñáÂ≠ó ${i} „Åå„Å∂„Çâ‰∏ã„Åí „Å® Ë°åÊú´Á¶ÅÂâá „ÅÆ‰∏°Êñπ„Å´Âê´„Åæ„Çå„Åæ„Åô`;\n      }\n  }\n  // Á¶ÅÂâá„ÅÆÁ´∂ÂêàÔºà„Å∂„Çâ‰∏ã„Åí „Å® ÂàÜÂâ≤Á¶ÅÊ≠¢ „ÅÆ‰∏°Êñπ„Å´Âê´„Åæ„Çå„ÇãÊñáÂ≠ó„Åå„ÅÇ„Å£„Å¶„ÅØ„Å™„Çâ„Å™„ÅÑÔºâ\n  #s() {\n    const t = this.#n.length, e = this.#o.length;\n    if (t < e)\n      for (let s = 0; s < t; ++s) {\n        const i = this.#n[s];\n        if (this.#o.includes(i)) throw `Á¶ÅÂâá„ÅÆÁ´∂Âêà„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇÊñáÂ≠ó ${i} „Åå„Å∂„Çâ‰∏ã„Åí „Å® ÂàÜÂâ≤Á¶ÅÊ≠¢ „ÅÆ‰∏°Êñπ„Å´Âê´„Åæ„Çå„Åæ„Åô`;\n      }\n    else\n      for (let s = 0; s < e; ++s) {\n        const i = this.#o[s];\n        if (this.#n.includes(i)) throw `Á¶ÅÂâá„ÅÆÁ´∂Âêà„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇÊñáÂ≠ó ${i} „Åå„Å∂„Çâ‰∏ã„Åí „Å® ÂàÜÂâ≤Á¶ÅÊ≠¢ „ÅÆ‰∏°Êñπ„Å´Âê´„Åæ„Çå„Åæ„Åô`;\n      }\n  }\n  reNew(t) {\n    t.#y(this.#i, this.#e, this.#n, this.#o), t.break_fixed = this.break_fixed, t.break_fixed_left = this.break_fixed_left, t.break_fixed_top = this.break_fixed_top, t.bura = this.bura;\n  }\n  #y(t, e, s, i) {\n    this.#i != t && (this.#i = t, this.#t = new RegExp(`[${t}]`)), this.#e != e && (this.#e = e, this.#c = new RegExp(`[${e}]`)), this.#n != s && (this.#n = s, this.#d = new RegExp(`[${s}]`)), this.#o != i && (this.#o = i, this.#m = new RegExp(`[${i}]`));\n  }\n  record() {\n    const t = {\n      break_fixed: this.break_fixed,\n      break_fixed_left: this.break_fixed_left,\n      break_fixed_top: this.break_fixed_top,\n      bura: this.bura\n    };\n    return this.#i === Z && (t.Ë°åÈ†≠Á¶ÅÂâá = this.#i), this.#e === it && (t.Ë°åÊú´Á¶ÅÂâá = this.#e), this.#n === nt && (t.ÂàÜÂâ≤Á¶ÅÊ≠¢ = this.#n), this.#o === ht && (t.„Å∂„Çâ‰∏ã„Åí = this.#o), t;\n  }\n  playback(t) {\n    t && (this.#y(\n      t.Ë°åÈ†≠Á¶ÅÂâá ?? Z,\n      t.Ë°åÊú´Á¶ÅÂâá ?? it,\n      t.ÂàÜÂâ≤Á¶ÅÊ≠¢ ?? nt,\n      t.„Å∂„Çâ‰∏ã„Åí ?? ht\n    ), this.break_fixed = t.break_fixed, this.break_fixed_left = t.break_fixed_left, this.break_fixed_top = t.break_fixed_top, this.bura = t.bura);\n  }\n  hyph(t, e, s, i, n) {\n    let o, a = 0, l = 2, c = (u) => (c = () => !1, i === u ? (i > 0 && (t.innerHTML = n.replaceAll('class=\"sn_ch\"', 'class=\"sn_ch sn_ch_in_default\"')), !0) : u < 2);\n    do {\n      if (o = this.#f(t, e), a = o.length, c(a)) break;\n      let u = -1 / 0;\n      for (; l < a; ++l) {\n        const { elm: r, rect: m, ch: f } = o[l];\n        if (r.tagName === \"RT\") continue;\n        const h = s ? m.y : m.x;\n        if (u <= h || r.previousElementSibling?.tagName === \"SPAN\" && r.previousElementSibling?.innerHTML.includes(\"<br>\") || r.parentElement?.previousElementSibling?.tagName === \"SPAN\" && r.parentElement?.previousElementSibling?.innerHTML.includes(\"<br>\")) {\n          u = h, this.break_fixed || (this.break_fixed_left = m.x, this.break_fixed_top = m.y);\n          continue;\n        }\n        const p = this.#r(o, l), { elm: d, rect: b, ch: y } = o[p];\n        if (!this.break_fixed) {\n          this.break_fixed_left = b.x, this.break_fixed_top = b.y;\n          const P = globalThis.getComputedStyle(d), B = parseFloat(P.fontSize);\n          s ? this.break_fixed_top += B : this.break_fixed_left += B;\n        }\n        u = -1 / 0;\n        const C = l, { cont: v, ins: w } = this.bura ? this.hyph_alg_bura(o, p, y, l) : this.hyph_alg(o, p, y, l, f);\n        if (l = w, v) continue;\n        const N = o[l].elm, R = N.parentElement, T = document.createElement(\"br\");\n        if (R.classList.contains(\"sn_tx\")) R.insertBefore(T, N);\n        else {\n          const P = R.parentElement;\n          P.classList.contains(\"sn_ch\") ? P.parentElement.insertBefore(T, P) : P.insertBefore(T, R);\n        }\n        l += 2, l < C && (l = C), a = -1;\n        break;\n      }\n    } while (a < 0);\n    return [o, a];\n  }\n  // ‰∏Ä„Å§Ââç„ÅÆË¶ÅÁ¥†„ÇíÊé¢„ÅôÔºà„É´„ÉìÂØæÂøúÔºâ\n  #r(t, e) {\n    const s = e - 1, { elm: i } = t[s];\n    return i.tagName !== \"RT\" ? s - (i.style.textCombineUpright === \"all\" ? Array.from(i.textContent ?? \"\").length - 1 : 0) : s - Array.from(i.textContent ?? \"\").length;\n  }\n  #f(t, e) {\n    const s = [];\n    if (t.nodeType !== t.TEXT_NODE) return Array.from(t.childNodes).map((a) => this.#f(a, e)).flat();\n    const i = t.ownerDocument.createRange();\n    i.selectNodeContents(t);\n    let n = 0;\n    const o = i.endOffset;\n    for (; n < o; ) {\n      i.setStart(t, n), i.setEnd(t, ++n);\n      const a = i.toString();\n      s.push({\n        ch: a,\n        rect: e(i, a),\n        elm: i.startContainer.parentElement\n      });\n    }\n    return i.detach(), s;\n  }\n  /**\n   * ÊäΩË±°Âåñ„Åó„ÅüÁ¶ÅÂâáÂá¶ÁêÜ„Ç¢„É´„Ç¥„É™„Ç∫„É†\n   * @method hyph_alg\n   * @param {IChRect[]} a - ÊñáÁ´†„ÅÆÊäΩË±°ÂåñÈÖçÂàó\n   * @param {number} p_i - Âá¶ÁêÜË¶ÅÁ¥†„ÅÆ‰∏Ä„Å§Ââç„ÅÆÊ∑ªÂ≠ó\n   * @param {string} p_ch - Âá¶ÁêÜË¶ÅÁ¥†„ÅÆ‰∏Ä„Å§Ââç„ÅÆÊñáÂ≠ó\n   * @param {number} i - Âá¶ÁêÜË¶ÅÁ¥†„ÅÆÊ∑ªÂ≠ó\n   * @param {string} ch - Âá¶ÁêÜË¶ÅÁ¥†„ÅÆÊñáÂ≠ó\n   * @return {Object} result Êàª„ÇäÂÄ§\n   * @return {boolean} result.cont - true: Âëº„Å≥ÂÖÉ„ÅßÊîπË°åÊåøÂÖ•„Åõ„Åö continue\n   * @return {number} result.ins - ÊâãÂâç„Å´ÊîπË°å„ÇíÊåøÂÖ•„Åô„Åπ„ÅçË¶ÅÁ¥†„ÅÆÊ∑ªÂ≠ó\n   */\n  hyph_alg(t, e, s, i, n) {\n    if (!this.#c.test(s)) {\n      if (this.#t.test(n))\n        for (; (i = this.#r(t, i)) >= 0 && this.#t.test(t[i].ch); )\n          ;\n      else if (!(s === n && this.#d.test(s))) return { cont: !0, ins: i + 1 };\n    }\n    for (i = e; (i = this.#r(t, i)) >= 0 && this.#c.test(t[i].ch); )\n      ;\n    return { cont: !1, ins: i + 1 };\n  }\n  /**\n   * ÊäΩË±°Âåñ„Åó„ÅüÁ¶ÅÂâáÂá¶ÁêÜ„Ç¢„É´„Ç¥„É™„Ç∫„É†\n   * @method hyph_alg\n   * @param {IChRect[]} a - ÊñáÁ´†„ÅÆÊäΩË±°ÂåñÈÖçÂàó\n   * @param {number} p_i - Âá¶ÁêÜË¶ÅÁ¥†„ÅÆ‰∏Ä„Å§Ââç„ÅÆÊ∑ªÂ≠ó\n   * @param {string} p_ch - Âá¶ÁêÜË¶ÅÁ¥†„ÅÆ‰∏Ä„Å§Ââç„ÅÆÊñáÂ≠ó\n   * @param {number} i - Âá¶ÁêÜË¶ÅÁ¥†„ÅÆÊ∑ªÂ≠ó\n   * @return {Object} result Êàª„ÇäÂÄ§\n   * @return {boolean} result.cont - true: Âëº„Å≥ÂÖÉ„ÅßÊîπË°åÊåøÂÖ•„Åõ„Åö continue\n   * @return {number} result.ins - ÊâãÂâç„Å´ÊîπË°å„ÇíÊåøÂÖ•„Åô„Åπ„ÅçË¶ÅÁ¥†„ÅÆÊ∑ªÂ≠ó\n   */\n  hyph_alg_bura(t, e, s, i) {\n    const n = this.#r(t, e), { ch: o } = t[n];\n    if (this.#m.test(o) || this.#t.test(o)) {\n      let l = e;\n      (this.#m.test(s) || this.#t.test(s)) && ++l;\n      const c = this.#r(t, l), { ch: u } = t[c], { ch: r } = t[l];\n      if (u === r && this.#d.test(r)) return { cont: !1, ins: c };\n      if (!this.#c.test(u)) return { cont: !1, ins: l };\n      l = c;\n      do\n        if (!this.#c.test(t[l].ch)) break;\n      while ((l = this.#r(t, l)) >= 0);\n      return { cont: !1, ins: l + 1 };\n    }\n    const a = this.#r(t, n);\n    if (i >= 3) {\n      const { ch: l } = t[a];\n      if (this.#d.test(o) && l === o)\n        return { cont: !1, ins: a };\n      if (this.#c.test(l)) {\n        let c = a;\n        for (; (c = this.#r(t, c)) >= 0 && this.#c.test(t[c].ch); )\n          ;\n        return { cont: !1, ins: c + 1 };\n      }\n    }\n    return { cont: !1, ins: n };\n  }\n}\nclass k extends _web2_js__WEBPACK_IMPORTED_MODULE_0__.j {\n  constructor(t, e, s) {\n    super(), this.ctn = t, this.canFocus = e, this.sys = s, this.#t.classList.add(\"sn_tx\"), this.#t.style.position = \"absolute\", k.#e.view.parentElement.appendChild(this.#t), this.addChild(this.#c), this.addChild(this.#d), this.#d.name = \"grpDbgMasume\", this.noticeCompTxt = s.isApp && k.#i.oCfg.debug.dumpHtm ? () => {\n      _ReadState_js__WEBPACK_IMPORTED_MODULE_2__.R.noticeCompTxt();\n      const i = this.#t.innerHTML;\n      if (i === \"\") return;\n      const { fn: n, ln: o } = k.#o.nowScrFnLn(), a = `dumpHtm ${t.name.slice(0, -7).replaceAll(\":\", \"=\")}(fn=${n} line=${o})`;\n      s.outputFile(\n        s.path_downloads + a + \".htm\",\n        `<!doctype html><html><head><meta charset=utf-8><title>${a}</title>\n<h1>${a}</h1>${i.replaceAll(/ class=\"sn_ch\"|animation-delay: \\d+ms; ?| data-add=\"{&quot;ch_in_style&quot;:&quot;default&quot;, &quot;ch_out_style&quot;:&quot;default&quot;}\"/g, \"\").replaceAll(' style=\"\"', \"\").replaceAll(/(<\\/?ruby>)/g, `\n$1\n`).replaceAll(/<(br|\\/span)>/g, `<$1>\n`)}`\n      );\n    } : () => _ReadState_js__WEBPACK_IMPORTED_MODULE_2__.R.noticeCompTxt();\n  }\n  static #i;\n  static #e;\n  static init(t, e) {\n    k.#i = t, k.#e = e;\n  }\n  static #n;\n  static #o;\n  static setEvtMng(t, e) {\n    k.#n = t, k.#o = e;\n  }\n  static destroy() {\n    k.#E = /* @__PURE__ */ Object.create(null), k.#V = /* @__PURE__ */ Object.create(null), k.delBreak();\n  }\n  #t = document.createElement(\"span\");\n  // „Çµ„É≥„Éó„É™„É≥„Ç∞ÂÖÉ\n  #c = new _web2_js__WEBPACK_IMPORTED_MODULE_0__.j();\n  // „Çµ„É≥„Éó„É™„É≥„Ç∞ÂÖà\n  #d = new _web2_js__WEBPACK_IMPORTED_MODULE_0__.y();\n  static #m = {\n    \"background-color\": 0,\n    \"border-bottom-width\": 0,\n    \"border-left-width\": 0,\n    \"border-right-width\": 0,\n    \"border-top-width\": 0,\n    \"margin-bottom\": 0,\n    \"margin-left\": 0,\n    \"margin-right\": 0,\n    \"margin-top\": 0\n  };\n  #h = new zt();\n  noticeCompTxt = () => {\n  };\n  //\treadonly\t#idc\t:TxtLayDesignCast;\n  //\treadonly\t#idcCh\t= new TxtLayPadDesignCast(this);\n  #s = {\n    fontsize: 24,\n    $width: 0,\n    // „É¨„Ç§„É§„Çµ„Ç§„Ç∫„Åß„ÅÇ„Çä„ÄÅËÉåÊôØËâ≤ÔºàÁîªÂÉèÔºâ„Çµ„Ç§„Ç∫\n    $height: 0,\n    pad_left: 0,\n    // paddingLeftÔºà„É¨„Ç§„É§„Çµ„Ç§„Ç∫„ÅÆÂÜÖÂÅ¥„ÅÆ„Çπ„Éö„Éº„Çµ„ÉºÔºâ\n    pad_right: 0,\n    // paddingRight\n    pad_top: 0,\n    // paddingTop\n    pad_bottom: 0\n    // paddingBottom\n  };\n  lay(t) {\n    const e = this.#t.style;\n    if (\"style\" in t)\n      if (t.style) {\n        const s = document.createElement(\"span\");\n        s.style.cssText = t.style;\n        const i = s.style.length;\n        for (let n = 0; n < i; ++n) {\n          const o = s.style[n];\n          if (o in k.#m) {\n            _web2_js__WEBPACK_IMPORTED_MODULE_0__.D.myTrace(`${o}„ÅØÊåáÂÆö„Åß„Åç„Åæ„Åõ„Çì`, \"W\");\n            continue;\n          }\n          e[o] = s.style[o];\n        }\n        !s.style.opacity && \"alpha\" in t && (e.opacity = String(this.ctn.alpha));\n      } else this.#t.style.cssText = \"\";\n    else \"alpha\" in t && (e.opacity = String(this.ctn.alpha));\n    if (\"width\" in t && (e.width = (t.width ?? \"0\") + \"px\"), \"height\" in t && (e.height = (t.height ?? \"0\") + \"px\"), \"pl\" in t && (e.paddingLeft = (t.pl ?? \"0\") + \"px\"), \"pr\" in t && (e.paddingRight = (t.pr ?? \"0\") + \"px\"), \"pt\" in t && (e.paddingTop = (t.pt ?? \"0\") + \"px\"), \"pb\" in t && (e.paddingBottom = (t.pb ?? \"0\") + \"px\"), this.#h.lay(t), this.#r(), this.#f = this.ctn.position.x, e.transformOrigin = `${this.ctn.pivot.x}px ${this.ctn.pivot.y}px`, this.cvsResize(), e.display = this.ctn.visible ? \"inline\" : \"none\", \":redraw\" in t && this.#k > 0) {\n      const s = [\n        this.#t.innerHTML.replaceAll(/(animation-delay: )\\d+ms/g, \"$10ms\"),\n        `<span class='sn_ch' data-add='{\"ch_in_style\":\"default\"}'>&emsp;</span>`\n      ];\n      this.#q(), this.goTxt(s, !0);\n    }\n  }\n  #y = 0;\n  // „Äåg„Äç„Å™„Å©„Åß‰∏ã„ÅåÊ¨†„Åë„ÇãÂïèÈ°åÂØæÁ≠ñ\n  #r() {\n    const t = this.#t.style, e = parseFloat(t.fontSize || \"0\");\n    this.#s.fontsize = e, this.#s.pad_left = parseFloat(t.paddingLeft || \"0\"), this.#s.pad_right = parseFloat(t.paddingRight || \"0\"), this.#s.pad_top = parseFloat(t.paddingTop || \"0\"), this.#s.pad_bottom = parseFloat(t.paddingBottom || \"0\"), this.#s.$width = parseFloat(t.width || \"0\"), this.#s.$height = parseFloat(t.height || \"0\"), this.position.set(this.#s.pad_left, this.#s.pad_top), this.#u = t.writingMode === \"vertical-rl\", this.#p = 0, this.#g = 0;\n    const s = t.lineHeight ?? \"0\";\n    this.#y = this.#u ? 0 : (s.endsWith(\"px\") ? parseFloat(s) : e * parseFloat(s) - e) / 2;\n  }\n  cvsResize() {\n    const t = this.#t.style, e = this.sys.cvsScale;\n    t.left = `${this.sys.ofsLeft4elm + this.#f * e}px`, t.top = `${this.sys.ofsTop4elm + this.ctn.position.y * e}px`, t.transform = `rotate(${this.ctn.angle}deg) scale(${this.ctn.scale.x * e}, ${this.ctn.scale.y * e})`;\n  }\n  #f = 0;\n  #u = !1;\n  get tategaki() {\n    return this.#u;\n  }\n  #p = 0;\n  #g = 0;\n  get infTL() {\n    return this.#s;\n  }\n  get getWidth() {\n    return this.#s.$width;\n  }\n  get getHeight() {\n    return this.#s.$height;\n  }\n  setMySize(t, e) {\n    this.#s.$width = t, this.#s.$height = e, this.#t.style.width = this.#s.$width + \"px\", this.#t.style.height = this.#s.$height + \"px\";\n  }\n  #l(t, e = !0) {\n    const s = {\n      escape: (p) => p.replaceAll(/([.*+?^${}()|\\[\\]\\/\\\\])/g, \"\\\\$1\"),\n      mimeType: (p) => {\n        const d = l(p).toLowerCase();\n        return i()[d] || \"\";\n      },\n      dataAsUrl: m,\n      isDataUrl: c,\n      resolveUrl: u,\n      getAndEncode: r,\n      asArray: (p) => {\n        const d = [], b = p.length;\n        for (let y = 0; y < b; ++y) d.push(p[y]);\n        return d;\n      }\n    };\n    function i() {\n      const p = \"application/font-woff\", d = \"image/jpeg\";\n      return {\n        woff: p,\n        woff2: p,\n        ttf: \"application/font-truetype\",\n        eot: \"application/vnd.ms-fontobject\",\n        png: \"image/png\",\n        jpg: d,\n        jpeg: d,\n        gif: \"image/gif\",\n        tiff: \"image/tiff\",\n        svg: \"image/svg+xml\"\n      };\n    }\n    const n = f(), o = h();\n    function a(p) {\n      return o.resolveAll().then((d) => {\n        const b = document.createElement(\"style\");\n        return p.appendChild(b), b.appendChild(document.createTextNode(d)), p;\n      });\n    }\n    function l(p) {\n      return /\\.([^\\.\\/]*?)$/g.exec(p)?.[1] ?? \"\";\n    }\n    function c(p) {\n      return p.search(/^(data:)/) !== -1;\n    }\n    function u(p, d) {\n      const b = document.implementation.createHTMLDocument(), y = b.createElement(\"base\");\n      b.head.appendChild(y);\n      const C = b.createElement(\"a\");\n      return b.body.appendChild(C), y.href = d, C.href = p, C.href;\n    }\n    function r(p) {\n      let d = 3e4;\n      return new Promise(function(b) {\n        const y = new XMLHttpRequest();\n        y.onreadystatechange = C, y.ontimeout = v, y.responseType = \"blob\", y.timeout = d, y.open(\"GET\", p, !0), y.send();\n        function C() {\n          if (y.readyState !== 4) return;\n          if (y.status !== 200) {\n            w(\"cannot fetch resource: \" + p + \", status: \" + y.status);\n            return;\n          }\n          const N = new FileReader();\n          N.onloadend = function() {\n            const R = N.result.toString().split(/,/)[1];\n            b(R);\n          }, N.readAsDataURL(y.response);\n        }\n        function v() {\n          w(\"timeout of \" + d + \"ms occured while fetching resource: \" + p);\n        }\n        function w(N) {\n          console.error(N), b(\"\");\n        }\n      });\n    }\n    function m(p, d) {\n      return \"data:\" + d + \";base64,\" + p;\n    }\n    function f() {\n      const p = /url\\(['\"]?([^'\"]+?)['\"]?\\)/g;\n      return {\n        inlineAll: C,\n        shouldProcess: d\n      };\n      function d(v) {\n        return v.search(p) !== -1;\n      }\n      function b(v) {\n        const w = [];\n        let N;\n        for (; N = p.exec(v); )\n          w.push(N[1]);\n        return w.filter(function(R) {\n          return !s.isDataUrl(R);\n        });\n      }\n      function y(v, w, N, R) {\n        return Promise.resolve(w).then((P) => N ? s.resolveUrl(P, N) : P).then(R || s.getAndEncode).then((P) => s.dataAsUrl(P, s.mimeType(w))).then((P) => v.replace(T(w), \"$1\" + P + \"$3\"));\n        function T(P) {\n          return new RegExp(`(url\\\\(['\"]?)(` + s.escape(P) + `)(['\"]?\\\\))`, \"g\");\n        }\n      }\n      function C(v, w, N) {\n        if (R()) return Promise.resolve(v);\n        return Promise.resolve(v).then(b).then((T) => {\n          let P = Promise.resolve(v);\n          for (const B of T) P = P.then((at) => y(at, B, w, N));\n          return P;\n        });\n        function R() {\n          return !d(v);\n        }\n      }\n    }\n    function h() {\n      return {\n        resolveAll: p,\n        impl: { readAll: d }\n      };\n      function p() {\n        return d().then((b) => Promise.allSettled(\n          b.map((y) => y.resolve())\n        )).then((b) => b.join(`\n`));\n      }\n      function d() {\n        return Promise.resolve(s.asArray(document.styleSheets)).then(y).then(b).then((v) => v.map(C));\n        function b(v) {\n          return v.filter((w) => w.type === CSSRule.FONT_FACE_RULE).filter((w) => n.shouldProcess(w.style.getPropertyValue(\"src\")));\n        }\n        function y(v) {\n          const w = [];\n          for (const N of v)\n            try {\n              if (N.href) continue;\n              s.asArray(N.cssRules || []).forEach(w.push.bind(w));\n            } catch (R) {\n              console.error(\"Error while reading CSS rules from \" + N.href, String(R));\n            }\n          return w;\n        }\n        function C(v) {\n          return {\n            resolve: function() {\n              const N = (v.parentStyleSheet || {}).href;\n              return n.inlineAll(v.cssText, N);\n            },\n            src: function() {\n              return v.style.getPropertyValue(\"src\");\n            }\n          };\n        }\n      }\n    }\n    Promise.resolve(this.#t).then((p) => {\n      const d = p.cloneNode(!0);\n      return d.style.padding = \"0px\", d.style.paddingRight = this.#p + \"px\", d.style.paddingTop = this.#g + \"px\", d.style.left = \"0px\", d.style.top = \"0px\", d.style.width = this.#s.$width - this.#s.pad_left - this.#s.pad_right + \"px\", d.style.height = this.#s.$height - this.#s.pad_top - this.#s.pad_bottom + \"px\", this.#t.hidden = e, d;\n    }).then(a).then((p) => {\n      p.setAttribute(\"xmlns\", \"http://www.w3.org/1999/xhtml\");\n      const d = new Image();\n      return d.src = `data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"${this.#s.$width}px\" height=\"${this.#s.$height}px\"><foreignObject x=\"0\" y=\"0\" width=\"100%\" height=\"100%\">${new XMLSerializer().serializeToString(p).replaceAll(\"#\", \"%23\").replaceAll(`\n`, \"%0A\")}</foreignObject></svg>`, new Promise((b) => d.onload = () => b(d));\n    }).then((p) => new Promise((d) => setTimeout(() => d(p), 100))).then((p) => {\n      const d = document.createElement(\"canvas\");\n      d.width = this.#s.$width, d.height = this.#s.$height, d.getContext(\"2d\").drawImage(p, 0, 0), t(_web2_js__WEBPACK_IMPORTED_MODULE_0__.r.from(d));\n    }).catch((p) => _web2_js__WEBPACK_IMPORTED_MODULE_0__.D.myTrace(`goTxt() = ${p}`));\n  }\n  #I = [];\n  // FIFOÂÆüË°å„Éê„ÉÉ„Éï„Ç°\n  goTxt(t, e) {\n    const s = () => this.#N(t, e);\n    this.#I.push(s) === 1 && s();\n  }\n  #$ = [];\n  #k = 0;\n  static #a = \"<span class='sn_ch sn_ch_last'>&emsp;</span>\";\n  #N(t, e) {\n    k.#F.visible = !1;\n    let s = this.#$.length, i = \"\";\n    if (s === 0) {\n      if (k.#i.oCfg.debug.masume && (_web2_js__WEBPACK_IMPORTED_MODULE_0__.C.debugLog && console.log(`üçå masume ${this.name} v:${this.visible} l:${this.x} t:${this.y} a:${this.alpha} pl:${this.#s.pad_left} pr:${this.#s.pad_right} pt:${this.#s.pad_top} pb:${this.#s.pad_bottom} w:${this.#s.$width} h:${this.#s.$height}`), this.#d.clear().beginFill(3407616, 0.2).lineStyle(1, 3407616, 1).drawRect(-this.#s.pad_left, -this.#s.pad_top, this.#s.$width, this.#s.$height).endFill().beginFill(13311, 0.2).lineStyle(2, 13311, 1).drawRect(\n        0,\n        0,\n        this.#s.$width - this.#s.pad_left - this.#s.pad_right,\n        this.#s.$height - this.#s.pad_top - this.#s.pad_bottom\n      ).endFill()), this.#t.innerHTML = [...t].join(\"\").replaceAll(/[\\n\\t]/g, \"\") + k.#a, !this.#h.break_fixed) {\n        const b = globalThis.getComputedStyle(this.#t), y = parseFloat(b.fontSize);\n        this.#u ? (this.#h.break_fixed_left = (this.#s.$width - this.#s.pad_left - this.#s.pad_right - y * 1.5) * this.sys.cvsScale, this.#h.break_fixed_top = 0) : (this.#h.break_fixed_left = 0, this.#h.break_fixed_top = y / 2 * this.sys.cvsScale);\n      }\n    } else\n      i = this.#t.innerHTML, --s, this.#t.getElementsByClassName(\"sn_ch_last\").item(0)?.remove(), this.#t.querySelectorAll(\":scope > br\").forEach((b) => b.remove()), this.#t.insertAdjacentHTML(\n        \"beforeend\",\n        t.slice(this.#k).join(\"\").replaceAll(/[\\n\\t]/g, \"\") + k.#a\n        // Êú´Â∞æÊîπË°åÂâäÈô§ÊåôÂãïÂØæÁ≠ñ\n      );\n    this.#t.querySelectorAll(\".sn_ch:has(> ruby)\").forEach((b) => b.style.background = \"\"), this.#k = t.length;\n    const n = this.sys.cvsScale, o = this.#t.getBoundingClientRect(), a = o.left + this.#s.pad_left, l = o.top + this.#s.pad_top;\n    let c;\n    if (n === 1) c = (b, y) => {\n      const C = b.getBoundingClientRect();\n      return new _web2_js__WEBPACK_IMPORTED_MODULE_0__.R(\n        C.left - a,\n        C.top - l,\n        C.width,\n        C.height + (\"gjqy\".includes(y) ? this.#y : 0)\n      );\n    };\n    else {\n      const b = this.sys.ofsPadLeft_Dom2PIXI + o.left * (1 - n), y = this.sys.ofsPadTop_Dom2PIXI + o.top * (1 - n);\n      c = (C, v) => {\n        const w = C.getBoundingClientRect();\n        return new _web2_js__WEBPACK_IMPORTED_MODULE_0__.R(\n          (w.left - b) / n - a,\n          (w.top - y) / n - l,\n          w.width / n,\n          (w.height + (\"gjqy\".includes(v) ? this.#y : 0)) / n\n        );\n      };\n    }\n    const [u, r] = this.#h.hyph(this.#t, c, this.#u, s, i);\n    this.#$ = u;\n    const m = _web2_js__WEBPACK_IMPORTED_MODULE_0__.C.debugLog ? ({ ch: b }, { x: y, y: C, width: v, height: w }) => console.log(`üçå masume ch:${b} x:${y} y:${C} w:${v} h:${w}`) : () => {\n    }, f = k.#i.oCfg.debug.masume ? (b, y) => {\n      m(b, y), this.#d.beginFill(6737151, 0.5).lineStyle(2, 16724736, 1).drawRect(y.x, y.y, y.width, y.height).endFill();\n    } : () => {\n    }, h = _CmnTween_js__WEBPACK_IMPORTED_MODULE_1__.C.ease(this.#C);\n    for (let b = s; b < r; ++b) {\n      const y = this.#$[b], C = y.rect, v = JSON.parse(y.elm.dataset.arg ?? '{\"delay\": 0}'), w = JSON.parse(y.elm.dataset.add ?? \"{}\"), N = k.#E[w.ch_in_style];\n      if (f(y, C), y.elm.dataset.cmd === \"grp\") {\n        const R = new _web2_js__WEBPACK_IMPORTED_MODULE_0__.j();\n        this.#c.addChild(R), new _(v.pic, R, (T) => {\n          this.#W(R, v, w, C, h, N ?? {}), R.parent || R.removeChild(T);\n        });\n      }\n      if (y.elm.dataset.lnk) {\n        const R = y.elm.parentElement.closest(\"[data-arg]\"), T = JSON.parse(R.dataset.arg ?? \"{}\");\n        T.key = `lnk=[${b}] ` + this.name;\n        const P = new _web2_js__WEBPACK_IMPORTED_MODULE_0__.v();\n        this.#W(P, T, w, C, h, N ?? {});\n        const B = T.style ?? \"\", at = B + (T.style_hover ?? \"\"), kt = B + (T.style_clicked ?? \"\"), A = T.r_style ?? \"\", vt = A + (T.r_style_hover ?? \"\"), $t = A + (T.r_style_clicked ?? \"\"), ft = Array.from(R.getElementsByTagName(\"rt\"));\n        for (const et of ft) et.dataset.st_r_bk = et.style.cssText;\n        const Ct = R.style.cssText, tt = (et, Nt) => {\n          R.style.cssText = Ct + et;\n          for (const pt of ft) pt.style.cssText = pt.dataset.st_r_bk + Nt;\n        };\n        (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.a)(T, \"enabled\", !0) ? k.#n.button(\n          T,\n          P,\n          () => tt(B, A),\n          () => this.canFocus() ? (tt(at, vt), !0) : !1,\n          () => tt(kt, $t)\n        ) : tt(\n          B + (T.style_disable ?? \"color: gray;\"),\n          A + (T.r_style_disable ?? \"color: gray;\")\n        ), this.#c.addChild(P);\n      }\n    }\n    const p = Array.from(this.#t.getElementsByClassName(\"sn_ch_yet\"));\n    this.#v = () => {\n      this.#v = () => !1;\n      for (const y of p) y.className = \"sn_ch\";\n      k.#F.position.set(\n        this.#h.break_fixed_left,\n        this.#h.break_fixed_top\n      ), k.#F.visible = !0, this.noticeCompTxt();\n      const b = this.#I.shift();\n      return this.#I.length > 0 && b(), !0;\n    };\n    for (const b of p) b.className = b.className.replace(\"sn_ch_yet sn\", \"go\");\n    s > 0 && ++s;\n    let d;\n    for (let b = r - 2; b >= 0; --b) {\n      const { elm: y } = this.#$[b];\n      if (y.tagName === \"SPAN\") {\n        d = y.parentElement?.tagName === \"RUBY\" ? y.parentElement.parentElement ?? y : y;\n        break;\n      }\n    }\n    if (!d || e || s === r) {\n      this.#v();\n      return;\n    }\n    d.addEventListener(\"animationend\", () => this.#v(), { once: !0 });\n  }\n  #v = () => !1;\n  #W(t, e, s, i, n, o) {\n    t.alpha = 0, e.x && (i.x = e.x.startsWith(\"=\") ? i.x + parseInt(e.x.slice(1)) : parseInt(e.x)), e.y && (i.y = e.y.startsWith(\"=\") ? i.y + parseInt(e.y.slice(1)) : parseInt(e.y)), e.width && (i.width = parseInt(e.width)), e.height && (i.height = parseInt(e.height)), e.wait && (o.wait = parseInt(e.wait)), t.width = i.width, t.height = i.height, o.x ? t.position.set(\n      o.x.startsWith(\"=\") ? i.x + t.width * o.nx : o.nx,\n      o.y.startsWith(\"=\") ? i.y + t.height * o.ny : o.ny\n    ) : t.position.set(i.x, i.y);\n    const a = {\n      sp: t,\n      tw: new _ReadState_js__WEBPACK_IMPORTED_MODULE_2__.T(t).to({ alpha: 1, x: i.x, y: i.y, width: i.width, height: i.height, angle: 0 }, o.wait ?? 0).easing(n).delay((s.wait ?? 0) + (e.delay ?? 0)).onComplete(() => {\n        a.tw = void 0;\n      }).start()\n    };\n    this.#H.push(a);\n  }\n  #H = [];\n  skipChIn() {\n    let t = this.#v();\n    for (const e of this.#H)\n      e.tw && (e.tw.stop().end(), t = !0);\n    return this.#H = [], t;\n  }\n  static #E = /* @__PURE__ */ Object.create(null);\n  static #L = /[{\\s\\.,*\\{]/;\n  // https://regex101.com/r/APC91I/1\n  static initChStyle() {\n    k.#E = /* @__PURE__ */ Object.create(null), k.#V = /* @__PURE__ */ Object.create(null);\n  }\n  static getChInStyle(t) {\n    return k.#E[t];\n  }\n  static ch_in_style(t) {\n    const { name: e } = t;\n    if (!e) throw \"name„ÅØÂøÖÈ†à„Åß„Åô\";\n    if (k.#L.test(e)) throw `name„Äê${e}„Äë„Å´‰Ωø„Åà„Å™„ÅÑÊñáÂ≠ó„ÅåÂê´„Åæ„Çå„Åæ„Åô`;\n    if (e in k.#E) throw `name„Äê${e}„Äë„ÅØ„Åô„Åß„Å´„ÅÇ„Çä„Åæ„Åô`;\n    const s = String(t.x ?? \"=0\"), i = String(t.y ?? \"=0\");\n    return k.#E[e] = {\n      wait: (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(t, \"wait\", 500),\n      // „Ç¢„Éã„É°„ÉªFIÊôÇÈñì\n      alpha: (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(t, \"alpha\", 0),\n      x: s,\n      // ÂàùÊúüxÂÄ§\n      y: i,\n      // [tsy]„Å®ÂêåÊßò„Å´Áµ∂ÂØæ„ÉªÁõ∏ÂØæÊåáÂÆöÂèØËÉΩ\n      // {x:500}\t\t\tX‰ΩçÁΩÆ„Çí500„Å´\n      // {x:'=500'}\t\tÁèæÂú®„ÅÆX‰ΩçÁΩÆ„Å´+500Âä†ÁÆó„Åó„Åü‰ΩçÁΩÆ\n      // {x:'=-500'}\t\tÁèæÂú®„ÅÆX‰ΩçÁΩÆ„Å´-500Âä†ÁÆó„Åó„Åü‰ΩçÁΩÆ\n      // {x:'250,500'}\t+250„Åã„ÇâÔºã500„Åæ„Åß„ÅÆÈñì„Åß„É©„É≥„ÉÄ„É†„Å™ÂÄ§„ÇíX‰ΩçÁΩÆ„Å´\n      // {x:'=250,500'}\t+250„Åã„ÇâÔºã500„Åæ„Åß„ÅÆÈñì„Åß„É©„É≥„ÉÄ„É†„Å™ÂÄ§„ÇíÁèæÂú®„ÅÆX‰ΩçÁΩÆ„Å´Âä†ÁÆó\n      nx: parseFloat(s.at(0) === \"=\" ? s.slice(1) : s),\n      ny: parseFloat(i.at(0) === \"=\" ? i.slice(1) : i),\n      scale_x: (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(t, \"scale_x\", 1),\n      scale_y: (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(t, \"scale_y\", 1),\n      rotate: (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(t, \"rotate\", 0),\n      join: (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.a)(t, \"join\", !0),\n      // ÊñáÂ≠ó„ÇíÈ†ÜÁï™„Å´Âá∫„Åô„ÅãÔºàtrueÔºâÂêåÊôÇ„ÅãÔºàfalseÔºâ\n      ease: t.ease ?? \"ease-out\"\n    };\n  }\n  static #V = /* @__PURE__ */ Object.create(null);\n  static getChOutStyle(t) {\n    return k.#V[t];\n  }\n  static ch_out_style(t) {\n    const { name: e } = t;\n    if (!e) throw \"name„ÅØÂøÖÈ†à„Åß„Åô\";\n    if (k.#L.test(e)) throw `name„Äê${e}„Äë„Å´‰Ωø„Åà„Å™„ÅÑÊñáÂ≠ó„ÅåÂê´„Åæ„Çå„Åæ„Åô`;\n    if (e in k.#V) throw `name„Äê${e}„Äë„ÅØ„Åô„Åß„Å´„ÅÇ„Çä„Åæ„Åô`;\n    const s = String(t.x ?? \"=0\"), i = String(t.y ?? \"=0\");\n    return k.#V[e] = {\n      wait: (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(t, \"wait\", 500),\n      // „Ç¢„Éã„É°„ÉªFIÊôÇÈñì\n      alpha: (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(t, \"alpha\", 0),\n      x: s,\n      // ÂàùÊúüxÂÄ§\n      y: i,\n      // [tsy]„Å®ÂêåÊßò„Å´Áµ∂ÂØæ„ÉªÁõ∏ÂØæÊåáÂÆöÂèØËÉΩ\n      // {x:500}\t\t\tX‰ΩçÁΩÆ„Çí500„Å´\n      // {x:'=500'}\t\tÁèæÂú®„ÅÆX‰ΩçÁΩÆ„Å´+500Âä†ÁÆó„Åó„Åü‰ΩçÁΩÆ\n      // {x:'=-500'}\t\tÁèæÂú®„ÅÆX‰ΩçÁΩÆ„Å´-500Âä†ÁÆó„Åó„Åü‰ΩçÁΩÆ\n      // {x:'250,500'}\t+250„Åã„ÇâÔºã500„Åæ„Åß„ÅÆÈñì„Åß„É©„É≥„ÉÄ„É†„Å™ÂÄ§„ÇíX‰ΩçÁΩÆ„Å´\n      // {x:'=250,500'}\t+250„Åã„ÇâÔºã500„Åæ„Åß„ÅÆÈñì„Åß„É©„É≥„ÉÄ„É†„Å™ÂÄ§„ÇíÁèæÂú®„ÅÆX‰ΩçÁΩÆ„Å´Âä†ÁÆó\n      nx: parseFloat(s.at(0) === \"=\" ? s.slice(1) : s),\n      ny: parseFloat(i.at(0) === \"=\" ? i.slice(1) : i),\n      scale_x: (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(t, \"scale_x\", 1),\n      scale_y: (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(t, \"scale_y\", 1),\n      rotate: (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(t, \"rotate\", 0),\n      join: (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.a)(t, \"join\", !1),\n      // ÊñáÂ≠ó„ÇíÈ†ÜÁï™„Å´Âá∫„Åô„ÅãÔºàtrueÔºâÂêåÊôÇ„ÅãÔºàfalseÔºâ\n      ease: t.ease ?? \"ease-out\"\n    };\n  }\n  static #F = new _web2_js__WEBPACK_IMPORTED_MODULE_0__.j();\n  static #O = new _();\n  dispBreak(t) {\n    k.delBreak();\n    const e = k.#F;\n    e.visible = !1, this.addChild(e), k.#O.destroy(), k.#O = new _(t.pic, e, (s) => {\n      e.parent ? (s.x = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(t, \"x\", 0), s.y = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(t, \"y\", 0), s.width = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(t, \"width\", this.#s.fontsize), s.height = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(t, \"height\", this.#s.fontsize)) : e.removeChild(s);\n    });\n  }\n  static delBreak() {\n    const t = k.#F;\n    t.parent?.removeChild(t), k.#O.destroy();\n  }\n  #C = \"Quadratic.Out\";\n  #b = \"Quadratic.Out\";\n  #q() {\n    this.#d.clear(), this.#$ = [], this.#k = 0, this.#I = [], this.skipChIn();\n    const t = this.#t.cloneNode(!0);\n    t.textContent = \"\";\n    const e = this.#t;\n    e.parentElement.insertBefore(t, e);\n    let s = 0;\n    Array.from(e.getElementsByClassName(\"sn_ch\")).forEach((n) => {\n      const o = JSON.parse(\n        n.dataset.add ?? // ÈÄöÂ∏∏ÊñáÂ≠ó\n        n.children[0]?.getAttribute(\"data-add\") ?? // „É´„Éì\n        n.children[0]?.children[0]?.getAttribute(\"data-add\") ?? \"{}\"\n        // Á∏¶‰∏≠Ê®™\n      );\n      if (!o.ch_out_style) return;\n      const a = k.#V[o.ch_out_style];\n      if (a) {\n        if (a.wait === 0) {\n          n.style.display = \"none\";\n          return;\n        }\n        s += a.wait, a.join || (n.style.animationDelay = \"0ms\"), n.classList.add(`go_ch_out_${o.ch_out_style}`);\n      }\n    });\n    const i = () => {\n      e.parentElement.removeChild(e);\n      for (const n of this.#c.removeChildren())\n        n instanceof _web2_js__WEBPACK_IMPORTED_MODULE_0__.j && k.#n.unButton(n), n.destroy();\n    };\n    s === 0 ? (this.#t.textContent = \"\", i()) : e.lastElementChild?.addEventListener(\"animationend\", i, { once: !0 }), this.#t = t;\n  }\n  reNew() {\n    this.#q();\n    const t = new k(this.ctn, () => this.canFocus(), this.sys);\n    return t.#s = this.#s, t.#t.style.cssText = this.#t.style.cssText, t.#f = this.#f, t.name = this.name, t.#r(), t.#_ = this.#_, t.#C = this.#C, t.#b = this.#b, this.#h.reNew(t.#h), this.destroy(), t;\n  }\n  #_ = void 0;\n  // ÊñáÂ≠ó„Å´„Åã„Åë„Çã„Éï„Ç£„É´„Çø„Éº\n  record() {\n    return {\n      infTL: this.#s,\n      cssText: this.#t.style.cssText,\n      left: this.#f,\n      //\t\tidc_hArg\t: this.#idc.gethArg(),\n      ch_filter: this.#_,\n      fi_easing: this.#C,\n      fo_easing: this.#b,\n      hyph: this.#h.record()\n    };\n  }\n  playback(t) {\n    this.#s = t.infTL, this.position.set(this.#s.pad_left, this.#s.pad_top), this.#t.style.cssText = t.cssText, this.#f = t.left, this.#r(), this.#_ = t.ch_filter, this.#C = t.fi_easing, this.#b = t.fo_easing, this.#h.playback(t.hyph);\n  }\n  get cssText() {\n    return this.#t.style.cssText;\n  }\n  set cssText(t) {\n    this.#t.style.cssText = t;\n  }\n  #w = void 0;\n  snapshot(t, e) {\n    this.#l((s) => {\n      this.#w = _web2_js__WEBPACK_IMPORTED_MODULE_0__.v.from(s), this.#u && (this.#w.x += _web2_js__WEBPACK_IMPORTED_MODULE_0__.C.stageW - (this.#f + this.#s.$width)), this.#w.y -= this.#g, this.#w.texture.frame = new _web2_js__WEBPACK_IMPORTED_MODULE_0__.R(\n        0,\n        0,\n        Math.min(this.#w.width, this.#s.$width - this.#f),\n        Math.min(this.#w.height, this.#s.$height)\n      ), this.#c.addChild(this.#w), t.render(this.#w, { clear: !1 }), e();\n    }, !1);\n  }\n  snapshot_end() {\n    this.#w && (this.#c.removeChild(this.#w), this.#w = void 0);\n  }\n  makeDesignCast(t) {\n  }\n  showDesignCast() {\n  }\n  //\tshowDesignCast() {this.#idc.visible = true; this.#idcCh.visible = true}\n  dump() {\n    const t = [], e = this.#t.style, s = e.length;\n    for (let i = 0; i < s; ++i) {\n      const n = e[i];\n      t.push(`\"${n}\":\"${e[n].replaceAll(/([\"\\\\])/g, \"\\\\$1\")}\"`);\n    }\n    return `\"txt\":\"${this.#t.textContent.replaceAll(/([\"\\\\])/g, \"\\\\$1\")}\", \"style\":{${t.join(\",\")}}`;\n  }\n  destroy() {\n    k.delBreak(), this.#t.parentElement.removeChild(this.#t), this.removeChild(this.#c), this.removeChild(this.#d), super.destroy();\n  }\n}\nclass D extends _web2_js__WEBPACK_IMPORTED_MODULE_0__.j {\n  constructor(t, e, s, i) {\n    if (super(), this.hArg = t, this.evtMng = e, this.resolve = s, this.canFocus = i, this.#t = {\n      type: \"pic\",\n      enabled: (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.a)(t, \"enabled\", !0),\n      x: this.x = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.u)(t.left ?? 0),\n      y: this.y = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.u)(t.top ?? 0),\n      rotation: this.angle = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(t, \"rotation\", this.angle),\n      // flash : rotation is in degrees.\n      // pixijs: rotation is in radians, angle is in degrees.\n      pivot_x: this.pivot.x = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(t, \"pivot_x\", this.pivot.x),\n      pivot_y: this.pivot.y = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(t, \"pivot_y\", this.pivot.y),\n      scale_x: this.scale.x = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(t, \"scale_x\", this.scale.x),\n      scale_y: this.scale.y = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(t, \"scale_y\", this.scale.y),\n      alpha: 1,\n      text: \"\",\n      b_pic: \"\",\n      width: 0,\n      height: 0\n    }, this.getBtnBounds = () => (this.#n.x = this.#t.x, this.#n.y = this.#t.y, this.#n), this.#t.enabled && e.button(t, this, () => this.normal(), () => this.#d(), () => this.#m()), t.pic) {\n      this.#t.type = \"pic\", this.#o = new _(\n        t.pic,\n        this,\n        (r) => {\n          this.#h(r), this.#n.width = r.width * this.#t.scale_x, this.#n.height = r.height * this.#t.scale_y;\n        },\n        (r) => s\n      );\n      return;\n    }\n    if (!t.text) throw \"text„Åæ„Åü„ÅØpicÂ±ûÊÄß„ÅØÂøÖÈ†à„Åß„Åô\";\n    const n = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(t, \"height\", 30), o = new _web2_js__WEBPACK_IMPORTED_MODULE_0__.z({\n      align: \"center\",\n      dropShadow: !0,\n      dropShadowAlpha: 0.7,\n      dropShadowColor: \"white\",\n      dropShadowBlur: 7,\n      dropShadowDistance: 0,\n      fill: this.#t.enabled ? \"black\" : \"gray\",\n      fontFamily: D.fontFamily,\n      fontSize: n,\n      padding: 5\n    });\n    if (t.style) try {\n      const r = JSON.parse(t.style);\n      for (const [m, f] of Object.entries(r)) o[m] = f;\n      this.#t = { ...this.#t, ...r };\n    } catch (r) {\n      throw r instanceof SyntaxError ? new Error((0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.o)(t, \"style\", r.message)) : \"fn:Button.ts style\";\n    }\n    const a = new _web2_js__WEBPACK_IMPORTED_MODULE_0__.F(t.text ?? \"\", o);\n    a.alpha = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(t, \"alpha\", a.alpha), a.width = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(t, \"width\", 100), a.height = t.height = n, this.setText = (r) => a.text = r, this.#t = {\n      ...this.#t,\n      type: \"text\",\n      // dumpÁî®\n      alpha: a.alpha,\n      text: a.text,\n      width: a.width,\n      height: a.height\n    };\n    let l = !1;\n    if (this.#t.width = this.width, this.#t.height = this.height, t.b_pic && (this.#t.b_pic = t.b_pic, this.#o = new _(\n      t.b_pic,\n      this,\n      (r) => {\n        this.#c(r, a), this.#t.width = this.width, this.#t.height = this.height, a.name = JSON.stringify(this.#t);\n      },\n      (r) => {\n        _web2_js__WEBPACK_IMPORTED_MODULE_0__.w.setBlendmode(this, t), r && s();\n      }\n    ), l = this.#o.ret), a.name = JSON.stringify(this.#t), this.addChild(a), this.#n.width = a.width, this.#n.height = a.height, t.b_pic || _web2_js__WEBPACK_IMPORTED_MODULE_0__.w.setBlendmode(this, t), D.#i(this, a), !this.#t.enabled) {\n      l || s();\n      return;\n    }\n    const c = o.clone();\n    if (t.style_hover) try {\n      const r = JSON.parse(t.style_hover);\n      for (const [m, f] of Object.entries(r)) c[m] = f;\n    } catch (r) {\n      throw r instanceof SyntaxError ? new Error((0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.o)(t, \"style_hover\", r.message)) : \"fn:Button.ts style_hover\";\n    }\n    else c.fill = \"white\";\n    const u = c.clone();\n    if (t.style_clicked) try {\n      const r = JSON.parse(t.style_clicked);\n      for (const [m, f] of Object.entries(r)) u[m] = f;\n    } catch (r) {\n      throw r instanceof SyntaxError ? new Error((0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.o)(t, \"style_clicked\", r.message)) : \"fn:Button.ts style_clicked\";\n    }\n    else u.dropShadow = !1;\n    this.normal = () => a.style = o, this.#d = () => i() ? (a.style = c, !0) : !1, this.#m = () => a.style = u, l || s();\n  }\n  static fontFamily = \"'Hiragino Sans', 'Hiragino Kaku Gothic ProN', 'Ê∏∏„Ç¥„Ç∑„ÉÉ„ÇØ Medium', meiryo, sans-serif\";\n  static #i = (t, e) => {\n  };\n  static #e = (t, e, s, i) => {\n  };\n  static init(t) {\n    t.oCfg.debug.masume && (D.#i = (e, s) => e.addChild(\n      new _web2_js__WEBPACK_IMPORTED_MODULE_0__.y().beginFill(8926088, 0.2).lineStyle(1, 8926088, 1).drawRect(s.x, s.y, s.width, s.height).endFill()\n    ), D.#e = (e, s, i, n) => e.addChild(\n      new _web2_js__WEBPACK_IMPORTED_MODULE_0__.y().beginFill(8926088, 0.2).lineStyle(1, 8926088, 1).drawRect(s.x, s.y, i, n).endFill()\n    ));\n  }\n  setText(t) {\n  }\n  getBtnBounds = () => this.#n;\n  // ÊñáÂ≠ó„Éú„Çø„É≥„ÅØËÉåÊôØÁîªÂÉè„ÇíÂê´„Åæ„Å™„ÅÑ‰ΩçÁΩÆÊåáÂÆö„Å™„ÅÆ„Åß„ÄÅ„Åù„ÅÆÂΩì„Åü„ÇäÂà§ÂÆöÁî®\n  #n = new _web2_js__WEBPACK_IMPORTED_MODULE_0__.R();\n  #o = new _();\n  //\t#idc\t\t: DesignCast;\n  #t;\n  destroy() {\n    this.evtMng.unButton(this), this.#o.destroy(), super.destroy();\n  }\n  makeDesignCast(t) {\n  }\n  showDesignCast() {\n  }\n  //\tshowDesignCast() {this.#idc.visible = true}\n  cvsResize() {\n  }\n  #c(t, e) {\n    this.setChildIndex(t, 0), t.alpha = e.alpha, t.setTransform(\n      e.x,\n      e.y,\n      1,\n      1,\n      e.rotation,\n      0,\n      0,\n      (t.width - e.width) / 2,\n      (t.height - e.height) / 2\n    ), t.name = e.name;\n  }\n  normal = () => {\n  };\n  #d = () => !1;\n  #m = () => {\n  };\n  #h(t) {\n    this.#t.alpha = t.alpha = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(this.hArg, \"alpha\", t.alpha);\n    const e = t.width / 3, s = this.#t.enabled ? e : t.width, i = t.height, n = t.texture.baseTexture, o = new _web2_js__WEBPACK_IMPORTED_MODULE_0__.r(n, new _web2_js__WEBPACK_IMPORTED_MODULE_0__.R(0, 0, e, i)), a = new _web2_js__WEBPACK_IMPORTED_MODULE_0__.r(n, new _web2_js__WEBPACK_IMPORTED_MODULE_0__.R(e, 0, e, i)), l = new _web2_js__WEBPACK_IMPORTED_MODULE_0__.r(n, new _web2_js__WEBPACK_IMPORTED_MODULE_0__.R(e * 2, 0, e, i)), c = () => t.texture = o;\n    this.#t.enabled && c(), this.normal = c, this.#d = () => this.canFocus() ? (t.texture = l, !0) : !1, this.#m = () => t.texture = a, \"width\" in this.hArg ? (this.#t.width = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.u)(this.hArg.width), this.scale.x *= this.#t.width / s) : this.#t.width = s, \"height\" in this.hArg ? (this.#t.height = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.u)(this.hArg.height), this.scale.y *= this.#t.height / i) : this.#t.height = i, t.name = JSON.stringify(this.#t), D.#e(this, t, s, i);\n  }\n}\nclass x extends _web2_js__WEBPACK_IMPORTED_MODULE_0__.w {\n  static #i;\n  static #e;\n  static #n;\n  static #o;\n  static init(t, e, s, i, n, o) {\n    x.#i = t, k.init(t, o), x.#e = s, x.#o = i, x.#n = n, s.setDoRecProc(x.chgDoRec), e.autowc = (a) => x.#y(a), e.autowc({ enabled: !1, text: \"\", time: 0 }), e.ch_in_style = (a) => x.#t(a), e.ch_out_style = (a) => x.#c(a), k.initChStyle(), (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.H)(), (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.k)(\n      t.matchPath(\".+\", _web2_js__WEBPACK_IMPORTED_MODULE_0__.S.FONT).flatMap((a) => Object.values(a).map((l) => `\n@font-face {\n\tfont-family: '${l}';\n\tsrc: url('${this.#i.searchPath(l, _web2_js__WEBPACK_IMPORTED_MODULE_0__.S.FONT)}');\n}\n`)).join(\"\") + `\n.sn_tx {\n\tpointer-events: none;\n\tuser-select: none;\n\t-webkit-touch-callout: none;\n\tbox-sizing: border-box;\n}\n.sn_ch {\n\tposition: relative;\n\tdisplay: inline-block;\n}\n`\n      // „Äåsn_ch„Äç„Å®„Äåsn_ch_in_„Äú„Äç„ÅÆ‰∏≠Ë∫´„ÅåÈáçË§á„Åó„Å¶„ÅÑ„Çã„Åå„ÄÅ„Åì„Çå„ÅØÂøÖÈ†à\n    ), x.#t({\n      name: \"default\",\n      wait: 500,\n      alpha: 0,\n      x: \"=0.3\",\n      y: \"=0\",\n      scale_x: 1,\n      scale_y: 1,\n      rotate: 0,\n      join: !0,\n      ease: \"ease-out\"\n    }), x.#c({\n      name: \"default\",\n      wait: 0,\n      alpha: 0,\n      x: \"=0\",\n      y: \"=0\",\n      scale_x: 1,\n      scale_y: 1,\n      rotate: 0,\n      join: !1,\n      ease: \"ease-out\"\n    });\n  }\n  // ÊñáÂ≠óÂá∫ÁèæÊºîÂá∫\n  static #t(t) {\n    const e = k.ch_in_style(t), s = e.x.startsWith(\"=\") ? `${e.nx * 100}%` : `${e.nx}px`, i = e.y.startsWith(\"=\") ? `${e.ny * 100}%` : `${e.ny}px`, { name: n } = t;\n    return (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.k)(`\n.sn_ch_in_${n} {\n\tposition: relative;\n\tdisplay: inline-block;\n}\n.go_ch_in_${n} {\n\topacity: ${e.alpha};\n\tposition: relative;\n\tdisplay: inline-block;\n\tanimation: sn_ch_in_${n} ${e.wait}ms ${e.ease} 0s both;\n}\n@keyframes sn_ch_in_${n} {\n\tfrom {transform: rotate(${e.rotate}deg) scale(${e.scale_x}, ${e.scale_y}) translate(${s}, ${i})}\n\tto {opacity: 1; transform: none;}\n}\n`), !1;\n  }\n  // ÊñáÂ≠óÊ∂àÂéªÊºîÂá∫\n  static #c(t) {\n    const e = k.ch_out_style(t), s = e.x.startsWith(\"=\") ? `${e.nx * 100}%` : `${e.nx}px`, i = e.y.startsWith(\"=\") ? `${e.ny * 100}%` : `${e.ny}px`, { name: n } = t;\n    return (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.k)(`\n.go_ch_out_${n} {\n\tposition: relative;\n\tdisplay: inline-block;\n\tanimation: go_ch_out_${n} ${e.wait}ms ${e.ease} 0s both;\n}\n@keyframes go_ch_out_${n} {\n\tto {\n\t\topacity: ${e.alpha};\n\t\ttransform: rotate(${e.rotate}deg) scale(${e.scale_x}, ${e.scale_y}) translate(${s}, ${i});\n\t}\n`), !1;\n  }\n  static #d;\n  static #m;\n  static setEvtMng(t, e, s) {\n    x.#d = t, x.#m = e, k.setEvtMng(t, s);\n  }\n  // ÊñáÂ≠ó„Åî„Å®„ÅÆ„Ç¶„Çß„Ç§„Éà\n  static #h = !1;\n  static #s = {};\n  static #y(t) {\n    x.#h = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.a)(t, \"enabled\", x.#h), x.#e.setVal_Nochk(\"save\", \"const.sn.autowc.enabled\", x.#h);\n    const { text: e } = t;\n    if (\"text\" in t != \"time\" in t) throw \"[autowc] text„Å®time„ÅØÂêåÊôÇÊåáÂÆöÂøÖÈ†à„Åß„Åô\";\n    if (x.#e.setVal_Nochk(\"save\", \"const.sn.autowc.text\", e), !e)\n      return x.#e.setVal_Nochk(\"save\", \"const.sn.autowc.time\", \"\"), !1;\n    const s = e.length;\n    if (x.#h && s === 0) throw '[autowc] enabled === false „Åã„Å§ text === \"\" „ÅØË®±„Åï„Çå„Åæ„Åõ„Çì';\n    const i = String(t.time).split(\",\");\n    if (i.length !== s) throw \"[autowc] textÊñáÂ≠óÊï∞„Å®time„Å´Ë®òËø∞„Åï„Çå„ÅüÂæÖ„Å°ÊôÇÈñìÔºà„Ç≥„É≥„ÉûÂå∫Âàá„ÇäÔºâ„ÅØÂêåÊï∞„Å´„Åó„Å¶‰∏ã„Åï„ÅÑ\";\n    x.#s = {};\n    for (let n = 0; n < s; ++n) x.#s[e[n]] = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.u)(i[n]);\n    return x.#e.setVal_Nochk(\"save\", \"const.sn.autowc.time\", t.time), !1;\n  }\n  // „Éê„ÉÉ„ÇØ\n  #r = 0;\n  #f = 0;\n  #u = !1;\n  #p = void 0;\n  #g = \"\";\n  // ËÉåÊôØÁîªÂÉèÁÑ°„ÅóÔºàÔºùÂçòËâ≤Â°ó„ÇäÔºâ\n  // ÊñáÂ≠óË°®Á§∫\n  #l = new k(this.ctn, () => this.canFocus(), x.#m);\n  #I = new _RubySpliter_js__WEBPACK_IMPORTED_MODULE_3__.R();\n  #$ = document.createElement(\"span\");\n  // css„ÉÅ„Çß„ÉÉ„ÇØ„Éª‰øùÂ≠òÁî®\n  static #k = {\n    \"text-align\": 0,\n    \"text-align-last\": 0,\n    height: 0,\n    width: 0,\n    \"padding-left\": 0,\n    \"padding-right\": 0,\n    \"padding-top\": 0,\n    \"padding-bottom\": 0\n  };\n  #a = new _web2_js__WEBPACK_IMPORTED_MODULE_0__.j();\n  constructor() {\n    super(), this.ctn.addChild(this.#l), this.#I.init(this.#G), this.ctn.addChild(this.#a), this.#a.name = \"cntBtn\", this.lay({ style: `width: ${_web2_js__WEBPACK_IMPORTED_MODULE_0__.C.stageW}px; height: ${_web2_js__WEBPACK_IMPORTED_MODULE_0__.C.stageH}px; font-family: 'Hiragino Sans', 'Hiragino Kaku Gothic ProN', 'Ê∏∏„Ç¥„Ç∑„ÉÉ„ÇØ Medium', meiryo, sans-serif; color: white; font-size: 24px; line-height: 1.5; padding: 16px;`, in_style: \"default\", out_style: \"default\", back_clear: \"true\" });\n  }\n  destroy() {\n    this.#p && (this.ctn.removeChild(this.#p).destroy(), this.#p = void 0), x.#o.recPagebreak(), this.#l.destroy();\n  }\n  static destroy() {\n    x.#h = !1, x.#s = {}, x.#_ = (t) => t;\n  }\n  set name(t) {\n    this.name_ = t, this.#l.name = t;\n  }\n  get name() {\n    return this.name_;\n  }\n  // get„ÅØÁ∂ôÊâø„Åó„Å™„ÅÑ„Çâ„Åó„ÅÑ\n  cvsResize() {\n    this.#l.cvsResize();\n  }\n  cvsResizeChildren() {\n    for (const t of this.#a.children) t.cvsResize();\n  }\n  procSetX(t) {\n    this.#l.lay({ x: t });\n  }\n  procSetY(t) {\n    this.#l.lay({ y: t });\n  }\n  lay(t) {\n    if (super.lay(t), _web2_js__WEBPACK_IMPORTED_MODULE_0__.w.setXY(this.ctn, t, this.ctn), t[\":id_tag\"] = this.name_.slice(0, -7), _RubySpliter_js__WEBPACK_IMPORTED_MODULE_3__.R.setting(t), this.#F(t), this.#l.lay(t), \"r_align\" in t && (this.#S = t.r_align ?? \"\"), this.#w = _web2_js__WEBPACK_IMPORTED_MODULE_0__.C.isSafari ? this.#l.tategaki ? (s, i) => `text-align: start; height: ${i}em; padding-top: ${s}; padding-bottom: ${s};` : (s, i) => `text-align: start; width: ${i}em; padding-left: ${s}; padding-right: ${s};` : this.#l.tategaki ? (s) => `text-align: justify; text-align-last: justify; padding-top: ${s}; padding-bottom: ${s};` : (s) => `text-align: justify; text-align-last: justify; padding-left: ${s}; padding-right: ${s};`, _web2_js__WEBPACK_IMPORTED_MODULE_0__.C.isFirefox && (this.#X = this.#A), \"r_style\" in t)\n      if (t.r_style) {\n        const s = document.createElement(\"span\");\n        s.style.cssText = t.r_style;\n        const i = s.style.length, n = this.#$.style;\n        for (let o = 0; o < i; ++o) {\n          const a = s.style[o];\n          if (a in x.#k) {\n            _web2_js__WEBPACK_IMPORTED_MODULE_0__.D.myTrace(`${a}„ÅØÊåáÂÆö„Åß„Åç„Åæ„Åõ„Çì`, \"W\");\n            continue;\n          }\n          const l = s.style[a];\n          l && (n[a] = l);\n        }\n      } else this.#$.style.cssText = \"\";\n    if (\"alpha\" in t) for (const s of this.#a.children) s.alpha = this.ctn.alpha;\n    this.#N(t), this.#H(t);\n    const e = this.#V(t, (s) => {\n      s && (0,_ReadState_js__WEBPACK_IMPORTED_MODULE_2__.e)();\n    });\n    return e && (0,_ReadState_js__WEBPACK_IMPORTED_MODULE_2__.d)(), e;\n  }\n  #N(t) {\n    const { in_style: e } = t;\n    if (!e) return;\n    const s = k.getChInStyle(e);\n    if (!s) throw `Â≠òÂú®„Åó„Å™„ÅÑin_style„Äê${e}„Äë„Åß„Åô`;\n    this.#v = e, this.#W = s.join;\n  }\n  #v = \"\";\n  #W = !0;\n  get width() {\n    return this.#l.getWidth;\n  }\n  get height() {\n    return this.#l.getHeight;\n  }\n  #H(t) {\n    const { out_style: e } = t;\n    if (!e) return;\n    if (!k.getChOutStyle(e)) throw `Â≠òÂú®„Åó„Å™„ÅÑout_style„Äê${e}„Äë„Åß„Åô`;\n    this.#E = e;\n  }\n  #E = \"\";\n  #L = new _();\n  #V(t, e) {\n    if (\"back_clear\" in t)\n      return (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.a)(t, \"back_clear\", !1) && (this.#r = 0, this.#f = 0, this.#u = !1, this.#g = \"\"), e(!1), !1;\n    this.#f = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(t, \"b_alpha\", this.#f), this.#u = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.a)(t, \"b_alpha_isfixed\", this.#u);\n    const s = (this.#u ? 1 : Number(x.#e.getVal(\"sys:TextLayer.Back.Alpha\"))) * this.#f;\n    if (t.b_pic) {\n      if (this.#g !== t.b_pic)\n        return this.#g = t.b_pic, this.#p && (this.ctn.removeChild(this.#p), this.#p.destroy()), this.#L = new _(this.#g, this.ctn, (i) => {\n          this.#p = i, i.name = \"back(pic)\", i.visible = s > 0, i.alpha = s, this.#l.setMySize(i.width, i.height), this.ctn.setChildIndex(i, 0), e(!0);\n        }), this.#L.ret;\n    } else \"b_color\" in t && (this.#r = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.I)(t, \"b_color\", 0), this.#p && (this.ctn.removeChild(this.#p), this.#p.destroy()), this.#g = \"\", this.ctn.addChildAt(\n      (this.#p = new _web2_js__WEBPACK_IMPORTED_MODULE_0__.y()).beginFill(this.#r).lineStyle(void 0).drawRect(0, 0, this.#l.getWidth, this.#l.getHeight).endFill(),\n      0\n    ), this.#p.name = \"back(color)\");\n    return this.#p && (this.#p.visible = s > 0, this.#p.alpha = s), e(!1), !1;\n  }\n  chgBackAlpha(t) {\n    const e = this.#u ? this.#f : t * this.#f;\n    this.#p instanceof _web2_js__WEBPACK_IMPORTED_MODULE_0__.y && (this.#p && (this.ctn.removeChild(this.#p), this.#p.destroy()), this.ctn.addChildAt(\n      (this.#p = new _web2_js__WEBPACK_IMPORTED_MODULE_0__.y()).beginFill(this.#r).lineStyle(void 0).drawRect(0, 0, this.#l.getWidth, this.#l.getHeight).endFill(),\n      0\n    ), this.#p.name = \"back(color)\"), this.#p && (this.#p.visible = e > 0, this.#p.alpha = e);\n  }\n  #F(t) {\n    \"noffs\" in t && (this.#b = t.noffs ?? \"\", this.#q = new RegExp(`[„ÄÄ${this.#b}]`)), \"ffs\" in t && (this.#O ??= \"\", this.#C = this.#O === \"\" ? () => \"\" : (e) => this.#q.test(e) ? \"\" : ` font-feature-settings: ${this.#O};`);\n  }\n  #O = \"\";\n  #C = (t) => \"\";\n  #b = \"\";\n  #q = /[„ÄÄ]/;\n  // Safari„ÅåÂÖ®‰Ωì„Å´„Äåfont-feature-settings„Äç„Åó„ÅüÂæå„ÄÅÁâπÂÆöÊñáÂ≠ó„ÅÆ„Äåfont-feature-settings: initial;„Äç„ÇíÂèó„Åë‰ªò„Åë„Å¶„Åè„Çå„Å™„ÅÑ„ÅÆ„Åß„Çè„Åñ„Çè„Åñ‰∏Ä„Å§„Åö„Å§ÊåáÂÆö\n  static chgDoRec(t) {\n    x.#_ = t ? (e) => e : (e) => `<span class='offrec'>${e}</span>`;\n  }\n  static #_ = (t) => t;\n  isCur = !1;\n  #w = () => \"\";\n  #X = (t, e, s, i = \"\") => {\n    if (!s) return ` style='${i}'`;\n    const n = t.length * 2;\n    if (n - e.length < 0) return ` style='text-align: ${s}; ${i}'`;\n    let o = \"\";\n    switch (s) {\n      case \"justify\":\n        o = this.#w(\"0\", n);\n        break;\n      case \"121\":\n        o = this.#w(`calc(${(n - e.length) / (e.length * 2)}em)`, n);\n        break;\n      case \"even\":\n        o = this.#w(`calc(${(n - e.length) / (e.length + 1)}em)`, n);\n        break;\n      case \"1ruby\":\n        o = this.#w(\"1em\", n);\n        break;\n      default:\n        o = `text-align: ${s};`;\n    }\n    return ` style='${o} ${i}'`;\n  };\n  #S = \"\";\n  #A(t, e, s, i = \"\") {\n    if (!s) return ` style='${i}'`;\n    const n = t.length * 2;\n    if (n - e.length < 0) return ` style='text-align: ${s}; ${i}'`;\n    let o = \"\";\n    switch (s) {\n      case \"left\":\n        o = \"ruby-align: start;\";\n        break;\n      case \"center\":\n        o = \"ruby-align: center;\";\n        break;\n      case \"right\":\n        o = \"ruby-align: start;\";\n        break;\n      case \"justify\":\n        o = \"ruby-align: space-between;\";\n        break;\n      case \"121\":\n        o = \"ruby-align: space-around;\";\n        break;\n      case \"even\":\n        const a = (n - e.length) / (e.length + 1);\n        o = \"ruby-align: space-between; \" + (this.#l.tategaki ? `padding-top: ${a}em; padding-bottom: ${a}em;` : `padding-left: ${a}em; padding-right: ${a}em;`);\n        break;\n      case \"1ruby\":\n        o = \"ruby-align: space-between; \" + (this.#l.tategaki ? \"padding-top: 1em; padding-bottom: 1em;\" : \"padding-left: 1em; padding-right: 1em;\");\n        break;\n      default:\n        o = `text-align: ${s};`;\n    }\n    return ` style='${o} ${i}'`;\n  }\n  tagCh(t) {\n    this.#I.putTxt(t);\n  }\n  #B = !1;\n  #G = (t, e) => {\n    x.#i.oCfg.debug.putCh && console.log(`üñä ÊñáÂ≠óË°®Á§∫ text:\\`${t}\\`(${t.charCodeAt(0).toString(16)}) ruby:\\`${e}\\` name:\\`${this.name_}\\``);\n    const s = e.split(\"ÔΩú\");\n    let i = \"\";\n    const [n, ...o] = s, a = o.join(\"ÔΩú\");\n    switch (s.length) {\n      case 1:\n        if (this.#B = !0, t === `\n`) {\n          this.#P ? (this.#P = !1, i = \"<ruby>&emsp;<rt>&emsp;</rt></ruby><br/>\") : i = \"<br/>\";\n          break;\n        }\n        this.#P && (this.#P = !1, e === \"\" && (e = \"&emsp;\")), i = this.#Q(t, e, this.#S);\n        break;\n      default:\n        switch (n) {\n          // „É´„ÉìÊèÉ„ÅàÊåáÂÆö„Å®ÂêåÊôÇ„Ç∑„É™„Éº„Ç∫\n          case \"start\":\n          // ÂàùÊúüÂÄ§\n          case \"left\":\n          //ÔºàËÇ©‰ªò„ÅçÔºâÂÖàÈ†≠Ë¶™ÊñáÂ≠ó„Åã„Çâ„ÄÅ„É´„ÉìÈñì„ÅØÂØÜÁùÄ\n          case \"center\":\n          //Ôºà‰∏≠‰ªò„ÅçÔºâ„Çª„É≥„Çø„ÉºÂêà„Çè„Åõ„ÄÅ„ÄÉ\n          case \"right\":\n          //ÔºàÂè≥Ôºè‰∏ãÊèÉ„ÅàÔºâÊú´Â∞æË¶™ÊñáÂ≠ó„Åã„Çâ„ÄÅ„ÄÉ\n          case \"justify\":\n          //Ôºà‰∏°Á´ØÊèÉ„ÅàÔºâÂÖàÈ†≠„Åã„ÇâÊú´Â∞æË¶™ÊñáÂ≠óÈñì„Å´„ÄÅ„É´„ÉìÈñì„ÅØÂùáÁ≠â„Å´„ÅÇ„Åë„Çã\n          case \"121\":\n          //Ôºà1-2-1(JIS)Ôºâ„É´„Éì„ÅÆÂâçÂæå„ÇíÊØîÁéá1„ÄÅ„É´„ÉìÈñì„ÇíÊØîÁéá2„Åß„ÅÇ„Åë„Çã\n          case \"even\":\n          //ÔºàÂùáÁ≠â„Ç¢„Ç≠Ôºâ„É´„Éì„ÅÆÂâçÂæå„ÄÅ„É´„ÉìÈñì„ÇÇÂùáÁ≠â„Å´„ÅÇ„Åë„Çã\n          case \"1ruby\":\n            this.#P = !1, this.#B = !0, i = this.#Q(t, a, n);\n            break;\n          case \"gotxt\":\n            this.#K(), this.#B ? (this.isCur && x.#o.recText(\n              this.#R.join(\"\").replace(/^<ruby>&emsp;<rt>&emsp;<\\/rt><\\/ruby>(<br\\/>)+/, \"\").replaceAll(/style='(anim\\S+ [^;]+;\\s*)+/g, \"style='\").replaceAll(/( style=''| data-(add|arg|cmd)='[^']+'|\\n+|\\t+)/g, \"\").replaceAll(/class='sn_ch[^']+/g, \"class='sn_ch\").replaceAll(\"display: none;\", \"\").replaceAll(\"class='offrec'\", \"style='display: none;'\")\n              // Âõ≤„Çì„Å†È†òÂüü„ÅØÂ±•Ê≠¥„ÅßÈùûË°®Á§∫\n            ), this.#l.goTxt(this.#R, this.#j === 0), this.#B = !1, this.#j = 0) : this.isCur && this.#l.noticeCompTxt();\n            return;\n          // break„Åß„ÅØ„Å™„ÅÑ\n          case \"add\":\n            {\n              const l = JSON.parse(a), { style: c = \"\", wait: u = null } = l, { cl: r, sty: m } = this.#J(!0, u);\n              this.#R.push(`<span${r} style='${m} display: inline; ${c}'>`), delete l.style, this.#Z(l);\n            }\n            return;\n          // break„Åß„ÅØ„Å™„ÅÑ\n          case \"add_close\":\n            this.#R.push(\"</span>\"), this.#K();\n            return;\n          // break„Åß„ÅØ„Å™„ÅÑ\n          case \"grp\":\n            this.#B = !0;\n            {\n              const l = JSON.parse(a);\n              if (l.id ??= this.#R.length, l.id === \"break\") {\n                this.#l.dispBreak(l);\n                return;\n              }\n              this.#P = !1, l.delay = this.#j, l.r ??= \"\", l.style ??= \"\", l.r_style ??= \"\";\n              const { cl: c, sty: u, lnk: r } = this.#J(!0, l.wait);\n              i = `<span${c} style='${u} ${l.style}'><ruby><span data-cmd='grp' data-arg='${JSON.stringify(l)}'${r} style='${u} display: inline;'>&emsp;</span><rt${r}${this.#X(\n                \"„ÄÄ\",\n                l.r,\n                this.#S,\n                this.#$.style.cssText + (this.#x.at(-1)?.o.r_style ?? \"\") + l.r_style\n              )}>${l.r}</rt></ruby></span>`;\n            }\n            break;\n          case \"tcy\":\n            this.#P = !1, this.#B = !0;\n            {\n              const { t: l, r: c = \"\", wait: u = null, style: r = \"\", r_style: m = \"\" } = JSON.parse(a);\n              x.#e.doRecLog() && (this.#D += t + (e ? `„Ää${e}„Äã` : \"\"), this.#z += l);\n              const f = _web2_js__WEBPACK_IMPORTED_MODULE_0__.C.isSafari ? c.replaceAll(/[A-Za-z0-9]/g, (b) => String.fromCharCode(b.charCodeAt(0) + 65248)) : c, { cl: h, sty: p, lnk: d } = this.#J(!0, u);\n              i = `<span${h} style='${p}${this.#C(l)} ${r}'><ruby><span${d} style='${p} display: inline; text-combine-upright: all;'>${l}</span><rt${d}${this.#X(\n                l,\n                f,\n                this.#S,\n                this.#$.style.cssText + (this.#x.at(-1)?.o.r_style ?? \"\") + m\n              )}>${f}</rt></ruby></span>`;\n            }\n            break;\n          case \"del\":\n            k.delBreak();\n            return;\n          // break„Åß„ÅØ„Å™„ÅÑ\n          case \"span\":\n            this.#B = !0, this.#M(JSON.parse(a));\n            return;\n          // break„Åß„ÅØ„Å™„ÅÑ\n          case \"link\":\n            this.#B = !0;\n            {\n              const l = JSON.parse(a);\n              l[\":link\"] = \" data-lnk='@'\";\n              const { cl: c, sty: u, curpos: r } = this.#J(!1, l.wait);\n              this.#R.push(`<span${c} style='${u} display: inline; ${l.style ?? \"\"}' ${r} data-arg='${a}'>`), delete l.style, this.#M(l);\n            }\n            return;\n          // break„Åß„ÅØ„Å™„ÅÑ\n          case \"endlink\":\n            this.#B = !0, this.#R.push(\"</span>\"), this.#K();\n            return;\n          // break„Åß„ÅØ„Å™„ÅÑ\n          default:\n            this.#B = !0, i = this.#Q(t, e, this.#S);\n        }\n        break;\n    }\n    this.#R.push(x.#_(i));\n  };\n  #Q(t, e, s) {\n    const i = t === \" \" ? \"&nbsp;\" : t === \"„ÄÄ\" ? \"&emsp;\" : t;\n    x.#e.doRecLog() && (this.#D += i + (e ? `„Ää${e}„Äã` : \"\"), t !== \" \" && (this.#z += t));\n    const { cl: n, sty: o, lnk: a } = this.#J(!0, null, t);\n    return e ? `<span${n} style='${o} ${this.#C(t)}'><ruby>${// ÊñáÂ≠óÂÄãÂà•„Å´Âá∫Áèæ„Åï„Åõ„Çã„Åü„ÇÅ‰ª•‰∏ã„Å´„ÇÇ ${cl} „ÅåÂøÖË¶Å\n    Array.from(t).map((l, c) => `<span${n}${a} style='${c > 0 ? this.#J(!0, null, t).sty : o} display: inline;'>${l === \" \" ? \"&nbsp;\" : l === \"„ÄÄ\" ? \"&emsp;\" : l}</span>`).join(\"\")}<rt${a}${this.#X(\n      t,\n      e,\n      s,\n      this.#$.style.cssText + (this.#x.at(-1)?.o.r_style ?? \"\")\n    )}>${e}</rt></ruby></span>` : `<span${n} style='${o} ${this.#C(t)}'${a}>${i}</span>`;\n  }\n  #J(t, e, s = `\n`) {\n    const i = this.#W ? e ?? this.#x.at(0)?.o.wait ?? (x.#h ? x.#s[s.at(0) ?? \"\"] ?? 0 : J.msecChWait) : 0;\n    x.#d.isSkipping ? this.#j = 0 : t && this.#W && (this.#j += Number(i));\n    const n = `data-add='{\"ch_in_style\":\"${this.#v}\", \"ch_out_style\":\"${this.#E}\"}'`;\n    return {\n      cl: ` class='sn_ch sn_ch_yet sn_ch_in_${this.#v}'`,\n      // TxtStage.goTxt()„ÅØ„Åì„ÇåÂçò‰Ωç„ÅßÊñáÂ≠óÂá∫Áèæ„Åï„Åõ„Çã\n      sty: `animation-delay: ${this.#j}ms;${this.#x.at(-1)?.o.style ?? \"\"}`,\n      // TxtStage.goTxt()„ÅØ„Åì„ÇåÂçò‰Ωç„ÅßÊñáÂ≠óÂá∫Áèæ„Åï„Åõ„Çã\n      lnk: (this.#x.at(0)?.o[\":link\"] ?? \"\") + \" \" + n,\n      curpos: n\n    };\n  }\n  #j = 0;\n  #P = !0;\n  #R = [];\n  #x = [];\n  #Z(t) {\n    this.#x.push({\n      o: t,\n      r_align: this.#S,\n      ch_in_style: this.#v,\n      ch_out_style: this.#E\n    }), \"r_align\" in t && (this.#S = t.r_align), this.#N(t), this.#H(t);\n  }\n  #K() {\n    const t = this.#x.pop();\n    t && (this.#S = t.r_align, this.#N({ in_style: t.ch_in_style }), this.#H({ out_style: t.ch_out_style }));\n  }\n  #M(t) {\n    const e = this.#x.at(-1);\n    if (!e) {\n      this.#Z(t);\n      return;\n    }\n    e.o = { ...e.o, ...t }, !t.style && !t.r_style && (e.o.style = \"\", e.o.r_style = \"\"), \"r_align\" in t && (this.#S = t.r_align), this.#N(t), this.#H(t);\n  }\n  click = () => !this.ctn.interactiveChildren || !this.ctn.visible ? !1 : this.#l.skipChIn();\n  clearText() {\n    this.ctn.addChild(this.#l = this.#l.reNew()), this.#j = 0, this.#P = !0, this.#R = [], this.#D = \"\", this.#z = \"\", x.#o.recPagebreak();\n  }\n  #D = \"\";\n  #z = \"\";\n  get pageText() {\n    return this.#D.replace(\"„Ää&emsp;„Äã\", \"\");\n  }\n  get pagePlainText() {\n    return this.#z;\n  }\n  get enabled() {\n    return this.ctn.interactiveChildren;\n  }\n  set enabled(t) {\n    this.ctn.interactiveChildren = t;\n  }\n  addButton = (t) => new Promise((e) => {\n    t.key = `btn=[${this.#a.children.length}] ` + this.name_, t[\":id_tag\"] = t.key.slice(0, -7), (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.a)(t, \"hint_tate\", this.#l.tategaki);\n    const s = new D(t, x.#d, () => e(), () => this.canFocus());\n    s.name = JSON.stringify(t).replaceAll('\"', \"'\"), this.#a.addChild(s);\n  });\n  canFocus() {\n    return (this.ctn.interactiveChildren ?? !1) && this.ctn.visible && x.#n(this);\n  }\n  clearLay(t) {\n    super.clearLay(t), this.clearText();\n    for (const e of this.#a.removeChildren()) e.destroy();\n  }\n  record = () => ({\n    ...super.record(),\n    enabled: this.enabled,\n    r_cssText: this.#$.style.cssText,\n    r_align: this.#S,\n    // „Éê„ÉÉ„ÇØ\n    b_do: this.#p === void 0 ? void 0 : this.#p instanceof _web2_js__WEBPACK_IMPORTED_MODULE_0__.v ? \"Sprite\" : \"Graphics\",\n    b_pic: this.#g,\n    b_color: this.#r,\n    b_alpha: this.#f,\n    b_alpha_isfixed: this.#u,\n    ffs: this.#O,\n    txs: this.#l.record(),\n    strNoFFS: this.#b,\n    btns: this.#a.children.map((t) => t.name)\n  });\n  playback(t, e) {\n    super.playback(t, e), this.enabled = t.enabled, this.#$.style.cssText = t.r_cssText, this.#S = t.r_align, this.cvsResize(), this.#F(t), this.#l.playback(t.txs), this.#f = t.b_alpha, this.#u = t.b_alpha_isfixed, e = [\n      e,\n      new Promise((s) => {\n        const i = t.b_do ? t.b_do === \"Sprite\" ? { b_pic: t.b_pic } : { b_color: t.b_color } : { b_pic: \"\" };\n        i.b_alpha = t.b_alpha, i.b_alpha_isfixed = t.b_alpha_isfixed, this.#V(i, (n) => {\n          n && s();\n        }) || s();\n      }),\n      t.btns.map((s) => new Promise((i) => {\n        this.addButton(JSON.parse(s.replaceAll(\"'\", '\"'))), i();\n      }))\n    ].flat();\n  }\n  get cssText() {\n    return this.#l.cssText;\n  }\n  set cssText(t) {\n    this.#l.cssText = t;\n  }\n  snapshot(t, e) {\n    t.render(this.ctn, { clear: !1 }), this.#l.snapshot(t, e);\n  }\n  snapshot_end() {\n    this.#l.snapshot_end();\n  }\n  makeDesignCast(t) {\n    this.ctn.visible && this.#l.makeDesignCast(t);\n  }\n  makeDesignCastChildren(t) {\n    if (this.ctn.visible)\n      for (const e of this.#a.children) e.makeDesignCast(t);\n  }\n  showDesignCast() {\n    this.#l.showDesignCast();\n  }\n  showDesignCastChildren() {\n    for (const t of this.#a.children) t.showDesignCast();\n  }\n  dump() {\n    return this.#G(\"\", \"gotxtÔΩú\"), super.dump() + `, \"enabled\":\"${this.enabled}\", ${this.#l.dump()}, \"b_pic\":\"${this.#g}\", \"b_color\":\"${this.#r}\", \"b_alpha\":${this.#f}, \"b_alpha_isfixed\":\"${this.#u}\", \"width\":${this.#l.getWidth}, \"height\":${this.#l.getHeight}, \"pixi_obj\":[${this.ctn.children.map((t) => `{\"class\":\"${t instanceof _web2_js__WEBPACK_IMPORTED_MODULE_0__.v ? \"Sprite\" : t instanceof _web2_js__WEBPACK_IMPORTED_MODULE_0__.y ? \"Graphics\" : t instanceof _web2_js__WEBPACK_IMPORTED_MODULE_0__.j ? \"Container\" : \"?\"}\", \"name\":\"${t.name}\", \"alpha\":${t.alpha}, \"x\":${t.x}, \"y\":${t.y}, \"visible\":\"${t.visible}\"}`).join(\",\")}], \"button\":[${this.#a.children.map((t) => t.children[0]?.name ?? \"{}\").join(\",\")}]`;\n  }\n}\nclass $ {\n  constructor(t, e, s) {\n    this.appPixi = e, this.val = s, t.add_frame = (i) => this.#d(i), t.let_frame = (i) => this.#f(i), t.set_frame = (i) => this.#u(i), t.frame = (i) => this.#g(i), t.tsy_frame = (i) => this.#l(i);\n  }\n  static #i;\n  static #e;\n  static #n;\n  static init(t, e, s) {\n    $.#i = t, $.#e = e, $.#n = s;\n  }\n  #o;\n  setEvtMng(t) {\n    this.#o = t;\n  }\n  #t = /* @__PURE__ */ Object.create(null);\n  destroy() {\n    for (const t of Object.values(this.#t)) t.parentElement.removeChild(t);\n    this.#t = /* @__PURE__ */ Object.create(null);\n  }\n  hideAllFrame() {\n    for (const [t, { style: e }] of Object.entries(this.#t))\n      this.#c[t] = e.display !== \"none\", e.display = \"none\";\n  }\n  #c = /* @__PURE__ */ Object.create(null);\n  restoreAllFrame() {\n    for (const [t, e] of Object.entries(this.#c)) {\n      const s = this.#t[t];\n      s && (s.style.display = e ? \"inline\" : \"none\");\n    }\n    this.#c = /* @__PURE__ */ Object.create(null);\n  }\n  //\tHTML„Éï„É¨„Éº„É†\n  // „Éï„É¨„Éº„É†ËøΩÂä†\n  #d(t) {\n    const { id: e, src: s, alpha: i = 1, scale_x: n = 1, scale_y: o = 1, rotate: a = 0 } = t;\n    if (!e) throw \"id„ÅØÂøÖÈ†à„Åß„Åô\";\n    if (!s) throw \"src„ÅØÂøÖÈ†à„Åß„Åô\";\n    const l = \"const.sn.frm.\" + e;\n    if (this.val.getVal(`tmp:${l}`)) throw `frame„Äê${e}„Äë„ÅØ„Åô„Åß„Å´„ÅÇ„Çä„Åæ„Åô`;\n    const c = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.a)(t, \"visible\", !0), u = t.b_color ? ` background-color: ${t.b_color};` : \"\", r = this.#h(t);\n    $.#n.cvs.insertAdjacentHTML(\"beforebegin\", `<iframe id=\"${e}\" style=\"opacity: ${i}; ${u} position: absolute; left:${$.#e.ofsLeft4elm + r.x * $.#e.cvsScale}px; top: ${$.#e.ofsTop4elm + r.y * $.#e.cvsScale}px; z-index: 1; border: 0px; overflow: hidden; display: ${c ? \"inline\" : \"none\"}; transform: scale(${n}, ${o}) rotate(${a}deg);\" width=\"${r.width * $.#e.cvsScale}\" height=\"${r.height * $.#e.cvsScale}\"></iframe>`), (0,_ReadState_js__WEBPACK_IMPORTED_MODULE_2__.d)();\n    const m = $.#i.searchPath(s, _web2_js__WEBPACK_IMPORTED_MODULE_0__.S.HTML), f = new _web2_js__WEBPACK_IMPORTED_MODULE_0__.d().add({ name: s, url: m, xhrType: _web2_js__WEBPACK_IMPORTED_MODULE_0__.L.XHR_RESPONSE_TYPE.TEXT });\n    return $.#e.arg.crypto && f.use(async (h, p) => {\n      try {\n        h.data = await $.#e.dec(h.extension, h.data);\n      } catch (d) {\n        $.#n.errScript(`[add_frame]Html „É≠„Éº„ÉâÂ§±Êïó„Åß„Åô src:${h.name} ${d}`, !1);\n      }\n      p();\n    }), f.load((h, p) => {\n      const d = document.getElementById(e);\n      this.#t[e] = d, this.#m[e] = !1;\n      const b = m.lastIndexOf(\"/\") + 1, y = m.slice(0, b), C = y.slice(0, b);\n      d.srcdoc = String(p[s]?.data).replace(\"sn_repRes();\", \"\").replaceAll(\n        /\\s(?:src|href)=([\"'])(\\S+?)\\1/g,\n        // „Äê\\s„Äë„ÅåÂ§ß‰∫ã„ÄÅdata-srcÂºæ„Åè\n        (v, w, N) => N.startsWith(\"../\") ? v.replace(\"../\", C) : v.replace(\"./\", \"\").replace(w, w + y)\n      ), d.srcdoc.includes(\"true/*WEBP*/;\") && (d.srcdoc = d.srcdoc.replaceAll(\n        /data-src=\"(.+?\\.)(?:jpe?g|png)/g,\n        (v, w) => `data-src=\"${w}webp`\n      )), d.onload = () => {\n        this.val.setVal_Nochk(\"tmp\", l, !0), this.val.setVal_Nochk(\"tmp\", l + \".alpha\", i), this.val.setVal_Nochk(\"tmp\", l + \".x\", r.x), this.val.setVal_Nochk(\"tmp\", l + \".y\", r.y), this.val.setVal_Nochk(\"tmp\", l + \".scale_x\", n), this.val.setVal_Nochk(\"tmp\", l + \".scale_y\", o), this.val.setVal_Nochk(\"tmp\", l + \".rotate\", a), this.val.setVal_Nochk(\"tmp\", l + \".width\", r.width), this.val.setVal_Nochk(\"tmp\", l + \".height\", r.height), this.val.setVal_Nochk(\"tmp\", l + \".visible\", c);\n        const v = d.contentWindow;\n        this.#o.resvFlameEvent(v), v.sn_repRes?.((w) => $.#s(w.dataset.src ?? \"\", w)), (0,_ReadState_js__WEBPACK_IMPORTED_MODULE_2__.e)();\n      };\n    }), !0;\n  }\n  #m = {};\n  getFrmDisabled(t) {\n    return this.#m[t];\n  }\n  #h(t) {\n    const e = { ...t }, s = $.#e.resolution;\n    return new DOMRect(\n      (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(e, \"x\", 0) * s,\n      (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(e, \"y\", 0) * s,\n      (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(e, \"width\", _web2_js__WEBPACK_IMPORTED_MODULE_0__.C.stageW) * s,\n      (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(e, \"height\", _web2_js__WEBPACK_IMPORTED_MODULE_0__.C.stageH) * s\n    );\n  }\n  static #s(t, e, s) {\n    const i = this.#r[t];\n    if (i) {\n      e.src = i, s && (e.onload = () => s(e));\n      return;\n    }\n    const n = this.#y[t];\n    if (n) {\n      n.push(e);\n      return;\n    }\n    this.#y[t] = [e];\n    const [o = \"\", a = \"\"] = t.split(\"?\"), l = $.#i.searchPath(o, _web2_js__WEBPACK_IMPORTED_MODULE_0__.S.SP_GSM), c = new _web2_js__WEBPACK_IMPORTED_MODULE_0__.d().add({ name: t, url: l, xhrType: _web2_js__WEBPACK_IMPORTED_MODULE_0__.L.XHR_RESPONSE_TYPE.BUFFER });\n    $.#e.arg.crypto && l.endsWith(\".bin\") && c.use(async (u, r) => {\n      try {\n        const m = await $.#e.decAB(u.data);\n        if (u.extension !== \"bin\") {\n          r();\n          return;\n        }\n        u.data = m, m instanceof HTMLImageElement && (u.type = _web2_js__WEBPACK_IMPORTED_MODULE_0__.L.TYPE.IMAGE);\n      } catch (m) {\n        $.#n.errScript(`FrameMng loadPic „É≠„Éº„ÉâÂ§±Êïó„Åß„Åô fn:${u.name} ${m}`, !1);\n      }\n      r();\n    }), c.load((u, r) => {\n      for (const [m, { data: { src: f } }] of Object.entries(r)) {\n        const h = this.#r[m] = f + (f.startsWith(\"blob:\") || f.startsWith(\"data:\") ? \"\" : a ? \"?\" + a : \"\"), p = this.#y[m];\n        if (p) for (const d of p)\n          d.src = h, s && (d.onload = () => s(d));\n        delete this.#y[m];\n      }\n    });\n  }\n  static #y = {};\n  static #r = {};\n  cvsResize() {\n    for (const [t, e] of Object.entries(this.#t)) {\n      const s = \"const.sn.frm.\" + t, i = Number(this.val.getVal(s + \".x\")), n = Number(this.val.getVal(s + \".y\")), o = Number(this.val.getVal(s + \".width\")), a = Number(this.val.getVal(s + \".height\"));\n      e.style.left = `${$.#e.ofsLeft4elm + i * $.#e.cvsScale}px`, e.style.top = `${$.#e.ofsTop4elm + n * $.#e.cvsScale}px`, e.width = String(o * $.#e.cvsScale), e.height = String(a * $.#e.cvsScale);\n    }\n  }\n  // „Éï„É¨„Éº„É†Â§âÊï∞„ÇíÂèñÂæó\n  #f(t) {\n    const { id: e, var_name: s } = t;\n    if (!e) throw \"id„ÅØÂøÖÈ†à„Åß„Åô\";\n    const i = document.getElementById(e);\n    if (!i) throw `id„Äê${e}„Äë„ÅØ„Éï„É¨„Éº„É†„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì`;\n    const n = \"const.sn.frm.\" + e;\n    if (!this.val.getVal(`tmp:${n}`)) throw `frame„Äê${e}„Äë„ÅåË™≠„ÅøËæº„Åæ„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì`;\n    if (!s) throw \"var_name„ÅØÂøÖÈ†à„Åß„Åô\";\n    const o = i.contentWindow;\n    if (!o.hasOwnProperty(s)) throw `frame„Äê${e}„Äë„Å´Â§âÊï∞/Èñ¢Êï∞„Äê${s}„Äë„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇÂ§âÊï∞„ÅØ var‰ªò„Åç„Å´„Åó„Å¶‰∏ã„Åï„ÅÑ`;\n    const a = o[s];\n    return this.val.setVal_Nochk(\n      \"tmp\",\n      n + \".\" + s,\n      (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.a)(t, \"function\", !1) ? a() : a\n    ), !1;\n  }\n  // „Éï„É¨„Éº„É†Â§âÊï∞„Å´Ë®≠ÂÆö\n  #u(t) {\n    const { id: e, var_name: s, text: i } = t;\n    if (!e) throw \"id„ÅØÂøÖÈ†à„Åß„Åô\";\n    const n = document.getElementById(e);\n    if (!n) throw `id„Äê${e}„Äë„ÅØ„Éï„É¨„Éº„É†„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì`;\n    const o = \"const.sn.frm.\" + e;\n    if (!this.val.getVal(`tmp:${o}`)) throw `frame„Äê${e}„Äë„ÅåË™≠„ÅøËæº„Åæ„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì`;\n    if (!s) throw \"var_name„ÅØÂøÖÈ†à„Åß„Åô\";\n    if (!i) throw \"text„ÅØÂøÖÈ†à„Åß„Åô\";\n    this.val.setVal_Nochk(\"tmp\", o + \".\" + s, i);\n    const a = n.contentWindow;\n    return a[s] = i, !1;\n  }\n  // „Éï„É¨„Éº„É†„Å´Ë®≠ÂÆö\n  #p = 1;\n  #g(t) {\n    const { id: e } = t;\n    if (!e) throw \"id„ÅØÂøÖÈ†à„Åß„Åô\";\n    const s = document.getElementById(e);\n    if (!s) throw `id„Äê${e}„Äë„ÅØ„Éï„É¨„Éº„É†„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì`;\n    const i = \"const.sn.frm.\" + e;\n    if (!this.val.getVal(\"tmp:\" + i)) throw `frame„Äê${e}„Äë„ÅåË™≠„ÅøËæº„Åæ„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì`;\n    const n = s.style;\n    if ((0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.a)(t, \"float\", !1) ? n.zIndex = `${++this.#p}` : \"index\" in t ? n.zIndex = `${(0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(t, \"index\", 0)}` : t.dive && (n.zIndex = `-${++this.#p}`), \"alpha\" in t) {\n      const a = n.opacity = String(t.alpha);\n      this.val.setVal_Nochk(\"tmp\", i + \".alpha\", a);\n    }\n    const o = this.#h(t);\n    if ((\"x\" in t || \"y\" in t) && (n.left = `${$.#e.ofsLeft4elm + o.x * $.#e.cvsScale}px`, n.top = `${$.#e.ofsTop4elm + o.y * $.#e.cvsScale}px`, this.val.setVal_Nochk(\"tmp\", i + \".x\", o.x), this.val.setVal_Nochk(\"tmp\", i + \".y\", o.y)), \"scale_x\" in t || \"scale_y\" in t || \"rotate\" in t) {\n      const a = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(t, \"scale_x\", 1), l = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(t, \"scale_y\", 1), c = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(t, \"rotate\", 0);\n      n.transform = `scale(${a}, ${l}) rotate(${c}deg)`, this.val.setVal_Nochk(\"tmp\", i + \".scale_x\", a), this.val.setVal_Nochk(\"tmp\", i + \".scale_y\", l), this.val.setVal_Nochk(\"tmp\", i + \".rotate\", c);\n    }\n    if (\"width\" in t && (s.width = String(o.width * $.#e.cvsScale), this.val.setVal_Nochk(\"tmp\", i + \".width\", o.width)), \"height\" in t && (s.height = String(o.height * $.#e.cvsScale), this.val.setVal_Nochk(\"tmp\", i + \".height\", o.height)), \"visible\" in t) {\n      const a = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.a)(t, \"visible\", !0);\n      n.display = a ? \"inline\" : \"none\", this.val.setVal_Nochk(\"tmp\", i + \".visible\", a);\n    }\n    if (\"b_color\" in t && (n.backgroundColor = t.b_color), \"disabled\" in t) {\n      const a = this.#m[e] = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.a)(t, \"disabled\", !0), l = s.contentDocument.body;\n      for (const c of [\n        ...Array.from(l.getElementsByTagName(\"input\")),\n        ...Array.from(l.getElementsByTagName(\"select\"))\n      ]) c.disabled = a;\n    }\n    return !1;\n  }\n  // „Éï„É¨„Éº„É†„Çí„Éà„Ç•„Ç§„Éº„É≥ÈñãÂßã\n  #l(t) {\n    const { id: e, alpha: s, x: i, y: n, scale_x: o, scale_y: a, rotate: l, width: c, height: u } = t;\n    if (!e) throw \"id„ÅØÂøÖÈ†à„Åß„Åô\";\n    const r = document.getElementById(e);\n    if (!r) throw `id„Äê${e}„Äë„ÅØ„Éï„É¨„Éº„É†„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì`;\n    const m = \"const.sn.frm.\" + e;\n    if (!this.val.getVal(`tmp:${m}`, 0)) throw `frame„Äê${e}„Äë„ÅåË™≠„ÅøËæº„Åæ„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì`;\n    const f = {};\n    s && (f.a = r.style.opacity), (i || n || o || a || l) && (f.x = Number(this.val.getVal(`tmp:${m}.x`)), f.y = Number(this.val.getVal(`tmp:${m}.y`)), f.sx = Number(this.val.getVal(`tmp:${m}.scale_x`)), f.sy = Number(this.val.getVal(`tmp:${m}.scale_y`)), f.r = Number(this.val.getVal(`tmp:${m}.rotate`))), c && (f.w = this.val.getVal(`tmp:${m}.width`)), u && (f.h = this.val.getVal(`tmp:${m}.height`));\n    const h = _CmnTween_js__WEBPACK_IMPORTED_MODULE_1__.C.cnvTweenArg(t, f);\n    let p = () => {\n    };\n    s && ((0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(h, \"alpha\", 0), p = () => {\n      r.style.opacity = f.a, this.val.setVal_Nochk(\"tmp\", \"alpha\", f.a);\n    });\n    let d = () => {\n    };\n    const b = this.#h(h);\n    (i || n || o || a || l) && (b.x, b.y, (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(h, \"scale_x\", 1), (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(h, \"scale_y\", 1), (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(h, \"rotate\", 0), d = () => {\n      r.style.left = $.#e.ofsLeft4elm + f.x * $.#e.cvsScale + \"px\", r.style.top = $.#e.ofsTop4elm + f.y * $.#e.cvsScale + \"px\", r.style.transform = `scale(${f.sx}, ${f.sy}) rotate(${f.r}deg)`, this.val.setVal_Nochk(\"tmp\", m + \".x\", f.x), this.val.setVal_Nochk(\"tmp\", m + \".y\", f.y), this.val.setVal_Nochk(\"tmp\", m + \".scale_x\", f.sx), this.val.setVal_Nochk(\"tmp\", m + \".scale_y\", f.sy), this.val.setVal_Nochk(\"tmp\", m + \".rotate\", f.r);\n    });\n    let y = () => {\n    };\n    c && (b.width, y = () => {\n      r.width = f.w * $.#e.cvsScale + \"px\", this.val.setVal_Nochk(\"tmp\", m + \".width\", f.w);\n    });\n    let C = () => {\n    };\n    return u && (b.height, C = () => {\n      r.height = f.h * $.#e.cvsScale + \"px\", this.val.setVal_Nochk(\"tmp\", m + \".height\", f.h);\n    }), this.appPixi.stage.interactive = !1, _CmnTween_js__WEBPACK_IMPORTED_MODULE_1__.C.tween(`frm\n${e}`, t, f, _CmnTween_js__WEBPACK_IMPORTED_MODULE_1__.C.cnvTweenArg(t, f), () => {\n      p(), d(), y(), C();\n    }, () => this.appPixi.stage.interactive = !0, () => {\n    }), !1;\n  }\n}\nclass J {\n  //MARK: „Ç≥„É≥„Çπ„Éà„É©„ÇØ„Çø\n  constructor(t, e, s, i, n, o, a, l, c) {\n    this.cfg = t, this.hTag = e, this.appPixi = s, this.val = i, this.main = n, this.scrItr = o, this.sys = a, this.sndMng = l, this.prpPrs = c;\n    const u = () => {\n      if (a.cvsResize(), this.cvsResizeDesign(), this.#h) for (const h of this.#N)\n        this.#a[h].fore.cvsResizeChildren();\n      else for (const h of this.#N)\n        this.#a[h].fore.cvsResize();\n      this.#o.cvsResize(), this.#r.cvsResize();\n    };\n    if (_web2_js__WEBPACK_IMPORTED_MODULE_0__.C.isMobile)\n      this.#c.add(globalThis, \"orientationchange\", u, { passive: !0 });\n    else {\n      let h;\n      this.#c.add(globalThis, \"resize\", () => {\n        h || (h = setTimeout(() => {\n          h = void 0, u();\n        }, 1e3 / 60 * 10));\n      }, { passive: !0 });\n    }\n    a.cvsResize(), x.init(t, e, i, this, (h) => this.#a[h.layname].fore === h, s), H.init(n, t, s, a, l, i), $.init(t, a, n), D.init(t), this.#o = new $(e, s, i), a.hFactoryCls.grp = () => new H(), a.hFactoryCls.txt = () => new x(), e.loadplugin = (h) => this.#$(h), e.snapshot = (h) => this.#p(h), this.#g = this.sys.isApp ? this.#l : this.#I, e.add_lay = (h) => this.#k(h), e.clear_lay = (h) => this.#L(h), e.finish_trans = () => _CmnTween_js__WEBPACK_IMPORTED_MODULE_1__.C.finish_trans(), e.lay = (h) => this.#H(h), e.trans = (h) => this.#q(h), e.wt = (h) => _CmnTween_js__WEBPACK_IMPORTED_MODULE_1__.C.wt(h), e.quake = (h) => this.#S(h), e.stop_quake = e.finish_trans, e.wq = (h) => e.wt(h), e.pause_tsy = (h) => _CmnTween_js__WEBPACK_IMPORTED_MODULE_1__.C.pause_tsy(h), e.resume_tsy = (h) => _CmnTween_js__WEBPACK_IMPORTED_MODULE_1__.C.resume_tsy(h), e.stop_tsy = (h) => _CmnTween_js__WEBPACK_IMPORTED_MODULE_1__.C.stop_tsy(h), e.tsy = (h) => this.#A(h), e.wait_tsy = (h) => _CmnTween_js__WEBPACK_IMPORTED_MODULE_1__.C.wait_tsy(h), e.add_filter = (h) => this.#B(h), e.clear_filter = (h) => this.#Q(h), e.enable_filter = (h) => this.#J(h), e.ch = (h) => this.#R(h), e.clear_text = (h) => this.#et(h), e.current = (h) => this.#K(h), e.endlink = (h) => this.#st(h), e.er = (h) => this.#it(h), e.graph = (h) => this.#nt(h), e.link = (h) => this.#at(h), e.r = (h) => this.#ot(h), e.rec_ch = (h) => this.#tt(h), e.rec_r = (h) => this.#lt(h), e.reset_rec = (h) => this.#ht(h), e.ruby2 = (h) => this.#rt(h), e.span = (h) => this.#ct(h), e.tcy = (h) => this.#dt(h), e.add_face = (h) => _.add_face(h), e.wv = (h) => _.wv(h), e.dump_lay = (h) => this.#ft(h), e.enable_event = (h) => this.#pt(h), e.button = (h) => this.#ut(h), t.existsBreakline && (this.breakLine = (h) => {\n      delete h.visible, h.id = \"break\", h.pic = \"breakline\";\n      const p = encodeURIComponent(JSON.stringify(h));\n      this.#u(\"grpÔΩú\" + p);\n    }), t.existsBreakpage && (this.breakPage = (h) => {\n      delete h.visible, h.id = \"break\", h.pic = \"breakpage\";\n      const p = encodeURIComponent(JSON.stringify(h));\n      this.#u(\"grpÔΩú\" + p);\n    }), this.#t = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.J)(String(t.oCfg.init.bg_color));\n    const r = new _web2_js__WEBPACK_IMPORTED_MODULE_0__.y();\n    r.beginFill(this.#t, 1).lineStyle(0, this.#t).drawRect(0, 0, _web2_js__WEBPACK_IMPORTED_MODULE_0__.C.stageW, _web2_js__WEBPACK_IMPORTED_MODULE_0__.C.stageH).endFill(), this.#e.addChild(r.clone()), this.#n.addChild(r), this.#n.visible = !1, this.#e.name = \"page:A\", this.#n.name = \"page:B\", this.#i = s.stage, this.#i.addChild(this.#n), this.#i.addChild(this.#e), this.#i.addChild(this.#O), this.#i.addChild(this.#b), this.#i.name = \"stage\";\n    const m = (h, p) => {\n      this.#f(Number(p));\n    };\n    m(\"\", i.getVal(\"sys:TextLayer.Back.Alpha\", 1)), i.defValTrg(\"sys:TextLayer.Back.Alpha\", m);\n    const f = (h, p) => D.fontFamily = p;\n    f(\"\", i.getVal(\"tmp:sn.button.fontFamily\", D.fontFamily)), i.defValTrg(\"tmp:sn.button.fontFamily\", f), i.defTmp(\"const.sn.log.json\", () => JSON.stringify(\n      (this.#T.text = this.#T.text?.replaceAll(\"</span><span class='sn_ch'>\", \"\") ?? \"\") ? [...this.#Y, this.#T] : this.#Y\n    )), i.defTmp(\"const.sn.last_page_text\", () => this.currentTxtlayFore?.pageText ?? \"\"), i.defTmp(\"const.sn.last_page_plain_text\", () => this.currentTxtlayFore?.pagePlainText ?? \"\"), _web2_js__WEBPACK_IMPORTED_MODULE_0__.C.isDbg && (ct.init(s, a, o, c, t, this.#a), this.cvsResizeDesign = () => ct.cvsResizeDesign(), a.addHook((h, p) => {\n      this.#d[h]?.(h, p) && delete this.#d[h];\n    }));\n  }\n  #i;\n  #e = new _web2_js__WEBPACK_IMPORTED_MODULE_0__.j();\n  #n = new _web2_js__WEBPACK_IMPORTED_MODULE_0__.j();\n  #o;\n  #t;\n  #c = new _web2_js__WEBPACK_IMPORTED_MODULE_0__.E();\n  cvsResizeDesign() {\n  }\n  #d = {\n    attach: (t) => !1,\n    continue: (t) => !1,\n    disconnect: (t) => !1,\n    _enterDesign: (t) => {\n      for (const e of this.#N) {\n        const s = this.#a[e].fore;\n        s.makeDesignCastChildren((i) => i.make()), s.makeDesignCast((i) => i.make());\n      }\n      return this.#s(this.#v), !1;\n    },\n    _replaceToken: (t, e) => !1,\n    _selectNode: (t, e) => (this.#s(e.node), !1)\n  };\n  #m = \"\";\n  #h = \"\";\n  #s(t) {\n    [this.#m = \"\", this.#h = \"\"] = t.split(\"/\");\n    const e = this.#a[this.#m];\n    e && (this.#h ? e.fore.showDesignCastChildren() : e.fore.showDesignCast());\n  }\n  getFrmDisabled = (t) => this.#o.getFrmDisabled(t);\n  #y = void 0;\n  cover(t, e = 0) {\n    this.#y && (this.#i.removeChild(this.#y), this.#y.destroy(), this.#y = void 0), t && this.#i.addChild(\n      (this.#y = new _web2_js__WEBPACK_IMPORTED_MODULE_0__.y()).beginFill(e).lineStyle(0, e).drawRect(0, 0, _web2_js__WEBPACK_IMPORTED_MODULE_0__.C.stageW, _web2_js__WEBPACK_IMPORTED_MODULE_0__.C.stageH).endFill()\n    );\n  }\n  #r;\n  setEvtMng(t) {\n    this.#r = t, this.#o.setEvtMng(t), _.setEvtMng(t), _CmnTween_js__WEBPACK_IMPORTED_MODULE_1__.C.init(t, this.appPixi);\n  }\n  destroy() {\n    for (const t of Object.values(this.#a)) t.destroy();\n    this.#c.clear(), H.destroy(), _RubySpliter_js__WEBPACK_IMPORTED_MODULE_3__.R.destroy(), k.destroy(), x.destroy(), this.#o.destroy(), _CmnTween_js__WEBPACK_IMPORTED_MODULE_1__.C.destroy(), J.#P = 10;\n  }\n  // Êó¢Â≠ò„ÅÆÂÖ®ÊñáÂ≠ó„É¨„Ç§„É§„ÅÆÂÆüÈöõ„ÅÆ„Éê„ÉÉ„ÇØ‰∏çÈÄèÊòéÂ∫¶„ÄÅ„ÇíÂÜçË®àÁÆó\n  #f(t) {\n    for (const e of this.#_()) {\n      const s = this.#a[e];\n      s.fore instanceof x && (s.fore.chgBackAlpha(t), s.back.chgBackAlpha(t));\n    }\n  }\n  #u = (t, e = this.currentTxtlayForeNeedErr, s = !0) => e.tagCh(\"ÔΩú&emsp;„Ää\" + t + \"„Äã\");\n  goTxt = () => {\n  };\n  breakLine = (t) => {\n  };\n  breakPage = (t) => {\n  };\n  clearBreak() {\n    this.currentTxtlayFore && (this.clearBreak = () => this.#u(\"delÔΩúbreak\"), this.clearBreak());\n  }\n  clickTxtLay() {\n    return this.currentTxtlayFore ? this.#_().some((t) => {\n      const e = this.#a[t].fore;\n      return e instanceof x && e.click();\n    }) : !1;\n  }\n  //\t//\t„Ç∑„Çπ„ÉÜ„É†\n  //MARK: „Çπ„Éä„ÉÉ„Éó„Ç∑„Éß„ÉÉ„Éà\n  #p(t) {\n    const e = t.fn ? t.fn.startsWith(_web2_js__WEBPACK_IMPORTED_MODULE_0__.P) ? t.fn : `${_web2_js__WEBPACK_IMPORTED_MODULE_0__.K + t.fn + (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.g)(\"-\", \"_\", \"\", \"_\")}.png` : `${_web2_js__WEBPACK_IMPORTED_MODULE_0__.K}snapshot${(0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.g)(\"-\", \"_\", \"\", \"_\")}.png`, s = this.cfg.searchPath(e), i = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(t, \"width\", _web2_js__WEBPACK_IMPORTED_MODULE_0__.C.stageW), n = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(t, \"height\", _web2_js__WEBPACK_IMPORTED_MODULE_0__.C.stageH);\n    return this.#g(t, s, i, n);\n  }\n  #g = () => !1;\n  #l(t, e, s, i) {\n    if (this.#o.hideAllFrame(), (0,_ReadState_js__WEBPACK_IMPORTED_MODULE_2__.d)(), !(\"layer\" in t))\n      return this.sys.capturePage(e, s, i, () => {\n        this.#o.restoreAllFrame(), (0,_ReadState_js__WEBPACK_IMPORTED_MODULE_2__.e)();\n      }), !0;\n    const n = {};\n    for (const o of this.#_()) {\n      const a = this.#a[o].fore.ctn;\n      n[o] = a.visible, a.visible = !1;\n    }\n    for (const o of this.#_(t.layer)) this.#a[o].fore.ctn.visible = !0;\n    return this.sys.capturePage(e, s, i, () => {\n      for (const [o, a] of Object.entries(n))\n        this.#a[o].fore.ctn.visible = a;\n      this.#o.restoreAllFrame(), (0,_ReadState_js__WEBPACK_IMPORTED_MODULE_2__.e)();\n    }), !0;\n  }\n  #I(t, e, s, i) {\n    (0,_ReadState_js__WEBPACK_IMPORTED_MODULE_2__.d)();\n    const n = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.I)(t, \"b_color\", this.#t), o = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.M)({\n      width: s,\n      height: i,\n      backgroundAlpha: n > 16777216 && e.endsWith(\".png\") ? 0 : 1,\n      antialias: (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.a)(t, \"smoothing\", !1),\n      preserveDrawingBuffer: !0,\n      backgroundColor: n & 16777215,\n      autoDensity: !0\n    }), a = t.page !== \"back\" ? \"fore\" : \"back\";\n    return Promise.allSettled(\n      this.#_(t.layer).map((l) => new Promise(\n        (c) => this.#a[l][a].snapshot(o, c)\n      ))\n    ).then(async () => {\n      const l = _web2_js__WEBPACK_IMPORTED_MODULE_0__.x.create({ width: o.width, height: o.height });\n      o.render(this.#i, { renderTexture: l }), await this.sys.savePic(\n        e,\n        o.plugins.extract.base64(l)\n      ), l.destroy();\n      for (const c of this.#_(t.layer)) this.#a[c][a].snapshot_end();\n      o.destroy(!0), (0,_ReadState_js__WEBPACK_IMPORTED_MODULE_2__.e)();\n    }), !0;\n  }\n  //MARK: „Éó„É©„Ç∞„Ç§„É≥„ÅÆË™≠„ÅøËæº„Åø\n  #$(t) {\n    const { fn: e } = t;\n    if (!e) throw \"fn„ÅØÂøÖÈ†à„Åß„Åô\";\n    const s = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.a)(t, \"join\", !0);\n    if (s && (0,_ReadState_js__WEBPACK_IMPORTED_MODULE_2__.d)(), e.endsWith(\".css\"))\n      (async () => {\n        const i = await fetch(e);\n        if (!i.ok) throw new Error(\"Network response was not ok.\");\n        (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.k)(await i.text()), s && (0,_ReadState_js__WEBPACK_IMPORTED_MODULE_2__.e)();\n      })();\n    else throw \"„Çµ„Éù„Éº„Éà„Åï„Çå„Å™„ÅÑÊã°ÂºµÂ≠ê„Åß„Åô\";\n    return s;\n  }\n  //\t//\t„É¨„Ç§„É§ÂÖ±ÈÄö\n  //MARK: „É¨„Ç§„É§„ÇíËøΩÂä†„Åô„Çã\n  #k(t) {\n    const { layer: e, class: s } = t;\n    if (!e) throw \"layer„ÅØÂøÖÈ†à„Åß„Åô\";\n    if (e.includes(\",\")) throw \"layerÂêç„Å´„Äå,„Äç„ÅØ‰Ωø„Åà„Åæ„Åõ„Çì\";\n    if (e in this.#a) throw `layer„Äê${e}„Äë„ÅØ„Åô„Åß„Å´„ÅÇ„Çä„Åæ„Åô`;\n    if (!s) throw \"cls„ÅØÂøÖÈ†à„Åß„Åô\";\n    const i = { isWait: !1 };\n    switch (this.#a[e] = new Q(e, s, this.#e, this.#n, t, this.sys, this.val, i), this.#N.push(e), s) {\n      case \"txt\":\n        this.#v || (this.#z = () => {\n        }, this.#x = this.#Z, this.#K = this.#M, this.hTag.current({ layer: e }), this.goTxt = () => {\n          this.#r.isSkipping ? J.#P = 0 : this.setNormalChWait();\n          for (const n of this.#_()) {\n            const o = this.#a[n].fore;\n            o instanceof x && this.#u(\"gotxtÔΩú\", o, !1);\n          }\n        }), this.val.setVal_Nochk(\n          \"save\",\n          \"const.sn.layer.\" + (e ?? this.#v) + \".enabled\",\n          !0\n        );\n        break;\n      case \"grp\":\n        if (this.#W) break;\n        this.#W = e;\n        break;\n    }\n    return this.scrItr.recodeDesign(t), i.isWait;\n  }\n  #a = {};\n  // „Åó„Åä„ÇäLoadÊôÇÂÜçË™≠Ëæº\n  #N = [];\n  // ÊúÄÈÅ©ÂåñÁî®\n  #v = \"\";\n  #W = \"\";\n  #H(t) {\n    const e = this.#U(t), s = this.#a[e], i = s.back.ctn, n = s.fore.ctn;\n    if ((0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.a)(t, \"float\", !1))\n      this.#n.setChildIndex(i, this.#n.children.length - 1), this.#e.setChildIndex(n, this.#e.children.length - 1), this.#E();\n    else if (t.index)\n      (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(t, \"index\", 0) && (this.#n.setChildIndex(i, t.index), this.#e.setChildIndex(n, t.index), this.#E());\n    else if (t.dive) {\n      const { dive: o } = t;\n      let a = 0;\n      if (e === o) throw \"[lay] Â±ûÊÄß layer„Å®dive„ÅåÂêå„Åò„Äê\" + o + \"„Äë„Åß„Åô\";\n      const l = this.#a[o];\n      if (!l) throw \"[lay] Â±ûÊÄß dive„Äê\" + o + \"„Äë„Åå‰∏çÊ≠£„Åß„Åô„ÄÇ„É¨„Ç§„É§„Éº„Åå„ÅÇ„Çä„Åæ„Åõ„Çì\";\n      const c = l.back, u = l.fore, r = this.#n.getChildIndex(c.ctn), m = this.#e.getChildIndex(u.ctn);\n      a = r < m ? r : m, a > this.#n.getChildIndex(i) && --a, this.#e.setChildIndex(n, a), this.#n.setChildIndex(i, a), this.#E();\n    }\n    return t[\":id_tag\"] = s.fore.name.slice(0, -7), this.scrItr.recodeDesign(t), s.lay(t);\n  }\n  #E() {\n    this.#N = this.#X();\n  }\n  //MARK: „É¨„Ç§„É§Ë®≠ÂÆö„ÅÆÊ∂àÂéª\n  #L(t) {\n    return this.#w(t, (e) => {\n      const s = this.#a[this.#U({ layer: e })];\n      if (t.page === \"both\") {\n        s.fore.clearLay(t), s.back.clearLay(t);\n        return;\n      }\n      s.getPage(t).clearLay(t);\n    }), !1;\n  }\n  //===================================================\n  //MARK: WebGL „Éï„É©„Ç∞„É°„É≥„Éà„Ç∑„Çß„Éº„ÉÄ„Éº GLSL\n  static #V = (\n    /* glsl */\n    `\nprecision mediump float;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform sampler2D rule;\nuniform float vague;\nuniform float tick;\n\nuniform vec4 inputPixel;\nuniform highp vec4 outputFrame;\nvec2 getUV(vec2 coord) {\n\treturn coord * inputPixel.xy / outputFrame.zw;\n}\n\nvoid main() {\n\tvec4 fg = texture2D(uSampler, vTextureCoord);\n\tvec4 ru = texture2D(rule, getUV(vTextureCoord));\n\n\tfloat v = ru.r - tick;\n\tgl_FragColor = abs(v) < vague\n\t\t? vec4(fg.rgb, 1) *fg.a *(0.5 +v /vague *0.5)\n\t\t: 0.0 <= v ? fg : vec4(0);\n}`\n  );\n  /*\n  \tÊú´Â∞æ„ÅåË™≠„Åø„Å•„Çâ„ÅÑ„Åå„ÄÅ‰ª•‰∏ã„ÅÆifÊñá„ÇíÊ∂à„Åó„Å¶‰∏âÈ†ÖÊºîÁÆóÂ≠ê„Å´„Åó„Å¶„ÅÑ„Çã„ÄÇ\n  \n  \tif (abs(v) < vague) {\n  \t\tfloat f_a = fg.a *(0.5 +v /vague *0.5);\n  \t\tgl_FragColor.rgb = fg.rgb *f_a;\n  \t\tgl_FragColor.a = f_a;\n  \t\treturn;\n  \t}\n  \tgl_FragColor = v >= 0.0 ? fg : vec4(0);\n  \n  \t\t‚òÖGLSL : don't use \"if\"ÔΩúNobu note.com/nobuhirosaijo/n/n606a3f5d8e89\n  \t\t\t> ifÊñá„ÅØ„ÅÇ„Åæ„Çä‰Ωø„Çè„Å™„ÅÑÊñπ„Åå„ÅÑ„ÅÑ„Çâ„Åó„ÅÑ (Âá¶ÁêÜË≤†Ëç∑„ÅåÈ´ò„ÅÑ)\n  */\n  #F = _web2_js__WEBPACK_IMPORTED_MODULE_0__.x.create({\n    width: _web2_js__WEBPACK_IMPORTED_MODULE_0__.C.stageW,\n    height: _web2_js__WEBPACK_IMPORTED_MODULE_0__.C.stageH\n  });\n  #O = new _web2_js__WEBPACK_IMPORTED_MODULE_0__.v(this.#F);\n  #C = _web2_js__WEBPACK_IMPORTED_MODULE_0__.x.create({\n    width: _web2_js__WEBPACK_IMPORTED_MODULE_0__.C.stageW,\n    height: _web2_js__WEBPACK_IMPORTED_MODULE_0__.C.stageH\n  });\n  #b = new _web2_js__WEBPACK_IMPORTED_MODULE_0__.v(this.#C);\n  //MARK: „Éö„Éº„Ç∏Ë£èË°®„Çí‰∫§Êèõ\n  #q(t) {\n    _CmnTween_js__WEBPACK_IMPORTED_MODULE_1__.C.finish_trans(), this.#r.hideHint();\n    const { layer: e } = t, s = /* @__PURE__ */ new Set(), i = [];\n    for (const w of this.#_(e))\n      s.add(w), i.push(this.#a[w].fore);\n    const n = async () => {\n      [this.#e, this.#n] = [this.#n, this.#e];\n      const w = [];\n      for (const [N, R] of Object.entries(this.#a)) {\n        if (s.has(N)) {\n          R.transPage(w);\n          continue;\n        }\n        const { fore: { ctn: T }, back: { ctn: P } } = R, B = this.#e.getChildIndex(P);\n        this.#e.removeChild(P), this.#n.removeChild(T), this.#e.addChildAt(T, B), this.#n.addChildAt(P, B);\n      }\n      await Promise.allSettled(w), this.#e.visible = !0, this.#n.visible = !1, this.#O.visible = !1, this.#b.visible = !1;\n    };\n    if (this.#b.filters = [], this.#b.alpha = 1, (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(t, \"time\", 0) === 0 || this.#r.isSkipping)\n      return n(), !1;\n    let a = [];\n    const l = [];\n    for (const w of this.#_()) {\n      const N = this.#a[w][s.has(w) ? \"back\" : \"fore\"];\n      N.ctn.visible && a.push(N.ctn), l.push(N);\n    }\n    const { ticker: c, renderer: u } = this.appPixi;\n    u.render(this.#n, { renderTexture: this.#F });\n    let r = () => {\n      for (const w of a) u.render(\n        w,\n        { renderTexture: this.#F, clear: !1 }\n      );\n    };\n    if (!l.some((w) => w.containMovement)) {\n      const w = r;\n      r = () => {\n        r = () => {\n        }, w();\n      };\n    }\n    const m = () => u.render(this.#e, { renderTexture: this.#C });\n    m();\n    let f = () => {\n      this.#e.visible = !0, m(), this.#e.visible = !1;\n    };\n    if (!i.some((w) => w.containMovement)) {\n      const w = f;\n      f = () => {\n        f = () => {\n        }, w();\n      };\n    }\n    const h = () => {\n      r(), this.#O.visible = !0, f(), this.#b.visible = !0;\n    }, { glsl: p, rule: d } = t, b = () => {\n      c.remove(h), n();\n    };\n    if (!p && !d)\n      return _CmnTween_js__WEBPACK_IMPORTED_MODULE_1__.C.tween(_CmnTween_js__WEBPACK_IMPORTED_MODULE_1__.C.TW_INT_TRANS, t, this.#b, { alpha: 0 }, () => {\n      }, b, () => {\n      }), c.add(h), !1;\n    const y = {\n      rule: _web2_js__WEBPACK_IMPORTED_MODULE_0__.r.EMPTY,\n      vague: (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(t, \"vague\", 0.04),\n      tick: 0\n    };\n    this.#b.filters = [new _web2_js__WEBPACK_IMPORTED_MODULE_0__.N(\n      void 0,\n      p ?? J.#V,\n      y\n    )];\n    const C = _CmnTween_js__WEBPACK_IMPORTED_MODULE_1__.C.tween(_CmnTween_js__WEBPACK_IMPORTED_MODULE_1__.C.TW_INT_TRANS, t, y, { tick: 1 }, () => {\n    }, b, () => {\n    }, !d);\n    if (!d)\n      return c.add(h), !1;\n    const v = new _(d, void 0, (w) => {\n      y.rule = w.texture, w.destroy(), v.destroy(), C.start(), c.add(h);\n    });\n    return !1;\n  }\n  #_(t = \"\") {\n    return t ? t.split(\",\") : this.#N;\n  }\n  #w(t, e) {\n    const s = this.#_(t.layer);\n    for (const i of s) {\n      const n = this.#a[i];\n      if (!n) throw \"Â≠òÂú®„Åó„Å™„ÅÑlayer„Äê\" + i + \"„Äë„Åß„Åô\";\n      e(i, n);\n    }\n    return s;\n  }\n  #X(t = \"\") {\n    return this.#_(t).sort((e, s) => {\n      const i = this.#e.getChildIndex(this.#a[e].fore.ctn), n = this.#e.getChildIndex(this.#a[s].fore.ctn);\n      return i < n ? -1 : i > n ? 1 : 0;\n    });\n  }\n  setAllStyle2TxtLay(t) {\n    const e = this.#_();\n    for (const s of e) {\n      const i = this.#a[s].fore;\n      i instanceof x && i.lay({ style: t });\n    }\n  }\n  //MARK: ÁîªÈù¢„ÇíÊè∫„Çâ„Åô\n  #S(t) {\n    if (_CmnTween_js__WEBPACK_IMPORTED_MODULE_1__.C.finish_trans(), (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(t, \"time\", NaN) === 0 || this.#r.isSkipping) return !1;\n    const { layer: s } = t, i = [];\n    for (const u of this.#_(s))\n      i.push(this.#a[u].fore.ctn);\n    this.#C.resize(_web2_js__WEBPACK_IMPORTED_MODULE_0__.C.stageW, _web2_js__WEBPACK_IMPORTED_MODULE_0__.C.stageH);\n    const n = () => {\n      this.#e.visible = !0;\n      const { renderer: u } = this.appPixi;\n      for (const r of i) u.render(\n        r,\n        { renderTexture: this.#C, clear: !1 }\n      );\n      this.#e.visible = !1;\n    };\n    this.#b.visible = !0, this.#b.alpha = 1;\n    const o = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.u)((0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(t, \"hmax\", 10)), a = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.u)((0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(t, \"vmax\", 10)), l = o === 0 ? () => {\n    } : () => this.#b.x = Math.round(Math.random() * o * 2) - o, c = a === 0 ? () => {\n    } : () => this.#b.y = Math.round(Math.random() * a * 2) - a;\n    return this.#b.filters = [], _CmnTween_js__WEBPACK_IMPORTED_MODULE_1__.C.tween(_CmnTween_js__WEBPACK_IMPORTED_MODULE_1__.C.TW_INT_TRANS, t, this.#b, { x: 0, y: 0 }, () => {\n      l(), c();\n    }, () => {\n      this.appPixi.ticker.remove(n), this.#e.visible = !0, this.#b.visible = !1, this.#b.x = 0, this.#b.y = 0;\n    }, () => {\n    }), this.appPixi.ticker.add(n), !1;\n  }\n  //MARK: „Éà„Ç•„Ç§„Éº„É≥ÈñãÂßã\n  #A(t) {\n    const { layer: e, render: s, name: i } = t;\n    if (!e) throw \"layer„ÅØÂøÖÈ†à„Åß„Åô\";\n    const n = this.#a[this.#U(t)], o = n.fore;\n    let a = () => {\n    };\n    s && !this.#r.isSkipping && (o.renderStart(), a = () => o.renderEnd());\n    const l = _CmnTween_js__WEBPACK_IMPORTED_MODULE_1__.C.cnvTweenArg(t, o), c = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.a)(t, \"arrive\", !1), u = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.a)(t, \"backlay\", !1), r = n.back.ctn;\n    return _CmnTween_js__WEBPACK_IMPORTED_MODULE_1__.C.tween(i ?? e, t, o, _CmnTween_js__WEBPACK_IMPORTED_MODULE_1__.C.cnvTweenArg(t, o), () => {\n    }, a, () => {\n      if (c && Object.assign(o, l), u) for (const m of Object.keys(_CmnTween_js__WEBPACK_IMPORTED_MODULE_1__.C.hMemberCnt)) r[m] = o[m];\n    }), \"filter\" in t && (o.ctn.filters = [_web2_js__WEBPACK_IMPORTED_MODULE_0__.w.bldFilters(t)], o.aFltHArg = [t]), !1;\n  }\n  //MARK: „Éï„Ç£„É´„Çø„ÉºËøΩÂä†\n  #B(t) {\n    return _CmnTween_js__WEBPACK_IMPORTED_MODULE_1__.C.finish_trans(), this.#w(t, (e) => {\n      const s = this.#a[this.#U({ layer: e })];\n      if (t.page === \"both\") {\n        this.#G(s.fore, t), this.#G(s.back, t);\n        return;\n      }\n      const i = s.getPage(t);\n      this.#G(i, t);\n    }), !1;\n  }\n  #G(t, e) {\n    const s = t.ctn;\n    s.filters ??= [], s.filters = [...s.filters, _web2_js__WEBPACK_IMPORTED_MODULE_0__.w.bldFilters(e)], t.aFltHArg.push(e);\n  }\n  //MARK: „Éï„Ç£„É´„Çø„ÉºÂÖ®ÂâäÈô§\n  #Q(t) {\n    return this.#w(t, (e) => {\n      const s = this.#a[this.#U({ layer: e })];\n      if (t.page === \"both\") {\n        const n = s.fore, o = s.back;\n        n.ctn.filters = null, o.ctn.filters = null, n.aFltHArg = [], o.aFltHArg = [];\n        return;\n      }\n      const i = s.getPage(t);\n      i.ctn.filters = null, i.aFltHArg = [];\n    }), !1;\n  }\n  //MARK: „Éï„Ç£„É´„Çø„ÉºÂÄãÂà•ÂàáÊõø\n  #J(t) {\n    return this.#w(t, (e) => {\n      const s = this.#a[this.#U({ layer: e })];\n      if (t.page === \"both\") {\n        this.#j(s.fore, t), this.#j(s.back, t);\n        return;\n      }\n      const i = s.getPage(t);\n      this.#j(i, t);\n    }), !1;\n  }\n  #j(t, e) {\n    const s = t.ctn;\n    if (!s.filters) throw \"„Éï„Ç£„É´„Çø„Éº„Åå„ÅÇ„Çä„Åæ„Åõ„Çì\";\n    const i = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.u)((0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(e, \"index\", 0)), n = s.filters.length;\n    if (n <= i) throw `„Éï„Ç£„É´„Çø„Éº„ÅÆÂÄãÊï∞Ôºà${n}Ôºâ„ÇíË∂ä„Åà„Å¶„ÅÑ„Åæ„Åô`;\n    t.aFltHArg[i].enabled = s.filters[i].enabled = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.a)(e, \"enabled\", !0);\n  }\n  //\t// ÊñáÂ≠ó„ÉªÊñáÂ≠ó„É¨„Ç§„É§\n  static #P = 10;\n  static get msecChWait() {\n    return J.#P;\n  }\n  //MARK: ÊñáÂ≠ó„ÇíËøΩÂä†„Åô„Çã\n  #R(t) {\n    const { text: e } = t;\n    if (!e) throw \"text„ÅØÂøÖÈ†à„Åß„Åô\";\n    const s = this.#x(t);\n    delete t.text, this.setNormalChWait(), this.#r.isSkipping ? t.wait = 0 : \"wait\" in t && (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.b)(t, \"wait\", NaN);\n    const i = encodeURIComponent(JSON.stringify(t));\n    this.#u(\"addÔΩú\" + i, s);\n    const n = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.a)(t, \"record\", !0), o = this.val.doRecLog();\n    return n || this.val.setVal_Nochk(\"save\", \"sn.doRecLog\", n), s.tagCh(e.replaceAll(\"[r]\", `\n`)), this.val.setVal_Nochk(\"save\", \"sn.doRecLog\", o), this.#u(\"add_closeÔΩú\", s), !1;\n  }\n  #x = (t) => {\n    throw this.#z(), 0;\n  };\n  #Z(t) {\n    const e = this.#U(t, this.#v), i = this.#a[e].getPage(t);\n    if (!(i instanceof x)) throw e + \"„ÅØTxtLayer„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì\";\n    return i;\n  }\n  setNormalChWait() {\n    J.#P = this.scrItr.normalWait;\n  }\n  //MARK: Êìç‰ΩúÂØæË±°„ÅÆ„É°„ÉÉ„Çª„Éº„Ç∏„É¨„Ç§„É§„ÅÆÊåáÂÆö\n  #K = (t) => {\n    throw this.#z(), 0;\n  };\n  #M(t) {\n    const { layer: e } = t;\n    if (!e) throw \"[current] layer„ÅØÂøÖÈ†à„Åß„Åô\";\n    const s = this.#a[e];\n    if (!s || !(s.getPage(t) instanceof x)) throw `${e}„ÅØTxtLayer„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì`;\n    this.#D = s, this.recPagebreak(), this.#v = e, this.val.setVal_Nochk(\"save\", \"const.sn.mesLayer\", e);\n    for (const i of this.#_()) {\n      const n = this.#a[i];\n      n.fore instanceof x && (n.fore.isCur = n.back.isCur = i === e);\n    }\n    return !1;\n  }\n  get currentTxtlayForeNeedErr() {\n    return this.#z(), this.currentTxtlayFore;\n  }\n  get currentTxtlayFore() {\n    return this.#D ? this.#D.fore : null;\n  }\n  #D;\n  // „Ç´„É¨„É≥„Éà„ÉÜ„Ç≠„Çπ„Éà„É¨„Ç§„É§\n  #z = () => {\n    throw \"ÊñáÂ≠ó„É¨„Ç§„É§„Éº„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇÊñáÂ≠óË°®Á§∫„ÇÑÊìç‰Ωú„Åô„ÇãÂâç„Å´„ÄÅ[add_lay layer=Ôºà„É¨„Ç§„É§ÂêçÔºâ class=txt]„ÅßÊñáÂ≠ó„É¨„Ç§„É§„ÇíËøΩÂä†„Åó„Å¶‰∏ã„Åï„ÅÑ\";\n  };\n  #U(t, e = \"\") {\n    const s = t.layer ?? e;\n    if (s.includes(\",\")) throw \"layerÂêç„Å´„Äå,„Äç„ÅØ‰Ωø„Åà„Åæ„Åõ„Çì\";\n    if (!(s in this.#a)) throw \"Â±ûÊÄß layer„Äê\" + s + \"„Äë„Åå‰∏çÊ≠£„Åß„Åô„ÄÇ„É¨„Ç§„É§„Éº„Åå„ÅÇ„Çä„Åæ„Åõ„Çì\";\n    return t.layer = s;\n  }\n  #T = { text: \"\" };\n  #Y = [];\n  recText(t) {\n    this.#T = { text: t }, this.val.setVal_Nochk(\n      \"save\",\n      \"const.sn.sLog\",\n      String(this.val.getVal(\"const.sn.log.json\"))\n      // „Åì„Çå„ÇíËµ∑Âãï„Åó„Åü„ÅÑ\n    );\n  }\n  recPagebreak() {\n    this.#T.text && (this.#T.text = this.#T.text.replaceAll(\"</span><span class='sn_ch'>\", \"\"), this.#Y.push(this.#T) > this.cfg.oCfg.log.max_len && (this.#Y = this.#Y.slice(-this.cfg.oCfg.log.max_len)), this.#T = { text: \"\" });\n  }\n  //MARK: ÊñáÂ≠óÊ∂àÂéª\n  #et(t) {\n    const e = this.#x(t);\n    return t.layer === this.#v && t.page === \"fore\" && this.recPagebreak(), e.clearText(), !1;\n  }\n  //MARK: „Éè„Ç§„Éë„Éº„É™„É≥„ÇØ„ÅÆÁµÇ‰∫Ü\n  #st(t) {\n    return this.#u(\"endlinkÔΩú\", this.#x(t)), !1;\n  }\n  //MARK: „Éö„Éº„Ç∏‰∏°Èù¢„ÅÆÊñáÂ≠óÊ∂àÂéª\n  #it(t) {\n    return (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.a)(t, \"rec_page_break\", !0) && this.recPagebreak(), this.#D && (this.#D.fore.clearLay(t), this.#D.back.clearLay(t)), !1;\n  }\n  //MARK: „Ç§„É≥„É©„Ç§„É≥ÁîªÂÉèË°®Á§∫\n  #nt(t) {\n    if (!t.pic) throw \"[graph] pic„ÅØÂøÖÈ†à„Åß„Åô\";\n    const e = encodeURIComponent(JSON.stringify(t));\n    return this.#u(\"grpÔΩú\" + e, this.#x(t)), !1;\n  }\n  //MARK: „Éè„Ç§„Éë„Éº„É™„É≥„ÇØ\n  #at(t) {\n    if (!t.fn && !t.label && !t.url) throw \"fn,label,url „ÅÑ„Åö„Çå„Åã„ÅØÂøÖÈ†à„Åß„Åô\";\n    t.fn ??= this.scrItr.scriptFn, t.style ??= \"background-color: rgba(255,0,0,0.5);\", t.style_hover ??= \"background-color: rgba(255,0,0,0.9);\", t.style_clicked ??= t.style;\n    const e = encodeURIComponent(JSON.stringify(t));\n    return this.#u(\"linkÔΩú\" + e, this.#x(t)), !1;\n  }\n  //MARK: ÊîπË°å\n  #ot(t) {\n    return t.text = `\n`, this.#R(t);\n  }\n  //MARK: Â±•Ê≠¥ÊîπË°å\n  #lt(t) {\n    return this.#tt({ ...t, text: \"[r]\" });\n  }\n  //MARK: Â±•Ê≠¥Êõ∏„ÅçËæº„Åø\n  #tt(t) {\n    return this.#T = { ...t, text: this.#T.text }, t.text ? (t.record = !0, t.style ??= \"\", t.style += \"display: none;\", t.wait = 0, this.#R(t)) : !1;\n  }\n  //MARK: Â±•Ê≠¥„É™„Çª„ÉÉ„Éà\n  #ht(t) {\n    return this.#Y = [], this.#T = { text: t.text ?? \"\" }, this.val.setVal_Nochk(\n      \"save\",\n      \"const.sn.sLog\",\n      t.text ? `[{text:\"${t.text}\"}]` : \"[]\"\n    ), !1;\n  }\n  //MARK: ÊñáÂ≠óÂàó„Å®Ë§áÊï∞„É´„Éì„ÅÆËøΩÂä†\n  #rt(t) {\n    const { t: e, r: s } = t;\n    if (!e) throw \"[ruby2] t„ÅØÂøÖÈ†à„Åß„Åô\";\n    if (!s) throw \"[ruby2] r„ÅØÂøÖÈ†à„Åß„Åô\";\n    return t.text = \"ÔΩú\" + encodeURIComponent(e) + \"„Ää\" + encodeURIComponent(s) + \"„Äã\", delete t.t, delete t.r, this.#R(t);\n  }\n  //MARK: „Ç§„É≥„É©„Ç§„É≥„Çπ„Çø„Ç§„É´Ë®≠ÂÆö\n  #ct(t) {\n    const e = encodeURIComponent(JSON.stringify(t));\n    return this.#u(\"spanÔΩú\" + e, this.#x(t)), !1;\n  }\n  //MARK: tcyÁ∏¶‰∏≠Ê®™„ÇíË°®Á§∫„Åô„Çã\n  #dt(t) {\n    if (!t.t) throw \"[tcy] t„ÅØÂøÖÈ†à„Åß„Åô\";\n    const e = encodeURIComponent(JSON.stringify(t));\n    return this.#u(\"tcyÔΩú\" + e, this.#x(t)), !1;\n  }\n  //MARK: „É¨„Ç§„É§„ÅÆ„ÉÄ„É≥„Éó\n  #ft(t) {\n    console.group(\"ü•ü [dump_lay]\");\n    for (const e of this.#_(t.layer)) {\n      const s = this.#a[e];\n      try {\n        console.info(\n          `%c${s.fore.name.slice(0, -7)} %o`,\n          `color:#${_web2_js__WEBPACK_IMPORTED_MODULE_0__.C.isDarkMode ? \"49F\" : \"05A\"};`,\n          JSON.parse(`{\"back\":{${s.back.dump()}}, \"fore\":{${s.fore.dump()}}}`)\n        );\n      } catch (i) {\n        console.error(\"dump_lay err:%o\", i), console.error(`   back:${s.back.dump()}`), console.error(`   fore:${s.fore.dump()}`);\n      }\n    }\n    return console.groupEnd(), !1;\n  }\n  //MARK: „Ç§„Éô„É≥„ÉàÊúâÁÑ°„ÅÆÂàáÊõø\n  #pt(t) {\n    const e = this.#U(t, this.#v), s = (0,_web2_js__WEBPACK_IMPORTED_MODULE_0__.a)(t, \"enabled\", !0);\n    return this.#x(t).enabled = s, this.val.setVal_Nochk(\"save\", \"const.sn.layer.\" + e + \".enabled\", s), !1;\n  }\n  //MARK: „Éú„Çø„É≥„ÇíË°®Á§∫\n  #ut(t) {\n    return Q.argChk_page(t, \"back\"), t.fn ??= this.scrItr.scriptFn, this.#x(t).addButton(t), this.scrItr.recodeDesign(t), !1;\n  }\n  record() {\n    const t = {};\n    for (const e of this.#N) {\n      const s = this.#a[e];\n      t[e] = {\n        cls: s.cls,\n        fore: s.fore.record(),\n        back: s.back.record()\n      };\n    }\n    return t;\n  }\n  playback(t) {\n    this.#Y = JSON.parse(String(this.val.getVal(\"save:const.sn.sLog\"))), this.#T = { text: \"\" };\n    const e = [], s = [];\n    for (const [n, { fore: o, fore: { idx: a }, back: l, cls: c }] of Object.entries(t)) {\n      s.push({ ln: n, idx: a });\n      const u = this.#a[n] ??= new Q(n, c, this.#e, this.#n, {}, this.sys, this.val, { isWait: !1 });\n      u.fore.playback(o, e), u.back.playback(l, e);\n    }\n    const i = this.#e.children.length;\n    return e.push(new Promise((n) => {\n      for (const { ln: o, idx: a } of s.sort(({ idx: l }, { idx: c }) => l === c ? 0 : l < c ? -1 : 1)) {\n        const { fore: l, back: c } = this.#a[o];\n        if (!l) continue;\n        const u = i > a ? a : i - 1;\n        this.#e.setChildIndex(l.ctn, u), this.#n.setChildIndex(c.ctn, u);\n      }\n      n();\n    })), e;\n  }\n}\nconst Xt = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  LayerMng: J\n}, Symbol.toStringTag, { value: \"Module\" }));\n\n//# sourceMappingURL=LayerMng.js.map\n\n\n//# sourceURL=webpack://uc/./node_modules/@famibee/skynovel/dist/LayerMng.js?");

/***/ }),

/***/ "./node_modules/@famibee/skynovel/dist/RubySpliter.js":
/*!************************************************************!*\
  !*** ./node_modules/@famibee/skynovel/dist/RubySpliter.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   R: () => (/* binding */ o)\n/* harmony export */ });\nclass o {\n  static #s = \"„ÉΩ\";\n  static setting(t) {\n    t.sesame && (o.#s = t.sesame);\n  }\n  static getSesame() {\n    return o.#s;\n  }\n  static destroy() {\n    o.#s = \"„ÉΩ\";\n  }\n  #t = () => {\n  };\n  init(t) {\n    this.#t = t;\n  }\n  /*\n  \t\t‚òÖUnicode„Åß„ÄåÊº¢Â≠ó„Äç„ÅÆÊ≠£Ë¶èË°®Áèæ ‚Äì „ÇÇ„ÅÆ„Åã„ÅÆ http://tama-san.com/kanji-regex/\n  \t\t2E80..2FDF‚ÄÉCJKÈÉ®È¶ñË£úÂä©ÔºãÂ∫∑ÁÜôÈÉ®È¶ñ\n  \t\t3005‚ÄÉ„ÄÖÔºàÊº¢Â≠ó„ÅÆË∏ä„ÇäÂ≠óÔºâ\n  \t\t3007‚ÄÉ„ÄáÔºàÊº¢Êï∞Â≠ó„ÅÆ„Çº„É≠Ôºâ\n  \t\t303B‚ÄÉ„ÄªÔºàÊº¢Â≠ó„ÅÆË∏ä„ÇäÂ≠óÔºâ\n  \t\t3400..4DBF‚ÄÉCJKÁµ±ÂêàÊº¢Â≠óÊã°ÂºµA\n  \t\t4E00..9FFF‚ÄÉCJKÁµ±ÂêàÊº¢Â≠ó\n  \t\tF900..FAFF‚ÄÉCJK‰∫íÊèõÊº¢Â≠ó\n  \t\t20000..2FFFF‚ÄÉCJKÁµ±ÂêàÊº¢Â≠óÊã°ÂºµB„ÄúFÔºãCJK‰∫íÊèõÊº¢Â≠óËøΩÂä†ÔºãÂøµ„ÅÆ„Åü„ÇÅU+2FFFF„Åæ„Åß\n  \n  \t\t[\\x{2E80}-\\x{2FDF}„ÄÖ„Äá„Äª\\x{3400}-\\x{4DBF}\\x{4E00}-\\x{9FFF}\\x{F900}-\\x{FAFF}\\x{20000}-\\x{2FFFF}]\n  \t\t[\\u2E80-\\u2FDF„ÄÖ„Äá„Äª\\u3400-\\u4DBF\\u4E00-\\u9FFF\\uF900-\\uFAFF\\u20000-\\u2FFFF]\n  \t\t[‚∫Ä-‚øü„ÄÖ„Äá„Äª„êÄ-‰∂ø‰∏Ä-ÈøøÔ§Ä-Ô´ø\\u20000-\\u2FFFF]\t\t// Âê´„Åæ„Çå„Å™„ÅÑÊñáÂ≠ó„Åå„ÅÇ„Çã\n  \t\t[‚∫Ä-‚øü„ÄÖ„Äá„Äª„êÄ-ÈøøË±à-Ô´ø\\u20000-\\u2FFFF]\t\t\t// „ÉΩ--30FD „ÅåÂ§â„Å´Âºï„Å£„Åã„Åã„Çã„ÄÇÂ§öÂàÜ\\u2000-\\u2FFFËß£Èáà\n  \t\t\\\\u{20000}-\\\\u{2FFFF}\t// ‰∫îÊ°Å„Å†„Å®„Ç®„É©„Éº\n  \n  \t\t„Äê2022/10/03„ÄërubyÊ≠£Ë¶èË°®Áèæ„ÅÆUnicode „Éó„É≠„Éë„ÉÜ„Ç£(„Å®POSIXÊñáÂ≠ó„ÇØ„É©„Çπ) - Qiita https://qiita.com/Takayuki_Nakano/items/8d38beaddb84b488d683\n  \t\t\t> „Åì„ÅÆHiragana„Éó„É≠„Éë„ÉÜ„Ç£„ÄÅÈï∑Èü≥Ë®òÂè∑„ÅØÂê´„Åæ„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇ\n  \t\t\t> \\p{Han}‚Ä¶Á∞°‰ΩìÂ≠ó„ÇÑÁπÅ‰ΩìÂ≠ó„ÄÅÈüìÂõΩË™û„ÅÆÊº¢Â≠ó‚Ä¶„Éô„Éà„Éä„É†Ë™û„ÅÆÊº¢Â≠ó„Å´„ÇÇ„Éû„ÉÉ„ÉÅ\n  \t\t\n  \t\t„ÉªUnicodeÊñáÂ≠ó‰∏ÄË¶ßË°® - instant tools https://tools.m-bsys.com/ex/unicode_table.php\n  */\n  static #n;\n  static setEscape(t) {\n    o.#n = new RegExp(\n      `${t ? `(?<ce>\\\\${t}\\\\S)|` : \"\"}ÔΩú(?<str>[^„Ää\\\\n]+)„Ää(?<ruby>[^„Äã\\\\n]+)„Äã|(?:(?<kan>[‚∫Ä-‚øü„ÄÖ„Äá„Äª„êÄ-ÈøøË±à-Ô´ø]+[„ÅÅ-„Éø]*|[^„ÄÄÔΩú„Ää„Äã\\\\n])„Ää(?<kan_ruby>[^„Äã\\\\n]+)„Äã)|(?<txt>[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[^ÔΩú„Ää„Äã]+?|.)`,\n      \"gs\"\n    );\n  }\n  putTxt(t) {\n    for (const { groups: s } of t.matchAll(o.#n)) {\n      const { ruby: c, kan_ruby: e, kan: r = \"\", ce: i, txt: f = \"\", str: n = \"\" } = s;\n      if (c) {\n        this.putTxtRb(decodeURIComponent(n), c);\n        continue;\n      }\n      if (e) {\n        this.putTxtRb(r, e);\n        continue;\n      }\n      if (i) {\n        this.#t(i.slice(1), \"\");\n        continue;\n      }\n      for (const a of Array.from(f)) this.#t(a, \"\");\n    }\n  }\n  putTxtRb(t, s) {\n    if (/^\\w+ÔΩú{\"/.test(s)) {\n      this.#t(t, s);\n      return;\n    }\n    const c = Array.from(t), e = c.length;\n    if (/^\\*.?$/.test(s)) {\n      const n = \"centerÔΩú\" + (s === \"*\" ? o.#s : s.charAt(1));\n      for (let a = 0; a < e; ++a) this.#t(c[a], n);\n      return;\n    }\n    if (e === 1 || !s.includes(\" \")) {\n      this.#t(t, decodeURIComponent(s));\n      return;\n    }\n    const r = s.split(\" \"), i = r.length, f = i > e ? i : e;\n    for (let n = 0; n < f; ++n) this.#t(\n      n < e ? c[n] : \"\",\n      n < i ? decodeURIComponent(r[n]) : \"\"\n    );\n  }\n}\n\n//# sourceMappingURL=RubySpliter.js.map\n\n\n//# sourceURL=webpack://uc/./node_modules/@famibee/skynovel/dist/RubySpliter.js?");

/***/ })

}]);